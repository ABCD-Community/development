<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
</head>
<body><div class="page"><p/>
</div>
<div class="page"><p/>
<p>Fundamentals of 
</p>
<p>Power Electronics 
SECOND EDITION </p>
<p/>
</div>
<div class="page"><p/>
<p>Fundamentals of 
</p>
<p>Power Electronics 
SECOND EDITION 
</p>
<p>Robert W. Erickson 
</p>
<p>Dragan Maksimovic 
</p>
<p>University of Colorado 
</p>
<p>Boulder, Colorado </p>
<p/>
</div>
<div class="page"><p/>
<p>Distributors for North, Central and South America: 
</p>
<p>Kluwer Academic Publishers 
</p>
<p>10 I Philip Drive 
</p>
<p>Assinippi Park 
</p>
<p>Norwell, Massachusetts 02061 USA 
</p>
<p>Telephone (781) 871-6600 
</p>
<p>Fax (781) 871-6528 
</p>
<p>E-Mail &lt;kluwer@wkap.com&gt; 
</p>
<p>Distributors for all other countries: 
</p>
<p>Kluwer Academic Publishers Group 
</p>
<p>Distribution Centre 
</p>
<p>Post Office Box 322 
</p>
<p>3300 AH Dordrecht, THE NETHERLANDS 
</p>
<p>Telephone 31 78 6576 000 
</p>
<p>Fax 31 78 6576 254 
</p>
<p>E-Mail services@wkap.nl&gt; .... . . 
'' Electromc Servtces &lt;http://www.wkap.nl&gt; 
</p>
<p>Library of Congress Cataloging-in-Publication 
</p>
<p>Erickson, Robert W. (Robert Warren), 1956-
</p>
<p>Fundarnentals of power electronics I Robert W. Erickson, Dragan Maksimovic.--znd ed. 
</p>
<p>p. em. 
</p>
<p>Includes bibliographical references and index. 
</p>
<p>ISBN 978-1-4757-0559-1 ISBN 978-0-306-48048-5 (eBook) 
</p>
<p>DOI 10.1007/978-0-306-48048-5 
</p>
<p>I. Power electronics. I. Maksimovic, Dragan, 1961- II. Title. 
</p>
<p>TK7881.15 .E75 2000 
</p>
<p>621.381--dc21 
</p>
<p>Copyright&copy; 2001 by Kluwer Academic Publishers. Sixth Printing 2004. 
</p>
<p>00-052569 
</p>
<p>Cover art Copyright &copy; 1999 by Lucent Technologies Inc. All rights reserved. Used with 
</p>
<p>permission. 
</p>
<p>Softcover reprint of the hardcover 2nd edition 2001 978-0-7923-7270-7 
</p>
<p>All rights reserved. No part of this publication may be reproduced, stored in a retrieval system or 
</p>
<p>transmitted in any form or by any means, mechanical, photo-copying, recording, or otherwise, 
</p>
<p>without the prior written permission of the publisher, Kluwer Academic Publishers, 101 Philip 
</p>
<p>Drive, Assinippi Park, Norwell, Massachusetts 02061 
</p>
<p>Printed on acid-free paper. </p>
<p/>
</div>
<div class="page"><p/>
<p>Dedicated to 
</p>
<p>Linda, William, and Richard 
</p>
<p>Lidija, Filip, Nikola, and Stevan </p>
<p/>
</div>
<div class="page"><p/>
<p>Contents 
</p>
<p>Preface 
</p>
<p>1 
</p>
<p>I 
</p>
<p>2 
</p>
<p>3 
</p>
<p>Introduction 
</p>
<p>1.1 Introduction to Power Processing 
</p>
<p>1.2 
</p>
<p>1.3 
</p>
<p>Several Applications of Power Electronics 
</p>
<p>Elements of Power Electronics 
</p>
<p>References 
</p>
<p>Converters in Equilibrium 
</p>
<p>Principles of Steady State Converter Analysis 
</p>
<p>2.1 
</p>
<p>2.2 
</p>
<p>2.3 
</p>
<p>2.4 
</p>
<p>2.5 
</p>
<p>2.6 
</p>
<p>Introduction 
</p>
<p>Inductor Volt-Second Balance, Capacitor Charge Balance, and the Small-Ripple 
</p>
<p>Approximation 
</p>
<p>Boost Converter Example 
</p>
<p>Cuk Converter Example 
</p>
<p>Estimating the Output Voltage Ripple in Converters Containing Two-Pole 
</p>
<p>Low-Pass Filters 
</p>
<p>Summary of Key Points 
</p>
<p>References 
</p>
<p>Problems 
</p>
<p>Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>3.1 The DC Transformer Model 
</p>
<p>3.2 Inclusion of Inductor Copper Loss 
</p>
<p>3.3 Construction of Equivalent Circuit Model 
</p>
<p>xix 
</p>
<p>1 
</p>
<p>7 
</p>
<p>9 
</p>
<p>11 
</p>
<p>13 
</p>
<p>13 
</p>
<p>15 
</p>
<p>22 
</p>
<p>27 
</p>
<p>31 
</p>
<p>34 
</p>
<p>34 
</p>
<p>35 
</p>
<p>39 
</p>
<p>39 
</p>
<p>42 
</p>
<p>45 </p>
<p/>
</div>
<div class="page"><p/>
<p>viii Contents 
</p>
<p>3.3.1 Inductor Voltage Equation 46 
</p>
<p>3.3.2 Capacitor Current Equation 46 
</p>
<p>3.3.3 Complete Circuit Model 47 
</p>
<p>3.3.4 Efficiency 48 
</p>
<p>3.4 How to Obtain the Input Port of the Model 50 
</p>
<p>3.5 Example: Inclusion of Semiconductor Conduction Losses in the Boost 
</p>
<p>Converter Model 52 
</p>
<p>3.6 Summary of Key Points 56 
</p>
<p>References 56 
</p>
<p>Problems 57 
</p>
<p>4 Switch Realization 63 
</p>
<p>4.1 Switch Applications 65 
</p>
<p>4.1.1 Single-Quadrant Switches 65 
</p>
<p>4.1.2 Current-Bidirectional Two-Quadrant Switches 67 
</p>
<p>4.1.3 Voltage-Bidirectional Two-Quadrant Switches 71 
</p>
<p>4.1.4 Four-Quadrant Switches 72 
</p>
<p>4.1.5 Synchronous Rectifiers 73 
</p>
<p>4.2 A Brief Survey of Power Semiconductor Devices 74 
</p>
<p>4.2.1 Power Diodes 75 
</p>
<p>4.2.2 Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) 78 
</p>
<p>4.2.3 Bipolar Junction Transistor (BJT) 81 
</p>
<p>4.2.4 Insulated Gate Bipolar Transistor (IGBT) 86 
</p>
<p>4.2.5 Thyristors (SCR, GTO, MCT) 88 
</p>
<p>4.3 Switching Loss 92 
</p>
<p>4.3.1 Transistor Switching with Clamped Inductive Load 93 
</p>
<p>4.3.2 Diode Recovered Charge 96 
</p>
<p>4.3.3 Device Capacitances, and Leakage, Package, and Stray Inductances 98 
</p>
<p>4.3.4 Efficiency vs. Switching Frequency 100 
</p>
<p>4.4 Summary of Key Points 101 
</p>
<p>References 102 
</p>
<p>Problems 103 
</p>
<p>5 The Discontinuous Conduction Mode 107 
</p>
<p>5.1 Origin of the Discontinuous Conduction Mode, and Mode Boundary 108 
</p>
<p>5.2 Analysis of the Conversion Ratio M(D,K) 112 
</p>
<p>5.3 Boost Converter Example 117 
</p>
<p>5.4 Summary of Results and Key Points 124 
</p>
<p>Problems 126 
</p>
<p>6 Converter Circuits 131 
</p>
<p>6.1 Circuit Manipulations 132 
</p>
<p>6.1.1 Inversion of Source and Load 132 
</p>
<p>6.1.2 Cascade Connection of Converters 134 
</p>
<p>6.1.3 Rotation of Three-Terminal Cell 137 </p>
<p/>
</div>
<div class="page"><p/>
<p>Contents ix 
</p>
<p>6.1.4 Differential Connection of the Load 138 
</p>
<p>6.2 A Short List of Converters 143 
</p>
<p>6.3 Transformer Isolation 146 
</p>
<p>6.3.1 Full-Bridge and Half-Bridge Isolated Buck Converters 149 
6.3.2 Forward Converter 154 
6.3.3 Push-Pull Isolated Buck Converter 159 
6.3.4 Fly back Converter 161 
6.3.5 Boost-Derived Isolated Converters 165 
6.3.6 Isolated Versions of the SEPIC and the Cuk Converter 168 
</p>
<p>6.4 Converter Evaluation and Design 171 
</p>
<p>6.4.1 Switch Stress and Utilization 171 
6.4'.2 Design Using Computer Spreadsheet 174 
</p>
<p>6.5 . Summary of Key Points 177 
</p>
<p>References 177 
</p>
<p>Problems 179 
</p>
<p>II Converter Dynamics and Control 185 
</p>
<p>7 AC Equivalent Circuit Modeling 187 
</p>
<p>7.1 Introduction 187 
</p>
<p>7.2 The Basic AC Modeling Approach 192 
</p>
<p>7.2.1 Averaging the Inductor Waveforms 193 
7.2.2 Discussion of the Averaging Approximation 194 
7.2.3 Averaging the Capacitor Waveforms 196 
7.2.4 The Average Input Current 197 
7.2.5 Perturbation and Linearization 197 
7.2.6 Construction of the Small-Signal Equivalent Circuit Model 201 
7.2.7 Discussion of the Perturbation and Linearization Step 202 
7.2.8 Results for Several Basic Converters 204 
7.2.9 Example: A Nonideai Flyback Converter 204 
</p>
<p>7.3 State-Space Averaging 213 
</p>
<p>7.3.1 The State Equations of a Network 213 
7.3.2 The Basic State-Space Averaged Model 216 
7.3.3 Discussion of the State-Space Averaging Result 217 
7.3.4 Example: State-Space Averaging of a Nonideal Buck-Boost Converter 221 
</p>
<p>7.4 Circuit Averaging and Averaged Switch Modeling 226 
7.4.1 Obtaining a Time-Invariant Circuit 228 
7.4.2 Circuit Averaging 229 
7.4.3 Perturbation and Linearization 232 
7.4.4 Switch Networks 235 
7.4.5 Example: Averaged Switch Modeling of Conduction Losses 242 
7.4.6 Example: Averaged Switch Modeling of Switching Losses 244 
</p>
<p>7.5 The Canonical Circuit Model 247 
</p>
<p>7.5.1 Development of the Canonical Circuit Model 248 </p>
<p/>
</div>
<div class="page"><p/>
<p>x Contents 
</p>
<p>7.5.2 Example: Manipulation of the Buck-Boost Converter Model 
</p>
<p>into Canonical Form 250 
</p>
<p>7.5.3 Canonical Circuit Parameter Values for Some Common Converters 252 
</p>
<p>7.6 Modeling the Pulse-Width Modulator 253 
</p>
<p>7.7 Summary of Key Points 256 
</p>
<p>References 257 
</p>
<p>Problems 258 
</p>
<p>8 Converter Transfer Functions 265 
</p>
<p>8.1 Review of Bode Plots 267 
</p>
<p>8.1.1 Single Pole Response 269 
</p>
<p>8.1.2 Single Zero Response 275 
</p>
<p>8.1.3 Right Half-Plane Zero 276 
</p>
<p>8.1.4 Frequency Inversion 277 
</p>
<p>8.1.5 Combinations 278 
</p>
<p>8.1.6 Quadratic Pole Response: Resonance 282 
</p>
<p>8.1.7 The Low-Q Approximation 287 
</p>
<p>8.1.8 Approximate Roots of an Arbitrary-Degree Polynomial 289 
</p>
<p>8.2 Analysis of Converter Transfer Functions 293 
</p>
<p>8.2.1 Example: Transfer Functions of the Buck-Boost Converter 294 
</p>
<p>8.2.2 Transfer Functions of Some Basic CCM Converters 300 
</p>
<p>8.2.3 Physical Origins of the RHP Zero in Converters 300 
</p>
<p>8.3 Graphical Construction of Impedances and Transfer Functions 302 
</p>
<p>8.3.1 Series Impedances: Addition of Asymptotes 303 
</p>
<p>8.3.2 Series Resonant Circuit Example 305 
</p>
<p>8.3.3 Parallel Impedances: Inverse Addition of Asymptotes 308 
</p>
<p>8.3.4 Parallel Resonant Circuit Example 309 
</p>
<p>8.3.5 Voltage Divider Transfer Functions: Division of Asymptotes 311 
</p>
<p>8.4 Graphical Construction of Converter Transfer Functions 313 
</p>
<p>8.5 Measurement of AC Transfer Functions and Impedances 317 
</p>
<p>8.6 Summary of Key Points 321 
</p>
<p>References 322 
</p>
<p>Problems 322 
</p>
<p>9 Controller Design 331 
</p>
<p>9.1 Introduction 331 
</p>
<p>9.2 Effect of Negative Feedback on the Network Transfer Functions 334 
</p>
<p>9.2.1 Feedback Reduces the Transfer Functions 
</p>
<p>from Disturbances to the Output 335 
</p>
<p>9.2.2 Feedback Causes the Transfer Function from the Reference Input 
</p>
<p>to the Output to be Insensitive to Variations in the Gains in the 
</p>
<p>Forward Path of the Loop 337 
</p>
<p>9.3 Construction of the Important Quantities 11( 1 + T) and Tl( 1 + T) 
and the Closed-Loop Transfer Functions 337 
</p>
<p>9.4 Stability 340 </p>
<p/>
</div>
<div class="page"><p/>
<p>9.4.1 The Phase Margin Test 
</p>
<p>9.4.2 The Relationship Between Phase Margin 
</p>
<p>and Closed-Loop Damping Factor 
</p>
<p>9.4.3 Transient Response vs. Damping Factor 
</p>
<p>9.5 Regulator Design 
</p>
<p>9.5.1 Lead (PD) Compensator 
</p>
<p>9.5.2 Lag (PI) Compensator 
</p>
<p>9.5.3 Combined (P/D) Compensator 
</p>
<p>9.5.4 Design Example 
</p>
<p>9.6 Measurement of Loop Gains 
</p>
<p>9.6.1 Voltage Injection 
</p>
<p>9.6.2 Current Injection 
</p>
<p>9.6.3 Measurement of Unstable Systems 
</p>
<p>9.7 Summary of Key Points 
</p>
<p>References 
</p>
<p>Problems 
</p>
<p>10 Input Filter Design 
</p>
<p>10.1 Introduction 
</p>
<p>10.1.1 Conducted EMI 
</p>
<p>10.1.2 The Input Filter Design Problem 
</p>
<p>10.2 Effect of an Input Filter on Converter Transfer Functions 
</p>
<p>10.2.1 Discussion 
</p>
<p>10.2.2 Impedance Inequalities 
</p>
<p>10.3 Buck Converter Example 
</p>
<p>10.3.1 Effect of Undamped Input Filter 
</p>
<p>10.3.2 Damping the Input Filter 
</p>
<p>10.4 Design of a Damped Input Filter 
</p>
<p>10.4.1 RrCb Parallel Damping 
</p>
<p>10.4.2 RrLb Parallel Damping 
</p>
<p>10.4.3 RrLb Series Damping 
</p>
<p>10.4.4 Cascading Filter Sections 
</p>
<p>10.4.5 Example: Two Stage Input Filter 
</p>
<p>10.5 Summary of Key Points 
</p>
<p>References 
</p>
<p>Problems 
</p>
<p>Contents xi 
</p>
<p>341 
</p>
<p>342 
</p>
<p>346 
</p>
<p>347 
</p>
<p>348 
</p>
<p>351 
</p>
<p>353 
</p>
<p>354 
</p>
<p>362 
</p>
<p>364 
</p>
<p>367 
</p>
<p>368 
</p>
<p>369 
</p>
<p>369 
</p>
<p>369 
</p>
<p>377 
</p>
<p>377 
</p>
<p>377 
</p>
<p>379 
</p>
<p>381 
</p>
<p>382 
</p>
<p>384 
</p>
<p>385 
</p>
<p>385 
</p>
<p>391 
</p>
<p>392 
</p>
<p>395 
</p>
<p>396 
</p>
<p>398 
</p>
<p>398 
</p>
<p>400 
</p>
<p>403 
</p>
<p>405 
</p>
<p>406 
</p>
<p>11 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 409 
</p>
<p>11.1 DCM Averaged Switch Model 
</p>
<p>11.2 Small-Signal AC Modeling of the DCM Switch Network 
</p>
<p>11.2.1 Example: Control-to-Output Frequency Response 
</p>
<p>of a DCM Boost Converter 
</p>
<p>11.2.2 Example: Control-to-Output Frequency Responses 
</p>
<p>of a CCM/DCM SEPIC 
</p>
<p>410 
</p>
<p>420 
</p>
<p>428 
</p>
<p>429 </p>
<p/>
</div>
<div class="page"><p/>
<p>xii Contents 
</p>
<p>11.3 High-Frequency Dynamics of Converters in DCM 
</p>
<p>11.4 Summary of Key Points 
</p>
<p>References 
</p>
<p>Problems 
</p>
<p>12 Current Programmed Control 
</p>
<p>12.1 Oscillation forD&gt; 0.5 
</p>
<p>12.2 A Simple First-Order Model 
</p>
<p>12.2.1 Simple Model via Algebraic Approach: Buck-Boost Example 
</p>
<p>12.2.2 Averaged Switch Modeling 
</p>
<p>12.3 A More Accurate Model 
</p>
<p>12.3.1 
</p>
<p>12.3.2 
</p>
<p>12.3.3 
</p>
<p>12.3.4 
</p>
<p>12.3.5 
</p>
<p>12.3.6 
</p>
<p>Current-Programmed Controller Model 
</p>
<p>Solution of the CPM Transfer Functions 
</p>
<p>Discussion 
</p>
<p>Current-Programmed Transfer Functions of the CCM Buck Converter 
</p>
<p>Results for Basic Converters 
</p>
<p>Quantitative Effects of Current-Programmed Control 
</p>
<p>on the Converter Transfer Functions 
</p>
<p>12.4 Discontinuous Conduction Mode 
</p>
<p>12.5 Summary of Key Points 
</p>
<p>References 
</p>
<p>Problems 
</p>
<p>III Magnetics 
</p>
<p>13 Basic Magnetics Theory 
</p>
<p>13.1 Review of Basic Magnetics 
</p>
<p>13.1.1 Basic Relationships 
</p>
<p>13.1.2 Magnetic Circuits 
</p>
<p>13.2 Transformer Modeling 
</p>
<p>13.2.1 The Ideal Transformer 
</p>
<p>13.2.2 The Magnetizing Inductance 
</p>
<p>13.2.3 Leakage Inductances 
</p>
<p>13.3 Loss Mechanisms in Magnetic Devices 
</p>
<p>13.3.1 Core Loss 
</p>
<p>13.3.2 Low-Frequency Copper Loss 
</p>
<p>13.4 Eddy Currents in Winding Conductors 
</p>
<p>13.4.1 Introduction to the Skin and Proximity Effects 
</p>
<p>13.4.2 Leakage Flux in Windings 
</p>
<p>13.4.3 Foil Windings and Layers 
</p>
<p>13.4.4 Power Loss in a Layer 
</p>
<p>13.4.5 Example: Power Loss in a Transformer Winding 
</p>
<p>13.4.6 Interleaving the Windings 
</p>
<p>13.4.7 PWM Waveform Harmonics 
</p>
<p>431 
</p>
<p>434 
</p>
<p>434 
</p>
<p>435 
</p>
<p>439 
</p>
<p>441 
</p>
<p>449 
</p>
<p>450 
</p>
<p>454 
</p>
<p>459 
</p>
<p>459 
</p>
<p>462 
</p>
<p>465 
</p>
<p>466 
</p>
<p>469 
</p>
<p>471 
</p>
<p>473 
</p>
<p>480 
</p>
<p>481 
</p>
<p>482 
</p>
<p>489 
</p>
<p>491 
</p>
<p>491 
</p>
<p>491 
</p>
<p>498 
</p>
<p>501 
</p>
<p>502 
</p>
<p>502 
</p>
<p>504 
</p>
<p>506 
</p>
<p>506 
</p>
<p>508 
</p>
<p>508 
</p>
<p>508 
</p>
<p>512 
</p>
<p>514 
</p>
<p>515 
</p>
<p>518 
</p>
<p>520 
</p>
<p>522 </p>
<p/>
</div>
<div class="page"><p/>
<p>Contents xiii 
</p>
<p>13.5 Several Types of Magnetic Devices, Their B-H Loops, 
and Core vs. Copper Loss 525 
</p>
<p>13.5.1 Filter Inductor 525 
13.5.2 AC Inductor 527 
13.5.3 Transformer 528 
13.5.4 Coupled Inductor 529 
13.5.5 Flyback Transformer 530 
</p>
<p>13.6 Summary of Key Points 531 
</p>
<p>References 532 
</p>
<p>Problems 533 
</p>
<p>14 Inductor Design 539 
</p>
<p>14.1 Filter Inductor Design Constraints 539 
</p>
<p>14.1.1 Maximum Flux Density 541 
14.1.2 Inductance 542 
14.1.3 Winding Area 542 
14.1.4 Winding Resistance 543 
14.1.5 The Core Geometrical Constant Kg 543 
</p>
<p>14.2 A Step-by-Step Procedure 544 
</p>
<p>14.3 Multiple-Winding Magnetics Design via the Kg Method 545 
</p>
<p>14.3.1 Window Area Allocation 545 
14.3.2 Coupled Inductor Design Constraints 550 
14.3.3 Design Procedure 552 
</p>
<p>14.4 Examples 554 
</p>
<p>14.4.1 Coupled Inductor for a Two-Output Forward Converter 554 
14.4.2 CCM Fly back Transformer 557 
</p>
<p>14.5 Summary of Key Points 562 
</p>
<p>References 562 
</p>
<p>Problems 563 
</p>
<p>15 Transformer Design 565 
</p>
<p>15.1 Transformer Design: Basic Constraints 565 
</p>
<p>15.1.1 Core Loss 566 
15.1.2 Flux Density 566 
15.1.3 Copper Loss 567 
15.1.4 Total Power Loss vs. till 568 
15.1.5 Optimum Flux Density 569 
</p>
<p>15.2 A Step-by-Step Transformer Design Procedure 570 
</p>
<p>15.3 Examples 573 
</p>
<p>15.3.1 Example 1: Single-Output Isolated Cuk Converter 573 
15.3.2 Example 2: Multiple-Output Full-Bridge Buck Converter 576 
</p>
<p>15.4 AC Inductor Design 580 
</p>
<p>15.4.1 Outline of Derivation 580 
15.4.2 Step-by-Step AC Inductor Design Procedure 582 </p>
<p/>
</div>
<div class="page"><p/>
<p>xiv Contents 
</p>
<p>15.5 Summary 583 
</p>
<p>References 583 
</p>
<p>Problems 584 
</p>
<p>IV Modern Rectifiers and Power System Harmonics 587 
</p>
<p>16 Power and Harmonics in Nonsinusoidal Systems 589 
</p>
<p>16.1 Average Power 590 
</p>
<p>16.2 Root-Mean-Square (RMS) Value of a Waveform 593 
</p>
<p>16.3 Power Factor 594 
</p>
<p>16.3.1 Linear Resistive Load, Nonsinusoidal Voltage 594 
</p>
<p>16.3.2 Nonlinear Dynamic Load, Sinusoidal Voltage 595 
</p>
<p>16.4 Power Phasors in Sinusoidal Systems 598 
</p>
<p>16.5 Harmonic Currents in Three-Phase Systems 599 
</p>
<p>16.5.1 Harmonic Currents in Three-Phase Four-Wire Networks 599 
</p>
<p>16.5.2 Harmonic Currents in Three-Phase Three-Wire Networks 601 
</p>
<p>16.5.3 Harmonic Current Flow in Power Factor Correction Capacitors 602 
</p>
<p>16.6 AC Line Current Harmonic Standards 603 
</p>
<p>16.6.1 International Electrotechnical Commission Standard 1000 603 
</p>
<p>16.6.2 IEEE/ ANSI Standard 519 604 
</p>
<p>Bibliography 605 
</p>
<p>Problems 605 
</p>
<p>17 Line-Commutated Rectifiers 609 
</p>
<p>17.1 The Single-Phase Full-Wave Rectifier 609 
</p>
<p>17.1.1 Continuous Conduction Mode 610 
</p>
<p>17.1.2 Discontinuous Conduction Mode 611 
</p>
<p>17.1.3 Behavior when Cis Large 612 
</p>
<p>17.1.4 Minimizing THD when C is Small 613 
</p>
<p>17.2 The Three-Phase Bridge Rectifier 615 
</p>
<p>17.2.1 Continuous Conduction Mode 615 
</p>
<p>17.2.2 Discontinuous Conduction Mode 616 
</p>
<p>17.3 Phase Control 617 
</p>
<p>17.3.1 Inverter Mode 619 
</p>
<p>17.3.2 Harmonics and Power Factor 619 
</p>
<p>17.3.3 Commutation 620 
</p>
<p>17.4 Harmonic Trap Filters 622 
</p>
<p>17.5 Transformer Connections 628 
</p>
<p>17.6 Summary 630 
</p>
<p>References 631 
</p>
<p>Problems 632 
</p>
<p>18 Pulse-Width Modulated Rectifiers 637 
</p>
<p>18.1 Properties of the Ideal Rectifier 638 </p>
<p/>
</div>
<div class="page"><p/>
<p>Contents xv 
</p>
<p>18.2 Realization of a Near-Ideal Rectifier 640 
</p>
<p>18.2.1 CCM Boost Converter 642 
</p>
<p>18.2.2 DCM Flyback Converter 646 
</p>
<p>18.3 Control of the Current Waveform 648 
</p>
<p>18.3.1 Average Current Control 648 
</p>
<p>18.3.2 Current Programmed Control 654 
</p>
<p>18.3.3 Critical Conduction Mode and Hysteretic Control 657 
</p>
<p>18.3.4 Nonlinear Carrier Control 659 
</p>
<p>18.4 Single-Phase Converter Systems Incorporating Ideal Rectifiers 663 
</p>
<p>18.4.1 Energy Storage 663 
</p>
<p>18.4.2 Modeling the Outer Low-Bandwidth Control System 668 
</p>
<p>18.5 RMS Values of Rectifier Waveforms 673 
</p>
<p>18.5.1 Boost Rectifier Example 674 
</p>
<p>18.5.2 Comparison of Single-Phase Rectifier Topologies 676 
</p>
<p>18.6 Modeling Losses and Efficiency in CCM High-Quality Rectifiers 678 
</p>
<p>18.6.1 Expression for Controller Duty Cycle d(t) 679 
</p>
<p>18.6.2 Expression for the DC Load Current 681 
</p>
<p>18.6.3 Solution for Converter Efficiency 11 683 
</p>
<p>18.6.4 Design Example 684 
</p>
<p>18.7 Ideal Three-Phase Rectifiers 685 
</p>
<p>18.8 Summary of Key Points 691 
</p>
<p>References 692 
</p>
<p>Problems 696 
</p>
<p>v Resonant Converters 703 
19 Resonant Conversion 705 
</p>
<p>19.1 Sinusoidal Analysis of Resonant Converters 709 
</p>
<p>19.1.1 Controlled Switch Network Model 710 
</p>
<p>19.1.2 Modeling the Rectifier and Capacitive Filter Networks 711 
</p>
<p>19.1.3 Resonant Tank Network 713 
</p>
<p>19.1.4 Solution of Converter Voltage Conversion Ratio M = V!Vg 714 
</p>
<p>19.2 Examples 715 
</p>
<p>19.2.1 Series Resonant DC-DC Converter Example 715 
</p>
<p>19.2.2 Subharmonic Modes of the Series Resonant Converter 717 
</p>
<p>19.2.3 Parallel Resonant DC-DC Converter Example 718 
</p>
<p>19.3 Soft Switching 721 
</p>
<p>19.3.1 Operation of the Full Bridge Below Resonance: 
</p>
<p>Zero-Current Switching 722 
</p>
<p>19.3.2 Operation of the Full Bridge Above Resonance: 
</p>
<p>Zero-Voltage Switching 723 
</p>
<p>19.4 Load-Dependent Properties of Resonant Converters 726 
</p>
<p>19.4.1 Inverter Output Characteristics 727 
</p>
<p>19.4.2 Dependence of Transistor Current on Load 729 
</p>
<p>19.4.3 Dependence of the ZVS/ZCS Boundary on Load Resistance 734 </p>
<p/>
</div>
<div class="page"><p/>
<p>xvi Contents 
</p>
<p>19.4.4 Another Example 
</p>
<p>19.5 Exact Characteristics of the Series and Parallel Resonant Converters 
</p>
<p>19.5.1 Series Resonant Converter 
</p>
<p>19.5.2 Parallel Resonant Converter 
</p>
<p>19.6 Summary of Key Points 
</p>
<p>References 
</p>
<p>Problems 
</p>
<p>20 Soft Switching 
</p>
<p>20.1 Soft-Switching Mechanisms of Semiconductor Devices 
</p>
<p>20.1.1 Diode Switching 
</p>
<p>20.1.2 MOSFET Switching 
</p>
<p>20.1.3 IGBT Switching 
</p>
<p>20.2 The Zero-Current-Switching Quasi-Resonant Switch Cell 
</p>
<p>20.2.1 Waveforms of the Half-Wave ZCS Quasi-Resonant Switch Cell 
</p>
<p>20.2.2 The Average Terminal Waveforms 
</p>
<p>20.2.3 The Full-Wave ZCS Quasi-Resonant Switch Cell 
</p>
<p>20.3 Resonant Switch Topologies 
</p>
<p>20.3.1 The Zero-Voltage-Switching Quasi-Resonant Switch 
</p>
<p>20.3.2 The Zero-Voltage-Switching Multi-Resonant Switch 
</p>
<p>20.3.3 Quasi-Square-Wave Resonant Switches 
</p>
<p>20.4 Soft Switching in PWM Converters 
</p>
<p>20.4.1 The Zero-Voltage Transition Full-Bridge Converter 
</p>
<p>20.4.2 The Auxiliary Switch Approach 
</p>
<p>20.4.3 Auxiliary Resonant Commutated Pole 
</p>
<p>20.5 Summary of Key Points 
</p>
<p>References 
</p>
<p>Problems 
</p>
<p>Appendices 
</p>
<p>Appendix A RMS Values of Commouly-Observed Converter Waveforms 
</p>
<p>A.l Some Common Waveforms 
</p>
<p>A.2 General Piecewise Waveform 
</p>
<p>Appendix B Simulation of Converters 
</p>
<p>B.l Averaged Switch Models for Continuous Conduction Mode 
</p>
<p>B.l.l Basic CCM Averaged Switch Model 
</p>
<p>B.l.2 CCM Subcircuit Model that Includes Switch Conduction Losses 
</p>
<p>B.l.3 Example: SEPIC DC Conversion Ratio and Efficiency 
</p>
<p>B.l.4 Example: Transient Response of a Buck-Boost Converter 
</p>
<p>B.2 Combined CCM/DCM Averaged Switch Model 
</p>
<p>B.2.l Example: SEPIC Frequency Responses 
</p>
<p>B.2.2 Example: Loop Gain and Closed-Loop Responses 
</p>
<p>of a Buck Voltage Regulator 
</p>
<p>737 
</p>
<p>740 
</p>
<p>740 
</p>
<p>748 
</p>
<p>752 
</p>
<p>752 
</p>
<p>755 
</p>
<p>761 
</p>
<p>762 
</p>
<p>763 
</p>
<p>765 
</p>
<p>768 
</p>
<p>768 
</p>
<p>770 
</p>
<p>774 
</p>
<p>779 
</p>
<p>781 
</p>
<p>783 
</p>
<p>784 
</p>
<p>787 
</p>
<p>790 
</p>
<p>791 
</p>
<p>794 
</p>
<p>796 
</p>
<p>797 
</p>
<p>798 
</p>
<p>800 
</p>
<p>803 
</p>
<p>805 
</p>
<p>805 
</p>
<p>809 
</p>
<p>813 
</p>
<p>815 
</p>
<p>815 
</p>
<p>816 
</p>
<p>818 
</p>
<p>819 
</p>
<p>822 
</p>
<p>825 
</p>
<p>827 </p>
<p/>
</div>
<div class="page"><p/>
<p>B.2.3 Example: DCM Boost Rectifier 
</p>
<p>B.3 Current Programmed Control 
</p>
<p>B.3.1 Current Programmed Mode Model for Simulation 
</p>
<p>B.3.2 Example: Frequency Responses of a Buck Converter with 
</p>
<p>Current Programmed Control 
</p>
<p>References 
</p>
<p>AppendixC Middlebrook's Extra Element Theorem 
</p>
<p>C.l Basic Result 
</p>
<p>C.2 Derivation 
</p>
<p>C.3 Discussion 
</p>
<p>C.4 Examples 
</p>
<p>C.4.1 A Simple Transfer Function 
</p>
<p>C.4.2 An Unmodeled Element 
</p>
<p>C.4.3 Addition of an Input Filter to a Converter 
</p>
<p>C.4.4 Dependence of Transistor Current on Load in a Resonant Inverter 
</p>
<p>References 
</p>
<p>AppendixD Magnetics Design Tables 
</p>
<p>D.l Pot Core Data 
</p>
<p>D.2 EE Core Data 
</p>
<p>D.3 EC Core Data 
</p>
<p>D.4 . ETD Core Data 
</p>
<p>D.5 PQ Core Data 
</p>
<p>D.6 American Wire Gauge Data 
</p>
<p>References 
</p>
<p>Index 
</p>
<p>Contents xvii 
</p>
<p>832 
</p>
<p>834 
</p>
<p>834 
</p>
<p>837 
</p>
<p>840 
</p>
<p>843 
</p>
<p>843 
</p>
<p>846 
</p>
<p>849 
</p>
<p>850 
</p>
<p>850 
</p>
<p>855 
</p>
<p>857 
</p>
<p>859 
</p>
<p>861 
</p>
<p>863 
</p>
<p>864 
</p>
<p>865 
</p>
<p>866 
</p>
<p>866 
</p>
<p>867 
</p>
<p>868 
</p>
<p>869 
</p>
<p>871 </p>
<p/>
</div>
<div class="page"><p/>
<p>Preface 
</p>
<p>The objective of the First Edition was to serve as a textbook for introductory power electronics courses 
</p>
<p>where the fundamentals of power electronics are defined, rigorously presented, and treated in sufficient 
</p>
<p>depth so that students acquire the knowledge and skills needed to design practical power electronic sys-
</p>
<p>tems. The First Edition has indeed been adopted for use in power electronics courses at a number of 
</p>
<p>schools. An additional goal was to contribute as a reference book for engineers who practice power elec-
</p>
<p>tronics design, and for students who want to develop their knowledge of the area beyond the level of 
</p>
<p>introductory courses. In the Second Edition, the basic objectives and philosophy of the First Edition have 
</p>
<p>not been changed. The modifications include addition of a number of new topics aimed at better serving 
</p>
<p>the expanded audience that includes students of introductory and more advanced courses, as well as 
</p>
<p>practicing engineers looking for a reference book and a source for further professional development. 
</p>
<p>Most of the chapters have been significantly revised and updated. Major additions include a new Chapter 
</p>
<p>10 on input filter design, a new Appendix B covering simulation of converters, and a new Appendix C on 
</p>
<p>Middlebrook's Extra Element Theorem. In addition to the introduction of new topics, we have made 
</p>
<p>major revisions of the material to improve the flow and clarity of explanations and to provide additional 
</p>
<p>specific results, in chapters covering averaged switch modeling, dynamics of converters operating in dis-
</p>
<p>continuous conduction mode, current mode control, magnetics design, pulse-width modulated rectifiers, 
</p>
<p>and resonant and soft-switching converters. 
</p>
<p>A completely new Chapter 10 covering input filter design has been added to the second addi-
</p>
<p>tion. The problem of how the input filter affects the dynamics of the converter, often in a manner that 
</p>
<p>degrades stability and performance of the converter system, is explained using Middlebrook's Extra Ele-
</p>
<p>ment Theorem. This design-oriented approach is explained in detail in the new Appendix C. Simple con-
</p>
<p>ditions are derived to allow filter damping so that converter transfer functions are not changed. Complete 
</p>
<p>results for optimum filter damping are presented. The chapter concludes with a discussion about the 
</p>
<p>design of multiple-section filters, illustrated by a design example. 
</p>
<p>Computer simulation based on the averaged switch modeling approach is presented in Appen-
</p>
<p>dix B, including PSpice models for continuous and discontinuous conduction mode, and current-mode 
</p>
<p>control. Extensive simulation examples include: finding the de conversion ratio and efficiency of a 
</p>
<p>SEPIC, plotting the transient response of a buck-boost converter, comparing the control-to-output trans-
</p>
<p>fer functions of a SEPIC operating in CCM and DCM,determining the loop gain, line-to-output transfer 
</p>
<p>function, and load transient response of a closed-loop buck voltage regulator, finding the input current </p>
<p/>
</div>
<div class="page"><p/>
<p>xx Preface 
</p>
<p>waveform and THD of a DCM boost rectifier, and comparing the transfer functions and output imped-
</p>
<p>ances of buck converters operating with current programmed control and with duty cycle control. The 
</p>
<p>major purpose of Appendix B is to supplement the text discussions, and to enable the reader to effec-
</p>
<p>tively use averaged models and simulation tools in the design process. The role of simulation as a design 
</p>
<p>verification tool is emphasized. In our experience of teaching introductory and more advanced power 
</p>
<p>electronics courses, we have found that the use of simulation tools works best with students who have 
</p>
<p>mastered basic concepts and design-oriented analytical techniques, so that they are able to make correct 
</p>
<p>interpretations of simulation results and model limitations. This is why we do not emphasize simulation 
</p>
<p>in introductory chapters. Nevertheless, Appendix B is organized so that simulation examples can be 
</p>
<p>introduced together with coverage of the theoretical concepts of Chapters 3, 7, 9, 10, 11, 12, and 18. 
</p>
<p>Middlebrook's Extra Element Theorem is presented in Appendix C, together with four tutorial 
</p>
<p>examples. This valuable design-oriented analytical tool allows one to examine effects of adding an extra 
</p>
<p>element to a linear system, without solving the modified system all over again. The theorem has many 
</p>
<p>practical applications in the design of electronic circuits, from solving circuits by inspection, to quickly 
</p>
<p>finding effects of unmodeled parasitic elements. In particular, in the Second Edition, Middlebrook's 
</p>
<p>Extra Element Theorem is applied to the input filter design of Chapter 10, and to resonant inverter design 
</p>
<p>in Chapter 19. 
</p>
<p>In Chapter 7, we have revised the section on circuit averaging and averaged switch modeling. 
</p>
<p>The process of circuit averaging and deriving averaged switch models has been explained to allow read-
</p>
<p>ers not only to use the basic models, but also to construct averaged models for other applications of inter-
</p>
<p>est. Examples of extensions of the averaged switch modeling approach include modeling of switch 
</p>
<p>conduction and switching losses. Related to the revision of Chapter 7, in Appendix B we have included 
</p>
<p>new material on simulation of converters based on the averaged switch modeling approach. 
</p>
<p>Chapter 8 contains a new substantial introduction that explains the engineering design process 
</p>
<p>and the need for design-oriented analysis. The discussions of design-oriented methods for construction 
</p>
<p>of frequency response have been revised and expanded. A new example has been added, involving 
</p>
<p>approximate analysis of a damped input filter. 
</p>
<p>Chapter 11 on dynamics of DCM (discontinuous conduction mode) converters, and Chapter 12 
</p>
<p>on current-mode control, have been thoroughly revised and updated. Chapter 11 includes a simplified 
</p>
<p>derivation of DCM averaged switch models, as well as an updated discussion of high-frequency DCM 
</p>
<p>dynamics. Chapter 12 includes a new, more straightforward explanation and discussion of current-mode 
</p>
<p>dynamics, as well as new complete results for transfer functions and model parameters of all basic con-
</p>
<p>verters. 
</p>
<p>The chapters on magnetics design have been significantly revised and reorganized. Basic mag-
</p>
<p>netics theory necessary for informed design of magnetic components in switching power converters is 
</p>
<p>presented in Chapter 13. The description of the proximity effect has been completely revised, to explain 
</p>
<p>this important but complex subject in a more intuitive manner. The design of magnetic components based 
</p>
<p>on the copper loss constraint is described in Chapter 14. A new step-by-step design procedure is given 
</p>
<p>for multiple-winding inductors, and practical design examples are included for the design of filter induc-
</p>
<p>tors, coupled inductors and fly back transformers. The design of magnetic components (transformers and 
</p>
<p>ac inductors) based on copper and core loss considerations is described in Chapter 15. 
</p>
<p>To improve their logical flow, the chapters covering pulse-width modulated rectifiers have been 
</p>
<p>combined into a single Chapter 18, and have been completely reorganized. New sections on current con-
</p>
<p>trol based on the critical conduction mode, as well as on operation of the CCM boost and DCM fly back 
</p>
<p>as PWM rectifiers, have been added. 
</p>
<p>Part V consists of Chapter 19 on resonant converters and Chapter 20 on soft-switching convert-
</p>
<p>ers. The discussion of resonant inverter design, a topic of importance in the field of high-frequency elec-
</p>
<p>tronic ballasts, has been expanded and explained in a more intuitive manner. A new resonant inverter </p>
<p/>
</div>
<div class="page"><p/>
<p>xxi 
</p>
<p>design example has also been added to Chapter 19. Chapter 20 contains an expanded tutorial explanation 
</p>
<p>of switching loss mechanisms, new charts illustrating the characteristics of quasi-square-wave and multi-
</p>
<p>resonant converters, and new up-to-date sections about soft-switching converters, including the zero-
</p>
<p>voltage transition full-bridge converter, the auxiliary switch approach, and the auxiliary resonant com-
</p>
<p>mutated pole approach for de-de converters and dc-ac inverters. 
</p>
<p>The material of the Second Edition is organized so that chapters or sections of the book can be 
</p>
<p>selected to offer an introductory one-semester course, but yet enough material is provided for a sequence 
</p>
<p>of more advanced courses, or for individual professional development. At the University of Colorado, we 
</p>
<p>cover the material from the Second Edition in a sequence of three semester-long power electronics 
</p>
<p>courses. The first course, intended for seniors and first-year graduate students, covers Chapters 1 to 6, 
</p>
<p>Sections 7.1, 7.2, 7.5, and 7.6 from Chapter 7, Chapters 8 and 9, and Chapters 13 to 15. A project-ori-
</p>
<p>ented power electronics design laboratory is offered in parallel with this course. This course serves as a 
</p>
<p>prerequisite for two follow-up courses. The second course starts with Section 7.4, proceeds to Appendi-
</p>
<p>ces B and C, Chapters 10, 11 and 12, and concludes with the material of Chapters 16 to 18. In the third 
</p>
<p>course we cover resonant and soft-switching techniques of Chapters 19 and 20. 
</p>
<p>The website for the Second Edition contains comprehensive supporting materials for the text, 
</p>
<p>including solved problems and slides for instructors. Computer simulation files can be downloaded from 
</p>
<p>this site, including a PSpice library of averaged switch models, and simulation examples. 
</p>
<p>This text has evolved from courses developed over seventeen years of teaching power electron-
</p>
<p>ics at the University of Colorado. These courses, in tum, were heavily influenced by our previous experi-
</p>
<p>ences as graduate students at the California Institute of Technology, under the direction of Profs. 
</p>
<p>Slobodan Cuk and R. D. Middlebrook, to whom we are grateful. We appreciate the helpful suggestions 
</p>
<p>of Prof. Arthur Witulski of the University of Arizona. We would also like to thank the many readers of 
</p>
<p>the First Edition, students, and instructors who offered their comments and suggestions, or who pointed 
</p>
<p>out errata. We have attempted to incorporate these suggestions wherever possible. 
</p>
<p>ROBERT W. ERICKSON 
</p>
<p>DRAGAN MAKSIMOVIC 
</p>
<p>Boulder, Colorado </p>
<p/>
</div>
<div class="page"><p/>
<p>1 
Introduction 
</p>
<p>1.1 INTRODUCTION TO POWER PROCESSING 
</p>
<p>The field of power electronics is concerned with the processing of electrical power using electronic 
</p>
<p>devices [ 1-7]. The key element is the switching converter, illustrated in Fig. 1.1. In general, a switching 
</p>
<p>converter contains power input and control input ports, and a power output port. The raw input power is 
</p>
<p>processed as specified by the control input, yielding the conditioned output power. One of several basic 
</p>
<p>functions can be performed [2]. In a de-de converter, the de input voltage is converted to a de output 
</p>
<p>voltage having a larger or smaller magnitude, possibly with opposite polarity or with isolation of the 
</p>
<p>input and output ground references. In an ac--&lt;:lc rectifier, an ac input voltage is rectified, producing a de 
</p>
<p>output voltage. The de output voltage and/or ac input current waveform may be controlled. The inverse 
</p>
<p>process, dc-ac inversion, involves transforming a de input voltage into an ac output voltage of controlla-
</p>
<p>ble magnitude and frequency. Ac-ac cycloconversion involves converting an ac input voltage to a given 
</p>
<p>ac output voltage of controllable magnitude and frequency. 
</p>
<p>Control is invariably required. It is nearly always desired to produce a well-regulated output 
</p>
<p>Po we r 
Fig. 1.1 The switching converter, a basic inp ut 
</p>
<p>power processing block. 
</p>
<p>Switching 
converter 
</p>
<p>Control 
in ut p 
</p>
<p>Po wer 
put out </p>
<p/>
</div>
<div class="page"><p/>
<p>2 Introduction 
</p>
<p>Fig. 1.2 A controller is generally required. 
</p>
<p>r Powe 
inp ut 
</p>
<p>Feed lfo~ani -----1 
</p>
<p>Switching 
converter 
</p>
<p>Control 
input 
</p>
<p>Controller r-
j Reference 
</p>
<p>Po wer 
put out 
</p>
<p>Feedbac k 
</p>
<p>voltage, in the presence of variations in the input voltage and load current. As illustrated in Fig. 1.2, a 
controller block is an integral part of any power processing system. 
</p>
<p>High efficiency is essential in any power processing application. The primary reason for this is 
</p>
<p>usually not the desire to save money on one's electric bills, nor to conserve energy, in spite of the nobility 
of such pursuits. Rather, high efficiency converters are necessary because construction of low-efficiency 
converters, producing substantial output power, is impractical. The efficiency of a converter having out-
</p>
<p>put power Pout and input power P;11 is 
</p>
<p>The power lost in the converter is 
</p>
<p>Equation (1.2) is plotted in Fig. 1.3. In a con- TJ 
</p>
<p>verter that has an efficiency of 50%, power 
</p>
<p>Ploss is dissipated by the converter elements 
</p>
<p>and this is equal to the output power, Pour 
This power is converted into heat, which 
</p>
<p>must be removed from the converter. If the 
</p>
<p>output power is substantial, then so is the 
</p>
<p>loss power. This leads to a large and expen-
</p>
<p>sive cooling system, it causes the electronic 
</p>
<p>elements within the converter to operate at 
</p>
<p>high temperature, and it reduces the system 
</p>
<p>reliability. Indeed, at high output powers, it 
</p>
<p>may be impossible to adequately cool the 
</p>
<p>converter elements using current technology. 
</p>
<p>Increasing the efficiency is the key 
</p>
<p>to obtaining higher output powers. For exam-
ple, if the converter efficiency is 90%, then 
</p>
<p>0.8 
</p>
<p>0.6 
</p>
<p>0.4 
</p>
<p>0.2 
</p>
<p>0 0.5 
</p>
<p>the converter loss power is equal to only 11% Fig. 1.3 Converter power loss vs. efficiency. 
</p>
<p>(1.1) 
</p>
<p>1.5 </p>
<p/>
</div>
<div class="page"><p/>
<p>1.1 Introduction to Power Processing 3 
</p>
<p>Fig. 1.4 A goal of current converter technology is to construct converters of small size and weight, which process 
</p>
<p>substantial power at high efficiency. 
</p>
<p>of the output power. Efficiency is a good measure of the success of a given converter technology. Figure 
</p>
<p>1.4 illustrates a converter that processes a large amount of power, with very high efficiency. Since very 
</p>
<p>little power is lost, the converter elements can be packaged with high density, leading to a converter of 
</p>
<p>small size and weight, and of low temperature rise. 
</p>
<p>How can we build a circuit that changes the voltage, yet dissipates negligible power? The vari-
</p>
<p>ous conventional circuit elements are illustrated in Fig. 1.5. The available circuit elements fall broadly 
</p>
<p>into the classes of resistive elements, capacitive elements, magnetic devices including inductors and 
</p>
<p>transformers, semiconductor devices operated in the linear mode (for example, as class A or class B 
</p>
<p>amplifiers), and semiconductor devices operated in the switched mode (such as in logic devices where 
</p>
<p>transistors operate in either saturation or cutoff). In conventional signal processing applications, where 
</p>
<p>efficiency is not the primary concern, magnetic devices are usually avoided wherever possible, because 
</p>
<p>of their large size and the difficulty of incorporating them into integrated circuits. In contrast, capacitors 
</p>
<p>and magnetic devices are important elements of switching converters, because ideally they do not con-
</p>
<p>sume power. It is the resistive element, as well as the linear-mode semiconductor device, that is avoided 
</p>
<p>[2]. Switched-mode semiconductor devices are also employed. When a semiconductor device operates in 
</p>
<p>the off state, its current is zero and hence its power dissipation is zero. When the semiconductor device 
</p>
<p>operates in the on (saturated) state, its voltage drop is small and hence its power dissipation is also small. 
</p>
<p>In either event, the power dissipated by the semiconductor device is low. So capacitive and inductive ele-
</p>
<p>ments, as well as switched-mode semiconductor devices, are available for synthesis of high-efficiency 
</p>
<p>converters. 
</p>
<p>Let us now consider how to construct the simple de-de converter example illustrated in Fig. 1.6. 
</p>
<p>The input voltage Vg is 100 V. It is desired to supply 50 V to an effective 5 Q load, such that the de load 
</p>
<p>current is 10 A. 
</p>
<p>Introductory circuits textbooks describe a low-efficiency method to perform the required func-
</p>
<p>tion: the voltage divider circuit illustrated in Fig. 1.7(a). The de-de converter then consists simply of a 
</p>
<p>1 --'1SiS1f'\.- ~ v s &middot;~~~~&middot; T h [ Linear- DT8 T8 
mode Switched-mode 
</p>
<p>Resistors Capacitors Magnetics Semiconductor devices 
</p>
<p>Fig. 1.5 Devices available to the circuit designer [2]. </p>
<p/>
</div>
<div class="page"><p/>
<p>4 Introduction 
</p>
<p>I 
lOA 
</p>
<p>+ 
</p>
<p>vg De-de R v converter 
IOOV 
</p>
<p>5Q 50V 
</p>
<p>Fig. 1.6 A simple power processing example: construction of a 500 W de-de converter. 
</p>
<p>(a) 
r&middot;&middot;------&middot;------&middot;&middot;-----&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;----------&middot;&middot;-----&middot;&middot;&middot;--&middot;&middot;&middot;&middot;----&middot;&middot;&middot;&middot;------1 
</p>
<p>+ 50V -
</p>
<p>Ploss= 500W 
</p>
<p>. . . . 
~--&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-~ 
</p>
<p>(b) 
</p>
<p>. . . . . . 
&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>I 
lOA 
</p>
<p>+ 
</p>
<p>R V 
5Q 50V 
</p>
<p>I 
lOA 
</p>
<p>+ 
</p>
<p>R V 
5Q 50V 
</p>
<p>P0u1 =500W 
</p>
<p>Fig. 1.7 Changing the de voltage via dissipative means: (a) voltage divider, (b) series pass regulator. 
</p>
<p>variable resistor, whose value is adjusted such that the required output voltage is obtained. The load cur-
</p>
<p>rent flows through the variable resistor. For the specified voltage and current levels, the power Ploss dissi-
</p>
<p>pated in the variable resistor equals the load power Pout = 500 W. The source V8 supplies power 
</p>
<p>Pin= 1000 W. Figure 1.7(b) illustrates a more practical implementation known as the linear series-pass 
</p>
<p>regulator. The variable resistor of Fig. 1.7(a) is replaced by a linear-mode power transistor, whose base 
</p>
<p>current is controlled by a feedback system such that the desired output voltage is obtained. The power 
</p>
<p>dissipated by the linear-mode transistor of Fig. 1.7(b) is approximately the same as the 500 W lost by the 
</p>
<p>variable resistor in Fig. 1.7(a). Series-pass linear regulators generally find modern application only at 
</p>
<p>low power levels of a few watts. 
</p>
<p>Figure 1.8 illustrates another approach. A single-pole double-throw (SPDT) switch is connected 
</p>
<p>as shown. The switch output voltage v.(t) is equal to the converter input voltage V8 when the switch is in 
</p>
<p>position 1, and is equal to zero when the switch is in position 2. The switch position is varied periodi-
</p>
<p>cally, as illustrated in Fig. 1.9, such that v.(t) is a rectangular waveform having frequency fs and period 
Ts = l!fs. The duty cycle D is defined as the fraction of time in which the switch occupies position 1. 
</p>
<p>Hence, 0 $; D $; 1. In practice, the SPDT switch is realized using switched-mode semiconductor devices, </p>
<p/>
</div>
<div class="page"><p/>
<p>1.1 Introduction to Power Processing 5 
</p>
<p>r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;--------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;: 
</p>
<p>.---+---&lt;l~ 
</p>
<p>2 
vs(t) 
</p>
<p>L ................................................................................. .l 
Fig. 1.8 Insertion of SPOT switch which changes the de component of the voltage. 
</p>
<p>I 
lOA 
</p>
<p>',(t) l- __ -~: mm ~- ---~ mm ~- y,_~~v, 
i+--DT -f.-(1-D)T.-+-! 
: s : s : 
</p>
<p>switch i i i 
</p>
<p>position: i i 2 i 
Fig. 1.9 Switch output voltage waveform vs(t). 
</p>
<p>which are controlled such that the SPDT switching function is attained. 
</p>
<p>+ 
</p>
<p>v(t) 
50V 
</p>
<p>The switch changes the de component of the voltage. Recall from Fourier analysis that the de 
</p>
<p>component of a periodic waveform is equal to its average value. Hence, the de component of v .(t) is 
</p>
<p>1 iTs Vs = T v.(t)dt = DV8 
s 0 
</p>
<p>(1.3) 
</p>
<p>Thus, the switch changes the de voltage, by a factor equal to the duty cycle D. To convert the input volt-
</p>
<p>age V8 = 100 V into the desired output voltage of V = 50 V, a duty cycle of D = 0.5 is required. 
Again, the power dissipated by the switch is ideally zero. When the switch contacts are closed, 
</p>
<p>then their voltage is zero and hence the power dissipation is zero. When the switch contacts are open, 
</p>
<p>then the current is zero and again the power dissipation is zero. So we have succeeded in changing the de 
</p>
<p>voltage component, using a device that is ideally lossless. 
</p>
<p>In addition to the desired de component V8 , the switch output voltage waveform v.(t) also con-
</p>
<p>tains undesirable harmonics of the switching frequency. In most applications, these harmonics must be 
</p>
<p>removed, such that the output voltage v(t) is essentially equal to the de component V = Vs. A low-pass fil-
</p>
<p>ter can be employed for this purpose. Figure 1.10 illustrates the introduction of a single-section L-C low-
</p>
<p>pass filter. If the filter comer frequency f0 is sufficiently less than the switching frequency fs, then the fil-
</p>
<p>ter essentially passes only the de component of v .(t). To the extent that the switch, inductor, and capacitor. 
</p>
<p>elements are ideal, the efficiency of this de-de converter can approach 100%. 
</p>
<p>In Fig. 1.11, a control system is introduced for regulation of the output voltage. Since the output 
</p>
<p>voltage is a function of the switch duty cycle, a control system can be constructed that varies the duty 
</p>
<p>cycle to cause the output voltage to follow a given reference. Figure 1.11 also illustrates a typical way in 
</p>
<p>which the SPDT switch is realized using switched-mode semiconductor devices. The converter power 
</p>
<p>stage developed in Figs. 1.8 to 1.11 is called the buck converter, because it reduces the de voltage. 
</p>
<p>Converters can be constructed that perform other power processing functions. For example, Fig. </p>
<p/>
</div>
<div class="page"><p/>
<p>6 Introduction 
</p>
<p>r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-------------------------------------------------------------------------~ i(t) 
</p>
<p>~----+--o 
+ 
</p>
<p>2 
</p>
<p>c R v(t) 
</p>
<p>l ................................................................................... !p =500W 
Ploss small out 
</p>
<p>Fig. 1.10 Addition of L-C low-pass filter, for removal of switching harmonics. 
</p>
<p>Power 
input 
</p>
<p>Switching converter Load 
</p>
<p>r&middot;&middot;------------------------------------&middot;------------------------------; 
</p>
<p>~--+--. ~---+~+----r---. 
</p>
<p>Transistor 
gate driver 
</p>
<p>v 
</p>
<p>Reference 
input vr~f' 
</p>
<p>Fig. 1.11 Addition of control system to regulate the output voltage. 
</p>
<p>(a) 
</p>
<p>Fig. 1.12 The boost converter: 
</p>
<p>(a) ideal converter circuit, (b) output 
</p>
<p>voltage V vs. transistor duty cycle D. 
</p>
<p>(b) 
</p>
<p>v 
</p>
<p>5V8 
</p>
<p>4V 
g 
</p>
<p>3V8 
</p>
<p>2V 
g 
</p>
<p>v 
g 
</p>
<p>0 
</p>
<p>2 
</p>
<p>0 0.2 0.4 0.6 0.8 
</p>
<p>D 
</p>
<p>c 
</p>
<p>Sensor 
gain 
</p>
<p>+ 
</p>
<p>R v </p>
<p/>
</div>
<div class="page"><p/>
<p>(a) 
</p>
<p>(b) v,(t) 
</p>
<p>.. &middot;&middot;&middot; 
&middot;&middot;&middot;&middot;&middot;&middot;&middot; --
</p>
<p>1.2 Several Applications of Power Electronics 7 
</p>
<p>,-,....----.....--r-
</p>
<p>.. -&middot;&middot; 
.. &middot; 
</p>
<p>.. &middot;&middot;&middot;&middot;&middot; 
.. &middot; 
</p>
<p>&middot;&middot; ... 
&middot;&middot; ... 
</p>
<p>&middot;&middot;. &middot;&middot; .. 
</p>
<p>2 
</p>
<p>&bull; .. 
&middot;&middot;&middot; .. 
</p>
<p>Fig. 1.13 A bridge-type dc-l(llac inverter: (a) ideal inverter circuit, (b) typical pulse-width-modulated switch volt-
</p>
<p>age waveform v.(t), and its low-frequency component. 
</p>
<p>1.12 illustrates a circuit known as the boost converter, in which the positions of the inductor and SPDT 
switch are interchanged. This converter is capable of producing output voltages that are greater in magni-
</p>
<p>tude than the input voltage. In general, any given input voltage can be converted into any desired output 
</p>
<p>voltage, using a converter containing switching devices embedded within a network of reactive elements. 
</p>
<p>Figure 1.13(a) illustrates a simple dc-l!llac inverter circuit. As illustrated in Fig. 1.13(b), the 
</p>
<p>switch duty cycle is modulated sinusoidally. This causes the switch output voltage vs(t) to contain a low-
</p>
<p>frequency sinusoidal component. The L-C filter cutoff frequency f0 is selected to pass the desired low-
frequency components of vs(t), but to attenuate the high-frequency switching harmonics. The controller 
</p>
<p>modulates the duty cycle such that the desired output frequency and voltage magnitude are obtained. 
</p>
<p>1.2 SEVERAL APPLICATIONS OF POWER ELECTRONICS 
</p>
<p>The power levels encountered in high-efficiency switching converters range from (1) less than one watt, 
</p>
<p>in de-de converters within battery-operated portable equipment, to (2) tens, hundreds, or thousands of 
watts in power supplies for computers and office equipment, to (3) kilowatts to Megawatts, in variable-
</p>
<p>speed motor drives, to (4) roughly 1000 Megawatts in the rectifiers and inverters that interface de trans-
mission lines to the ac utility power system. The converter systems of several applications are illustrated 
in this section. 
</p>
<p>A power supply system for a laptop computer is illustrated in Fig. 1.14. A lithium battery pow-
</p>
<p>ers the system, and several de-de converters change the battery voltage into the voltages required by the 
</p>
<p>loads. A buck converter produces the low-voltage de required by the microprocessor. A boost converter 
increases the battery voltage to the level needed by the disk drive. An inverter produces high-voltage 
high-frequency acto drive lamps that light the display. A charger with transformer isolation converts the 
</p>
<p>ac line voltage into de to charge the battery. The converter switching frequencies are typically in the 
</p>
<p>vicinity of several hundred kilohertz; this leads to substantial reductions in the size and weight of the 
</p>
<p>reactive elements. Power management is used, to control sleep modes in which power consumption is 
</p>
<p>reduced and battery life is extended. In a distributed power system, an intermediate de voltage appears at 
</p>
<p>the computer backplane. Each printed circuit card contains high-density de-de converters that produce </p>
<p/>
</div>
<div class="page"><p/>
<p>8 Introduction 
</p>
<p>ac line input 
85-265 Vrms 
</p>
<p>Charger 
</p>
<p>PWM 
Rectifier 
</p>
<p>Fig. 1.14 A laptop computer power supply system. 
</p>
<p>Display 
backlighting 
</p>
<p>locally-regulated low voltages. Commercial applications of power electronics include off-line power sys-
</p>
<p>tems for computers, office and laboratory equipment, uninterruptable ac power supplies, and electronic 
</p>
<p>ballasts for gas discharge lighting. 
</p>
<p>Figure 1.15 illustrates a power system of an earth-orbiting spacecraft. A solar array produces 
</p>
<p>the main power bus voltage Vbus&middot; DC-DC converters convert Vbus to the regulated voltages required by 
</p>
<p>the spacecraft payloads. Battery charge/discharge controllers interface the main power bus to batteries; 
</p>
<p>these controllers may also contain de-de converters. Aerospace applications of power electronics include 
</p>
<p>the power systems of aircraft, spacecraft, and other aerospace vehicles. 
</p>
<p>Figure 1.16 illustrates an electric vehicle power and dr.ive system. Batteries are charged by a 
</p>
<p>converter that draws high power-factor sinusoidal current from a single-phase or three-phase ac line. The 
</p>
<p>batteries supply power to variable-speed ac motors to propel the vehicle. The speeds of the ac motors are 
</p>
<p>controlled by variation of the electrical input frequency. Inverters produce three-phase ac output voltages 
</p>
<p>of variable frequency and variable magnitude, to control the speed of the ac motors and the vehicle. A 
</p>
<p>de-de converter steps down the battery voltage to the lower de levels required by the electronics of the 
</p>
<p>system. Applications of motor drives include speed control of industrial processes, such as control of 
</p>
<p>compressors, fans, and pumps; transportation applications such as electric vehicles, subways, and loco-
</p>
<p>motives; and motion control applications in areas such as computer peripherals and industrial robots. 
</p>
<p>Power electronics also finds application in other diverse industries, including de power supplies, 
</p>
<p>Dissipative 
shunt regulator 
</p>
<p>I 
+ 
</p>
<p>Solar 
array vbus 
</p>
<p>-
</p>
<p>I I I I 
</p>
<p>Battery De-de De-de 
charge/discharge converter converter 
</p>
<p>controllers 
</p>
<p>Batteries ~.IJ ~.IJ I I 
Payload Payload 
</p>
<p>Fig. 1 .15 Power s stem of an earth-orbitin y s acecraft. g p </p>
<p/>
</div>
<div class="page"><p/>
<p>1.3 Elements of Power Electronics 9 
</p>
<p>CJ? 9 
ac machine ac machine 
</p>
<p>I I I 
</p>
<p>Inverter Inverter control bus 
</p>
<p>50/60Hz 
</p>
<p>- 1 
</p>
<p>battery 
)-IP +1 l ~ system controller Battery 
</p>
<p>DC-DC 
charger 
</p>
<p>: f 
converter 
</p>
<p>Vehicle 
~ 
</p>
<p>electronics 
</p>
<p>~ ~ 
Low-voltage 
</p>
<p>i de bus 
</p>
<p>3&cent;ac line 
</p>
<p>Inverter Inverter 
</p>
<p>Variable-frequency 
I I I I I Variable-voltage ac 
</p>
<p>ac machine ac machine 
</p>
<p>2S 2S 
Fig. 1.16 An electric vehicle power and drive system. 
</p>
<p>uninterruptable power supplies, and battery chargers for the telecommunications industry; inverter sys-
</p>
<p>tems for renewable energy generation applications such as wind and photovoltaic power; and utility 
</p>
<p>power systems applications including high-voltage de transmission and static VAR (reactive volt-ampere) 
</p>
<p>compensators. 
</p>
<p>1.3 ELEMENTS OF POWER ELECTRONICS 
</p>
<p>One of the things that makes the power electronics field interesting is its incorporation of concepts from 
</p>
<p>a diverse set of fields, including: 
</p>
<p>analog circuits 
</p>
<p>electronic devices 
</p>
<p>control systems 
</p>
<p>power systems 
</p>
<p>magnetics 
</p>
<p>electric machines 
</p>
<p>numerical simulation 
</p>
<p>Thus, the practice of power electronics requires a broad electrical engineering background. In addition, 
</p>
<p>there are fundamental concepts that are unique to the power electronics field, and that require specialized 
</p>
<p>study. 
</p>
<p>The presence of high-frequency switching makes the understanding of switched-mode convert-
</p>
<p>ers not straightforward. Hence, converter modeling is central to the study of power electronics. As intro-
</p>
<p>duced in Eq. (1.3), the de component of a periodic waveform is equal to its average value. This ideal can </p>
<p/>
</div>
<div class="page"><p/>
<p>10 Introduction 
</p>
<p>be generalized, to predict the de components of all converter waveforms via averaging. In Part I of this 
</p>
<p>book, averaged equivalent circuit models of converters operating in steady state are derived. These mod-&middot; 
</p>
<p>els not only predict the basic ideal behavior of switched-mode converters, but also model efficiency and! 
</p>
<p>losses. Realization of the switching elements, using power semiconductor devices, is also discussed. 
</p>
<p>Design of the converter control system requires models of the converter dynamics. In Part II of 
</p>
<p>this book, the averaging technique is extended, to describe low-frequency variations in the converter 
</p>
<p>waveforms. Small-signal equivalent circuit models are developed, which predict the control-to-output 
</p>
<p>and line-to-transfer functions, as well as other ac quantities of interest. These models are then employed 
</p>
<p>to design converter control systems and to lend an understanding of the well-known current-programmed 
</p>
<p>control technique. 
</p>
<p>The magnetic elements are key components of any switching converter. The design of high-
</p>
<p>power high-frequency magnetic devices having high efficiency and small size and weight is central to 
</p>
<p>most converter technologies. High-frequency power magnetics design is discussed in Part III. 
</p>
<p>Pollution of the ac power system by rectifier harmonics is a growing problem. As a result, many 
</p>
<p>converter systems now incorporate low-harmonic rectifiers, which draw sinusoidal currents from the util-
</p>
<p>ity system. These modem rectifiers are considerably more sophisticated than the conventional diode 
</p>
<p>bridge: they may contain high-frequency switched-mode converters, with control systems that regulate 
</p>
<p>the ac line current waveform. Modem rectifier technology is treated in Part IV. 
</p>
<p>Resonant converters employ quasi-sinusoidal waveforms, as opposed to the rectangular wave-
</p>
<p>forms of the buck converter illustrated in Fig. 1.9. These resonant converters find application where high-
</p>
<p>frequency inverters and converters are needed. Resonant converters are modeled in Part V. Their loss 
</p>
<p>mechanisms, including the processes of zero-voltage switching and zero-current switching, are dis-
</p>
<p>cussed. 
</p>
<p>REFERENCES 
</p>
<p>[1] W. E. NEWELL, "Power Electronics-Emerging from Limbo," IEEE Power Electronics Specialists Confer-
</p>
<p>ence, 1973 Record, pp. 6-12. 
</p>
<p>[2] R. D. MIDDLEBROOK, "Power Electronics: An Emerging Discipline," IEEE International Symposium on 
</p>
<p>Circuits and Systems, 1981 Proceedings, April1981. 
</p>
<p>[3] R. D. MIDDLEBROOK, "Power Electronics: Topologies, Modeling, and Measurement," IEEE International 
</p>
<p>Symposium on Circuits and Systems, 1981 Proceedings, Apri11981. 
</p>
<p>[4] S. CUK, "Basics of Switched-Mode Power Conversion: Topologies, Magnetics, and Control," in Advances 
</p>
<p>in Switched-Mode Power Conversion, vol. 2, pp. 279--310, Irvine: Teslaco, 1981. 
</p>
<p>[5] N. MOHAN, "Power Electronics Circuits: An Overview," IEEE IECON, 1988 Proceedings, pp. 522-527. 
</p>
<p>[6] B. K. BOSE, "Power Electronics-A Technology Review," Proceedings of the IEEE, vol. 80, no. 8, August 
</p>
<p>1992,pp. 1303-1334. 
</p>
<p>[7] M. NISHIHARA, "Power Electronics Diversity," International Power Electronics Conference (Tokyo), 1990 
</p>
<p>Proceedings, pp. 21-28. </p>
<p/>
</div>
<div class="page"><p/>
<p>Part I 
</p>
<p>Converters in Equilibrium </p>
<p/>
</div>
<div class="page"><p/>
<p>2 
Principles of Steady-State 
</p>
<p>Converter Analysis 
</p>
<p>2.1 INTRODUCTION 
</p>
<p>In the previous chapter, the buck converter was introduced as a means of reducing the de voltage, using 
</p>
<p>only nondissipative switches, inductors, and capacitors. The switch produces a rectangular waveform 
</p>
<p>v,(t) as illustrated in Fig. 2.1. The voltage v,(t) is equal to the de input voltage Vg when the switch is in 
</p>
<p>position 1, and is equal to zero when the switch is in position 2. In practice, the switch is realized using 
</p>
<p>(a) 
</p>
<p>(b) v,.(t) 
</p>
<p>0 
</p>
<p>Switch 
position: 
</p>
<p>+ 
</p>
<p>2 
v,(t) R v(t) 
</p>
<p>- DTS-- D'T,. --
0 
</p>
<p>DT,. 
</p>
<p>2 
</p>
<p>Fig. 2.1 Ideal switch, (a), used to reduce the voltage de component, and (b) its output voltage waveform v,(t). </p>
<p/>
</div>
<div class="page"><p/>
<p>14 Principles of Steady-State Converter Analysis 
</p>
<p>Fig. 2.2 Determination of the switch output voltage 
</p>
<p>de component, by integrating and dividing by the 
</p>
<p>switching period. 
</p>
<p>0 
</p>
<p>area = (v,) = DVg .... , .... ,, ............................................. .. 
DT,V8 
</p>
<p>0 
</p>
<p>DT_,. 
</p>
<p>power semiconductor devices, such as transistors and diodes, which are controlled to turn on and off as 
</p>
<p>required to perform the function of the ideal switch. The switching frequency J;, equal to the inverse of 
the switching period T,, generally lies in the range of 1 kHz to 1 MHz, depending on the switching speed 
</p>
<p>of the semiconductor devices. The duty ratio Dis the fraction of time that the switch spends in position 1, 
</p>
<p>and is a number between zero and one. The complement of the duty ratio, D', is defined as (l -D). 
</p>
<p>The switch reduces the de component of the voltage: the switch output voltage v,(t) has a de 
</p>
<p>component that is less than the converter de input voltage Vg. From Fourier analysis, we know that the de 
</p>
<p>component of v,(t) is given by its average value ( v), or 
</p>
<p>I ) 1 iT, \ v, = T . v,(t)dt 
s 0 
</p>
<p>(2.1) 
</p>
<p>As illustrated in Fig. 2.2, the integral is given by the area under the curve, or DT, Vg. The average value is 
</p>
<p>therefore 
</p>
<p>(2.2) 
</p>
<p>So the average value, or de component, of v,(t) is equal to the duty cycle times the de input voltage Vg. 
</p>
<p>The switch reduces the de voltage by a factor of D. 
</p>
<p>What remains is to insert a low-pass filter as shown in Fig. 2.3. The filter is designed to pass the 
</p>
<p>de component of v,(t), but to reject the components of v,(t) at the switching frequency and its harmonics. 
</p>
<p>The output voltage v(t) is then essentially equal to the de component of v,(t): 
</p>
<p>v~lv)=DV \ s g 
(2.3) 
</p>
<p>The converter of Fig. 2.3 has been realized using loss less elements. To the extent that they are ideal, the 
</p>
<p>inductor, capacitor, and switch do not dissipate power. For example, when the switch is closed, its volt-
</p>
<p>age drop is zero, and the current is zero when the switch is open. In either case, the power dissipated by 
</p>
<p>the switch is zero. Hence, efficiencies approaching 100% can be obtained. So to the extent that the com-
</p>
<p>ponents are ideal, we can realize our objective of changing de voltage levels using a loss less network. 
</p>
<p>L 
</p>
<p>+ + 
</p>
<p>2 
v,(t) c R v(t) 
</p>
<p>Fig. 2.3 Insertion of low-pass filter, to remove the switching harmonics and pass only the de component of v,(t) to 
</p>
<p>the output. </p>
<p/>
</div>
<div class="page"><p/>
<p>2.2 Inductor Volt-Second Balance, Capacitor Charge Balance, and the Small-Ripple Approximation 15 
</p>
<p>v 
</p>
<p>Fig. 2.4 Buck converter de output voltage V vs. duty cycle D. 
</p>
<p>D 
</p>
<p>The network of Fig. 2.3 also allows control of the output. Figure 2.4 is the control characteristic 
</p>
<p>of the converter. The output voltage, given by Eq. (2.3), is plotted vs. duty cycle. The buck converter has 
</p>
<p>a linear control characteristic. Also, the output voltage is less than or equal to the input voltage, since 
</p>
<p>0 :&lt;::: D :&lt;::: 1. Feedback systems are often constructed that adjust the duty cycle D to regulate the converter 
</p>
<p>output voltage. Inverters or power amplifiers can also be built, in which the duty cycle varies slowly with 
</p>
<p>time and the output voltage follows. 
</p>
<p>The buck converter is just one of many possible switching converters. Two other commonly 
</p>
<p>used converters, which perform different voltage conversion functions, are illustrated in Fig. 2.5. In the 
</p>
<p>boost converter, the positions of the inductor and switch are reversed. It is shown later in this chapter that 
</p>
<p>the boost converter steps the voltage up: V::O: Vg. Another converter, the buck-boost converter, can either 
</p>
<p>increase or decrease the magnitude of the voltage, but the polarity is inverted. So with a positive input 
</p>
<p>voltage, the ideal buck-boost converter can produce a negative output voltage of any magnitude. It may at 
</p>
<p>first be surprising that de output voltages can be produced that are greater in magnitude than the input, or 
</p>
<p>that have opposite polarity. But it is indeed possible to produce any desired de output voltage using a pas-
</p>
<p>sive network of only inductors, capacitors, and embedded switches. 
</p>
<p>In the above discussion, it was possible to derive an expression for the output voltage of the 
</p>
<p>buck converter, Eq. (2.3), using some simple arguments based on Fourier analysis. However, it may not 
</p>
<p>be immediately obvious how to directly apply these arguments to find the de output voltage of the boost, 
</p>
<p>buck-boost, or other converters. The objective of this chapter is the development of a more general 
</p>
<p>method for analyzing any switching converter comprised of a network of inductors, capacitors, and 
</p>
<p>switches [1-8]. 
</p>
<p>The principles of inductor volt-second balance and capacitor charge balance are derived; these 
can be used to solve for the inductor currents and capacitor voltages of switching converters. A useful 
</p>
<p>approximation, the small-ripple or linear-ripple approximation, greatly facilitates the analysis. Some 
</p>
<p>simple methods for selecting the filter element values are also discussed. 
</p>
<p>2.2 INDUCTOR VOLT-SECOND BALANCE, CAPACITOR CHARGE BALANCE, AND 
</p>
<p>THE SMALL-RIPPLE APPROXIMATION 
</p>
<p>Let us more closely examine the inductor and capacitor waveforms in the buck converter of Fig. 2.6. It is 
</p>
<p>impossible to build a perfect low-pass filter that allows the de component to pass but completely removes 
</p>
<p>the components at the switching frequency and its harmonics. So the low-pass filter must allow at least 
</p>
<p>some small amount of the high-frequency harmonics generated by the switch to reach the output. Hence, 
</p>
<p>in practice the output voltage waveform v(t) appears as illustrated in Fig. 2.7, and can be expressed as 
</p>
<p>v(t) = V + V,;pple(t) (2.4) 
</p>
<p>So the actual output voltage v(t) consists of the desired de component V, plus a small undesired ac com-</p>
<p/>
</div>
<div class="page"><p/>
<p>16 Principles of Steady-State Converter Analysis 
</p>
<p>(a) 
</p>
<p>',~cf ~ Rf 
+ 
</p>
<p>vg v 
</p>
<p>(b) 
L 2 
</p>
<p>(c) 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>0.8 
</p>
<p>Q 
0.6 
</p>
<p>~ 0.4 
</p>
<p>0.2 
</p>
<p>4 
</p>
<p>&sect;: 3 
~ 2 
</p>
<p>1 
M(D) = 1-D 
</p>
<p>D 
</p>
<p>o+----+---+---+---+-----&lt; 
</p>
<p>0 0.2 0.4 0.6 0.8 
</p>
<p>D 
</p>
<p>D 
</p>
<p>0 0.2 0.4 0.6 0.8 
0 
</p>
<p>-1 
</p>
<p>Q -2 
</p>
<p>~ -3 
</p>
<p>-4 M(D) = 1 --~ 
-5 
</p>
<p>Fig. 2.5 Three basic converters and their de conversion ratios M(D) = VIV8 : (a) buck, (b) boost, (c) buck-boost. 
</p>
<p>Fig. 2.6 Buck converter cir-
</p>
<p>cuit, with the inductor voltage 
</p>
<p>vL(t) and capacitor current ic(t) 
</p>
<p>waveforms specifically identi-
fied. vg 
</p>
<p>2 
</p>
<p>c 
</p>
<p>+ 
</p>
<p>R v(t) 
</p>
<p>ponent vrippte(t) arising from the incomplete attenuation of the switching harmonics by the low-pass filter. 
</p>
<p>The magnitude of v rippt/t) has been exaggerated in Fig. 2. 7. 
The output voltage switching ripple should be small in any well-designed converter, since the 
</p>
<p>object is to produce a de output. For example, in a computer power supply having a 3.3 V output, the 
</p>
<p>switching ripple is normally required to be less than a few tens of millivolts, or less than 1% of the de 
</p>
<p>component V. So it is nearly always a good approximation to assume that the magnitude of the switching </p>
<p/>
</div>
<div class="page"><p/>
<p>2.2 Inductor Volt-Second Balance, Capacitor Charge Balance, and the Small-Ripple Approximation 17 
</p>
<p>Fig. 2.7 Output voltage waveform v(t), 
</p>
<p>consisting of de component V and switching 
</p>
<p>ripple v ,ipple(t). 
</p>
<p>v(t) 
</p>
<p>v 
</p>
<p>0 
</p>
<p>ripple is much smaller than the de component: 
</p>
<p>II v ,ipple II &laquo; v (2.5) 
</p>
<p>Therefore, the output voltage v(t) is well approximated by its de component V, with the small ripple term 
</p>
<p>v rippl/t) neglected: 
</p>
<p>v(t)"' V (2.6) 
</p>
<p>This approximation, known as the small-ripple approximation, or the linear-ripple approximation, 
</p>
<p>greatly simplifies the analysis of the converter waveforms and is used throughout this book. 
</p>
<p>Next let us analyze the inductor current waveform. We can find the inductor current by integrat-
</p>
<p>ing the inductor voltage waveform. With the switch in position 1, the left side of the inductor is con-
</p>
<p>nected to the input voltage V8, and the circuit reduces to Fig. 2.8(a). The inductor voltage vL(t) is then 
</p>
<p>given by 
</p>
<p>(2.7) 
</p>
<p>As described above, the output voltage v(t) consists of the de component V, plus a small ac ripple term 
</p>
<p>vdppte(t). We can make the small ripple approximation here, Eq. (2.6), to replace v(t) with its de compo-
</p>
<p>nent V: 
</p>
<p>(2.8) 
</p>
<p>So with the switch in position 1, the inductor voltage is essentially constant and equal to Vg- V, as shown 
</p>
<p>in Fig. 2.9. By knowledge of the inductor voltage waveform, the inductor current can be found by use of 
</p>
<p>the definition 
</p>
<p>( ) - L diL(t) 
VL t - dt 
</p>
<p>(2.9) 
</p>
<p>(a) iL(t) L (b) L 
</p>
<p>+ + vL(t) - + 
ic(t) ic(t) 
</p>
<p>vg c R v(t) vg iL(t) c R v(t) 
</p>
<p>Fig. 2.8 Buck converter circuit: (a) while the switch is in position 1, (b) while the switch is in position 2. </p>
<p/>
</div>
<div class="page"><p/>
<p>18 Principles of Steady-State Converter Analysis 
</p>
<p>Fig. 2.9 Steady-state inductor voltage waveform, 
</p>
<p>buck converter. 
</p>
<p>Switch 
position: 
</p>
<p>Vg- V 
</p>
<p>- DTS -- +--D'Ts--+ 
t 
</p>
<p>-V 
</p>
<p>2 
</p>
<p>Thus, during the first interval, when vL(t) is approximately (Vg - V), the slope of the inductor current 
</p>
<p>waveform is 
</p>
<p>(2.10) 
</p>
<p>which follows by dividing Eq. (2.9) by L, and substituting Eq. (2.8). Since the inductor voltage vL(t) is 
</p>
<p>essentially constant while the switch is in position I, the inductor current slope is also essentially con-
</p>
<p>stant and the inductor current increases linearly. 
</p>
<p>Similar arguments apply during the second subinterval, when the switch is in position 2. The 
</p>
<p>left side of the inductor is then connected to ground, leading to the circuit of Fig. 2.8(b ). It is important to 
</p>
<p>consistently define the polarities of the inductor current and voltage; in particular, the polarity of vL(t) is 
</p>
<p>defined consistently in Figs. 2.7, 2.8(a), and 2.8(b). So the inductor voltage during the second subinterval 
</p>
<p>is given by 
</p>
<p>(2.11) 
</p>
<p>Use of the small ripple approximation, Eq. (2.6), leads to 
</p>
<p>(2.12) 
</p>
<p>So the inductor voltage is also essentially constant while the switch is in position 2, as illustrated in Fig. 
</p>
<p>2.9. Substitution of Eq. (2.I2) into Eq. (2.9) and solution for the slope of the inductor current yields 
</p>
<p>(2.13) 
</p>
<p>Hence, during the second subinterval the inductor current changes with a negative and essentially con-
</p>
<p>stant slope. 
</p>
<p>We can now sketch the inductor current waveform (Fig. 2.IO). The inductor current begins at 
</p>
<p>some initial value iL(O). During the first subinterval, with the switch in position I, the inductor current 
</p>
<p>increases with the slope given in Eq. (2.10). At timet= DTs, the switch changes to position 2. The cur-
</p>
<p>rent then decreases with the constant slope given by Eq. (2.13). At timet= Ts, the switch changes back to 
</p>
<p>Fig. 2.10 Steady-state inductor current waveform, 
</p>
<p>buck converter. 
</p>
<p>iL(DT d_ 
iL(J)t::~v;;o:g:r_-;=~,..-~---"T~;;;;.;;._:.,.~:.----------
</p>
<p>_L_ L 
</p>
<p>0 DTS 
</p>
<p>Jl1i .. l L </p>
<p/>
</div>
<div class="page"><p/>
<p>2.2 Inductor Volt-Second Balance, Capacitor Charge Balance, and the Small-Ripple Approximation 19 
</p>
<p>position 1, and the process repeats. 
</p>
<p>It is of interest to calculate the inductor current ripple !:J.ic As illustrated in Fig. 2.10, the peak 
inductor current is equal to the de component I plus the peak-to-average ripple !:J.iL. This peak current 
flows through not only the inductor, but also through the semiconductor devices that comprise the switch. 
</p>
<p>Knowledge of the peak current is necessary when specifying the ratings of these devices. 
</p>
<p>Since we know the slope of the inductor current during the first subinterval, and we also know 
</p>
<p>the length of the first subinterval, we can calculate the ripple magnitude. The iL(t) waveform is symmetri-
</p>
<p>cal about I, and hence during the first subinterval the current increases by 2!:J.iL (since !:J.iL is the peak rip-
ple, the peak-to-peak ripple is 2!:J.iL). So the change in current, 21:J.iL' is equal to the slope (the applied 
</p>
<p>inductor voltage divided by L) times the length of the first subinterval (DTJ 
</p>
<p>(change in iL) = (slope)(length of subinterval) 
</p>
<p>(v- v) (2L1iL) = ---7;-- (DT,) 
(2.14) 
</p>
<p>Solution for !:J.iL yields 
</p>
<p>(2.15) 
</p>
<p>Typical values of I:J.iL lie in the range of 10% to 20% of the full-load value of the de component I. It is 
undesirable to allow !:J.iL to become too large; doing so would increase the peak currents of the inductor 
</p>
<p>and of the semiconductor switching devices, and would increase their size and cost. So by design the 
</p>
<p>inductor.current ripple is also usually small compared to the de component I. The small-ripple approxi-
mation iL(t) "'I is usually justified for the inductor current. 
</p>
<p>The inductor value can be chosen such that a desired current ripple !:J.iL is attained. Solution of 
</p>
<p>Eq. (2.15) for the inductance L yields 
</p>
<p>v- v 
L=-8 -DT 
</p>
<p>2L1iL s 
</p>
<p>This equation is commonly used to select the value of inductance in the buck converter. 
</p>
<p>(2.16) 
</p>
<p>It is entirely possible to solve converters exactly, without use of the small-ripple approximation. 
For example, one could use the Laplace transform to write expressions for the waveforms of the circuits 
</p>
<p>of Figs. 2.8(a) and 2.8(b). One could then invert the transforms, match boundary conditions, and find the 
</p>
<p>periodic steady-state solution of the circuit. Having done so, one could then find the de components of 
</p>
<p>the waveforms and the peak values. But this is a great deal of work, and the results are nearly always 
</p>
<p>intractable. Besides, the extra work involved in writing equations that exactly describe the ripple is a 
</p>
<p>waste of time, since the ripple is small and is undesired. The small-ripple approximation is easy to apply, 
</p>
<p>and quickly yields simple expressions for the de components of the converter waveforms. 
</p>
<p>The inductor current waveform of Fig. 2.10 is drawn under steady-state conditions, with the 
</p>
<p>converter operating in equilibrium. Let's consider next what happens to the inductor current when the 
</p>
<p>converter is first turned on. Suppose that the inductor current and output voltage are initially zero, and an 
</p>
<p>input voltage V8 is then applied. As shown in Fig. 2.11, iL(O) is zero. During the first subinterval, with the 
</p>
<p>switch in position 1, we know that the inductor current will increase, with a slope of (Vg- v)/L and with 
v initially zero. Next, with the switch .in position 2, the inductor current will change with a slope of- v/L; 
since vis initially zero, this slope is essentially zero. It can be seen that there is a net increase in inductor 
current over the first switching period, because iL(T,) is greater than iL(O). Since the inductor current </p>
<p/>
</div>
<div class="page"><p/>
<p>20 Principles of Steady-State Converter Analysis 
</p>
<p>i/T,) ..... 
</p>
<p>iL(O) = 0 fiL--+--+----+--------------+---1----
0 DT, T, 2T, nT, (n + 1)T, t 
</p>
<p>Fig. 2.11 Inductor current waveform during converter turn-on transient. 
</p>
<p>flows to the output, the output capacitor will charge slightly, and v will increase slightly. The process 
</p>
<p>repeats during the second and succeeding switching periods, with the inductor current increasing during 
</p>
<p>each subinterval 1 and decreasing during each subinterval 2. 
</p>
<p>As the output capacitor continues to charge and v increases, the slope during subinterval 1 
</p>
<p>decreases while the slope during subinterval 2 becomes more negative. Eventually, the point is reached 
</p>
<p>where the increase in inductor current during subinterval I is equal to the decrease in inductor current 
</p>
<p>during subinterval 2. There is then no net change in inductor current over a complete switching period, 
</p>
<p>and the converter operates in steady state. The converter waveforms are periodic: iL(nT) = iL((n + l)TJ 
From this point on, the inductor current waveform appears as in Fig. 2.10. 
</p>
<p>The requirement that, in equilibrium, the net change in inductor current over one switching 
</p>
<p>period be zero leads us to a way to find steady-state conditions in any switching converter: the principle 
</p>
<p>of inductor volt-second balance. Given the defining relation of an inductor: 
</p>
<p>( ) -LdiL(t) 
VL t - dt 
</p>
<p>(2.17) 
</p>
<p>Integration over one complete switching period, say from t = 0 to T,, yields 
</p>
<p>(2.18) 
</p>
<p>This equation states that the net change in inductor current over one switching period, given by the left-
</p>
<p>hand side ofEq. (2.18), is proportional to the integral of the applied inductor voltage over the interval. In 
</p>
<p>steady state, the initial and final values of the inductor current are equal, and hence the left -hand side of 
</p>
<p>Eq. (2.18) is zero. Therefore, in steady state the integral of the applied inductor voltage must be zero: 
</p>
<p>(2.19) 
</p>
<p>The right-hand side of Eq. (2.19) has the units of volt-seconds or flux-linkages. Equation (2.19) states 
</p>
<p>that the total area, or net volt-seconds, under the vL(t) waveform must be zero. 
</p>
<p>An equivalent form is obtained by dividing both sides of Eq. (2.19) by the switching period T,: 
</p>
<p>(2.20) 
</p>
<p>The right-hand side of Eq. (2.20) is recognized as the average value, or de component, of vL(t). Equation </p>
<p/>
</div>
<div class="page"><p/>
<p>22 Inductor Volt-Second Balance, Capacitor Charge Balance, and the Small-Ripple Approximation 21 
</p>
<p>Fig. 2.12 The principle of inductor volt-second 
</p>
<p>balance: in steady state, the net volt-seconds applied 
</p>
<p>to an inductor (i.e., the total area A) must be zero. 
</p>
<p>v- v 
g 
</p>
<p>-DT-
&middot;' 
</p>
<p>Total area A. 
</p>
<p>~ 
I 
</p>
<p>-V 
</p>
<p>(2.20) states that, in equilibrium, the applied inductor voltage must have zero de component. 
</p>
<p>I 
</p>
<p>The inductor voltage waveform of Fig. 2.9 is reproduced in Fig. 2.12, with the area under the 
</p>
<p>vL(t) curve specifically identified. The total area A is given by the areas of the two rectangles, or 
</p>
<p>(2.21) 
</p>
<p>The average value is therefore 
</p>
<p>(2.22) 
</p>
<p>By equating (vL) to zero, and noting that D + D' = l, one obtains 
</p>
<p>(2.23) 
</p>
<p>Solution for Vyields 
</p>
<p>(2.24) 
</p>
<p>which coincides with the result obtained previously, Eq. (2.3). So the principle of inductor volt-second 
</p>
<p>balance allows us to derive an expression for the de component of the converter output voltage. An 
</p>
<p>advantage of this approach is its generality-it can be applied to any converter. One simply sketches the 
</p>
<p>applied inductor voltage waveform, and equates the average value to zero. This method is used later in 
</p>
<p>.this chapter, to solve several more complicated converters. 
</p>
<p>Similar arguments can be applied to capacitors. The defining equation of a capacitor is 
</p>
<p>. ( ) _ C dvc(t) 
tc t - dt 
</p>
<p>(2.25) 
</p>
<p>Integration of this equation over one switching period yields 
</p>
<p>(2.26) 
</p>
<p>In steady state, the net change over one switching period of the capacitor voltage must be zero, so that 
</p>
<p>the left-hand side of Eq. (2.26) is equal to zero. Therefore, in equilibrium the integral of the capacitor 
</p>
<p>current over one switching period (having the dimensions of amp-seconds, or charge) should be zero. 
</p>
<p>There is no net change in capacitor charge in steady state. An equivalent statement is </p>
<p/>
</div>
<div class="page"><p/>
<p>22 Principles of Steady-State Converter Analysis 
</p>
<p>1 LT, . (. ) 0 = -T lc(t)dt = lc 
s 0 
</p>
<p>(2.27) 
</p>
<p>The average value, or de component, of the capacitor current must be zero in equilibrium. 
</p>
<p>This should be an intuitive result. If a de current is applied to a capacitor, then the capacitor will 
</p>
<p>charge continually and its voltage will increase without bound. Likewise, if a de voltage is applied to an 
</p>
<p>inductor, then the flux will increase continually and the inductor current will increase without bound. 
</p>
<p>Equation (2.27), called the principle of capacitor amp-second balance or capacitor charge balance, can 
</p>
<p>be used to find the steady-state currents in a switching converter. 
</p>
<p>2.3 BOOST CONVERTER EXAMPLE 
</p>
<p>The boost converter, Fig. 2.13(a), is another well-known switched-mode converter that is capable of pro-
</p>
<p>ducing a de output voltage greater in magnitude than the de input voltage. A practical realization of the 
</p>
<p>switch, using a MOSFET and diode, is shown in Fig. 2.13(b). Let us apply the small-ripple approxima-
</p>
<p>tion and the principles of inductor volt-second balance and capacitor charge balance to find the steady-
</p>
<p>state output voltage and inductor current for this converter. 
</p>
<p>With the switch in position 1, the right-hand side of the inductor is connected to ground, result-
</p>
<p>ing in the network of Fig. 2.14(a). The inductor voltage and capacitor current for this subinterval are 
</p>
<p>given by 
</p>
<p>(2.28) 
</p>
<p>Use of the linear ripple approximation, v"' V, leads to 
</p>
<p>(a) L 2 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 2.13 Boost converter: (a) with ideal switch, (b) practical realization using MOSFET and diode. </p>
<p/>
</div>
<div class="page"><p/>
<p>2.3 Boost Converter Example 23 
</p>
<p>(a) L 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>(b) L 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 2.14 Boost converter circuit, (a) while the switch is in position l, (b) while the switch is in position 2. 
</p>
<p>(2.29) 
</p>
<p>With the switch in position 2, the inductor is connected to the output, leading to the circuit of Fig. 
</p>
<p>2.14(b). The inductor voltage and capacitor current are then 
</p>
<p>VL=Vg-V 
. . v 
lc=zL-R 
</p>
<p>Use of the small-ripple approximation, v"' V and iL"' I, leads to 
</p>
<p>(2.30) 
</p>
<p>(2.31) 
</p>
<p>Equations (2.29) and (2.31) are used to sketch the inductor voltage and capacitor current waveforms of 
</p>
<p>Fig. 2.15. 
</p>
<p>Fig. 2.15 Boost converter voltage 
</p>
<p>and current waveforms. 
</p>
<p>(b) 
</p>
<p>vg 
</p>
<p>- DT, - - D'T,.-
t 
</p>
<p>ic(t) 1 I- VIR 
~ DT -~- D't, -t-_ 
</p>
<p>-VIR </p>
<p/>
</div>
<div class="page"><p/>
<p>24 Principles of Steady-State Converter Analysis 
</p>
<p>Fig. 2.16 De conversion ratio M(D) of 
</p>
<p>the boost converter. 
</p>
<p>5 
</p>
<p>4 
</p>
<p>3 
</p>
<p>2 
</p>
<p>M(D)= b&middot; = 1 ~D 
</p>
<p>0 ~----+-----,_-----r----~----~ 
0 0.2 0.4 0.6 0.8 
</p>
<p>D 
</p>
<p>It can be inferred from the inductor voltage waveform of Fig. 2.15(a) that the de output voltage 
</p>
<p>Vis greater than the input voltage V8. During the first subinterval, vL(t) is equal to the de input voltage V8, 
</p>
<p>and positive volt-seconds are applied to the inductor. Since, in steady-state, the total volt-seconds applied 
</p>
<p>over one switching period must be zero, negative volt-seconds must be applied during the second sub-
</p>
<p>interval. Therefore, the inductor voltage during the second subinterval, (V8 - V), must be negative. 
</p>
<p>Hence, Vis greater than V8 &bull; 
</p>
<p>The total volt-seconds applied to the inductor over one switching period are: 
</p>
<p>By equating this expression to zero and collecting terms, one obtains 
</p>
<p>Vg(D + D')- VD' = 0 
</p>
<p>Solution for V, and by noting that (D + D') = 1, yields the expression for the output voltage, 
</p>
<p>vg 
V=-
</p>
<p>D' 
</p>
<p>(2.32) 
</p>
<p>(2.33) 
</p>
<p>(2.34) 
</p>
<p>The voltage conversion ratio M(D) is the ratio of the output to the input voltage of a de-de converter. 
</p>
<p>Equation (2.34) predicts that the voltage conversion ratio is given by 
</p>
<p>M(D) = .1'_ = ...L = --1-
V8 D' 1-D 
</p>
<p>(2.35) 
</p>
<p>This equation is plotted in Fig. 2.16. At D = 0, V = V8 &bull; The output voltage increases as D increases, and in 
the ideal case tends to infinity as D tends to 1. So the ideal boost converter is capable of producing any 
</p>
<p>output voltage greater than the input voltage. There are, of course, limits to the output voltage that can be 
</p>
<p>produced by a practical boost converter. In the next chapter, component nonidealities are modeled, and it 
</p>
<p>is found that the maximum output voltage of a practical boost converter is indeed limited. Nonetheless, 
</p>
<p>very large output voltages can be produced if the nonidealities are sufficiently small. 
</p>
<p>The de component of the inductor current is derived by use of the principle of capacitor charge 
</p>
<p>balance. During the first subinterval, the capacitor supplies the load current, and the capacitor is partially 
</p>
<p>discharged. During the second subinterval, the inductor current supplies the load and, additionally, 
</p>
<p>recharges the capacitor. The net change in capacitor charge over one switching period is found by inte-
</p>
<p>grating the ic(t) waveform of Fig. 2.15(b ), </p>
<p/>
</div>
<div class="page"><p/>
<p>2.3 Boost Converter Example 25 
</p>
<p>Fig. 2.17 Variation of inductor current de 
</p>
<p>I 
VjR 
</p>
<p>8 
</p>
<p>component I with duty cycle, boost converter. 6 
</p>
<p>4 
</p>
<p>2 
</p>
<p>0.2 
</p>
<p>rs . ( V) ( V) , Jo zc(t)dt= -R DT,+ I -R DTs 
</p>
<p>0.4 
</p>
<p>D 
</p>
<p>Collecting terms, and equating the result to zero, leads the steady-state result 
</p>
<p>0.6 0.8 
</p>
<p>By noting that (D + D') = 1, and by solving for the inductor current de component I, one obtains 
</p>
<p>I - v 
- D'R 
</p>
<p>(2.36) 
</p>
<p>(2.37) 
</p>
<p>(2.38) 
</p>
<p>So the inductor current de component I is equal to the load current, VIR, divided by D'. Substitution of 
</p>
<p>Eq. (2.34) to eliminate Vyields 
</p>
<p>(2.39) 
</p>
<p>This equation is plotted in Fig. 2.17. It can be seen that the inductor current becomes large as D 
approaches 1. 
</p>
<p>This inductor current, which coincides with the de input current in the boost converter, is greater 
</p>
<p>than the load current. Physically, this must be the case: to the extent that the converter elements are ideal, 
</p>
<p>the converter input and output powers are equal. Since the converter output voltage is greater than the 
</p>
<p>input voltage, the input current must likewise be greater than the output current. In practice, the inductor 
</p>
<p>current flows through the semiconductor forward voltage drops, the inductor winding resistance, and 
</p>
<p>other sources of power loss. As the duty cycle approaches one, the inductor current becomes very large 
</p>
<p>and these component nonidealities lead to large power losses. In consequence, the efficiency of the boost 
</p>
<p>converter decreases rapidly at high duty cycle. 
</p>
<p>Next, let us sketch the inductor current iL(t) waveform and derive an expression for the inductor 
</p>
<p>current ripple !'iiL. The inductor voltage waveform vL(t) has been already found (Fig. 2.15), so we can 
</p>
<p>sketch the inductor current waveform directly. During the first subinterval, with the switch in position 1, 
</p>
<p>the slope of the inductor current is given by 
</p>
<p>(2.40) 
</p>
<p>Likewise, when the switch is in position 2, the slope of the inductor current waveform is </p>
<p/>
</div>
<div class="page"><p/>
<p>26 Principles of Steady-State Converter Analysis 
</p>
<p>Fig. 2.18 Boost converter inductor current 
</p>
<p>waveform iL(t). I 
</p>
<p>0 DT, 
</p>
<p>(2.41) 
</p>
<p>The inductor current waveform is sketched in Fig. 2.18. During the first subinterval, the change in induc-
</p>
<p>tor current, 211iu is equal to the slope multiplied by the length of the subinterval, or 
</p>
<p>(2.42) 
</p>
<p>Solution for 11iL leads to 
</p>
<p>(2.43) 
</p>
<p>This expression can be used to select the inductor value L such that a given value of 11iL is obtained. 
</p>
<p>Likewise, the capacitor voltage v(t) waveform can be sketched, and an expression derived for 
</p>
<p>the output voltage ripple peak magnitude 11v. The capacitor current waveform ic(t) is given in Fig. 2.15. 
</p>
<p>During the first subinterval, the slope of the capacitor voltage waveform v(t) is 
</p>
<p>(2.44) 
</p>
<p>During the second subinterval, the slope is 
</p>
<p>(2.45) 
</p>
<p>The capacitor voltage waveform is sketched in Fig. 2.19. During the first subinterval, the change in 
</p>
<p>capacitor voltage, - 211v, is equal to the slope multiplied by the length of the subinterval: 
</p>
<p>- 2Llv = R~ DT, 
</p>
<p>Solution for 11v yields 
</p>
<p>Fig. 2.19 Boost converter output voltage 
</p>
<p>waveform v(t). 
</p>
<p>v(t) 
</p>
<p>v 
</p>
<p>(2.46) 
</p>
<p>11v 
</p>
<p>0 DT, T, </p>
<p/>
</div>
<div class="page"><p/>
<p>2.4 Cuk Converter Example 27 
</p>
<p>L1v = 2Xc DTs (2.47) 
</p>
<p>This expression can be used to select the capacitor value C to obtain a given output voltage ripple peak 
</p>
<p>magnitude ~v. 
</p>
<p>2.4 CUK CONVERTER EXAMPLE 
</p>
<p>As a second example, consider the Cuk converter of Fig. 2.20(a). This converter performs a de conver-
</p>
<p>sion function similar to the buck-boost converter: it can either increase or decrease the magnitude of the 
</p>
<p>de voltage, and it inverts the polarity. A practical realization using a transistor and diode is illustrated in 
Fig. 2.20(b). 
</p>
<p>This converter operates via capacitive energy transfer. As illustrated in Fig. 2.21, capacitor C1 is 
connected through L1 to the input source while the switch is in position 2, and source energy is stored in 
</p>
<p>C1&bull; When the switch is in position 1, this energy is released through~ to the load. 
The inductor currents and capacitor voltages are defined, with polarities assigned somewhat 
</p>
<p>arbitrarily, in Fig. 2.20(a). In this section, the principles of inductor volt-second balance and capacitor 
</p>
<p>charge balance are applied to find the de components of the inductor currents and capacitor voltages. The 
</p>
<p>voltage and current ripple magnitudes are also found. 
</p>
<p>During the first subinterval, while the switch is in position 1, the converter circuit reduces to 
</p>
<p>Fig. 2.21(a). The inductor voltages and capacitor currents are: 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Vu = V8 
</p>
<p>vu=-vi-Vz 
</p>
<p>ic1 = iz 
&bull; &bull; Vz 
1c2 = lz-7[ 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>Fig. 2.20 Cuk converter: (a) with ideal switch, (b) practical realization using MOSFET and diode. 
</p>
<p>(2.48) </p>
<p/>
</div>
<div class="page"><p/>
<p>28 Principles of Steady-State Converter Analysis 
</p>
<p>(a) Ll Lz i2 
</p>
<p>+ 
iC2 
</p>
<p>vg vl c2 v2 R 
</p>
<p>+ 
</p>
<p>(b) Ll L2 i2 
</p>
<p>+ VL2 - + 
+ iC2 
</p>
<p>vg vl c2 vz R 
</p>
<p>Fig. 2.21 Cuk converter circuit: (a) while switch is in position 1. (b) while switch is in position 2. 
</p>
<p>We next assume that the switching ripple magnitudes in i1(t), i2(t), v1(t), and vz(t) are small compared to 
</p>
<p>their respective de components /p /2, Vp and V2. We can therefore make the small-ripple approximation, 
</p>
<p>and Eq. (2.48) becomes 
</p>
<p>vLl = V8 
Vn =-VI- Vz 
</p>
<p>ict = Iz 
</p>
<p>. I Vz 
1cz= z-7[ 
</p>
<p>(2.49) 
</p>
<p>During the second subinterval, with the switch in position 2, the converter circuit elements are connected 
</p>
<p>as in Fig. 2.2l(b). The inductor voltages and capacitor currents are: 
</p>
<p>vLl=Vg-v1 
</p>
<p>Vn =- Vz 
</p>
<p>ict = i1 
.&middot; . Vz 
lcz = lz -R 
</p>
<p>We again make the small-ripple approximation, and hence Eq. (2.50) becomes 
</p>
<p>VLl = Vg- VI 
vL2 =- V2 
</p>
<p>iC! =I 1 
</p>
<p>. I Vz 
1cz= z-7[ 
</p>
<p>(2.50) 
</p>
<p>(2.51) 
</p>
<p>Equations (2.49) and (2.51) are used to sketch the inductor voltage and capacitor current waveforms in 
</p>
<p>Fig. 2.22. 
</p>
<p>The next step is to equate the de components, or average values, of the waveforms of Fig. 2.22 </p>
<p/>
</div>
<div class="page"><p/>
<p>2.4 Cuk Converter Example 29 
</p>
<p>(a) 
</p>
<p>vg 
</p>
<p>- DTS- -- D'T.-
</p>
<p>(b) 
</p>
<p>Fig. 2.22 Cuk converter waveforms: 
</p>
<p>(a) inductor voltage vL1(t), (b) inductor 
</p>
<p>voltage vL2(t), (c) capacitor current ic1(t), 
</p>
<p>(d) capacitor current icz(t). 
</p>
<p>- DT_, - -- D'Ts-
</p>
<p>(c) 
</p>
<p>- DT_, --- D'Ts-
(d) 
</p>
<p>/ 2 - V2 /R (= 0) 
</p>
<p>to zero, to find the steady-state conditions in the converter. The results are: 
</p>
<p>(vu) =DVg + D'(Vg- V1) = 0 
</p>
<p>(vu) = D(- Y1- v2) + D'(- V2) = o 
(ic1) = Dl2 + D'/ 1 = 0 
</p>
<p>(iC2)=12- ~ =0 
</p>
<p>t 
</p>
<p>t 
</p>
<p>-
</p>
<p>t 
</p>
<p>-
</p>
<p>(2.52) 
</p>
<p>Solution of this system of equations for the de components of the capacitor voltages and inductor cur-
rents leads to 
</p>
<p>(2.53) 
</p>
<p>The dependence of the de output voltage V2 on the duty cycleD is sketched in Fig. 2.23. 
</p>
<p>The inductor current waveforms are sketched in Fig. 2.24(a) and 2.24(b); and the capacitor C1 </p>
<p/>
</div>
<div class="page"><p/>
<p>30 Principles of Steady-State Converter Analysis 
</p>
<p>D 
</p>
<p>0 0.2 0.4 0.6 0.8 
0 
</p>
<p>Fig. 2.23 De conversion ratio -1 
</p>
<p>M(D) =- V/Vg of the Cuk converter. 
</p>
<p>~ 
-2 
</p>
<p>-3 
</p>
<p>-4 
</p>
<p>M(D)= Vz =-_Q_ 
vg 1-D 
</p>
<p>-5 
</p>
<p>voltage waveform v1(t) is sketched in Fig. 2.24(c). During the first subinterval, the slopes of the wave-
forms are given by 
</p>
<p>di1(t) Vu(t) V8 
Clt=--c;-=r; 
diz(t) vL2(t) - V1 - V2 Cit= -y:;- = __ L_
</p>
<p>2
_ 
</p>
<p>dv1(t) iCI(t) 12 
dt=~=c; 
</p>
<p>(2.54) 
</p>
<p>Equation (2.49) has been used here to substitute for the values of vw vL2, and ic1 during the first subinter-
</p>
<p>val. During the second interval, the slopes of the waveforms are given by 
</p>
<p>Fig. 2.24 Cuk converter waveforms: 
</p>
<p>(a) inductor current i1(t), (b) inductor 
</p>
<p>current i2(t), (c) capacitor voltage v1(t). 
</p>
<p>(b) 
</p>
<p>(c) 
v 1 (t)~ v,urrr 
</p>
<p>DT, T, </p>
<p/>
</div>
<div class="page"><p/>
<p>2.5 Estimating the Output Voltage Ripple in Converters Containing Two-Pole Low-Pass Filters 31 
</p>
<p>Equation (2.51) was used to substitute for the values of vw vL2, and ic1 during the second subinterval. 
During the first subinterval, the quantities i1(t), i2(t), and v1(t) change by 2.:1il' - 2.:1i2, and 
</p>
<p>- 2.:1vl' respectively. These changes are equal to the slopes given in Eq. (2.54), multiplied by the sub-
interval length DT5 , yielding 
</p>
<p>(2.56) 
</p>
<p>The de relationships, Eq. (2.53), can now be used to simplify these expressions and eliminate VI' V2, and 
II' leading to 
</p>
<p>(2.57) 
</p>
<p>These expressions can be used to select values of Lp L2, and Cl' such that desired values of switching 
ripple magnitudes are obtained. 
</p>
<p>Similar arguments cannot be used to estimate the switching ripple magnitude in the output 
capacitor voltage v2(t). According to Fig. 2.22(d), the current icz(t) is continuous: unlike vw vL2, and iw 
the capacitor current icz(t) is nonpulsating. If the switching ripple of i2(t) is neglected, then the capacitor 
current icz(t) does not contain an ac component. The small-ripple approximation then leads to the conclu-
sion that the output switching ripple .:1v2 is zero. 
</p>
<p>Of course, the output voltage switching ripple is not zero. To estimate the magnitude of the out-
put voltage ripple in this converter, we must not neglect the switching ripple present in the inductor cur-
rent i2(t), since this current iipple is the only source of ac current driving the output capacitor C2. A 
simple way of doing this in the Cuk converter and in other similar converters is discussed in the next sec-
</p>
<p>tion. 
</p>
<p>2.5 ESTIMATING THE OUTPUT VOLTAGE RIPPLE IN CONVERTERS CONTAINING 
</p>
<p>TWO-POLE LOW-PASS FILTERS 
</p>
<p>A case where the small ripple approximation is not useful is in converters containing two-pole low-pass 
</p>
<p>filters, such as in the output of the Cuk converter (Fig. 2.20) or the buck converter (Fig. 2.25). For these </p>
<p/>
</div>
<div class="page"><p/>
<p>32 Principles of Steady-State Converter Analysis 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>2 
</p>
<p>Fig. 2.25 The buck converter contains a two-pole output filter. 
</p>
<p>converters, the small-ripple approximation predicts zero output voltage ripple, regardless of the value of 
</p>
<p>the output filter capacitance. The problem is that the only component of output capacitor current in these 
</p>
<p>cases is that arising from the inductor current ripple. Hence, inductor current ripple cannot be neglected 
</p>
<p>when calculating the output capacitor voltage ripple, and a more accurate approximation is needed. 
</p>
<p>An improved approach that is useful for this case is to estimate the capacitor current waveform 
</p>
<p>ic(t) more accurately, accounting for the inductor current ripple. The capacitor voltage ripple can then be 
</p>
<p>related to the total charge contained in the positive portion of the ic(t) waveform. 
</p>
<p>Consider the buck converter of Fig. 2.25. The inductor current waveform iL(t) contains a de 
</p>
<p>component I and linear ripple of peak magnitude lliv as shown in Fig. 2.10. The de component I must 
</p>
<p>flow entirely through the load resistance R (why?), while the ac switching ripple divides between the 
</p>
<p>load resistance R and the filter capacitor C. In a well-designed converter, in which the capacitor provides 
</p>
<p>significant filtering of the switching ripple, the capacitance C is chosen large enough that its impedance 
</p>
<p>at the switching frequency is much smaller than the load impedance R. Hence nearly all of the inductor 
</p>
<p>current ripple flows through the capacitor, and very little flows through the load. As shown in Fig. 2.26, 
</p>
<p>the capacitor current waveform ic(t) is then equal to the inductor current waveform with the de compo-
</p>
<p>nent removed. The current ripple is linear, with peak value !liL' 
</p>
<p>When the capacitor current ic(t) is positive, charge is deposited on the capacitor plates and the 
</p>
<p>capacitor voltage vc(t) increases. Therefore, between the two zero-crossings of the capacitor current 
</p>
<p>waveform, the capacitor voltage changes between its minimum and maximum extrema. The waveform is 
</p>
<p>symmetrical, and the total change in vc is the peak-to-peak output voltage ripple, or 2/lv. 
</p>
<p>This change in capacitor voltage can be related to the total charge q contained in the positive 
</p>
<p>Fig. 2.26 Output capacitor voltage 
</p>
<p>and current waveforms, for the buck 
</p>
<p>converter in Fig. 2.25. 
</p>
<p>icf..t) 
</p>
<p>Total charge 
q 
</p>
<p>vcf..r) 
</p>
<p>v ................. ~ ........ :::::::::::::::: ... :::: J. &middot; ~~ ...................................... .J tlv </p>
<p/>
</div>
<div class="page"><p/>
<p>2.5 Estimating the Output Voltage Ripple in Converters Containing Two-Pole Low-Pass Filters 33 
</p>
<p>Fig. 2.27 Estimating inductor current 
</p>
<p>ripple when the inductor voltage wave-
</p>
<p>form is continuous. 
</p>
<p>iL(t) 
</p>
<p>Total 
jlu.x linkage 
</p>
<p>f... 
</p>
<p>---&middot;-&middot;'&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; __ &middot;:::::r&middot;iii"""""""""""""""""" :::::::::.::: .. ::::&middot;&middot;::JI:li 
</p>
<p>portion of the capacitor current waveform. By the capacitor relation Q = CV, 
</p>
<p>q = c(2t.v) (2.58) 
</p>
<p>As illustrated in Fig. 2.26, the charge q is the integral of the current waveform between its zero crossings. 
For this example, the integral can be expressed as the area of the shaded triangle, having a height l'!.iL. 
Owing to the symmetry of the current waveform, the zero crossings occur at the centerpoints of the DTs 
and D'Ts subintervals. Hence, the base dimension of the triangle is TJ2. So the total charge q is given by 
</p>
<p>(2.59) 
</p>
<p>Substitution of Eq. (2.58) into Eq. (2.59), and solution for the voltage ripple peak magnitude l'lv yields 
</p>
<p>(2.60) 
</p>
<p>This expression can be used to select a value for the capacitance C such that a given voltage ripple l'lv is 
obtained. In practice, the additional voltage ripple caused by the capacitor equivalent series resistance 
(esr) must also be included. 
</p>
<p>Similar arguments can be applied to inductors. An example is considered in Problem 2.9, in 
</p>
<p>which a two-pole input filter is added to a buck converter as in Fig. 2.32. The capacitor voltage ripple 
</p>
<p>cannot be neglected; doing so would lead to the conclusion that no ac voltage is applied across the input 
</p>
<p>filter inductor, resulting in zero input current ripple. The actual inductor voltage waveform is identical to 
</p>
<p>the ac portion of the input filter capacitor voltage, with linear ripple and with peak value l'lv as illustrated 
</p>
<p>in Fig. 2.27. By use of the inductor relation A.= Li, a result similar to Eq. (2.60) can be derived. The de~c 
ivation is left as a problem for the student. </p>
<p/>
</div>
<div class="page"><p/>
<p>34 Principles of Steady-State Converter Analysis 
</p>
<p>2.6 
</p>
<p>1. 
</p>
<p>2. 
</p>
<p>3. 
</p>
<p>4. 
</p>
<p>5. 
</p>
<p>6. 
</p>
<p>SUMMARY OF KEY POINTS 
</p>
<p>The de component of a converter waveform is given by its average value, or the integral over one switch-
</p>
<p>ing period, divided by the switching period. Solution of a de-de converter to find its de, or steady-state, 
</p>
<p>voltages and currents therefore involves averaging the waveforms. 
</p>
<p>The linear- (or small-) ripple approximation greatly simplifies the analysis. In a well-designed converter, 
</p>
<p>the switching ripples in the inductor currents and capacitor voltages are small compared to the respective 
</p>
<p>de components, and can be neglected. 
</p>
<p>The principle of inductor volt-second balance allows determination of the de voltage components in any 
</p>
<p>switching converter. In steady state, the average voltage applied to an inductor must be zero. 
</p>
<p>The principle of capacitor charge balance allows determination of the de components of the inductor cur-
</p>
<p>rents in a switching converter. In steady state, the average current applied to a capacitor must be zero. 
</p>
<p>By knowledge of the slopes of the inductor current and capacitor voltage waveforms, the ac switching rip-
</p>
<p>ple magnitudes may be computed. Inductance and capacitance values can then be chosen to obtain desired 
</p>
<p>ripple magnitudes. 
</p>
<p>In converters containing multiple-pole filters, continuous (nonpulsating) voltages and currents are applied 
</p>
<p>to one or more of the inductors or capacitors. Computation of the ac switching ripple in these elements can 
</p>
<p>be done using capacitor charge and/or inductor flux-linkage arguments, without use of the small-ripple 
</p>
<p>approximation. 
</p>
<p>7. Converters capable of increasing (boost), decreasing (buck), and inverting the voltage polarity (buck-boost 
</p>
<p>and Cuk) have been described. Converter circuits are explored more fully in the problems and in a later 
</p>
<p>chapter. 
</p>
<p>REFERENCES 
</p>
<p>[1] 
</p>
<p>[2] 
</p>
<p>[3] 
</p>
<p>[4] 
</p>
<p>[5] 
</p>
<p>[6] 
</p>
<p>[7] 
</p>
<p>[8] 
</p>
<p>S. CUK, "Basics of Switched-Mode Power Conversion: Topologies, Magnetics, and Control," in Advances 
</p>
<p>in Switched-Mode Power Conversion, Vol. 2, pp. 279-310, Irvine, CA: Teslaco, 1981. 
</p>
<p>N. MOHAN, T. UNDELAND, and W. ROBBINS, Power Electronics: Converters, Applications,. and Design, 
</p>
<p>2nd edit., New York: John Wiley &amp; Sons, 1995. 
</p>
<p>J. KASSAKIAN, M. SCHLECHT, and G. VERGESE, Principles of Power Electronics, Reading, MA: Addison-
</p>
<p>Wesley, 1991. 
</p>
<p>R. SEVERNS and G. E. BLOOM, Modern De-to-de Switch Mode Power Converter Circuits, New York: Van 
</p>
<p>Nostrand Reinhold, 1985. 
</p>
<p>D. HART, Introduction to Power Electronics, New York: Prentice Hall, 1997. 
</p>
<p>M. RASHID, Power Electronics: Circuits, Devices, and Applications, 2nd edit., New York: Prentice Hall, 
</p>
<p>1993. 
</p>
<p>P. KREIN, Elements of Power Electronics, New York: Oxford University Press, 1998. 
</p>
<p>K. KIT SUM, Switch Mode Power Conversion-Basic Theory and Design, New York: Marcel Dekker, 
</p>
<p>1984. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 35 
</p>
<p>PROBLEMS 
</p>
<p>2.1 Analysis and design of a buck-boost converter: A buck-boost converter is illustrated in Fig. 2.28(a), and 
a practical implementation using a transistor and diode is shown in Fig. 2.28(b). 
</p>
<p>Fig. 2.28 Buck-boost converter 
</p>
<p>of Problem 2.1: (a) ideal converter 
</p>
<p>circuit, (b) implementation using 
</p>
<p>MOSFET and diode. 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>R 
</p>
<p>R 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>(a) Find the dependence of the equilibrium output voltage V and inductor current I on the duty ratio 
D, input voltage Vg, and load resistance R. You may assume that the inductor current ripple and 
capacitor voltage ripple are small. 
</p>
<p>(b) Plot your results of part (a) over the range 0:;; D:;; 1. 
</p>
<p>(c) De design: for the specifications 
</p>
<p>vc = 3ov 
R=4Q 
</p>
<p>(i) Find D and I 
</p>
<p>V=-20V 
</p>
<p>f,= 40kHz 
</p>
<p>(ii) Calculate the value of L that will make the peak inductor current ripple /'.i equal to ten per-
</p>
<p>cent of the average inductor current I. 
</p>
<p>(iii) Choose C such that the peak output voltage ripple /'.v is 0.1 V. 
</p>
<p>(d) Sketch the transistor drain current waveform ir(t) for your design of part (c). Include the effects 
</p>
<p>of inductor current ripple. What is the peak value of iT? Also sketch ir(t) for the case when L is 
decreased such that /'.i is 50% of I. What happens to the peak value of iT in this case? 
</p>
<p>(e) Sketch the diode current waveform iD(t) for the two cases of part (d). 
</p>
<p>2.2 In a certain application, an unregulated de input voltage can vary between 18 and 36 V. It is desired to 
</p>
<p>produce a regulated output of 28 V to supply a 2 A load. Hence, a converter is needed that is capable of 
</p>
<p>both increasing and decreasing the voltage. Since the input and output voltages are both positive, con-
</p>
<p>verters that invert the voltage polarity (such as the basic buck-boost converter) are not suited for this 
</p>
<p>application. 
</p>
<p>One converter that is capable of performing the required function is the nonisolated SEPIC (sin-
</p>
<p>gle-ended primary inductance converter) shown in Fig. 2.29. This converter has a conversion ratio M(D) 
</p>
<p>that can both buck and boost the voltage, but the voltage polarity is not inverted. In the normal converter 
</p>
<p>operating mode, the transistor conducts during the first subinterval (0 &lt; t &lt; DT.), and the diode conducts 
during the second subinterval (DT, &lt; t &lt; T,). You may assume that all elements are ideal. 
</p>
<p>(a) Derive expressions for the de components of each capacitor voltage and inductor current, as 
</p>
<p>functions of the duty cycleD, the input voltage V8, and the load resistance R. </p>
<p/>
</div>
<div class="page"><p/>
<p>36 Principles of Steady-State Converter Analysis 
</p>
<p>Fig. 2.29 SEPIC of Problems 2.2 and 2.3. 
</p>
<p>+ 
</p>
<p>v Load 
R 
</p>
<p>(b) A control circuit automatically adjusts the converter duty cycleD, to maintain a constant output 
</p>
<p>voltage of V = 28 V. The input voltage slowly varies over the range 18 V s V8 s 36 V. The load 
current is constant and equal to 2 A. Over what range will the duty cycle D vary? Over what 
</p>
<p>range will the input inductor current de component / 1 vary? 
</p>
<p>2.3 For the SEPIC of Problem 2.2, 
</p>
<p>(a) Derive expressions for each inductor current ripple and capacitor voltage ripple. Express these 
</p>
<p>quantities as functions of the switching period Ts; the component values Li' L2, Ci' C2; the duty 
</p>
<p>cycleD; the input voltage V8 ; and the load resistance R. 
</p>
<p>(b) Sketch the waveforms of the transistor voltage vDs(t) and transistor current iD(t), and give 
</p>
<p>expressions for their peak values. 
</p>
<p>2.4 The switches in the converter of Fig. 2.30 operate synchronously: each is in position 1 for 0 &lt; t &lt; DTs, 
and in position 2 for DTs &lt; t &lt; Ts. Derive an expression for the voltage conversion ratio M(D) = V/V8&bull; 
Sketch M(D) vs. D. 
</p>
<p>Fig. 2.30 H-bridge converter of Problems 2.4 and 2.6. 
</p>
<p>2.5 The switches in the converter of Fig. 2.31 operate synchronously: each is in position 1 for 0 &lt; t &lt; DT5 , 
</p>
<p>and in position 2 for DT, &lt; t &lt; T5 &bull; Derive an expression for the voltage conversion ratio M(D) = V/V8 &bull; 
Sketch M(D) vs. D. 
</p>
<p>L 
</p>
<p>2 
</p>
<p>Fig. 2.31 Current-fed bridge converter of Problems 2.5, 2.7, and 2.8. 
</p>
<p>2.6 For the converter of Fig. 2.30, derive expressions for the inductor current ripple /';.iL and the capacitor 
</p>
<p>voltage ripple /';.vc-
</p>
<p>2.7 For the converter of Fig. 2.31, derive an analytical expression for the de component of the inductor cur-</p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 37 
</p>
<p>rent,/, as a function of D, Vg, and R. Sketch your result vs. D. 
</p>
<p>2.8 For the converter of Fig. 2.31, derive expressions for the inductor current ripple !liL and the capacitor 
</p>
<p>voltage ripple five-
</p>
<p>2.9 To reduce the switching harmonics present in the input current of a certain buck converter, an input filter 
</p>
<p>consisting of inductor L1 and capacitor C 1 is added as shown in Fig. 2.32. Such filters are commonly 
</p>
<p>used to meet regulations limiting conducted electromagnetic interference (EMI). For this problem, you 
</p>
<p>may assume that all inductance and capacitance values are sufficiently large, such that all ripple magni-
</p>
<p>tudes are small. 
</p>
<p>LI iT QI Lz 
</p>
<p>+ + 
</p>
<p>T 
vg vei DI Cz R v 
</p>
<p>Fig. 2.32 Addition of &amp;-C input filter to buck converter, Problem 2.9. 
</p>
<p>(a) Sketch the transistor current waveform ir(t). 
</p>
<p>(b) Derive analytical expressions for the de components of the capacitor voltages and inductor cur-
</p>
<p>rents. 
</p>
<p>(c) Derive analytical expressions for the peak ripple magnitudes of the input filter inductor current 
</p>
<p>and capacitor voltage. 
</p>
<p>(d) Given the following values: 
</p>
<p>Input voltage 
</p>
<p>Output voltage 
</p>
<p>Switching frequency f, = 100 kHz 
Load resistance R = 6 Q 
</p>
<p>Select values for L1 and C1 such that (i) the peak voltage ripple on Cl' five!' is two percent of the de 
</p>
<p>component Vel&bull; and (ii) the input peak current ripple fii 1 is 20 rnA. 
</p>
<p>Extra credit problem: Derive exact analytical expressions for (i) the de component of the output volt-
</p>
<p>age, and (ii) the peak-to-peak inductor current ripple, of the ideal buck-boost converter operating in 
</p>
<p>steady state. Do not make the small-ripple approximation. </p>
<p/>
</div>
<div class="page"><p/>
<p>3 
Steady-State Equivalent Circuit Modeling, 
</p>
<p>Losses, and Efficiency 
</p>
<p>Let us now consider the basic functions performed by a switching converter, and attempt to represent 
</p>
<p>these functions by a simple equivalent circuit. The designer of a converter power stage must calculate the 
</p>
<p>network voltages and currents, and specify the power components accordingly. Losses and efficiency are 
</p>
<p>of prime importance. The use of equivalent circuits is a physical and intuitive approach which allows the 
</p>
<p>well-known techniques of circuit analysis to be employed. As noted in the previous chapter, it is desir-
</p>
<p>able to ignore the small but complicated switching ripple, and model only the important de components 
</p>
<p>of the waveforms. 
</p>
<p>The de transformer is used to model the ideal functions performed by a de-de converter [1-4]. 
</p>
<p>This simple model correctly represents the relationships between the de voltages and currents of the con-
</p>
<p>verter. The model can be refined by including losses, such as semiconductor forward voltage drops and 
</p>
<p>on-resistances, inductor core and copper losses, etc. The resulting model can be directly solved, to find 
</p>
<p>the voltages, currents, losses, and efficiency in the actual nonideal converter. 
</p>
<p>3.1 THE DC TRANSFORMER MODEL 
</p>
<p>As illustrated in Fig. 3.1, any switching converter contains three ports: a power input, a power output, 
</p>
<p>and a control input. The input power is processed as specified by the control input, and then is output to 
</p>
<p>the load. Ideally, these functions are performed with 100% efficiency, and hence 
</p>
<p>(3.1) 
</p>
<p>or, 
</p>
<p>(3.2) </p>
<p/>
</div>
<div class="page"><p/>
<p>40 Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>Power 
</p>
<p>input 
</p>
<p>I 
g 
</p>
<p>+ 
</p>
<p>vg 
-
</p>
<p>Fig. 3.1 Switching converter terminal quantities. 
</p>
<p>Ig 
</p>
<p>Switching 
</p>
<p>de-de 
</p>
<p>converter 
</p>
<p>D 
</p>
<p>Control input 
</p>
<p>I 
</p>
<p>+ 
</p>
<p>v 
-
</p>
<p>I 
</p>
<p>Power ~ &middot;~~~ M(D)T Meow, I { I&bull; ; input 
</p>
<p>Power 
</p>
<p>output 
</p>
<p>Power 
</p>
<p>output 
</p>
<p>Fig. 3.2 A switching converter equivalent circuit using dependent sources, corresponding to Eqs. (3.3) and (3.4). 
</p>
<p>These relationships are valid only under equilibrium (de) conditions: during transients, the net stored 
</p>
<p>energy in the converter inductors and capacitors may change, causing Eqs. (3.1) and (3.2) to be violated. 
</p>
<p>In the previous chapter, we found that we could express the converter output voltage in an equa-
</p>
<p>tion of the form 
</p>
<p>V=M(D)V8 (3.3) 
</p>
<p>where M(D) is the equilibrium conversion ratio of the converter. For example, M(D) = D for the buck 
converter, and M(D) = 11(1 - D) for the boost converter. In general, for ideal PWM converters operating 
</p>
<p>in the continuous conduction mode and containing an equal number of independent inductors and capac-
</p>
<p>itors, it can be shown that the equilibrium conversion ratio M is a function of the duty cycle D and is 
</p>
<p>independent of load. 
</p>
<p>Substitution of Eq. (3.3) into Eq. (3.2) yields 
</p>
<p>(3.4) 
</p>
<p>Hence, the converter terminal currents are related by the same conversion ratio. 
</p>
<p>Equations (3.3) and (3.4) suggest that the converter could be modeled using dependent sources, 
</p>
<p>as in Fig. 3.2. An equivalent but more physically meaningful model (Fig. 3.3) can be obtained through 
</p>
<p>the realization that Eqs. (3.1) to (3.4) coincide with the equations of an ideal transformer. In an ideal 
</p>
<p>transformer, the input and output powers are equal, as stated in Eqs. (3.1) and (3.2). Also, the output volt-
</p>
<p>age is equal to the turns ratio times the input voltage. This is consistent with Eq. (3.3), with the turns ratio 
</p>
<p>taken to be the equilibrium conversion ratio M(D). Finally, the input and output currents should be 
</p>
<p>related by the same turns ratio, as in Eq. (3.4). 
</p>
<p>Thus, we can model the ideal de-de converter using the ideal de transformer model of Fig. 3.3. </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 3.3 Ideal de transformer 
</p>
<p>model of a de-de converter 
</p>
<p>operating in continuous con-
</p>
<p>duction mode, corresponding 
</p>
<p>to Eqs. (3.1) to (3.4). 
</p>
<p>Power 
</p>
<p>input 
</p>
<p>+ 
</p>
<p>3.1 The DC Transformer Model 41 
</p>
<p>1: M(D) I 
</p>
<p>+ 
</p>
<p>Power 
</p>
<p>v output 
</p>
<p>Control input 
</p>
<p>This symbol represents the first-order de properties of any switching de-de converter: transformation of 
</p>
<p>de voltage and current levels, ideally with 100% efficiency, controllable by the duty cycle D. The solid 
</p>
<p>horizontal line indicates that the element is ideal and capable of passing de voltages and currents. It 
should be noted that, although standard magnetic-core transformers cannot transform de signals (they 
</p>
<p>saturate when a de voltage is applied), we are nonetheless free to define the idealized model of Fig. 3.3 
</p>
<p>for the purpose of modeling de-de converters. Indeed, the absence of a physical de transformer is one of 
</p>
<p>the reasons for building a de-de switching converter. So the properties of the de-de converter of Fig. 3.1 
</p>
<p>can be modeled using the equivalent circuit of Fig. 3.3. An advantage of this equivalent circuit is that, for 
</p>
<p>constant duty cycle, it is time invariant: there is no switching or switching ripple to deal with, and only 
</p>
<p>the important de components of the waveforms are modeled. 
</p>
<p>The rules for manipulating and simplifying circuits containing transformers apply equally well 
</p>
<p>to circuits containing de-de converters. For example, consider the network of Fig. 3.4(a), in which a 
</p>
<p>resistive load is connected to the converter output, and the power source is modeled by a Thevenin-equiv-
</p>
<p>alent voltage source V1 and resistance R1&bull; The converter is replaced by the de transformer model in Fig. 
</p>
<p>3.4(b). The elements V1 and R1 can now be pushed through the de transformer as in Fig. 3.4(c); the volt-
</p>
<p>Fig. 3.4 Example of use of the de 
</p>
<p>transformer model: (a) original circuit; 
</p>
<p>(b) substitution of switching converter de 
</p>
<p>transformer model; (c) simplification by 
</p>
<p>referring all elements to secondary side. 
</p>
<p>(a) R1 
.----.JJv-~r---,_----. 
</p>
<p>+ 
</p>
<p>(c) 
</p>
<p>R 
</p>
<p>Switching 
</p>
<p>de-de 
</p>
<p>converter 
</p>
<p>D 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>R 
</p>
<p>R </p>
<p/>
</div>
<div class="page"><p/>
<p>42 Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>age source V1 is multiplied by the conversion ratio M(D), and the resistor R1 is multiplied by M2(D). This 
</p>
<p>circuit can now be solved using the voltage divider formula to find the output voltage: 
</p>
<p>(3.5) 
</p>
<p>It should be apparent that the de transformer/equivalent circuit approach is a powerful tool for under-
</p>
<p>standing networks containing converters. 
</p>
<p>3.2 INCLUSION OF INDUCTOR COPPER LOSS 
</p>
<p>The de transformer model of Fig. 3.3 can be extended, to model other properties of the converter. Non-
</p>
<p>idealities, such as sources of power loss, can be modeled by adding resistors as appropriate. In later chap-
</p>
<p>ters, we will see that converter dynamics can be modeled as well, by adding inductors and capacitors to 
</p>
<p>the equivalent circuit. 
</p>
<p>Let us consider the inductor copper loss in a boost converter. 
</p>
<p>Practical inductors exhibit power loss of two types: (1) copper loss, origi- L RL 
</p>
<p>nating in the resistance of the wire, and (2) core loss, due to hysteresis and ~ 
eddy current losses in the magnetic core. A suitable model that describes Fig. 3.5 Modeling indue-
</p>
<p>the inductor copper loss is given in Fig. 3.5, in which a resistor RL is placed tor copper loss via series 
</p>
<p>in series with the inductor. The actual inductor then consists of an ideal resistor Rc 
</p>
<p>inductor, L, in series with the copper loss resistor Rc 
</p>
<p>The inductor model of Fig. 3.5 is inserted into the boost converter circuit in Fig. 3.6. The circuit 
</p>
<p>can now be analyzed in the same manner as used for the ideallossless converter, using the principles of 
</p>
<p>inductor volt-second balance, capacitor charge balance, and the small-ripple approximation. First, we 
</p>
<p>draw the converter circuits during the two subintervals, as in Fig. 3.7. 
</p>
<p>For 0 &lt; t &lt; DTs, the switch is in position 1 and the circuit reduces to Fig. 3.7(a). The inductor 
</p>
<p>voltage vL(t), across the ideal inductor L, is given by 
</p>
<p>and the capacitor current ic(t) is 
</p>
<p>. ( ) _ v(t) 
let --R 
</p>
<p>(3.6) 
</p>
<p>(3.7) 
</p>
<p>Next, we simplify these equations by assuming that the switching ripples in i(t) and v(t) are small com-
</p>
<p>pared to their respective de components I and V. Hence, i(t) "" I and v(t) "" V, and Eqs. (3.6) and (3.7) 
</p>
<p>L 2 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>Fig. 3.6 Boost converter circuit, including inductor copper resistance R L' </p>
<p/>
</div>
<div class="page"><p/>
<p>3.2 Inclusion of Inductor Copper Loss 43 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>Fig. 3.7 Boost converter circuits during the two subintervals, including inductor copper loss resistance RL: 
</p>
<p>(a) with the switch in position l, (b) with the switch in position 2. 
</p>
<p>become 
</p>
<p>vL(t) = vg- IRL 
</p>
<p>ic(t)=-* 
(3.8) 
</p>
<p>For DT, &lt; t &lt; T,, the switch is in position 2 and the circuit reduces to Fig. 3.7(b). The inductor current and 
capacitor voltage are then given by 
</p>
<p>vL(t) = vg- i(t)RL- v(t)"' vg- IRL- v 
</p>
<p>ic(f) = i(t)- v~) "'I-* 
We again make the small-ripple approximation. 
</p>
<p>(3.9) 
</p>
<p>The principle of inductor volt-second balance can now be invoked. Equations (3.8) and (3.9) are 
</p>
<p>used to construct the inductor voltage waveform vL(t) in Fig. 3.8. The de component, or average value, of 
</p>
<p>the inductor voltage vL(t) is 
</p>
<p>(3.10) 
</p>
<p>By setting ( vL) to zero and collecting terms, one obtains 
</p>
<p>(3.11) 
</p>
<p>(recall that D + D' = 1). It can be seen that the inductor winding resistance RL adds another term to the 
inductor volt-second balance equation. In the ideal boost converter (RL = 0) example of Chapter 2, we 
were able to solve this equation directly for the voltage conversion ratio V/V8 &bull; Equation (3.11) cannot be 
</p>
<p>immediately solved in this manner, because the inductor current I is unknown. A second equation is 
</p>
<p>needed, to eliminate I. </p>
<p/>
</div>
<div class="page"><p/>
<p>44 Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>Fig. 3.8 Inductor voltage and capacitor 
</p>
<p>current waveforms, for the nonideal boost 
</p>
<p>converter of Fig. 3.6. 
</p>
<p>Vg -!RL 
</p>
<p>-DTs--
</p>
<p>-VIR 
</p>
<p>-D'Ts--+ 
</p>
<p>t 
</p>
<p>Vg -!RL- V 
</p>
<p>1- VIR 
</p>
<p>t 
</p>
<p>The second equation is obtained using capacitor charge balance. The capacitor current ic(t) 
</p>
<p>waveform is given in Fig. 3.8. The de component, or average value, of the capacitor current waveform is 
</p>
<p>(3.12) 
</p>
<p>By setting &lt; ic ) to zero and collecting terms, one obtains 
</p>
<p>O=D'I -* (3.13) 
We now have two equations, Eqs. (3.11) and (3.13), and two unknowns, V and/. Elimination of I and 
</p>
<p>solution for V yields 
</p>
<p>(3.14) 
</p>
<p>This is the desired solution for the converter output voltage V. It is plotted in Fig. 3.9 for several values of 
</p>
<p>R/R. It can be seen that Eq. (3.14) contains two terms. The first, 1/D', is the ideal conversion ratio, with 
</p>
<p>RL = 0. The second term, 1/(1 + RJ D'2R), describes the effect of the inductor winding resistance. If RL is 
much less than D'2R, then the second term is approximately equal to unity and the conversion ratio is 
</p>
<p>approximately equal to the ideal value 1/D'. However, as RL is increased in relation to D'2R, then the sec-
</p>
<p>ond term is reduced in value, and V!Vg is reduced as well. . 
</p>
<p>As the duty cycleD approaches one, the inductor winding resistance RL causes a major qualita-
</p>
<p>tive change in the V/Vg curve. Rather than approaching infinity at D = 1, the curve tends to zero. Of. 
</p>
<p>course, it is unreasonable to expect that the converter can produce infinite voltage, and it should be com-
</p>
<p>forting to the engineer that the prediction of the model is now more realistic. What happens at D = 1 is 
</p>
<p>that the switch is always in position 1. The inductor is never connected to the output, so no energy is 
</p>
<p>transferred to the output and the output voltage tends to zero. The inductor current tends to a large value, 
</p>
<p>limited only by the inductor resistance RL' A large amount of power is lost in the inductor winding resis-
</p>
<p>tance, equal to Vg 2/Rv while no power is delivered to the load; hence, we can expect that the converter 
</p>
<p>efficiency tends to zero at D = 1. 
Another implication of Fig. 3.9 is that the inductor winding resistance RL limits the maximum </p>
<p/>
</div>
<div class="page"><p/>
<p>3.3 Construction of Equivalent Circuit Model 45 
</p>
<p>5 
</p>
<p>4.5 
</p>
<p>4 
</p>
<p>3.5 
</p>
<p>3 
</p>
<p>';:;;.."' 
2.5 :;:: 
</p>
<p>2 
</p>
<p>1.5 
</p>
<p>Fig. 3.9 Output voltage vs. duty cycle, boost converter with inductor copper loss. 
</p>
<p>voltage that the converter can produce. For example, with RLIR = 0.02, it can be seen that the maximum 
V/Vg is approximately 3.5. If it is desired to obtain V/Vg = 5, then according to Fig. 3.9 the inductor wind-
ing resistance RL must be reduced to less than 1% of the load resistance R. The only problem is that 
decreasing the inductor winding resistance requires building a larger, heavier, more expensive inductor. 
</p>
<p>So it is usually important to optimize the design, by correctly modeling the effects of loss elements such 
as R0 and choosing the smallest inductor that will do the job. We now have the analytical tools needed to 
do this. 
</p>
<p>3.3 CONSTRUCTION OF EQUIVALENT CIRCUIT MODEL 
</p>
<p>Next, let us refine the de transformer model, to account for converter losses. This will allow us to deter-
mine the converter voltages, currents, and efficiency using well-known techniques of circuit analysis. 
</p>
<p>In the previous section, we used the principles of inductor volt-second balance and capacitor 
</p>
<p>charge balance to write Eqs. (3.11) and (3.13), repeated here: 
</p>
<p>(vJ =0= Vg-IRL -D'V 
</p>
<p>(ic)=O=D'/-* 
(3.15) 
</p>
<p>These equations state that the de components of the inductor voltage and capacitor current are equal to 
</p>
<p>zero. Rather than algebraically solving the equations as in the previous section, we can reconstruct a cir-
</p>
<p>cuit model based on these equations, which describes the de behavior of the boost converter with induc-
</p>
<p>tor copper loss. This is done by constructing a circuit whose Kirchoff loop and node equations are </p>
<p/>
</div>
<div class="page"><p/>
<p>46 Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>Fig. 3.10 Circuit whose loop equation is identical to 
</p>
<p>. Eq. (3.16), obtained by equating the average inductor voltage 
</p>
<p>( vL) to zero. 
</p>
<p>identical to Eqs. (3.15). 
</p>
<p>3.3.1 Inductor Voltage Equation 
</p>
<p>D'V 
</p>
<p>(3.16) 
</p>
<p>This equation was derived by use of Kirchoff's voltage law to find the inductor voltage during each sub-
</p>
<p>interval. The results were averaged and set to zero. Equation (3.16) states that the sum of three terms hav-
</p>
<p>ing the dimensions of voltage are equal to (vJ, or zero. Hence, Eq. (3.16) is of the same form as a loop 
</p>
<p>equation; in particular, it describes the de components of the voltages around a loop containing the 
</p>
<p>inductor, with loop current equal to the de inductor current/. 
</p>
<p>So let us construct a circuit containing a loop with current/, corresponding to Eq. (3.16). The 
</p>
<p>first term in Eq. (3.16) is the de input voltage V8, so we should include a voltage source of value Vg as 
</p>
<p>shown in Fig. 3.10. The second term is a voltage drop of value /R0 which is proportional to the current I 
</p>
<p>in the loop. This term corresponds to a resistance of value RL. The third term is a voltage D'V, dependent 
</p>
<p>on the converter output voltage. For now, we can model this term using a dependent voltage source, with 
</p>
<p>polarity chosen to satisfy Eq. (3.16). 
</p>
<p>3.3.2 Capacitor Current Equation 
</p>
<p>(3.17) 
</p>
<p>This equation was derived using Kirchoff's current law to find the capacitor current during each subinter-
</p>
<p>val. The results were averaged, and the average capacitor current was set to zero. 
</p>
<p>Equation (3.17) states that the sum of two de currents are equal to ( ic ), or zero. Hence, Eq. 
</p>
<p>(3.17) is of the same form as a node equation; in particular, it describes the de components of currents 
</p>
<p>Fig. 3.11 Circuit whose node equation is identical to Eq. (3.17), 
</p>
<p>obtained by equating the average capacitor current (ic) to zero. 
</p>
<p>D'I 
</p>
<p>' 
tj 
</p>
<p>' ' 
</p>
<p>Node 
</p>
<p>) VIR 
+ 
</p>
<p>v R </p>
<p/>
</div>
<div class="page"><p/>
<p>3.3 Construction of Equivalent Circuit Model 47 
</p>
<p>+ 
</p>
<p>D'V D'I v R 
</p>
<p>Fig. 3.12 The circuits of Figs. 3.10 and 3.11, drawn together. 
</p>
<p>+ 
</p>
<p>v R 
</p>
<p>Fig. 3.13 Equivalent circuit model of the boost converter, including aD': 1 de transformer and the inductor wind-
</p>
<p>ing resistance R L' 
</p>
<p>flowing into a node connected to the capacitor. The de capacitor voltage is V. 
</p>
<p>So now let us construct a circuit containing a node connected to the capacitor, as in Fig. 3.11, 
</p>
<p>whose node equation satisfies Eq. (3.17). The second term in Eq. (3.17) is a current of magnitude VIR, 
</p>
<p>proportional to the de capacitor voltage V. This term corresponds to a resistor of value R, connected in 
</p>
<p>parallel with the capacitor so that its voltage is V and hence its current is VIR. The first term is a current 
</p>
<p>D'I, dependent on the de inductor current I. For now, we can model this term using a dependent current 
</p>
<p>source as shown. The polarity of the source is chosen to satisfy Eq. (3.17). 
</p>
<p>3.3.3 Complete Circuit Model 
</p>
<p>The next step is to combine the circuits of Figs. 3.10 and 3.11 into a single circuit, as in Fig. 3.12. This 
</p>
<p>circuit can be further simplified by recognizing that the dependent voltage and current sources constitute 
</p>
<p>an ideal de transformer, as discussed in Section 3.1. The D'V dependent voltage source depends on V, the 
</p>
<p>voltage across the dependent current source. Likewise, the D'I dependent current source depends on I, 
</p>
<p>the current flowing through the dependent voltage source. In each case, the coefficient is D'. Hence, the 
</p>
<p>dependent sources form a circuit similar to Fig. 3.2; the fact that the voltage source appears on the pri-
</p>
<p>mary rather than the secondary side is irrelevant, owing to the symmetry of the transformer. They are 
</p>
<p>therefore equivalent to the de transformer model of Fig. 3.3, with turns ratio D':l. Substitution of the 
</p>
<p>ideal de transformer model for the dependent sources yields the equivalent circuit of Fig. 3.13. 
</p>
<p>The equivalent circuit model can now be manipulated and solved to find the converter voltages 
</p>
<p>and currents. For example, we can eliminate the transformer by referring the V8 voltage source and RL 
</p>
<p>resistance to the secondary side. As shown in Fig. 3.14, the voltage source value is divided by the effec-
</p>
<p>tive turns ratio D', and the resistance RL is divided by the square of the turns ratio, D'2. This circuit can be 
</p>
<p>solved directly for the output voltage V, using the voltage divider formula: </p>
<p/>
</div>
<div class="page"><p/>
<p>48 Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>Fig. 3.14 Simplification of the equivalent circuit of 
</p>
<p>Fig. 3.13, by referring all elements to the secondary 
</p>
<p>side of the transformer. 
</p>
<p>+ 
</p>
<p>v R 
</p>
<p>(3.18) 
</p>
<p>This result is identical to Eq. (3.14). The circuit can also be solved directly for the inductor current/, by 
</p>
<p>referring all elements to the transformer primary side. The result is: 
</p>
<p>(3.19) 
</p>
<p>3.3.4 Efficiency 
</p>
<p>The equivalent circuit model also allows us to compute the converter efficiency 11&middot; Figure 3.13 predicts 
</p>
<p>that the converter input power is 
</p>
<p>(3.20) 
</p>
<p>The load current is equal to the current in the secondary of the ideal de transformer, or D'I. Hence, the 
</p>
<p>model predicts that the converter output power is 
</p>
<p>pout= (V) (D'/) (3.21) 
</p>
<p>Therefore, the converter efficiency is 
</p>
<p>(3.22) 
</p>
<p>Substitution ofEq. (3.18) into Eq. (3.22) to eliminate Vyields 
</p>
<p>(3.23) 
</p>
<p>This equation is plotted in Fig. 3.15, for several values of RjR. It can be seen from Eq. (3.23) that, to 
</p>
<p>obtain high efficiency, the inductor winding resistance RL should be much smaller that D'2R, the load 
</p>
<p>resistance referred to the primary side of the ideal de transformer. This is easier to do at low duty cycle, 
</p>
<p>where D' is close to unity, than at high duty cycle where D' approaches zero. It can be seen from Fig. </p>
<p/>
</div>
<div class="page"><p/>
<p>3.3 Construction of Equivalent Circuit Model 49 
</p>
<p>100% 
</p>
<p>90% 
</p>
<p>80% 
</p>
<p>70% 
</p>
<p>60% 
</p>
<p>11 50% 
</p>
<p>40% 
</p>
<p>30% 
</p>
<p>20% 
</p>
<p>10% 
</p>
<p>0% 
</p>
<p>0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 
</p>
<p>D 
</p>
<p>Fig. 3.15 Efficiency vs. duty cycle, boost converter with inductor copper loss. 
</p>
<p>3.15 that the efficiency is typically high at low duty cycles, but decreases rapidly to zero near D = 1. 
</p>
<p>Thus, the basic de transformer model can be refined to include other effects, such as the induc-
</p>
<p>tor copper loss. The model describes the basic properties of the converter, including (a) transformation of 
</p>
<p>de voltage and current levels, (b) second-order effects such as power losses, and (c) the conversion ratio 
</p>
<p>M. The model can be solved to find not only the output voltage V, but also the inductor current I and the 
efficiency 11&middot; All of the well-known techniques of circuit analysis can be employed to solve the model, 
</p>
<p>making this a powerful and versatile approach. 
</p>
<p>The example considered so far is a relatively simple one, in which there is only a single loss ele-
</p>
<p>ment, RL. Of course, real converters are considerably more complicated, and contain a large number of 
</p>
<p>loss elements. When solving a complicated circuit to find the output voltage and efficiency, it behooves 
</p>
<p>the engineer to use the simplest and most physically meaningful method possible. Writing a large num-
</p>
<p>ber of simultaneous loop or node equations is not the best approach, because its solution typically 
</p>
<p>requires several pages of algebra, and the engineer usually makes algebra mistakes along the way. The 
</p>
<p>practicing engineer often gives up before finding the correct solution. The equivalent circuit approach 
</p>
<p>avoids this situation, because one can simplify the circuit via well-known circuit manipulations such as 
</p>
<p>pushing the circuit elements to the secondary side of the transformer. Often the answer can then be writ-
</p>
<p>ten by inspection, using the voltage divider rule or other formulas. The engineer develops confidence that 
</p>
<p>the result is correct, and does not contain algebra mistakes. </p>
<p/>
</div>
<div class="page"><p/>
<p>50 Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>Fig. 3.16 Buck converter example. + 
</p>
<p>2 
</p>
<p>c R 
</p>
<p>3.4 HOW TO OBTAIN THE INPUT PORT OF THE MODEL 
</p>
<p>Let's try to derive the model of the buck converter of Fig. 3.16, using the procedure of Section 3.3: The 
</p>
<p>inductor winding resistance is again modeled by a series resistor RL' 
</p>
<p>The average inductor voltage can be shown to be 
</p>
<p>(3.24) 
</p>
<p>This equation describes a loop with the de inductor current IL. The de components of the voltages around 
</p>
<p>this loop are: (i) the DV8 term, modeled as a dependent voltage source, (ii) a voltage drop ILRL, modeled 
</p>
<p>as resistor Rv and (iii) the de output voltage V c 
</p>
<p>The average capacitor current is 
</p>
<p>(3.25) 
</p>
<p>This equation describes the de currents flowing into the node connected to the capacitor. The de compo-
</p>
<p>nent of inductor current, IL, flows into this node. The de load current VciR (i.e., the current flowing 
</p>
<p>through the load resistor R) flows out of this node. An equivalent circuit that models Eqs. (3.24) and 
</p>
<p>(3.25) is given in Fig. 3.17. This circuit can be solved to determine the de output voltage Vc 
</p>
<p>What happened to the de transformer in Fig. 3.17? We expect the buck converter model to con-
</p>
<p>tain a de transformer, with turns ratio equal to the de conversion ratio, or 1:D. According to Fig. 3.2, the 
</p>
<p>secondary of this transformer is equivalent to a dependent voltage source, of value DV8 &bull; Such a source 
</p>
<p>does indeed appear in Fig. 3.17. But where is the primary? From Fig. 3.2, we expect the primary of the 
</p>
<p>de transformer to be equivalent to a dependent current source. In general, to derive this source, it is nec-
</p>
<p>essary to find the de component of the converter input current i/t). 
The converter input current waveform i/t) is sketched in Fig. 3.18. When the switch is in posi-
</p>
<p>tion 1, i/t) is equal to the inductor current. Neglecting the inductor current ripple, we have i/t) "'fL. 
</p>
<p>When the switch is in position 2, i/t) is zero. The de component, or average value, of i/t) is 
</p>
<p>Fig. 3.17 Equivalent circuit derived from 
</p>
<p>Eqs. (3.24) and (3.25). 
</p>
<p>... .,~ ,.-&lt; ~ 
</p>
<p>+ (vL)-
=0 
</p>
<p>G 
</p>
<p>RL 
</p>
<p>+ Vc!R 
(ic) + : 
= 0 - -~-
</p>
<p>Vc R </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 3.18 Converter input current 
</p>
<p>waveform i8(1). 
</p>
<p>0 
</p>
<p>Fig. 3.19 Converter input port de equivalent circuit. 
</p>
<p>Fig. 3.20 The circuits of Figs. 3.17 and 
</p>
<p>3.19, drawn together. 
</p>
<p>Fig. 3.21 Equivalent circuit of the buck 
</p>
<p>converter, including a 1 :D de transformer 
</p>
<p>and the inductor winding resistance Rc 
</p>
<p>3.4 How to Obtain the Input Port of the Model 51 
</p>
<p>0 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>1 i. T, . 
18 =T &middot;t/f)dt=DIL 
</p>
<p>s 0 
</p>
<p>(3.26) 
</p>
<p>The integral of i8(t) is equal to the area under the i/t) curve, or DT )L according to Fig. 3.18. The de com-
</p>
<p>ponent 18 is therefore (DTJJ!Ts = DIL. Equation (3.26) states that 18 , the de component of current drawn 
by the converter out of the V8 source, is equal to DIL. An equivalent circuit is given in Fig. 3.19. 
</p>
<p>A complete model for the buck converter can now be obtained by combining Figs. 3.17 and 
</p>
<p>3.19 to obtain Fig. 3.20. The dependent current and voltage sources can be combined into a de trans-
</p>
<p>former, since the DV8 dependent voltage source has value D times the voltage V8 across the dependent 
</p>
<p>current source, and the current source is the same constant D times the current IL through the dependent 
</p>
<p>voltage source. So, according to Fig. 3.2, the sources are equivalent to a de transformer with turns ratio 
</p>
<p>l:D, as shown in Fig. 3.21. 
</p>
<p>In general, to obtain a complete de equivalent circuit that models the converter input port, it is 
</p>
<p>necessary to write an equation for the de component of the converter input current. An equivalent circuit </p>
<p/>
</div>
<div class="page"><p/>
<p>52 Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>corresponding to this equation is then constructed. In the case of the buck converter, as well as in other 
</p>
<p>converters having pulsating input currents, this equivalent circuit contains a dependent current source 
</p>
<p>which becomes the primary of a de transformer model. In the boost converter example of Section 3.3, it 
</p>
<p>was unnecessary to explicitly write this equation, because the input current igCt) coincided with the 
</p>
<p>inductor current i(t), and hence a complete equivalent circuit could be derived using only the inductor 
</p>
<p>voltage and capacitor current equations. 
</p>
<p>3.5 EXAMPLE: INCLUSION OF SEMICONDUCTOR CONDUCTION LOSSES IN THE 
</p>
<p>BOOST CONVERTER MODEL 
</p>
<p>As a final example, let us consider modeling semiconductor conduction losses in the boost converter of 
</p>
<p>Fig. 3.22. Another major source of power loss is the conduction loss due to semiconductor device for-
</p>
<p>ward voltage drops. The forward voltage of a metal oxide semiconductor field-effect tran'sistor (MOS-
</p>
<p>FET) or bipolar junction transistor (BJT) can be modeled with reasonable accuracy as an on-resistance 
</p>
<p>Ron&middot; In the case of a diode, insulated-gate bipolar transistor (IGBT), or thyristor, a voltage source plus an 
</p>
<p>on-resistance yields a model of good accuracy; the on-resistance may be omitted if the converter is being 
</p>
<p>modeled at a single operating point. 
</p>
<p>When the gate drive signal is high, the MOSFET turns on and the diode is reverse-biased. The 
</p>
<p>circuit then reduces to Fig. 3.23(a). In the conducting state, the MOSFET is modeled by the on-resistance 
</p>
<p>Ron&middot; The inductor winding resistance is again represented as in Fig. 3.5. The inductor voltage and capaci-
</p>
<p>tor current are given by 
</p>
<p>VL(t) = Vg- iRL- iR011 "' V8 -/RL- fR011 
</p>
<p>ic(t) =- -R- "'-* (3.27) 
The inductor current and capacitor voltage have again been approximated by their de components. 
</p>
<p>When the gate drive signal is low, the MOSFET turns off. The diode becomes forward-biased 
</p>
<p>by the inductor current, and the circuit reduces to Fig. 3.23(b). In the conducting state, the diode is mod-
</p>
<p>eled in this example by voltage source V0 and resistance R0 . The inductor winding resistance is again 
</p>
<p>modeled by resistance RL' The inductor voltage and capacitor current for this subinterval are 
</p>
<p>(3.28) 
</p>
<p>The inductor voltage and capacitor current waveforms are sketched in Fig. 3.24. 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>b c R v 
</p>
<p>Fig. 3.22 Boost converter example. </p>
<p/>
</div>
<div class="page"><p/>
<p>3.5 example: Inclusion of Semiconductor Conduction Losses in the Boost Converter Model 53 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 3.23 Boost converter circuits: (a) when MOSFET conducts, (b) when diode conducts. 
</p>
<p>The de component of the inductor voltage is given by 
</p>
<p>(3.29) 
</p>
<p>By collecting terms and noting that D + D' = 1, one obtains 
</p>
<p>(3.30) 
</p>
<p>This equation describes the de components of the voltages around a loop containing the inductor, with 
</p>
<p>loop current equal to the de inductor current I. An equivalent circuit is given in Fig. 3.25. 
</p>
<p>Fig. 3.24 Inductor voltage vL(t) and 
</p>
<p>capacitor current ic(t) waveforms, for 
</p>
<p>the converter of Fig. 3.22. 
</p>
<p>Vg - IRL- IRon 
</p>
<p>-Drs-- D'Ts-
vg -IRL- vD-IRD- v 
</p>
<p>I- VIR 
</p>
<p>-VIR 
</p>
<p>t 
</p>
<p>t </p>
<p/>
</div>
<div class="page"><p/>
<p>54 Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>D'VD 
D'RD 
</p>
<p>Fig. 3.25 Equivalent circuit 
</p>
<p>corresponding to Eq. (3.30). + !D'RD-
</p>
<p>vg 0 D'V 
VIR 
</p>
<p>+ 
Fig. 3.26 Equivalent circuit 
</p>
<p>corresponding to Eq. (3.32). 
D'I v R 
</p>
<p>The de component of the capacitor current is 
</p>
<p>(3.31) 
</p>
<p>Upon collecting terms, one obtains 
</p>
<p>(3.32) 
</p>
<p>This equation describes the de components of the currents flowing into a node connected to the capacitor, 
</p>
<p>with de capacitor voltage equal to V. An equivalent circuit is given in Fig. 3.26. 
</p>
<p>The two circuits are drawn together in 3.27. The dependent sources are combined into an ideal 
</p>
<p>D':l transformer in Fig. 3.28, yielding the complete de equivalent circuit model. 
</p>
<p>Solution of Fig. 3.28 for the output voltage Vyields 
</p>
<p>(3.33) 
</p>
<p>+ 
</p>
<p>v R 
</p>
<p>Fig. 3.27 The circuits of Figs. 3.25 and 3.26, drawn together. </p>
<p/>
</div>
<div class="page"><p/>
<p>3.5 Example: Inclusion of Semiconductor Conduction Losses in the Boost Converter Model 55 
</p>
<p>+ 
</p>
<p>v R 
</p>
<p>Fig. 3.28 Equivalent circuit model of the boost converter of Fig. 3.22, including ideal de transformer, inductor 
</p>
<p>winding resistance, and MOSFET and diode conduction losses. 
</p>
<p>Dividing by Vg gives the voltage conversion ratio: 
</p>
<p>(3.34) 
</p>
<p>It can be seen that the effect of the loss elements V0 , Rv R""' and R0 is to decrease the voltage conversion 
ratio below the ideal value (1/D'). 
</p>
<p>The efficiency is given by Yl = P0 jPin" From Fig. 3.28, Pin= V/ and Pout= VD'I. Hence, 
</p>
<p>(3.35) 
</p>
<p>For high efficiency, we require 
</p>
<p>VjD'&raquo; V0 
</p>
<p>D' 2R &gt;&gt; RL + DR0 , + D'Ro 
(3.36) 
</p>
<p>It may seem strange that the equivalent circuit model of Fig. 3.28 contains effective resistances DR on and 
</p>
<p>D'R0 , whose values vary with duty cycle. The reason for this dependence is that the semiconductor on-
</p>
<p>resistances are connected in the circuit only when their respective semiconductor devices conduct. For 
</p>
<p>example, at D = 0, the MOSFET never conducts, and the effective resistance DRon disappears from the 
model. These effective resistances correctly model the average power losses in the elements. For 
</p>
<p>instance, the equivalent circuit predicts that the power loss in the MOSFET on-resistance is PDRon&middot; In 
</p>
<p>the actual circuit, the MOSFET conduction loss is PRon while the MOSFET conducts, and zero while the 
</p>
<p>MOSFET is off. Since the MOSFET conducts with duty cycleD, the average conduction loss is DPR00 , 
</p>
<p>which coincides with the prediction of the model. 
</p>
<p>In general, to predict the power loss in a resistor R, we must calculate the root-mean-square cur-
</p>
<p>rent Inns through the resistor, rather than the average current. The average power loss is then given by 
</p>
<p>Im}R. Nonetheless, the average model of Fig. 3.28 correctly predicts average power loss, provided that 
</p>
<p>the inductor current ripple is small. For example, consider the MOSFET conduction loss in the buck con-
</p>
<p>verter. The actual transistor current waveform is sketched in Fig. 3.29, for several values of inductor cur-
</p>
<p>rent ripple t;.i. Case (a) corresponds to use of an infinite inductance L, leading to zero inductor current 
</p>
<p>ripple. As shown in Table 3.1, the MOSFET conduction loss is then given by Im}R00 = DI2Ron' which </p>
<p/>
</div>
<div class="page"><p/>
<p>56 Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>i(t) 
Fig. 3.29 Transistor current waveform, for various 
</p>
<p>filter inductor values: (a) with a very large inductor, 
</p>
<p>such that D.i "' 0; (b) with a typical inductor value, 
such that D.i = 0. ll; (c) with a small inductor value, 
chosen such that D.i = I. 
</p>
<p>0 
</p>
<p>0 
</p>
<p>agrees exactly with the prediction of the average model. Case (b) is a typical choice of inductance L, 
</p>
<p>leading to an inductor current ripple of D.i = 0.11. The exact MOSFET conduction loss, calculated using 
the rms value of MOSFET current, is then only 0.33% greater than the prediction of the average model. 
</p>
<p>In the extreme case (c) where D.i ==I, the actual conduction loss is 33% greater than that predicted by the 
</p>
<p>average model. Thus, the de (average) model correctly predicts losses in the component nonidealities, 
</p>
<p>even though rms currents are not calculated. The model is accurate provided that the inductor current rip-
</p>
<p>ple is small. 
</p>
<p>Talble 3.1 Effect of inductor current ripple on MOSFET conduction Joss 
</p>
<p>3.6 
</p>
<p>1. 
</p>
<p>2. 
</p>
<p>3. 
</p>
<p>Inductor current ripple MOSFET rms current Average power Joss in R011 
</p>
<p>(a) D.i=O IJD 
</p>
<p>(b) D.i=0.1i ( 1.00167)I JD 
</p>
<p>(c) D.i=I ( 1.155)I JD 
</p>
<p>SUMMARY OF KEY POINTS 
</p>
<p>The de transformer model represents the primary functions of any de-de converter: transformation of de 
</p>
<p>voltage and current levels, ideally with 100% efficiency, and control of the conversion ratio M via the duty 
</p>
<p>cycle D. This model can be easily manipulated and solved using familiar techniques of conventional cir-
</p>
<p>cuit analysis. 
</p>
<p>The model can be refined to account for Joss elements such as inductor winding resistance and semicon-
</p>
<p>ductor on-resistances and forward voltage drops. The refined model predicts the voltages, currents, and 
</p>
<p>efficiency of practical nonideal converters. 
</p>
<p>In general, the de equivalent circuit for a converter can be derived from the inductor volt-second balance 
</p>
<p>and capacitor charge balance equations. Equivalent circuits are constructed whose loop and node equa-
</p>
<p>tions coincide with the volt-second and charge balance equations. In converters having a pulsating input 
</p>
<p>current, an additional equation is needed to model the converter input port; this equation may be obtained 
</p>
<p>by averaging the converter input current. 
</p>
<p>REFERENCES 
</p>
<p>[l] R. D. MIDDLEBROOK, "A Continuous Model for the Tapped-Inductor Boost Converter," IEEE Power Elec-
</p>
<p>tronics Specialists Conference, 1975 Record, pp. 63-79, June 1975. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 57 
</p>
<p>[2] S. M. CUK, "Modeling, Analysis, and Design of Switching Converters," Ph.D. thesis, California Institute 
</p>
<p>of Technology, November 1976. 
</p>
<p>[3] G. WESTER and R. D. MIDDLEBROOK, "Low-Frequency Characterization of Switched De-De Converters," 
</p>
<p>IEEE Transactions on Aerospace and Electronic Systems, Vol. AES-9, pp. 376-385, May 1973. 
</p>
<p>[4] R. D. MIDDLEBROOK and S.M. CUK, "Modeling and Analysis Methods for De-to-De Switching Convert-
ers," IEEE International Semiconductor Power Converter Conference, 1977 Record, pp. 90-111. 
</p>
<p>PROBLEMS 
</p>
<p>3.1 In the buck-boost converter of Fig. 3.30, the inductor has winding resistance RL" All other losses can be 
ignored. 
</p>
<p>(a) Derive an expression for the nonideal voltage conversion ratio V!V8&bull; 
</p>
<p>(b) Plot your result of part (a) over the range 0 :5 D :5 1, for RJR = 0, 0.01, and 0.05. 
</p>
<p>(c) Derive an expression for the efficiency. Manipulate your expression into a form similar to Eq. 
</p>
<p>(3.35) 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>Fig. 3.30 Nonideal buck-boost converter, Problems 3.1 and 3.2. 
</p>
<p>3.2 The inductor in the buck-boost converter of Fig. 3.30 has winding resistance RL. All other losses can be 
ignored. Derive an equivalent circuit model for this converter. Your model should explicitly show the 
</p>
<p>input port of the converter, and should contain two de transformers. 
</p>
<p>3.3 In the converter of Fig. 3.31, the inductor has winding resistance RL. All other losses can be ignored. The 
</p>
<p>switches operate synchronously: each is in position 1 for 0 &lt; t &lt; DT9 , and in position 2 for DT9 &lt; t &lt; T9 &bull; 
</p>
<p>(a) Derive an expression for the nonideal voltage conversion ratio V!V8. 
</p>
<p>(b) Plot your result of part (a) over the range 0 :5 D :5 1, for RJR = 0, 0.01, and 0.05. 
</p>
<p>(c) Derive an expression for the efficiency. Manipulate your expression into a form similar to Eq. 
</p>
<p>(3.35) 
</p>
<p>L 
</p>
<p>2 
</p>
<p>Fig. 3.31 Nonideal current-fed bridge converter, Problems 3.3 and 3.4. 
</p>
<p>3.4 The inductor in the converter of Fig. 3.31 has winding resistance RL. All other losses can be ignored. 
</p>
<p>Derive an equivalent circuit model for this converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>58 Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 3.32 Nonideal buck converter, Problem 3.5. 
</p>
<p>3.5 In the buck converter of Fig. 3.32, the MOSFET has on-resistance Ron and the diode forward voltage 
</p>
<p>drop can be modeled by a constant voltage source V 0 . All other losses can be neglected. 
</p>
<p>(a) Derive a complete equivalent circuit model for this converter. 
</p>
<p>(b) Solve your model to find the output voltage V. 
</p>
<p>(c) Derive an expression for the efficiency. Manipulate your expression into a form similar to Eq. 
</p>
<p>(3.35). 
</p>
<p>3.6 To reduce the switching harmonics present in the input current of a certain buck converter, an input filter 
</p>
<p>is added as shown in Fig. 3.33. Inductors L1 and L2 contain winding resistances RLI and RL2, respec-
</p>
<p>tively. The MOSFET has on-resistance Ron' and the diode forward voltage drop can be modeled by a 
</p>
<p>constant voltage V 0 plus a resistor R0 . All other losses can be ignored. 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 3.33 Buck converter with input filter, Problem 3.6. 
</p>
<p>(a) Derive a complete equivalent circuit model for this circuit. 
</p>
<p>(b) Solve your model to find the de output voltage V. 
</p>
<p>(c) Derive an expression for the efficiency. Manipulate your expression into a form similar to Eq. 
</p>
<p>(3.35). 
</p>
<p>3.7 A 1.5 V battery is to be used to power a 5 V, I A load. It has been decided to use a buck-boost converter 
</p>
<p>in this application. A suitable transistor is found with an on-resistance of 35 mQ, and a Schottky diode is 
</p>
<p>found with a forward drop of 0.5 V. The on-resistance of the Schottky diode may be ignored. The power 
</p>
<p>stage schematic is shown in Fig. 3.34. 
</p>
<p>lA 
</p>
<p>+ 
</p>
<p>5V Load 
</p>
<p>.(,=40kHz 
</p>
<p>Fig. 3.34 Nonideal buck-boost converter powering a 5 V load from a 1.5 V battery, Problem 3.7 </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 59 
</p>
<p>(a) Derive an equivalent circuit that models the de properties of this converter. Include the transistor 
</p>
<p>and diode conduction losses, as well as the inductor copper loss, but ignore all other sources of 
</p>
<p>loss. Your model should correctly describe the converter de input port. 
</p>
<p>(b) It is desired that the converter operate with at least 70% efficiency under nominal conditions 
</p>
<p>(i.e., when the input voltage is 1.5 V and the output is 5 V at 1 A). How large can the inductor 
</p>
<p>winding resistance be? At what duty cycle will the converter then operate? Note: there is an easy 
</p>
<p>way and a not-so-easy way to analytically solve this part. 
</p>
<p>(c) For your design of part (b), compute the power loss in each element. 
</p>
<p>(d) Plot the converter output voltage and efficiency over the range 0 S D S 1, using the value of 
</p>
<p>inductor winding resistance which you selected in part (b). 
</p>
<p>(e) Discuss your plot of part (d). Does it behave as you expect? Explain. 
</p>
<p>For Problems 3.8 and 3.9, a transistor having an on-resistance of 0.5 Q is used. To simplify the problems, you 
</p>
<p>may neglect all losses other than the transistor conduction loss. You may also neglect the dependence of MOS-
</p>
<p>FET on-resistance on rated blocking voltage. These simplifying assumptions reduce the differences between 
</p>
<p>converters, but do not change the conclusions regarding which converter performs best in the given situations. 
</p>
<p>3.8 It is desired to interface a 500 V de source to a 400 V, 10 A load using a de-de converter. Two possible 
</p>
<p>approaches, using buck and buck-boost converters, are illustrated in Fig. 3.35. Use the assumptions 
</p>
<p>described above to: 
</p>
<p>(a) Derive equivalent circuit models for both converters, which model the converter input and out-
</p>
<p>put ports as well as the transistor conduction loss. 
</p>
<p>(b) Determine the duty cycles that cause the converters to operate with the specified conditions. 
</p>
<p>(c) Compare the transistor conduction losses and efficiencies of the two approaches, and conclude 
</p>
<p>which converter is better suited to the specified application. 
</p>
<p>(a) lOA 
</p>
<p>+ + 
</p>
<p>soov 400V 
</p>
<p>(b) lOA 
</p>
<p>+ 
</p>
<p>soov 400V 
</p>
<p>+ 
</p>
<p>Fig. 3.35 Problem 3.8: interfacing a 500 V source to a 400 V load, using (a) a buck converter, (b) a 
</p>
<p>buck-boost converter. 
</p>
<p>3.9 It is desired to interface a 300 V battery to a 400 V, 10 A load using a de-de converter. Two possible 
</p>
<p>approaches, using boost and buck-boost converters, are illustrated in Fig. 3.36. Using the assumptions 
</p>
<p>described above (before Problem 3.8), determine the efficiency and power loss of each approach. Which 
</p>
<p>converter is better for this application? </p>
<p/>
</div>
<div class="page"><p/>
<p>60 Steady-State Equivalent Circuit Modeling, Losses, and Efficiency 
</p>
<p>(a) 
</p>
<p>+ + 
</p>
<p>300V 400V 
</p>
<p>(b) lOA 
</p>
<p>+ 
</p>
<p>300V 400V 
</p>
<p>+ 
</p>
<p>Fig. 3.36 Problem 3.9: interfacing a 300 V battery to a 400 V load, using: (a) a boost converter, (b) a 
</p>
<p>buck-boost converter. 
</p>
<p>3.10 A buck converter is operated from the rectified 230 V ac mains, such that the converter de input voltage 
</p>
<p>IS 
</p>
<p>V8 = 325 v &plusmn; 20% 
A control circuit automatically adjusts the converter duty cycleD, to maintain a constant de output volt-
</p>
<p>age of V = 240 V de. The de load current I can vary over a 10: 1 range: 
lOA::;J:s;lA 
</p>
<p>The MOSFET has an on-resistance ofO.S Q. The diode conduction loss can be modeled by a 0.7 V 
</p>
<p>source in series with a 0.2 Q resistor. All other losses can be neglected. 
</p>
<p>(a) Derive an equivalent circuit that models the converter input and output ports, as well as the loss 
</p>
<p>elements described above. 
</p>
<p>(b) Given the range of variation of V8 and I described above, over what range will the duty cycle 
</p>
<p>vary? 
</p>
<p>(c) At what operating point (i.e., at what value of V8 and I) is the converter power loss the largest? 
</p>
<p>What is the value of the efficiency at this operating point? 
</p>
<p>3.11 In the Cuk converter of Fig. 3.37, the MOSFET has on-resistance R0 , and the diode has a constant for-
</p>
<p>ward voltage drop V D&middot; All other losses can be neglected. 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 3.37 Cuk converter, Problem 3.11. 
</p>
<p>(a) Derive an equivalent circuit model for this converter. Suggestion: if you don't know how to han-
</p>
<p>dle some of the terms in your de equations, then temporarily leave them as dependent sources. A 
</p>
<p>more physical representation of these terms may become apparent once de transformers are 
</p>
<p>incorporated into the model. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 61 
</p>
<p>(b) Derive analytical expressions for the converter output voltage and for the efficiency. 
</p>
<p>(c) For V0 = 0, plot VIV8 vs. Dover the range 0:5 D :51, for (i) R0 JR = 0.01, and (ii) R0.fR = 0.05. 
</p>
<p>(d) For V0 = 0, plot the converter efficiency over the range 0 :5 D :5 1, for (i) R0 JR = 0.01, and (ii) 
R0 JR=0.05. </p>
<p/>
</div>
<div class="page"><p/>
<p>4 
Switch Realization 
</p>
<p>We have seen in previous chapters that the switching elements of the buck, boost, and several other de-de 
</p>
<p>converters can be implemented using a transistor and diode. One might wonder why this is so, and how 
</p>
<p>to realize semiconductor switches in general. These are worthwhile questions to ask, and switch imple-
</p>
<p>mentation can depend on the power processing function being performed. The switches of inverters and 
</p>
<p>cycloconverters require more complicated implementations than those of de-de converters. Also, the way 
</p>
<p>in which a semiconductor switch is implemented can alter the behavior of a converter in ways not pre-
</p>
<p>dicted by the ideal-switch analysis of the previous chapters-an example is the discontinuous conduction 
</p>
<p>mode treated in the next chapter. The realization of switches using transistors and diodes is the subject of 
</p>
<p>this chapter. 
</p>
<p>Semiconductor power devices behave as single-pole single-throw 
</p>
<p>(SPST) switches, represented ideally in Fig. 4.!. So, although we often draw 
</p>
<p>converter schematics using ideal single-pole double-throw (SPDT) switches as 
</p>
<p>in Fig. 4.2(a), the schematic of Fig. 4.2(b) containing SPST switches is more 
</p>
<p>realistic. The realization of a SPDT switch using two SPST switches is not as 
</p>
<p>trivial as it might at first seem, be.cause Fig. 4.2(a) and 4.2(b) are not exactly 
</p>
<p>equivalent. It is possible for both SPST switches to be simultaneously in the on 
</p>
<p>state or in the off state, leading to behavior not predicted by the SPDT switch 
</p>
<p>of Fig. 4.2(a). In addition, it is possible for the switch state to depend on the Fig. 4.1 SPST switch, 
</p>
<p>applied voltage or current waveforms-a familiar example is the diode. Indeed, with defined voltage and 
</p>
<p>it is common for these phenomena to occur in converters operating at light current polarities. 
</p>
<p>load, or occasionally at heavy load, leading to the discontinuous conduction 
</p>
<p>mode previously mentioned. The converter properties are then significantly modified. 
</p>
<p>How an ideal switch can be realized using semiconductor devices depends on the polarity of the 
</p>
<p>voltage that the devices must block in the off state, and on the polarity of the current that the devices </p>
<p/>
</div>
<div class="page"><p/>
<p>64 Switch Realization 
</p>
<p>(a) 
</p>
<p>Fig. 4.2 Buck converter: (a) contammg 
</p>
<p>SPDT switch, (b) containing two SPST 
</p>
<p>switches. 
</p>
<p>(b) 
</p>
<p>L 
</p>
<p>2 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>must conduct in the on state. For example, in the de-de buck converter of Fig. 4.2(b ), switch A must 
</p>
<p>block positive voltage Vg when in the off state, and must conduct positive current iL when in the on state. 
</p>
<p>If, for all intended converter operating points, the current and blocking voltage lie in a single quadrant of 
</p>
<p>the plane as illustrated in Fig. 4.3, then the switch can be implemented in a simple manner using a tran-
</p>
<p>sistor or a diode. Use of single-quadrant switches is common in de-de converters .. Their operation is dis-
</p>
<p>cussed briefly here. 
</p>
<p>In inverter circuits, two-quadrant switches are 
</p>
<p>required. The output current is ac, and hence is some-
</p>
<p>times positive and sometimes negative. If this current 
</p>
<p>flows through the switch, then its current is ac, and the 
</p>
<p>semiconductor switch realization is more complicated. 
</p>
<p>A two-quadrant SPST switch can be realized using a 
</p>
<p>transistor and diode. The dual case also sometimes 
</p>
<p>occurs, in which the switch current is always positive, 
</p>
<p>but the blocking voltage is ac. This type of two-quadrant 
</p>
<p>switch can be constructed using a different arrangement 
</p>
<p>of a transistor and diode. Cycloconverters generally 
</p>
<p>require four-quadrant switches, which are capable of 
</p>
<p>blocking ac voltages and conducting ac currents. Real-
</p>
<p>izations of these elements are also discussed in this 
</p>
<p>chapter. 
</p>
<p>Next, the synchronous rectifier is examined. 
</p>
<p>The reverse-conducting capability of the metal oxide 
</p>
<p>Switch 
on state 
</p>
<p>current 
</p>
<p>Switch 
off state voltage 
</p>
<p>Fig. 4.3 A single-quadrant switch is capable of 
</p>
<p>conducting currents of a single polarity, and of 
</p>
<p>blocking voltages of a single polarity. 
</p>
<p>semiconductor field-effect transistor (MOSFET) allows it to be used where a diode would normally be 
</p>
<p>required. If the MOSFET on-resistance is sufficiently small, then its conduction loss is less than that 
</p>
<p>obtained using a diode. Synchronous rectifiers are sometimes used in low-voltage high-current applica-
</p>
<p>tions to obtain improved efficiency. Several basic references treating single-, two-, and four-quadrant </p>
<p/>
</div>
<div class="page"><p/>
<p>4.1 Switch Applications 65 
</p>
<p>switches are listed at the end of this chapter [1-8]. 
</p>
<p>Several power semiconductor devices are briefly discussed in Section 4.2. Majority-carrier 
</p>
<p>devices, including the MOSFET and Schottky diode, exhibit very fast switching times, and hence are 
preferred when the off state voltage levels are not too high. Minority-carrier devices, including the bipo-
lar junction transistor (BJT), insulated-gate bipolar transistor (IGBT), and thyristors [gate turn-off (GTO) 
and MOS-controlled thyristor (MCT)] exhibit high breakdown voltages with low forward voltage drops, 
</p>
<p>at the expense of reduced switching speed. 
</p>
<p>Having realized the switches using semiconductor devices, switching loss can next be dis-
</p>
<p>cussed. There are a number of mechanisms that cause energy to be lost during the switching transitions 
</p>
<p>[11]. When a transistor drives a clamped inductive load, it experiences high instantaneous power loss 
during the switching transitions. Diode stored charge further increases this loss, during the transistor 
</p>
<p>turn-on transition. Energy stored in certain parasitic capacitances and inductances is lost during switch-
ing. Parasitic ringing, which decays before the end of the switching period, also indicates the presence of 
</p>
<p>switching loss. Switching loss increases directly with switching frequency, and imposes a maximum 
</p>
<p>limit on the operating frequencies of practical converters. 
</p>
<p>4.1 SWITCH APPLICATIONS 
</p>
<p>4.1.1 Single-Quadrant Switches 
</p>
<p>The ideal SPST switch is illustrated in Fig. 4.1. The switch contains power terminals 1 and 0, with cur-
</p>
<p>rent and voltage polarities defined as shown. In the on state, the voltage v is zero, while the current i is 
zero in the off state. There is sometimes a third terminal C, where a control signal is applied. Distinguish-
</p>
<p>ing features of the SPST switch include the control method (active vs. passive) and the region of the i-v 
plane in which they can operate. 
</p>
<p>A passive switch does not contain a 
</p>
<p>control terminal C. The state of the switch is 
</p>
<p>determined by the waveforms i(t) and v(t) 
applied to terminals 0 and l. The most common 
</p>
<p>example is the diode, illustrated in Fig. 4.4. The 
</p>
<p>ideal diode requires that v(t) ~ 0 and i(t) 2:: 0. The 
</p>
<p>diode is off (i = 0) when v &lt; 0, and is on (v = 0) 
when i &gt; 0. It can block negative voltage but not 
positive voltage. A passive SPST switch can be 
</p>
<p>realized using a diode provided that the intended 
</p>
<p>operating points [i.e., the values of v(t) and i(t) 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>0 
</p>
<p>(b) 
</p>
<p>on 
</p>
<p>off v 
</p>
<p>when the switch is in the on and off states]lie on 
the diode characteristic of Fig. 4.4(b). Fig. 4.4 Diode symbol (a), and its ideal characteristic (b). 
</p>
<p>The conducting state of an active 
</p>
<p>switch is determined by the signal applied to the control terminal C. The state does not directly depend 
</p>
<p>on the waveforms v(t) and i(t) applied to terminals 0 and 1. The BJT, MOSFET, IGBT, GTO, and MCT 
are examples of active switches. Idealized characteristics i(t) vs. v(t) for the BJT and IGBT are sketched 
in Fig. 4.5. When the control terminal causes the transistor to be in the off state, i = 0 and the device is 
capable of blocking positive voltage: v 2:: 0. When the control terminal causes the transistor to be in the on 
</p>
<p>state, v = 0 and the device is capable of conducting positive current: i 2:: 0. The reverse-conducting and </p>
<p/>
</div>
<div class="page"><p/>
<p>66 Switch Realization 
</p>
<p>Fig. 4.5 Bipolar junction transistor (BJT) 
</p>
<p>and insulated gate bipolar transistor (IGBT) 
</p>
<p>symbols (a), and their idealized switch 
</p>
<p>characteristics (b). 
</p>
<p>(a) 
</p>
<p>Fig. 4.6 Power MOSFET symbol (a), and 
</p>
<p>its idealized switch characteristics (b). 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>{b) 
</p>
<p>on 
</p>
<p>off v 
</p>
<p>on 
</p>
<p>off v 
</p>
<p>&middot; on 
(reverse conduction) 
</p>
<p>reverse-blocking characteristics of the BJT and IGBT are poor or nonexistent, and have essentially no 
</p>
<p>application in the power converter area. The power MOSFET (Fig. 4.6) has similar characteristics, 
</p>
<p>except that it is able to conduct current in the reverse direction. With one notable exception (the synchro-
</p>
<p>nous rectifier discussed later), the MOSFET is normally operated with i &lt;:: 0, in the same manner as the 
</p>
<p>BJT and IGBT. So an active SPST switch can be realized using a BJT, IGBT, or MOSFET, provided that 
</p>
<p>the intended operating points lie on the transistor characteristic of Fig. 4.5(b ). 
</p>
<p>To determine how to implement an SPST switch using a transistor or diode, one compares the 
</p>
<p>switch operating points with the i-v characteristics of Figs. 4.4(b ), 4.5(b ), and 4.6(b ). For example, when 
</p>
<p>it is intended that the SPDT switch of Fig. 4.2(a) be in position 1, SPST switch A of Fig. 4.2(b) is closed, 
</p>
<p>and SPST switch B is opened. Switch A then conducts the positive inductor current, iA = iu and switch B 
must block negative voltage, v8 = -Vg. Thes.e switch operating points are illustrated in Fig. 4.7. Likewise, 
</p>
<p>when it is intended that the SPDT switch of Fig. 4.2(a) be in position 2, then SPST switch A is opened 
</p>
<p>and switch B is closed. Switch B then conducts the positive inductor current, i8 = iL, while switch A 
blocks positive voltage, VA= Vg. 
</p>
<p>By comparison of the switch A operating points of Fig. 4.7(a) with Figs. 4.5(b) and 4.6(b), it can 
</p>
<p>be seen that a transistor (BJT, IGBT, or MOSFET) could be used, since switch A must block positive 
</p>
<p>voltage and conduct positive current. Likewise, comparison of Fig. 4.7(b) with Fig. 4.4(b) reveals that 
</p>
<p>switch B can be implemented using a diode, since switch B must block negative voltage and conduct pos-
</p>
<p>itive current. Hence a valid switch realization is given in Fig. 4.8. </p>
<p/>
</div>
<div class="page"><p/>
<p>4.1 Switch Applications 67 
</p>
<p>iA 
</p>
<p>Switch A 
on iL 
</p>
<p>Switch 8 
on iL 
</p>
<p>Switch A 
</p>
<p>off 
Switch 8 
</p>
<p>off 
</p>
<p>Fig. 4.7 Operating points of switch A, (a), and switch B, (b), in the buck converter of Fig. 4.2(b). 
</p>
<p>Figure 4.8 is an example of a single-quadrant switch realization: the devices are capable of con-
</p>
<p>ducting current of only one polarity, and blocking voltage of only one polarity. When the controller turns 
</p>
<p>the transistor on, the diode becomes reverse-biased since v8 = -Vg. It is required that Vg be positive; oth-
erwise, the diode will be forward-biased. The transistor conducts current iv This current should also be 
</p>
<p>positive, so that the transistor conducts in the forward direction. 
</p>
<p>When the controller turns the transistor off, the diode must turn on so that the inductor current 
</p>
<p>can continue to flow. Turning the transistor off causes the inductor current i L (t) to decrease. Since 
</p>
<p>vL(t) = L diL(t)!dt, the inductor voltage becomes sufficiently negative to forward-bias the diode, and the 
diode turns on. Diodes that operate in this manner are sometimes called freewheeling diodes. It is 
</p>
<p>required that iL be positive; otherwise, the diode cannot be forward-biased since i8 = iv The transistor 
blocks voltage Vg; this voltage should be positive to avoid operating the transistor in the reverse blocking 
</p>
<p>mode. 
</p>
<p>L 
</p>
<p>Fig. 4.8 Implementation of the SPST switches of Fig. 4.2(b) using a transistor and diode. 
</p>
<p>4.1.2 Current-Bidirectional Two-Quadrant Switches 
</p>
<p>In any number of applications such as dc-ac inverters and servo amplifiers, it is required that the switch-
</p>
<p>ing elements conduct currents of both polarities, but block only positive voltages. A current-bidirectional 
</p>
<p>two-quadrant SPST switch of this type can be realized using a transistor and diode, connected in an anti-
</p>
<p>parallel manner as in Fig. 4.9. 
</p>
<p>The MOSFET of Fig. 4.6 is also a two-quadrant switch. However, it should be noted here that </p>
<p/>
</div>
<div class="page"><p/>
<p>68 Switch Realization 
</p>
<p>Fig. 4.9 A current-bidirectional two-
quadrant SPST switch: (a) implementation 
</p>
<p>using a transistor and antiparallel diode, 
</p>
<p>(b) idealized switch characteristics. 
</p>
<p>Fig. 4.10 The power MOSFET 
inherently contains a built-in 
</p>
<p>body diode: (a) equivalent circuit, 
</p>
<p>(b) addition of external diodes to 
</p>
<p>prevent conduction of body 
</p>
<p>diode. 
</p>
<p>(a) 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>(b) 
</p>
<p>on 
&middot; (transistor conducts) 
</p>
<p>off v 
</p>
<p>on 
(diode conducts) 
</p>
<p>(b) 
</p>
<p>practical power MOSFETs inherently contain a built-in diode, often called the body diode, as illustrated 
</p>
<p>in Fig. 4.10. The switching speed of the body diode is much slower than that of the MOSFET. If the body 
</p>
<p>diode is allowed to conduct, then high peak currents can occur during the diode tum-off transition. Most 
</p>
<p>MOSFETs are riot rated to handle these currents, and device failure can occur. To avoid this situation, 
</p>
<p>external series and antiparallel diodes can be added as in Fig. 4.10(b). Power MOSFETs can be specifi-
</p>
<p>cally designed to have a fast-recovery body diode, and to operate reliably when the body diode is allowed 
</p>
<p>to conduct the rated MOSFET current. However, the switching speed of such body diodes is still some-
</p>
<p>what slow; and significant switching loss due to diode stored charge (discussed later in this chapter) can 
</p>
<p>occur. 
</p>
<p>A SPDT current-bidirectional two-quadrant switch can again be derived using two SPST 
</p>
<p>switches as in Fig. 4.2(b ). An example is given in Fig. 4.11. This converter operates from positive and 
</p>
<p>negative de supplies, and can produce an ac output voltage v(t) having either polarity. Transistor Q2 is 
driven with the complement of the Q1 drive signal, so that Q1 conducts during the first subinterval 
0 &lt; t &lt; DTs, and Q2 conducts during the second subinterval DTs &lt; t &lt; T,. 
</p>
<p>It can be seen from Fig. 4.11 that the switches must block voltage 2Vg. It is required that V8 be 
</p>
<p>positive; otherwise, diodes D1 and D2 will conduct simultaneously, shorting out the source. 
</p>
<p>It can be shown via inductor volt-second balance that 
</p>
<p>(4.1) 
</p>
<p>This equation is plotted in Fig. 4.1 2. The converter output voltage v0 is positive forD &gt; 0.5, and negative 
</p>
<p>forD &lt; 0.5. By sinusoidal variation of the duty cycle, </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 4.11 Inverter circuit 
</p>
<p>using two-quadrant switches. 
</p>
<p>D(t) = 0.5 + D"'sin(rot) 
</p>
<p>4.1 Switch Applications 69 
</p>
<p>-. 
</p>
<p>+ 
</p>
<p>(4.2) 
</p>
<p>with D111 being a constant less that 0.5, the output voltage becomes sinusoidal. Hence this converter could 
be used as a dc-ac inverter. 
</p>
<p>The load current is given by vJR; in equilibrium, this current coincides with the inductor cur-
</p>
<p>rent iv 
</p>
<p>(4.3) 
</p>
<p>The switches must conduct this current. So the switch current is also positive when D &gt; 0.5, and negative 
when D &lt; 0.5. With high-frequency duty cycle variations, the L-C filter may introduce a phase lag into 
the inductor current waveform, but it is nonetheless true that switch currents of both polarities occur. So 
</p>
<p>the switch must operate' in two quadrants of the plane, as illustrated in Fig. 4.13. When iL is positive, Q1 
and D2 alternately conduct. When iL is negative, Q2 and D 1 alternately conduct. 
</p>
<p>A well-known dc-3&cent;ac inverter circuit, the voltage-source inverter (VSI), operates in a similar 
</p>
<p>manner. As illustrated in Fig. 4.14, the VSI contains three two-quadrant SPDT switches, one per phase. 
</p>
<p>These switches block the de input voltage Vg, and must conduct the output ac phase currents ia, ib, and ic, 
</p>
<p>Fig. 4.12 Output voltage vs. duty cycle, for the 
</p>
<p>inverter of Fig. 4.11. This converter can produce Vg 
both positive and negative output voltages. 
</p>
<p>D </p>
<p/>
</div>
<div class="page"><p/>
<p>70 Switch Realization 
</p>
<p>Fig. 4.13 The switches in the inverter of Fig. 4.11 must be 
</p>
<p>capable of conducting both positive and negative current, but 
</p>
<p>need block only positive voltage. 
</p>
<p>+ 
</p>
<p>Fig. 4.14 The dc-3!2!ac voltage-source inverter requires two-quadrant swi tches. 
</p>
<p>respectively. 
</p>
<p>Switch 
on state 
current 
</p>
<p>Switch 
off state 
voltage 
</p>
<p>Another current-bidirectional two-quadrant switch example is the bidirectional battery 
</p>
<p>charger/discharger illustrated in Fig. 4.15. This converter can be used, for example, to interface a battery 
</p>
<p>to the main power bus of a spacecraft. Both the de bus voltage vbus and the battery voltage vbatt are always 
</p>
<p>positive. The semiconductor switch elements block positive voltage vbus&middot; When the battery is being 
</p>
<p>charged, iL is positive, and Q 1 and D2 alternately conduct current. When the battery is being discharged, 
</p>
<p>iL is negative, and Q2 and D 1 alternately conduct. Although this is a de-de converter, it requires two-
quadrant switches because the power can flow in either direction. 
</p>
<p>+ 
</p>
<p>Spacecraft 
main power bus 
</p>
<p>Fig. 4.15 Bidirectional battery charger/discharger, based on the de-de buck converter. 
</p>
<p>+ </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 4.16 Voltage-bidirectional two-quadrant switch 
</p>
<p>properties. 
</p>
<p>Fig. 4.17 A voltage-bidirectional two-quad-
</p>
<p>rant SPST switch: (a) implementation using a 
</p>
<p>transistor and series diode, (b) idealized switch 
</p>
<p>characteristics. 
</p>
<p>(u) 
</p>
<p>4.1.3 Voltage-Bidirectional Two-Quadrant Switches 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>\1 
</p>
<p>4.1 Switch Applications 71 
</p>
<p>Switch 
on state 
current 
</p>
<p>off 
(diode 
blocks voltage) 
</p>
<p>on 
</p>
<p>off 
</p>
<p>Switch 
off state 
voltage 
</p>
<p>\1 
</p>
<p>(transistor 
blocks voltage) 
</p>
<p>Another type of two-quadrant switch, having the voltage-bidirectional properties illustrated in Fig. 4.16, 
</p>
<p>is sometimes required. In applications where the switches must block both positive and negative volt-
</p>
<p>ages, but conduct only positive current, an SPST switch can be constructed using a series-connected tran-
</p>
<p>sistor and diode as in Fig. 4.17. When it is intended that the switch be in the off state, the controller turns 
</p>
<p>the transistor off. The diode then blocks negative voltage, and the transistor blocks positive voltage. The 
</p>
<p>series connection can block negative voltages up to the diode voltage rating, and positive voltages up to 
</p>
<p>the transistor voltage rating. The silicon-controlled rectifier is another example of a voltage-bidirectional 
</p>
<p>two-quadrant switch. 
</p>
<p>A converter that requires this type of two-quadrant switch is the dc-3&cent;ac buck-boost inverter 
</p>
<p>shown in Fig. 4.18 [4]. If the converter functions in inverter mode, so that the inductor current iL(t) is 
</p>
<p>always positive, then all switches conduct only positive current. But the switches must block the output 
</p>
<p>ac line-to-line voltages, which are sometimes positive and sometimes negative. Hence voltage-bidirec-
</p>
<p>tional two-quadrant switches are required. </p>
<p/>
</div>
<div class="page"><p/>
<p>72 Switch Realization 
</p>
<p>iL 
</p>
<p>Fig. 4.18 Dc-30ac buck-boost inverter. 
</p>
<p>4.1.4 Four-Quadrant Switches 
</p>
<p>The most general type of switch is the four-quadrant switch, 
</p>
<p>capable of conducting currents of either polarity and block-
</p>
<p>ing voltages of either polarity, as in Fig. 4.19. There are sev-
</p>
<p>eral ways of constructing a four-quadrant switch. As 
</p>
<p>illustrated in Fig. 4.20(b), two current-bidirectional two-
</p>
<p>quadrant switches described in Section 4.1.2 can be con-
</p>
<p>nected back-to-back. The transistors are driven on and off 
</p>
<p>simultaneously. Another approach is the antiparallel connec-
</p>
<p>tion of two voltage-bidirectional two-quadrant switches 
</p>
<p>described in Section 4.1.3, as in Fig. 4.20(a). A third 
</p>
<p>approach, using only one transistor but additional diodes, is 
</p>
<p>given in Fig. 4.20(c). 
</p>
<p>Cycloconverters are a class of converters requiring 
</p>
<p>four-quadrant switches. For example, a 3&cent;ac-to-3&cent;ac matrix 
</p>
<p>converter is illustrated in Fig. 4.21. Each of the nine SPST 
</p>
<p>switches is realized using one of the semiconductor networks 
</p>
<p>of Fig. 4.20. With proper control of the switches, this con-
</p>
<p>verter can produce a three-phase output of variable fre-
</p>
<p>(a) 
</p>
<p>Fig. 4.20 Three ways of 
</p>
<p>implementing a four-quadrant 
</p>
<p>SPST switch. 
</p>
<p>0 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>Switch 
on state 
current 
</p>
<p>+ 
vab(t) 
</p>
<p>+ 
vbc(t) 
</p>
<p>'~&gt; a 
</p>
<p>q&gt;b 
</p>
<p>'i&gt;c 
</p>
<p>Switch 
off state 
voltage 
</p>
<p>Fig. 4.19 A four-quadrant switch can con-
</p>
<p>duct either polarity of current, and can block 
</p>
<p>either polarity of voltage. 
</p>
<p>(c) 
</p>
<p>+ + 
</p>
<p>v v 
</p>
<p>0 </p>
<p/>
</div>
<div class="page"><p/>
<p>4.1 Switch Applications 73 
</p>
<p>3!1!ac input 3&cent;ac output 
</p>
<p>Fig. 4.21 A 3s&lt;iac-3S'lac matrix converter, which requires nine SPST four-quadrant switches. 
</p>
<p>quency and voltage, from a given three-phase ac input. Note that there are no de signals in this converter: 
</p>
<p>all of the input and output voltages and currents are ac, and hence four-quadrant switches are necessary. 
</p>
<p>4.1.5 Synchronous Rectifiers 
</p>
<p>The ability of the MOSFET channel to conduct current in the reverse direction makes it possible to 
</p>
<p>employ a MOSFET where a diode would otherwise be required. When the MOSFET is connected as in 
</p>
<p>Fig. 4.22(a) [note that the source and drain connections are reversed from the connections of Fig. 4.6(a)], 
</p>
<p>the characteristics of Fig. 4.22(b) are obtained. The device can now block negative voltage and conduct 
</p>
<p>positive current, with properties similar to those of the diode in Fig. 4.4. The MOSFET must be con-
</p>
<p>trolled such that it operates in the on state when the diode would normally conduct, and in the off state 
</p>
<p>when the diode would be reverse-biased. 
</p>
<p>Thus, we could replace the diode in the buck converter of Fig. 4.8 with a MOSFET, as in Fig. 
</p>
<p>4.23. The BJT has also been replaced with a MOSFET in the figure. MOSFET Q2 is driven with the com-
</p>
<p>plement of the Q1 control signal. 
The trend in computer power supplies is reduction of output voltage levels, from 5 V to 3.3 V 
</p>
<p>and lower. As the output voltage is reduced, the diode conduction loss increases; in consequence, the 
</p>
<p>diode conduction loss is easily the largest source of power loss in a 3.3 V power supply. Unfortunately, 
</p>
<p>the diode junction contact potential limits what can be done to reduce the forward voltage drop of diodes. 
</p>
<p>Schottky diodes having reduced junction potential can be employed; nonetheless, low-voltage power 
</p>
<p>Fig. 4.22 Power MOSFET connected as 
</p>
<p>a synchronous rectifier, (a), and its ideal&middot; 
</p>
<p>ized switch characteristics, (b). 
</p>
<p>(a) 
</p>
<p>0 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>on 
(reverse conduction) 
</p>
<p>off v 
</p>
<p>on </p>
<p/>
</div>
<div class="page"><p/>
<p>74 Switch Realization 
</p>
<p>Fig. 4.23 Buck converter, implemented using a synchronous rectifier. 
</p>
<p>supplies containing diodes that conduct the output current must have low efficiency. 
</p>
<p>A solution is to replace the diodes with MOSFETs operated as synchronous rectifiers. The con-
</p>
<p>duction loss of a MOSFET having on-resistance R011 and operated with rms current is Inns' is Inn} R011 &bull; 
</p>
<p>The on-resistance can be decreased by use of a larger MOSFET. So the conduction loss can be reduced 
</p>
<p>as low as desired, if one is willing to pay for a sufficiently large device. Synchronous rectifiers find wide-
</p>
<p>spread use in low-voltage power supplies. 
</p>
<p>4.2 A BRIEF SURVEY OF POWER SEMICONDUCTOR DEVICES 
</p>
<p>The most fundamental challenge in power semiconductor design is obtaining a high breakdown voltage, 
</p>
<p>while maintaining low forward voltage drop and on-resistance. A closely related issue is the longer 
</p>
<p>switching times of high-voltage low-on-resistance devices. The tradeoff between breakdown voltage, 
</p>
<p>on-resistance, and switching times is a key distinguishing feature of the various power devices. 
</p>
<p>The breakdown voltage of a reverse-biased p-n junction and its associated depletion region is a 
</p>
<p>function of doping level: obtaining a high breakdown voltage requires low doping concentration, and 
</p>
<p>hence high resistivity, in the material on at least one side of the junction. This high-resistivity region is 
</p>
<p>usually the dominant contributor to the on-resistance of the device, and hence high-voltage devices must 
</p>
<p>have higher on-resistance than low-voltage devices. In majority carrier devices, including the MOSFET 
</p>
<p>and Schottky diode, this accounts for the first-order dependence of on-resistance on rated voltage. How-
</p>
<p>ever, minority carrier devices, including the diffused-junction p-n diode, the bipolar junction transistor 
</p>
<p>(BJT), the insulated-gate bipolar transistor (IGBT), and the thyristor family (SCR, GTO, MCT), exhibit 
</p>
<p>another phenomenon known as conductivity modulation. When a minority-carrier device operates in the 
</p>
<p>on state, minority carriers are injected into the lightly doped high-resistivity region by the forward-biased 
</p>
<p>p-n junction. The resulting high concentration of minority carriers effectively reduces the apparent resis-
</p>
<p>tivity of the region, reducing the on-resistance of the device. Hence, minority-carrier devices exhibit 
</p>
<p>lower on-resistances than comparable majority-carrier devices. 
</p>
<p>However, the advantage of decreased on-resistance in minority-carrier devices comes with the 
</p>
<p>disadvantage of decreased switching speed. The conducting state of any semiconductor device is con-
</p>
<p>trolled by the presence or absence of key charge quantities within the device, and the turn-on and turn-off 
</p>
<p>switching times are equal to the times required to insert or remove this controlling charge. Devices oper-
</p>
<p>ating with conductivity modulation are controlled by their injected minority carriers. The total amount of 
</p>
<p>controlling minority charge in minority-carrier devices is much greater than the charge required to con-
</p>
<p>trol an equivalent majority-carrier device. Although the mechanisms for inserting and removing the con-
</p>
<p>trolling charge of the various devices can differ, it is nonetheless true that, because of their large amounts 
</p>
<p>of minority charge, minority-carrier devices exhibit switching times that are significantly longer than 
</p>
<p>those of majority-carrier devices. In consequence, majority-carrier devices find application at lower volt-</p>
<p/>
</div>
<div class="page"><p/>
<p>4.2 A Brief Survey of Power Semiconductor Devices 75 
</p>
<p>age levels and higher switching frequencies, while the reverse is true of minority-carrier devices. 
</p>
<p>Modem power devices are fabricated using up-to-date processing techniques. The resulting 
</p>
<p>small feature size allows construction of highly interdigitated devices, whose unwanted parasitic ele-
</p>
<p>ments are less significant. The resulting devices are more rugged and well-behaved than their predeces-
</p>
<p>sors. 
</p>
<p>A detailed description of power semiconductor device physics and switching mechanisms is 
</p>
<p>beyond the scope of this book. Selected references on power semiconductor devices are listed in the ref-
</p>
<p>erence section [9-19] . 
</p>
<p>4.2.1 Power Diodes 
</p>
<p>As discussed above, the diffused-junction p-n diode contains a lightly doped or intrinsic high-resistivity 
</p>
<p>region, which allows a high breakdown voltage to be obtained. As illustrated in Fig. 4 .24(a), this region 
</p>
<p>comprises one side of the p- n- junction (denoted n- ); under reverse-biased conditions, essentially all of 
</p>
<p>the applied voltage appears ~cross the depletion region inside then- region . On-state conditions are illus-
</p>
<p>trated in Fig. 4.24(b). Holes are injected across the forward-biased junction, and become minority carri-
</p>
<p>ers in the n- region. These minority carriers effectively reduce the apparent resistivity of then- region via 
</p>
<p>conductivity modulation. Essentially all of the forward current i(t) is comprised of holes that diffuse 
</p>
<p>across the p- n region, and then recombine with electrons from the n region. 
</p>
<p>Typical switching waveforms are illustrated in Fig. 4 .25. The famil iar exponential i-v character-
</p>
<p>Fig. 4.24 Power diode: (a) under 
reverse-bias conditions, (b) under 
</p>
<p>forward-bias conditions. 
</p>
<p>(a) 
</p>
<p>-
</p>
<p>(b) 
</p>
<p>{ 
</p>
<p>.__v 
v 
</p>
<p>~ 
1.:: 
</p>
<p>v 
</p>
<p>I+ 
</p>
<p>Low doping concemration 
</p>
<p>p ~~-
</p>
<p>0 
0 
</p>
<p>0 
E 
</p>
<p>- v + 
</p>
<p>Depletion region. reverse-biased 
</p>
<p>v 
</p>
<p>+I 
</p>
<p>Conduc1ivity modulmion 
</p>
<p>p 11' 
</p>
<p>0 0 
0 0 
</p>
<p>0 0 
</p>
<p>-Minority carrier injection 
</p>
<p>--
-
</p>
<p>11 
</p>
<p>0 
</p>
<p>0 r-
</p>
<p>0 
</p>
<p>11 
</p>
<p>r- 0 
r- 0 r-
</p>
<p>r- 0 </p>
<p/>
</div>
<div class="page"><p/>
<p>76 Switch Realization 
</p>
<p>Fig. 4.25 Diode voltage and 
</p>
<p>current waveforms. Interval (1 ): 
</p>
<p>off state. Interval (2): turn-on 
transition. Interval (3): on state. 
</p>
<p>Intervals (4) and (5): turn-off 
</p>
<p>transition. Interval (6): off state. 
</p>
<p>v(r) 
</p>
<p>i(t) 
</p>
<p>0 
</p>
<p>(6) 
</p>
<p>is tic of the p-n diode is an equilibrium relation. During transients, significant deviations from the expo-
</p>
<p>nential characteristic are observed; these deviations are associated with changes in the stored minority 
</p>
<p>charge. As illustrated in Fig. 4.25, the diode operates in the off state during interval (1), with zero current 
</p>
<p>and negative voltage. At the beginning of interval (2), the current increases to some positive value. This 
</p>
<p>current charges the effective capacitance of the reverse-biased diode, supplying charge to the depletion 
</p>
<p>region and increasing the voltage v(t). Eventually, the voltage becomes positive, and the diode junction 
</p>
<p>becomes forward-biased. The voltage may rise to a peak value of several volts, or even several tens of 
</p>
<p>volts, reflecting the somewhat large resistance of the lightly doped n- region. The forward-biased p-n-
junction continues to inject minority charge into the n- region. As the total minority charge in the n-
</p>
<p>region increases, conductivity modulation of then- region causes its effective resistance to decrease, and 
</p>
<p>hence the forward voltage drop v(t) also decreases. Eventually, the diode reaches equilibrium, in which 
</p>
<p>the minority carrier injection rate and recombination rate are equal. During interval (3), the diode oper-
</p>
<p>ates in the on state, with forward voltage drop given by the diode static i-v characteristic. 
</p>
<p>The turn-off transient is initiated at the beginning of interval (4). The diode remains forward-
</p>
<p>biased while minority charge is present in the vicinity of the diode p- n- junction. Reduction of the stored 
</p>
<p>minority charge can be accomplished either by active means, via negative terminal current, or by passive 
</p>
<p>means, via recombination. Normally, both mechanisms occur simultaneously. The charge Q, contained 
in the negative portion of the diode turn-off cmTent waveform is called the recovered charge. The portion 
</p>
<p>of Q, occurring during interval (4) is actively-removed minority charge. At the end of interval (4), the 
stored minority charge in the vicinity of the p- n- junction has been removed, such that the diode junction 
</p>
<p>becomes reverse-biased and is able to block negative voltage. The depletion region effective capacitance 
</p>
<p>is then charged during interval (5) to the negative off-state voltage. The portion of Q, occurring during 
interval (5) is charge supplied to the depletion region, as well as minmity charge that is actively removed 
</p>
<p>from remote areas of the diode. At the end of interval (5), the diode is able to block the entire applied 
</p>
<p>reverse voltage. The length of intervals (4) and (5) is called the reverse recovery time tr. During interval 
</p>
<p>( 6), the diode operates in the off state. The diode tum-off transition, and its influence on switching loss in 
</p>
<p>a PWM converter, is discussed further in Section 4.3.2. </p>
<p/>
</div>
<div class="page"><p/>
<p>4.2 A Brief Survey of Power Semiconductor Devices 77 
</p>
<p>Table 4.1 Characteristics of several commercial power rectifier diodes 
</p>
<p>Part number 
Rated maximum Rated average 
</p>
<p>VF (typical) t, (max) 
voltage current 
</p>
<p>Fast recovery rectifiers 
</p>
<p>1N3913 400V 30A l.lV 400 ns 
</p>
<p>SD453N25S20PC 2500V 400A 2.2V 3 JlS 
</p>
<p>Ultra-fast recovery rectifiers 
</p>
<p>MUR815 150V SA 0.975 v 35 ns 
MUR1560 600V 15A 1.2 v 60 ns 
RHRU100120 1200V lOOA 2.6V 60 ns 
</p>
<p>Schottky rectifiers 
</p>
<p>MBR6030L 30V 60A 0.48V 
</p>
<p>444CNQ045 45V 440A 0.69V 
</p>
<p>30CPQ150 150V 30A 1.19V 
</p>
<p>Diodes are rated according to the length of their reverse recovery time tr. Standard recovery rec-
</p>
<p>tifiers are intended for 50 Hz or 60Hz operation; reverse recovery times of these devices are usually not 
</p>
<p>specified. Fast recovery rectifiers and ultrafast recovery rectifiers are intended for use in converter appli-
</p>
<p>cations. The reverse recovery timet,, and sometimes also the recovered charge Q,, are specified by man-
ufacturers of these devices. Ratings of several commercial devices are listed in Table 4.1. 
</p>
<p>Schottky diodes are essentially majority-carrier devices whose operation is based on the rectify-
</p>
<p>ing characteristic of a metal-semiconductor junction. These devices exhibit negligible minority stored 
</p>
<p>charge, and their switching behavior can be adequately modeled simply by their depletion-region capac-
</p>
<p>itance and equilibrium exponential i-v characteristic. Hence, an advantage of the Schottky diode is its 
</p>
<p>fast switching speed. An even more important advantage of Schottky diodes is their low forward voltage 
</p>
<p>drops, especially in devices rated 45 V or less. Schottky diodes are restricted to low breakdown voltages; 
</p>
<p>very few commercial devices are rated to block 100 V or more. Their off-state reverse currents are con-
</p>
<p>siderably higher than those of p-n junction diodes. Characteristics of several commercial Schottky recti-
</p>
<p>fiers are also listed in Table 4.1. 
</p>
<p>Another important characteristic of a power semiconductor device is whether its on-resistance 
</p>
<p>and forward voltage drop exhibit a positive temperature coefficient. Such devices, including the MOS-
</p>
<p>FET and IGBT, are advantageous because multiple chips can be easily paralleled, to obtain high-current 
</p>
<p>modules. These devices also tend to be more rugged and less susceptible to hot-spot formation and sec-
</p>
<p>ond-breakdown problems. Diodes cannot be easily connected in parallel, because of their negative tem-
</p>
<p>perature coefficients: an imbalance in device characteristics may cause one diode to conduct more 
</p>
<p>current than the others. This diode becomes hotter, which causes it to conduct even more of the total cur-
</p>
<p>rent. In consequence, the current does not divide evenly between the paralleled devices, and the current 
</p>
<p>rating of one of the devices may be exceeded. Since BJTs and thyristors are controlled by a diode junc-
</p>
<p>tion, these devices also exhibit negative temperature coefficients and have similar problems when oper-
</p>
<p>ated in parallel. Of course, it is possible to parallel any type of semiconductor device; however, use of 
</p>
<p>matched devices, a common thermal substrate, and/or external circuitry may be required to cause the on-
</p>
<p>state currents of the devices to be equal. </p>
<p/>
</div>
<div class="page"><p/>
<p>78 Switch Realization 
</p>
<p>Fig. 4.26 Cross-section of DMOS n-channel 
</p>
<p>power MOSFET structure. Crosshatched regions 
</p>
<p>are metallized contacts. Shaded regions are insu-
</p>
<p>lating silicon dioxide layers. 
</p>
<p>n 
'777777777777771777777777777777 
</p>
<p>Drain 
</p>
<p>4.2.2 Metal Oxide Semiconductor Field-Effect Transistor (MOSFET) 
</p>
<p>The power MOSFET is a modern power semiconductor device having gate lengths close to one micron. 
</p>
<p>The power device is comprised of many small parallel-connected enhancement-mode MOSFET cells, 
</p>
<p>which cover the surface of the silicon die. A cross-section of one cell is illustrated in Fig. 4.26. Current 
</p>
<p>flows vertically through the silicon wafer: the metallized drain connection is made on the bottom of the 
</p>
<p>chip, while the metallized source connection and polysilicon gate are on the top surface. Under normal 
</p>
<p>operating conditions, in which v ds ~ 0, both the p-n and p-n- junctions are reverse-biased. Figure 4.27(a) 
</p>
<p>illustrates operation of the device in the off state. The applied drain-to-source voltage then appears across 
</p>
<p>the depletion region of the p- n- junction. Then- region is lightly doped, such that the desired breakdown 
</p>
<p>voltage rating is attained. Figure 4.27(b) illustrates operation in the on state, with a sufficiently large pos-
</p>
<p>itive gate-to-source voltage. A channel then forms at the surface of the p region, underneath the gate. The 
</p>
<p>drain current flows through then- region, channel, n region, and out through the source contact. The on-
</p>
<p>resistance of the device is the sum of the resistances of the n- region, the channel, the source and drain 
</p>
<p>contacts, etc. As the breakdown voltage is increased, the on-resistance becomes dominated by the resis-
</p>
<p>tance of the n- region. Since there are no minority carriers to cause conductivity modulation, the on-
</p>
<p>resistance increases rapidly as the breakdown voltage is increased to several hundred volts and beyond. 
</p>
<p>The p- n- junction is called the body diode; as illustrated in Fig. 4.27(c), this junction forms an 
</p>
<p>effective diode in parallel with the MOSFET channel. The body diode can become forward-biased when 
</p>
<p>the drain-to-source voltage v,b.(t) is negative. This diode is capable of conducting the full rated current of 
</p>
<p>the MOSFET. However, most MOSFETs are not optimized with respect to the speed of their body 
</p>
<p>diodes, and the large peak currents that flow during the reverse recovery transition of the body diode can 
</p>
<p>cause device failure. Several manufacturers produce MOSFETs that contain fast recovery body diodes; 
</p>
<p>these devices are rated to withstand the peak currents during the body diode reverse recovery transition. 
</p>
<p>Typical n-channel MOSFET static switch characteristics are illustrated in Fig. 4.28. The drain 
</p>
<p>current is plotted as a function of the gate-to-source voltage, for various values of drain-to-source volt-
</p>
<p>age. When the ~a te-to- so urce voltage is less than the threshold voltage V1h, the device operates in the off 
</p>
<p>state. A typical value of V1h is 3 V. When the gate-to-source voltage is greater than 6 or 7 V, the device 
</p>
<p>operates in the on state; typically, the gate is driven to 12 or 15 V to ensure minimization of the forward 
</p>
<p>voltage drop. In the on state, the drain-to-source voltage VDs is roughly proportional to the drain current </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 4.27 Operation of the power 
</p>
<p>MOSFET: (a) in the off state, vds 
</p>
<p>appears across the depletion region in 
</p>
<p>the n- region; (b) current flow through 
</p>
<p>the conducting channel in the on state; 
</p>
<p>(c) body diode due to the p- n- junction. 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>(c) 
</p>
<p>4.2 A Brief Survey of Power Semiconductor Devices 79 
</p>
<p>Depletio11 region 
</p>
<p>n 
</p>
<p>Channel 
</p>
<p>n 
</p>
<p>Drain 
</p>
<p>II 
</p>
<p>' 72777777777772{727777777777777 
</p>
<p>b Drain 
</p>
<p>!D. The MOSFET is able to conduct peak currents well in excess of its average current rating, and the 
</p>
<p>nature of the static characteristics is unchanged at high current levels. Logic-level power MOSFETs are 
</p>
<p>also available, which operate in the on state with a gate-to-source voltage of 5 V. A few p-channel devices 
</p>
<p>can be obtained, but their properties are inferior to those of equivalent n-channel devices. 
</p>
<p>The on-resistance and forward voltage drop of the MOSFET have a positive temperature coeffi-
</p>
<p>cient. This property makes it reliHively easy to parallel devices. High current MOSFET modules are 
</p>
<p>available, containing several parallel-connect chips. 
</p>
<p>The major capacitances of the MOSFET are illustrated in Fig. 4.29. This model is sufficient for </p>
<p/>
</div>
<div class="page"><p/>
<p>80 Switch Realization 
</p>
<p>Fig. 4.28 Typical static characteristics 
</p>
<p>of a power MOSFET. Drain current ID is 
</p>
<p>lOA 
</p>
<p>plotted vs. gate-to-source voltage V05 , 5 A 
</p>
<p>for various values of drain-to-source 
</p>
<p>voltage V Ds&middot; 
</p>
<p>ov 5V IOV 15 v 
Vcs 
</p>
<p>qualitative understanding of the MOSFET switching behavior; more accurate models account for the 
</p>
<p>parasitic junction field-effect transistor inherent in the DMOS geometry. Switching times of the MOS-
</p>
<p>FET are determined essentially by the times required for the gate driver to charge these capacitances. 
</p>
<p>Since the drain current is a function of the gate-to-source voltage, the rate at which the drain current 
</p>
<p>changes is dependent on the rate at which the gate-to-source capacitance is charged by the gate drive cir-
</p>
<p>cuit. Likewise, the rate at which the drain voltage changes is a function of the rate at which the gate-to-
</p>
<p>drain capacitance is charged. The drain-to-source capacitance leads directly to switching loss in PWM 
</p>
<p>converters, since the energy stored in this capacitance is lost during the transistor tum-on transition. 
</p>
<p>Switching loss is discussed in Section 4.3. 
</p>
<p>The gate-to-source capacitance is essentially linear. However, the drain-to-source and gate-to-
</p>
<p>drain capacitances are strongly nonlinear: these incremental capacitances vary as the inverse square root 
</p>
<p>of the applied capacitor voltage. For example, the dependence of the incremental drain-to-source capaci-
</p>
<p>tance can be written in the form 
</p>
<p>(4.4) 
</p>
<p>where C0 and V0 are constants that depend on the construction of the device. These capacitances can eas-
</p>
<p>ily vary by several orders of magnitude as v ds varies over its normal operating range. For v ds ::;;&gt; V0, Eq. 
</p>
<p>Fig. 4.29 MOSFET equivalent circuit which accounts for the body 
</p>
<p>diode and effective terminal capacitances. 
</p>
<p>D 
</p>
<p>s </p>
<p/>
</div>
<div class="page"><p/>
<p>4.2 A Brief Survey of Power Semiconductor Devices 81 
</p>
<p>Table 4.2 Characteristics of several commercial n-channel power MOSFETs 
</p>
<p>Part number 
Rated maximum Rated average 
</p>
<p>Ron Qg (typical) voltage current 
</p>
<p>IRFZ48 60V SOA 0.018 Q 110nC 
</p>
<p>IRF510 lOOV 5.6A 0.54Q 8.3 nC 
</p>
<p>IRF540 lOOV 28A 0.077 Q 72 nC 
</p>
<p>APTl OM25BNR lOOV 75A 0.025 Q 171 nC 
</p>
<p>IRF740 400V lOA 0.55 Q 63 nC 
</p>
<p>MTM15N40E 400V 15A 0.3Q 110 nC 
</p>
<p>APT5025BN 500V 23A 0.25Q 83 nC 
</p>
<p>APTlOOlRBNR lOOOV 11 A l.OQ 150nC 
</p>
<p>(4.4) can be approximated as 
</p>
<p>' fff co (4.5) 
Cd/vds)"' Co == {V;;; 
</p>
<p>vds 
</p>
<p>These expressions are used in Section 4.3.3 to determine the switching loss due to energy stored in Cds&middot; 
</p>
<p>Characteristics of several commercially available power MOSFETs are listed in Table 4.2. The 
</p>
<p>gate charge Q8 is the charge that the gate drive circuit must supply to the MOSFET to raise the gate volt-
</p>
<p>age from zero to some specified value (typically 10 V), with a specified value of off state drain-to-source 
</p>
<p>voltage (typically 80% of the rated VDs)&middot; The total gate charge is the sum of the charges on the gate-to-
</p>
<p>drain and the gate-to-source capacitance. The total gate charge is to some extent a measure of the size 
</p>
<p>and switching speed of the MOSFET. 
</p>
<p>Unlike other power devices, MOSFETs are usually not selected on the basis of their rated aver-
</p>
<p>age current. Rather, on-resistance and its influence on conduction loss are the limiting factors, and MOS-
</p>
<p>FETs typically operate at average currents somewhat less than the rated value. 
</p>
<p>MOSFETs are usually the device of choice at voltages less than or equal to approximately 400 
</p>
<p>to 500 V. At these voltages, the forward voltage drop is competitive or superior to the forward voltage 
</p>
<p>drops of minority-carrier devices, and the switching speed is significantly faster. Typical switching times 
</p>
<p>are in the range 50 ns to 200 ns. At voltages greater than 400 to 500 V, minority-carrier devices having 
</p>
<p>lower forward voltage drops, such as the IGBT, are usually preferred. The only exception is in applica-
</p>
<p>tions where the high switching speed overrides the increased cost of silicon required to obtain acceptably 
</p>
<p>low conduction loss. 
</p>
<p>4.2.3 Bipolar Junction Transistor (BJT) 
</p>
<p>A cross-section of an NPN power BJT is illustrated in Fig. 4.30. As with other power devices, 
</p>
<p>current flows vertically through the silicon wafer. A lightly doped n- region is inserted in the collector, to 
</p>
<p>obtain the desired voltage breakdown rating. The transistor operates in the off state (cutoff) when the p-n 
</p>
<p>base-emitter junction and the p-n- base-collector junction are reverse-biased; the applied collector-to-
</p>
<p>emitter voltage then appears essentially across the depletion region of the p-n- junction. The transistor 
</p>
<p>operates in the on state (saturation) when both junctions are forward-biased; substantial minority charge 
</p>
<p>is then present in the p and n- regions. This minority charge causes the n- region to exhibit a low on-</p>
<p/>
</div>
<div class="page"><p/>
<p>82 Switch Realization 
</p>
<p>Fig. 4.30 Power BJT structure. Crosshatched 
</p>
<p>regions are metallized contacts. 
</p>
<p>n 
</p>
<p>'222222222222221'::~:,::22222222 
</p>
<p>resistance via the conductivity modulation effect. Between the off state and the on state is the familiar 
</p>
<p>active region, in which the p-n base-emitter junction is forward-biased and the p-n- base-collector junc-
</p>
<p>tion is reverse-biased. When the BJT operates iri the active region, the collector current is proportional to 
</p>
<p>the base region minority charge, which in tum is proportional (in equilibrium) to the base current. There 
</p>
<p>is in addition a fourth region of operation known as quasi-saturation, occurring between the active and 
</p>
<p>saturation regions. Quasi-saturation occurs when the base current is insufficient to fully saturate the 
</p>
<p>device; hence, the minority charge present in the n- region is insufficient to fully reduce the n- region 
</p>
<p>resistance, and high transistor on-resistance is observed. 
</p>
<p>Consider the simple switching circuit of Fig. 4.31. Fig-
</p>
<p>ure 4.32 contains waveforms illustrating the BJT tum-on and 
</p>
<p>tum-off transitions. The transistor operates in the off state dur-
</p>
<p>ing interval (1), with the base-emitter junction reverse-biased by 
</p>
<p>the source voltage v .(t) =- v.1&bull; The tum-on transition is initiated 
at the beginning of interval (2), when the source voltage changes 
</p>
<p>to v.(t) = + v.2&bull; Positive current is then supplied by source v. to 
the base of the BIT. This current first charges the capacitances of 
</p>
<p>the depletion regions of the reverse-biased base-emitter and 
</p>
<p>base-collector junctions. At the end of interval (2), the base-
</p>
<p>emitter voltage exceeds zero sufficiently for the base-emitter v.(t) 
</p>
<p>junction to become forward-biased. The length of interval (2) is 
</p>
<p>called the tum-on delay time. During interval (3), minority 
</p>
<p>charge is injected across the base-emitter junction from the 
</p>
<p>+ 
</p>
<p>emitter into the base region; the collector current is proportional Fig. 4.31 Circuit for BJT switching 
</p>
<p>to this minority base charge. Hence during interval (3), the col- time example. 
</p>
<p>lector current increases. Since the transistor drives a resistive 
</p>
<p>load Rv the collector voltage also decreases during interval (3). This causes the voltage to reduce across 
</p>
<p>the reverse-biased base-collector depletion region (Miller) capacitance. Increasing the base current IBI 
</p>
<p>(by reducing R8 or increasing V s2) increases the rate of change of both the base region minority charge 
</p>
<p>and the charge in the Miller capacitance. Hence, increased 181 leads to a decreased tum-on switching 
</p>
<p>time. 
</p>
<p>Near or at the end of interval (3), the base-collector p-n- junction becomes forward-biased. 
</p>
<p>Minority carriers are then injected into the n- region, reducing its effective resistivity. Depending on the 
</p>
<p>device geometry and the magnitude of the base current, a voltage tail [interval (4)] may be observed as </p>
<p/>
</div>
<div class="page"><p/>
<p>4.2 A Brief Survey of Power Semiconductor Devices 83 
</p>
<p>0.7V 
</p>
<p>-V 1--v 
sl 
</p>
<p>:""..,.__! -
</p>
<p>0 
</p>
<p>!---=----{r! 
j ~ 
</p>
<p>~I 
0 I INI ): ! ! 
</p>
<p>(1) (2) ! (3) (4) (5) i (6) (7) i (8) (9) 
Fig. 4.32 BJT turn-on and turn-off transition waveforms. 
</p>
<p>the apparent resistance of then- region decreases via conductivity modulation. The BIT reaches on-state 
equilibrium at the beginning of interval (5), with low on-resistance and with substantial minority charge 
</p>
<p>present in both the n- and p regions. This minority charge significantly exceeds the amount necessary to 
support the active region conduction of the collector current Icon; its magnitude is a function of 
181 -leo/~. where~ is the active-region current gain. 
</p>
<p>The tum-off process is initiated at the beginning of interval (6), when the source voltage 
</p>
<p>changes to v .(t) = - v.,. The base-emitter junction remains forward-biased as long as minority carriers 
are present in its vicinity. Also, the collector current continues to be ic(t) = Icon as long as the minority </p>
<p/>
</div>
<div class="page"><p/>
<p>84 Switch Realization 
</p>
<p>Fig. 4.33 Ideal base current waveform for minimi-
zation of switching times. 
</p>
<p>:u 
0 
</p>
<p>charge exceeds the amount necessary to support the active region conduction of Icon' that is, as long as 
</p>
<p>excess charge is present. So during interval (6), a negative base current flows equal to 
</p>
<p>- ls2 = (- V51 - vBE(t))IRs- This negative base current actively removes the total stored minority charge. 
</p>
<p>Recombination further reduces the stored minority charge. Interval (6) ends when all of the excess 
</p>
<p>minority charge has been removed. The length of interval (6) is called the storage time. During interval 
</p>
<p>(7), the transistor operates in the active region. The collector current ic(t) is now proportional to the 
</p>
<p>stored minority charge. Recombination and the negative base current continue to reduce the minority 
</p>
<p>base charge, and hence the collector current decreases. In addition, the collector voltage increases, and 
</p>
<p>hence the base current must charge the Miller capacitance. At the end of interval (7), the minority stored 
</p>
<p>charge is equal to zero, and the base-emitter junction can become reverse-biased. The length of interval 
</p>
<p>(7) is called the tum-off time or fall time. During interval (8), the reverse-biased base-emitter junction 
</p>
<p>capacitance is discharged to voltage - V51 &bull; During interval (9), the transistor operates in equilibrium, in 
</p>
<p>the off state. 
</p>
<p>It is possible to tum the transistor off using ls2 = 0; for example, we could let V51 be approxi-
</p>
<p>mately zero. However, this leads to very long storage and turn-off switching times. If ls2 = 0, then all of 
</p>
<p>the stored minority charge must be removed passively, via recombination. From the standpoint of mini-
</p>
<p>mizing switching times, the base current waveform of Fig. 4.33 is ideal. The initial base current /BI is 
</p>
<p>large in magnitude, such that charge is inserted quickly into the base, and the turn-on switching times are 
</p>
<p>short. A compromise value of equilibrium on state current /Bon is chosen, to yield a reasonably low col-
</p>
<p>lector-to-emitter forward voltage drop, while maintaining moderate amounts of excess stored minority 
</p>
<p>charge and hence keeping the storage time reasonably short. The current- IB2 is large in magnitude, such 
</p>
<p>that charge is removed quickly from the base and hence the storage and tum-off switching times are min-
</p>
<p>imized. 
</p>
<p>Unfortunately, in most BJTs, the magnitudes of IBI and Is2 must be limited because excessive 
</p>
<p>values lead to device failure. As illustrated in Fig. 4.34, the base current flows laterally through the p 
</p>
<p>Fig. 4.34 A large /82 leads to focusing of the 
emitter current away from the base contacts, due 
to the voltage induced by the lateral base region 
</p>
<p>current. </p>
<p/>
</div>
<div class="page"><p/>
<p>4.2 A Brief Survey of Power Semiconductor Devices 85 
</p>
<p>region. This current leads to a voltage drop in the resistance of the p material , which influences the volt-
</p>
<p>age across the base-emitter junction. During the tum-off transition, the base current- 182 causes the base-
</p>
<p>. emitter junction voltage to be greater in the center of the base region, and smaller at the edges near the 
</p>
<p>base contacts. This causes the collector current to focus near the center of the base region. In a similar 
</p>
<p>fashion, a large /81 causes the collector current to crowd near the edges of the base region during the 
</p>
<p>tum-on transition. Since the collector-to-emitter voltage and collector current are simultaneously large 
</p>
<p>during the switching transitions, substantial power loss can be associated with current focusing. Hence 
</p>
<p>hot spots are induced at the center or edge of the base region. The positive temperature coefficient of the 
</p>
<p>base-emitter junction current (corresponding to a negative temperature coefficient of the junction volt-
</p>
<p>age) can then lead to thermal runaway and device failure. Thus, to obtain reliable operation, it may be 
</p>
<p>necessary to limit the magnitudes of 181 and 182&bull; It may also be necessary to add external snubber net-
</p>
<p>works which the reduce the instantaneous transistor power dissipation during the switching transitions. 
</p>
<p>Steady-state characteristics of the BJT are illustrated in Fig. 4.35. In Fig. 4.35(a), the collector 
</p>
<p>current I c is plotted as a function of the base current 18 , for various values of collector -to-emitter voltage 
Vee&middot; The cutoff, active, quasi-saturation, and saturation regions are identified. At a given collector cur-
</p>
<p>(a) 
</p>
<p>lOA 
</p>
<p>Saturation region 
</p>
<p>SA --------V Cl&gt; = 0.5 V 
</p>
<p>~-----------veE= 0.2 V 
</p>
<p>SA lOA 
</p>
<p>(b) 
</p>
<p>Increasing /8 
</p>
<p>Fig. 4.35 BIT static characteristics: (a) f c vs. /8 , illustrating the regions of operation; (b) I c vs. VeE&bull; illustrating 
</p>
<p>voltage breakdown characteristics. </p>
<p/>
</div>
<div class="page"><p/>
<p>86 Switch Realization 
</p>
<p>rent /0 to operate in the saturation region with minimum forward voltage drop, the base current 18 must 
</p>
<p>be sufficiently large. The slope dlcld/8 in the active region is the current gain p. It can be seen that P 
decreases at high current-near the rated current of the BJT, the current gain decreases rapidly and hence 
</p>
<p>it is difficult to fully saturate the device. Collector current lc is plotted as a function of collector-to-emit-
</p>
<p>ter voltage VCE in Fig. 4.35(b), for various values of 18 . The breakdown voltages BV,.s, BVcEO' and 
</p>
<p>BV cso are illustrated. BV cso is the avalanche breakdown voltage of the base-collector junction, with the 
</p>
<p>emitter open-circuited or with sufficiently negative base current. BVCEo is the somewhat smallercollec-
</p>
<p>tor-emitter breakdown voltage observed when the base current is zero; as avalanche breakdown is 
</p>
<p>approached, free carriers are created that have the same effect as a positive base current and that cause 
</p>
<p>the breakdown voltage to be reduced. BVsus is the breakdown voltage observed with positive base cur-
</p>
<p>rent. Because of the high instantaneous power dissipation, breakdown usually results in destruction of 
</p>
<p>the BJT. In most applications, the off state transistor voltage must not exceed BVCEo&middot; 
</p>
<p>High-voltage BJTs typically have low current gain, and 
</p>
<p>hence Darlington-connected devices (Fig; 4.36) are common. If tran-
</p>
<p>sistors Q1 and Q2 have current gains P1 and P2, respectively, then the 
Darlington-connected device has the substantially increased current 
</p>
<p>gain P1 + P2 + P1P2. In a monolithicDarlington device, transistors Q1 
and Q2 are integrated on the same silicon wafer. Diode D1 speeds up 
the tum-off process, by allowing the base driver to actively remove 
</p>
<p>the stored charge of both Q1 and Q2 during the tum-off transition. 
</p>
<p>At voltage levels below 500 V, the BJT has been almost 
</p>
<p>entirely replaced by the MOSFET in power applications. It is also 
being displaced in higher voltage applications, where new designs 
</p>
<p>utilize faster IGBTs or other devices. 
</p>
<p>4.2.4 Insulated Gate Bipolar Transistor (IGBT) 
</p>
<p>Fig. 4.36 Darlington-connected 
</p>
<p>BJTs, including diode for improve-
</p>
<p>ment of turn-off times. 
</p>
<p>A cross-section of the IGBT is illustrated in Fig. 4.37. Comparison with Fig. 4.26 reveals that the IGBT 
</p>
<p>and power MOSFET are very similar in construction. The key difference is the p region connected to the 
</p>
<p>collector of the IGBT. So the IGBT is a modem four-layer power semiconductor device having a MOS 
</p>
<p>gate. 
</p>
<p>Fig. 4.37 IGBT structure. Crosshatched 
</p>
<p>regions are metallized contacts. Shaded regions 
</p>
<p>are insulating silicon dioxide layers. 
</p>
<p>p 
</p>
<p>Minority carrier 
injecrion 
</p>
<p>'7777 777 7 77 7777/7 72 77 77 7777 772 7 
</p>
<p>1 Collecror </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 4.38 The IGBT: (a) schematic 
</p>
<p>symbol, (b) equivalent circuit. 
</p>
<p>(a) 
</p>
<p>4.2 A Brief Survey of Power Semiconductor Devices 87 
</p>
<p>(b) c 
</p>
<p>Collector 
</p>
<p>G~ 
</p>
<p>Emitter 
</p>
<p>The function of the added p region is to inject minority charges into the n- region while the 
device operates in the on state, as illustrated in Fig. 4.37. When the IGBT conducts, the p-n- junction is 
forward-biased, and the minority charges injected into then- region cause conductivity modulation. This 
</p>
<p>reduces the on-resistance of the n- region, and allows high-voltage IGBTs to be constructed which have 
low forward voltage drops. As of 1999, IGBTs rated as low as 600 V and as high as 3300 V are readily 
</p>
<p>available. The forward voltage drops of these devices are typically 2 to 4 V, much lower than would be 
</p>
<p>obtained in equivalent MOSFETs of the same silicon area. 
</p>
<p>Several schematic symbols for the IGBT are in current use; the symbol illustrated in Fig. 
</p>
<p>4.38(a) is the most popular. A two-transistor equivalent circuit for the IGBT is illustrated in Fig. 4.38(b). 
</p>
<p>The IGBT functions effectively as an n-channel power MOSFET, cascaded by a PNP emitter-follower 
</p>
<p>BJT. The physical locations of the two effective devices are illustrated in Fig. 4.39. It can be seen that 
there are two effective currents: the effective MOSFET channel current ip and the effective PNP collec-
</p>
<p>tor current i2&bull; 
The price paid for the reduced voltage drop of the IGBT is its increased switching times, espe-
</p>
<p>cially during the turn-off transition. In particular, the IGBT turn-off transition exhibits a phenomenon 
known as current tailing. The effective MOSFET can be turned off quickly, by removing the gate charge 
such that the gate-to-emitter voltage is negative. This causes the channel current i 1 to quickly become 
zero. However, the PNP collector current i2 continues to flow as long as minority charge is present in the 
n- region. Since there is no way to actively remove the stored minority charge, it slowly decays via 
recombination. So i2 slowly decays in proportion to the minority charge, and a current tail is observed. 
The length of the current tail can be reduced by introduction of recombination centers in then- region, at 
</p>
<p>Fig. 4.39 Physical locations of the effective 
</p>
<p>MOSFET and PNP components of the IGBT. 
</p>
<p>p 
</p>
<p>'777777777772221'::::::77777777 </p>
<p/>
</div>
<div class="page"><p/>
<p>88 Switch Realization 
</p>
<p>Table4.3 Characteristics of several commercial IGBTs 
</p>
<p>Part number 
Rated maximum Rated average 
</p>
<p>VF (typical) t1 (typical) voltage current 
</p>
<p>Single-chip devices 
</p>
<p>HGTP12N60A4 600V 23A 2.0V 70ns 
</p>
<p>HGTG32N60E2 600V 32A 2.4 v 0.62/lS 
PIGTG30N120D2 1200V 30A 3.2V 0.58 /lS 
</p>
<p>Multiple-chip modules 
</p>
<p>CM400HA-12E 600V 400A 2.7V 0.3 /lS 
</p>
<p>CM300HA-24E 1200V 300A 2.7V 0.3 /lS 
</p>
<p>CM800HA-34H 1700V SOOA 3.3 v 0.6/lS 
High voltage modules 
</p>
<p>CM 800HB-50H 2500V SOOA 3.15V 1.0 /lS 
</p>
<p>CM 600HB-90H 4500V 900A 3.3V 1.2 /lS 
</p>
<p>the expense of a somewhat increased on-resistance. The current gain of the effective PNP transistor can 
</p>
<p>also be minimized, causing i1 to be greater than i2&bull; Nonetheless, the tum-off switching time of the IGBT 
</p>
<p>is significantly longer than that of the MOSFET, with typical tum-off times in the range 0.5 p,s to 5 p,s. 
Switching loss induced by IGBT current tailing is discussed in Section 4.3.1. The switching frequencies 
</p>
<p>of PWM converters containing IGBTs are typically in the range 1 to 30kHz. 
</p>
<p>The added p-n- diode junction of the IGBT is not normally designed to block significant volt-
</p>
<p>age. Hence, the IGBT has negligible reverse voltage-blocking capability. 
</p>
<p>Since the IGBT is a four-layer device, there is the possibility of SCR-type latchup, in which the 
</p>
<p>IGBT cannot be turned off by gate voltage control. Recent devices are not susceptible to this problem. 
</p>
<p>These devices are quite robust, hot-spot and current crowding problems are nonexistent, and the need for 
</p>
<p>external snubber circuits is minimal. 
</p>
<p>The on-state forward voltage drop of the IGBT can be modeled by a forward-biased diode junc-
</p>
<p>tion, in series with an effective on-resistance. The temperature coefficient of the IGBT forward voltage 
</p>
<p>drop is complicated by the fact that the diode junction voltage has a negative temperature coefficient, 
</p>
<p>while the on-resistance has a positive temperature coefficient. Fortunately, near rated current the on-
</p>
<p>resistance dominates, leading to an overall positive temperature coefficient. In consequence, IGBTs can 
</p>
<p>be easily connected in parallel, with a modest current derating. Large modules are commercially avail-
</p>
<p>able, containing multiple parallel-connected chips. 
</p>
<p>Characteristics of several commercially available single-chip IGBTs and multiple-chip IGBT 
</p>
<p>modules are listed in Table 4.3. 
</p>
<p>4.2.5 Thyristors (SCR, GTO, MCT) 
</p>
<p>Of all conventional semiconductor power devices, the silicon-controlled rectifier (SCR) is the oldest, has 
</p>
<p>the lowest cost per rated kVA, and is capable of controlling the greatest amount of power. Devices having 
</p>
<p>voltage ratings of 5000 to 7000 V and current ratings of several thousand amperes are available. In utility 
</p>
<p>de transmission line applications, series-connected light-triggered SCRs are employed in inverters and 
</p>
<p>rectifiers that interface the ac utility system to de transmission lines which carry roughly 1 kA and 1 MV. 
</p>
<p>A single large SCR fills a silicon wafer that is several inches in diameter, and is mounted in a hockey-
</p>
<p>puck-style case. </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 4.40 The SCR: (a) schematic symbol, 
</p>
<p>(b) equivalent circuit. 
</p>
<p>(a) 
</p>
<p>4.2 A Brief Survey of Power Semiconductor Devices 89 
</p>
<p>(b) Anode 
</p>
<p>Anode (A) 
</p>
<p>Gate (G) 
</p>
<p>1--L---o Gate 
</p>
<p>Cathode (K) 
</p>
<p>The schematic symbol of the SCR is illustrated in Fig. 4.40(a), and an equivalent circuit con-
</p>
<p>taining NPN and PNP BJT devices is illustrated in Fig. 4.40(b). A cross-section of the silicon chip is 
</p>
<p>illustrated in Fig. 4.41. Effective transistor Q1 is composed of then, p, and n- regions, while effective 
</p>
<p>transistor Q2 is composed of the p, n-, and p regions as illustrated. 
The device is capable of blocking both positive and negative anode-to-cathode voltages. 
</p>
<p>Depending on the polarity of the applied voltage, one of the p-n- junctions is reverse-biased. In either 
</p>
<p>case, the depletion region extendsinto the lightly doped n- region. As with other devices, the desired 
</p>
<p>voltage breakdown rating is obtained by proper design of the n- region thickness and doping concentra-
</p>
<p>tion. 
</p>
<p>The SCR can enter the on state when the applied anode-to-cathode voltage vAK is positive. Posi-
</p>
<p>tive gate current ia then causes effective transistor Q 1 to turn on; this in turn supplies base current to 
effective transistor Q2, and causes it to turn on as well. The effective connections of the base and collec-
</p>
<p>tor regions of transistors Q1 and Q2 constitute a positive feedback loop. Provided that the product of the 
</p>
<p>current gains of the two transistors is greater than one, then the currents of the transistors will increase 
</p>
<p>regeneratively. In the on state, the anode current is limited by the external circuit, and both effective tran-
</p>
<p>sistors operate fully saturated. Minority carriers are injected into all four regions, and the resulting con-
</p>
<p>ductivity modulation leads to very low forward voltage drop. In the on state, the SCR can be modeled as 
</p>
<p>a forward-biased diode junction in series with a low-value on-resistance. Regardless of the gate current, 
</p>
<p>the SCR is latched in the on state: it cannot be turned off except by application of negative anode current 
</p>
<p>or negative anode-to-cathode voltage. In phase controlled converters, the SCR turns off at the zero cross-
</p>
<p>ing of the converter ac input or output waveform. In forced commutation converters, external commuta-
</p>
<p>Fig. 4.41 Physical locations of the effective 
</p>
<p>NPN and PNP components of the SCR. 
</p>
<p>K 
</p>
<p>n 
</p>
<p>p 
</p>
<p>'222272?2?ZZZZ?lr:Z22ZZZZZZZZZZ </p>
<p/>
</div>
<div class="page"><p/>
<p>90 Switch Realization 
</p>
<p>Fig. 4.42 Static iA-vAK characteristics of the SCR. 
</p>
<p>Reverse 
blocking 
</p>
<p>Reverse 
breakdown 
</p>
<p>Forward 
conducting 
</p>
<p>increasing ic 
</p>
<p>Forward/ 
blocking 
</p>
<p>tion circuits force the controlled tum-off of the SCR, by reversing either the anode current or the anode-
</p>
<p>to-cathode voltage. 
</p>
<p>Static i rv AK characteristics of the conventional SCR are illustrated in Fig. 4.42. It can be seen 
that the SCR is a voltage-bidirectional two-quadrant switch. The tum-on transition is controlled actively 
</p>
<p>via the gate current. The tum-off transition is passive. 
</p>
<p>During the tum-off transition, the rate at which forward anode-to-cathode voltage is reapplied 
</p>
<p>must be limited, to avoid retriggering the SCR. The tum-off time tq is the time required for minority 
</p>
<p>stored charge to be actively removed via negative anode current, and for recombination of any remaining 
</p>
<p>minority charge. During the tum-off transition, negative anode current actively removes stored minority 
</p>
<p>charge, with waveforms similar to diode tum-off transition waveforms of Fig. 4.25. Thus, after the first 
</p>
<p>zero crossing of the anode current, it is necessary to wait for time tq before reapplying positive anode-to-
</p>
<p>cathode voltage. It is then necessary to limit the rate at which the anode-to-cathode voltage increases, to 
</p>
<p>avoid retriggering the device. Inverter-grade SCRs are optimized for faster switching times, and exhibit 
</p>
<p>smaller values oft q&middot; 
</p>
<p>Conventional SCR wafers have large feature size, with coarse or nonexistent interdigitation of 
</p>
<p>the gate and cathode contacts. The parasitic elements arising from this large feature size lead to several 
</p>
<p>limitations. During the tum-on transition, the rate of increase of the anode current must be limited to a 
</p>
<p>safe value. Otherwise, cathode current focusin,g can occur, which leads to formation of hot spots and 
</p>
<p>device failure. 
</p>
<p>The coarse feature size of the gate and cathode structure is also what prevents the conventional 
</p>
<p>SCR from being turned off by active gate control. One might apply a negative gate current, in an attempt 
</p>
<p>to actively remove all of the minority stored charge and to reverse-bias the p-n gate-cathode junction. 
</p>
<p>The reason that this attempt fails is illustrated in Fig. 4.43. The large negative gate current flows laterally 
</p>
<p>through the adjoining the p region, inducing a voltage drop as shown. This causes the gate-cathode junc-
</p>
<p>tion voltage to be smaller near the gate contact, and relatively larger away from the gate contact. The 
</p>
<p>negative gate current is able to reverse-bias only the portion of the gate-cathode junction in the vicinity of 
</p>
<p>the gate contact; the remainder of the gate-cathode junction continues to be forward-biased, and cathode 
</p>
<p>current continues to flow. In effect, the gate contact is able to influence only the nearby portions of the 
</p>
<p>cathode. 
</p>
<p>The gate turn off thyristor, or GTO, is a modern power device having small feature size. The 
</p>
<p>gate and cathode contacts highly interdigitated, such that the entire gate-cathode p-n junction can be 
</p>
<p>reverse-biased via negative gate current during the turn-off transition. Like the SCR, a single large GTO 
</p>
<p>can fill an entire silicon wafer. Maximum voltage and current ratings of commercial GTOs are lower than 
</p>
<p>those of SCRs. </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 4.43 Negative gate cun&middot;ent is unable . to 
</p>
<p>completely reverse-bias the gate-cathode junction. 
</p>
<p>The anode current focuses away from the gate 
</p>
<p>contact. 
</p>
<p>4.2 A Brief Survey of Power Semiconductor Devices 91 
</p>
<p>The turn-off gain of a GTO is the ratio of on-state current to the negative gate current magnitude 
</p>
<p>required to switch the device off. Typical values of this gain are 2 to 5, meaning that several hundred 
</p>
<p>amperes of negative gate current may be required to turn off a GTO conducting 1000 A. Also of interest 
</p>
<p>is the maximum controllable on-state current. The GTO is able to conduct pe&lt;;~k currents significantly 
</p>
<p>greater than the rated average current; however, it may not be possible to switch the device off under gate 
</p>
<p>control while these high peak currents are present. 
</p>
<p>The MOS ~co ntrolled thyristor, or MCT, is a recent power device in which MOSFETs are inte-
</p>
<p>grated onto a highly interdigitated SCR, to control the turn-on and turn-off processes. Like the MOSFET 
</p>
<p>and IGBT, the MCT is a single-quadrant device whose turn-on and turn-off transitions are controlled by 
</p>
<p>aMOS gate terminal. Commercial MCTs are p-type devices. Voltage-bidirectional two-quadrant MCTs, 
</p>
<p>and n-type MCTs, are also possible. 
</p>
<p>A cross-section of an MCT containing MOSFETs for control of the turn-on and turn-off transi-
</p>
<p>tions is illustrated in Fig. 4.44. An equivalent circuit which explains the operation of this structure is 
</p>
<p>given in Fig. 4.45. To turn the device on, the gate-to-anode voltage is driven negative. This forward-
</p>
<p>biases p-channel MOSFET Q3, forward-biasing the base-emitter junction of BJT Q1&bull; Transistors Q1 and 
Q2 then latch in the on-state. To turn the device off, the gate-to-anode voltage is driven positive. This for-
ward-biases n-channel MOSFET Q4, which in tum reverse-biases the base-emitter junction of BJT Q2. 
The BJTs then tum off. It is important that the on-resistance of the n-channel MOSFET be small enough 
</p>
<p>Fig. 4.44 MCT structure. Crosshatched 
</p>
<p>regions are metallized contacts. Lightly 
</p>
<p>shaded regions are insulating silicon dioxide 
</p>
<p>layers. 
</p>
<p>Q4 channel 
</p>
<p>II </p>
<p/>
</div>
<div class="page"><p/>
<p>92 Switch Realization 
</p>
<p>Fig. 4.45 Equivalent circuit for the MCT. 
</p>
<p>Anode 
</p>
<p>that sufficient influence on the cathode current is exerted-this limits the maximum controllable on state 
</p>
<p>current (i.e., the maximum current that can be interrupted via gate control). 
</p>
<p>High-voltage MCTs exhibit lower forward voltage drops and higher current densities than 
</p>
<p>IGBTs of similar voltage ratings and silicon area. However, the switching times are longer. Like the 
</p>
<p>GTO, the MCT can conduct considerable surge currents; but again, the maximum current that can be 
</p>
<p>interrupted via gate control is limited. To obtain a reliable turn-off transition, external snubbers are 
</p>
<p>required to limit the peak anode-to-cathode voltage. A sufficiently fast gate-voltage rise time is also 
</p>
<p>required. To some extent, the MCT is still an emerging device-future generations of MCTs may exhibit 
</p>
<p>considerable improvements in performance and ratings. 
</p>
<p>4.3 SWITCHING LOSS 
</p>
<p>Having implemented the switches using semiconductor devices, we can now discuss another major 
</p>
<p>source of loss and inefficiency in converters: switching loss. As discussed in the previous section, the 
</p>
<p>turn-on and turn-off transitions of semiconductor devices require times of tens of nanoseconds to micro-
</p>
<p>seconds. During these switching transitions, very large instantaneous power loss can occur in the semi-
</p>
<p>conductor devices. Even though the semiconductor switching times are short, the resulting average 
</p>
<p>power loss can be significant. 
</p>
<p>Semiconductor devices are charge controlled. For example, the conducting state of a MOSFET 
</p>
<p>is determined by the charge on its gate and in its channel, and the conducting state of a silicon diode or a 
</p>
<p>BIT is determined by the presence or absence of stored minority charge in the vicinity of the semicon-
</p>
<p>ductor junctions inside the device. To switch a semiconductor device between the on and off states, the 
</p>
<p>controlling charge must be inserted or removed; hence, the amount of controlling charge influences both 
</p>
<p>the switching times and the switching loss. Charge, and energy, are also stored in the output capacitances 
</p>
<p>of semiconductor devices, and energy is stored in the leakage and stray inductances in the circuit. In 
</p>
<p>most converter circuits, these stored energies are also lost during the switching transitions. 
</p>
<p>In this section the major sources of switching loss are described, and a simple method for esti-
</p>
<p>mation of their magnitudes is given. For clarity, conduction losses and semiconductor forward voltage 
</p>
<p>drops are neglected throughout this discussion. </p>
<p/>
</div>
<div class="page"><p/>
<p>4.3 Switching Loss 93 
</p>
<p>iA iL(t) 
L 
</p>
<p>vg VB Ideal 
diode 
</p>
<p>is 
</p>
<p>Fig. 4.46 MOSFET driving a clamped inductive load, buck converter example. 
</p>
<p>4.3.1 Transistor Switching with Clamped Inductive Load 
</p>
<p>Let's consider first the switching waveforms in the buck converter of Fig. 4.46. Let us treat the diode as 
</p>
<p>ideal, and investigate only the switching loss due to the MOSFET switching times. The MOSFET drain-
</p>
<p>to-source capacitance is also neglected. 
</p>
<p>The diode and inductor present a clamped inductive load to the transistor. With such a load, the 
</p>
<p>transistor voltage vA(t) and current iA(t) do not change simultaneously. For example, a magnified view of 
</p>
<p>the transistor tum-off-transition waveforms is given in Fig. 4.47. For simplicity, the waveforms are 
</p>
<p>Fig. 4.47 Magnified view of transistor 
</p>
<p>turn-off transition waveforms for the circuit 
</p>
<p>of Fig. 4.46. 
</p>
<p>Tra11sistor 
wavefonns 
</p>
<p>Diode 
waveforms 
</p>
<p>0 
</p>
<p>0 
</p>
<p>-V g 
</p>
<p>0 
</p>
<p>0 
</p>
<p>area 
</p>
<p>w off </p>
<p/>
</div>
<div class="page"><p/>
<p>94 Switch Realization 
</p>
<p>approximated as piecewise-linear. The switching times are short, such that the inductor current iL(t) is 
</p>
<p>essentially constant during the entire switching transition t0 &lt; t &lt; t2&bull; No current flows through the diode 
</p>
<p>while the diode is reverse-biased, and the diode cannot become forward-biased while its voltage vs(t) is 
</p>
<p>negative. So first, the voltage v it) across the transistor must rise from zero to V8 . The interval length 
</p>
<p>(t1 - t0 ) is essentially the time required for the gate driver to charge the MOSFET gate-to-drain capaci-
</p>
<p>tance. The transistor current iA(t) is constant and equal toiL during this interval. 
</p>
<p>The diode voltage vs(t) and current is(t) are given by 
</p>
<p>vit) = V A(t)- V8 
</p>
<p>iA(t) + iit) = iL 
(4.6) 
</p>
<p>At timet= tl' when vA = V8, the diode becomes forward-biased. The current iL now begins to commute 
</p>
<p>from the transistor to the diode. The interval length (t2 - t1) is the time required for the gate driver to dis-
</p>
<p>charge the MOSFET gate-to-source capacitance down to the threshold voltage which causes the MOS-
</p>
<p>FET to be in the off state. 
</p>
<p>The instantaneous power pA(t) dissipated by the transistor is equal to vA(t)iit). This quantity is 
</p>
<p>also sketched in Fig. 4.47. The energy W0fflost during the transistor turn-off transition is the area under 
</p>
<p>this waveform. With the simplifying assumption that the waveforms are piecewise-linear, then the energy 
</p>
<p>lost is the area of the shaded triangle: 
</p>
<p>(4.7) 
</p>
<p>This is the energy lost during each transistor turn-off transition in the simplified circuit of Fig. 4.46. 
</p>
<p>The transistor turn-on waveforms of the simplified circuit of Fig. 4.46 are qualitatively similar 
</p>
<p>to those of Fig. 4.47, with the time axis reversed. The transistor current must first rise from 0 to iL" The 
</p>
<p>diode then becomes reverse-biased, and the transistor voltage can fall from Vg to zero. The instantaneous 
</p>
<p>transistor power dissipation again has peak value ViL&bull; and if the waveforms are piecewise linear, then the 
energy lost during the turn-on transition won is given by 0.5 VgiL multiplied by the transistor turn-on time. 
</p>
<p>Thus, during one complete switching period, the total energy lost during the turn-on and turn-
</p>
<p>off transitions is (Won + W0ff). If the switching frequency is f., then the average power loss incurred due to 
switching is 
</p>
<p>P,w = i.J PA(t)dt = (Won+ Woff )fs 
switching 
</p>
<p>transitions 
</p>
<p>So the switching loss P,w is directly proportional to the switching frequency. 
</p>
<p>(4.8) 
</p>
<p>An example where the loss due to transistor switching times is particularly significant is the cur-
</p>
<p>rent tailing phenomenon observed during the turn-off transition of the IGBT. As discussed in Section 
</p>
<p>4.2.4, current tailing occurs due to the slow recombination of stored minority charge in the n- region of 
</p>
<p>the IGBT. This causes the collector current to slowly decay after the gate voltage has been removed. 
</p>
<p>A buck converter circuit containing an ideal diode and nonideal (physical) IGBT is illustrated in 
</p>
<p>Fig. 4.48. Turn-off transition waveforms are illustrated in Fig. 4.49; these waveforms are similar to the 
</p>
<p>MOSFET waveforms of Fig. 4.47. The diode is initially reverse-biased, and the voltage vit) rises from 
</p>
<p>approximately zero to V8&bull; The interval length (t1 - t0 ) is the time required for the gate drive circuit to 
</p>
<p>charge the IGBT gate-to-collector capacitance. At time t = t1, the diode becomes forward-biased, and 
</p>
<p>current begins to commute from the IGBT to the diode. The interval (t2 - t1) is the time required for the 
</p>
<p>gate drive circuit to discharge the IGBT gate-to-emitter capacitance to the threshold value which causes </p>
<p/>
</div>
<div class="page"><p/>
<p>4.3 Switching Loss 95 
</p>
<p>iA iL(t) 
L 
</p>
<p>vg VB Ideal 
diode 
</p>
<p>iB 
</p>
<p>Fig. 4.48 IGBT switching loss example. 
</p>
<p>the effective MOSFET in Fig. 4.38(b) to be in the off state. This time can be minimized by use of a high-
</p>
<p>current gate drive circuit which discharges the gate capacitance quickly. However, switching off the 
</p>
<p>effective MOSFET does not completely interrupt the IGBT current iit): current i2(t) continues to flow 
</p>
<p>through the effective PNP bipolar junction transistor of Fig. 4.38(b) as long as minority carriers continue 
</p>
<p>to exist within its base region. During the interval t2 &lt; t &lt; t3, the current is proportional to this stored 
minority charge, and the current tail interval length (t3 - t2) is equal to the time required for this. remain-
</p>
<p>ing stored minority charge to recombine. 
</p>
<p>The energy Woff lost during the tum-off transition of the IGBT is again the area under the instan-
</p>
<p>taneous power waveform, as illustrated in Fig. 4.49. The switching loss can again be evaluated using Eq. 
</p>
<p>(4.8). 
</p>
<p>The switching times of the IGBT are typically in the vicinity of 0.2 to 2 p,s, or several times 
</p>
<p>Fig. 4.49 IGBT turn-off transition 
</p>
<p>waveforms for the circuit of Fig. 4.48. 
</p>
<p>IGBT 
waveform.)&middot; 
</p>
<p>Diode 
waveforms 
</p>
<p>0 0 
</p>
<p>iL 
</p>
<p>0 0 </p>
<p/>
</div>
<div class="page"><p/>
<p>96 Switch Realization 
</p>
<p>longer than those of the power MOSFET. The resulting switching loss limits the maximum switching 
</p>
<p>frequencies of conventional PWM converters employing IGBTs to roughly 1 to 30kHz. 
</p>
<p>4.3.2 Diode Recovered Charge 
</p>
<p>As discussed previously, the familiar exponential i-v characteristic of the diffused-junction p-n diode is 
</p>
<p>an equilibrium relationship. During switching transients, significant deviations from this characteristic 
</p>
<p>are observed, which can induce transistor switching loss. In particular, during the diode tum-off tran-
</p>
<p>sient, its stored minority charge must be removed, either actively via negative current i8 (t), or passively 
</p>
<p>via recombination inside the device. The diode remains forward-biased while minority charge is present 
</p>
<p>in the vicinity of the diode semiconductor junction. The initial amount of minority charge is a function of 
</p>
<p>the forward current, and its rate of change, under forward-biased conditions. The turn-off switching time 
</p>
<p>is the time required to remove all of this charge, and to establish a new reverse-biased operating point. 
</p>
<p>This process of switching the diode from the forward-biased to reverse-biased states is called reverse 
</p>
<p>recovery. 
Again, most diffused-junction power diodes are actually p-n--n+ or p-i-n devices. The lightly 
</p>
<p>doped or intrinsic region (of the diode and other power semiconductor devices as well) allows large 
</p>
<p>breakdown voltages to be obtained. Under steady-state forward-biased conditions, a substantial amount 
</p>
<p>of stored charge is present in this region, increasing its conductivity and leading to a low diode on-resis-
</p>
<p>tance. It takes time to insert and remove this charge, however, so there is a tradeoff between high break-
</p>
<p>down voltage, low on-resistance, and fast switching times. 
</p>
<p>To understand how the diode stored charge induces transistor switching loss, let us consider the 
</p>
<p>buck converter of Fig. 4.50. Assume for this discussion that the transistor switching times are much faster 
</p>
<p>than the switching times of the diode, such that the diode reverse recovery mechanism is the only signif-
</p>
<p>icant source of switching loss. A magnified view of the transistor-tum-on transition waveforms under 
</p>
<p>these conditions is given in Fig. 4.51. 
</p>
<p>Initially, the diode conducts the inductor current, and hence some amount of stored minority 
</p>
<p>charge is present in the diode. The transistor is initially in the off state. When the transistor turns on, a 
</p>
<p>negative current flows through the diode; this current actively removes some or most of the diode stored 
</p>
<p>minority charge, while the remainder of the minority charge recombines within the diode. The rate of 
</p>
<p>change of the current is typically limited by the package inductance and other stray inductances present 
</p>
<p>in the external circuit; hence, the peak magnitude of the reverse current depends on the external circuit, 
</p>
<p>and can be many times larger than the forward current iL. The area within the negative portion of the 
</p>
<p>diode current waveform is the recovered stored charge Q,, while the interval length (t2 - t0 ) is the reverse 
recovery timet,. The magnitude of Q, is a function of the on state forward current iL at the initiation of 
the turn-off process, as well as the circuit-limited rate-of-change of the diode current, dis(t)ldt. During 
</p>
<p>Fig. 4.50 Example, switching loss induced by diode stored charge. 
</p>
<p>L 
</p>
<p>Silicon 
diode </p>
<p/>
</div>
<div class="page"><p/>
<p>4.3 Switching Loss 97 
</p>
<p>the interval t0 &lt; t &lt; fp the diode remains forward-biased, and hence the transistor voltage is v ,f At time 
t = tp the stored charge in the vicinity of the p-n- or p-i junction is exhausted. This junction becomes 
reverse-biased, and begins to block voltage. During the interval t1 &lt; t &lt; t2 , the diode voltage decreases to 
-V8 &bull; Some negative diode current continues to flow, removing any remaining stored minority charge as 
</p>
<p>well as charging the depletion layer capacitance. At time t = t2 , this current is essentially zero, and the 
diode operates in steady state under reverse-biased conditions. 
</p>
<p>Diodes in which the interval length (t2 - t 1) 
</p>
<p>is short compared to (t1 - t0) are called abrupt-recov-
</p>
<p>ery or "snappy" diodes. Soft recovery diodes exhibit 
1 1 f ( )/( ) Wh &middot; &middot; fi Transistor arger va ues o t2 - t 1 t 1 - t0 . en s1gm cant waveforms 
package and/or stray inductance is present in series 
</p>
<p>with the diode, ringing of the depletion region capac-
</p>
<p>itance with the package and stray inductances may 
</p>
<p>be observed. &middot;If severe, this ringing can cause excess 
</p>
<p>reverse voltage that leads to device failure. External 
</p>
<p>R-C snubber circuits are sometimes necessary for 
</p>
<p>reliable operation, The reverse-recovery characteris-
</p>
<p>0 
</p>
<p>tics of soft recovery diodes are intended to exhibit Diode 
</p>
<p>less ringing and voltage overshoot. Snubbing of waveforms r---=iL :...._~ 
these diodes can be reduced or eliminated. 
</p>
<p>The instantaneous power pA(t) dissipated in 
</p>
<p>the transistor is also sketched in Fig. 4.51. The 
</p>
<p>energy lost during the turn-on transition is 
</p>
<p>WD= J vA(t)iA(t)dt 
switching 
</p>
<p>transition 
</p>
<p>(4.9) 
</p>
<p>For an abrupt-recovery diode in which 
</p>
<p>(t2 - t1) &laquo; (t1 - t0), this integral can be evaluated in a 
simple manner. The transistor voltage v it) is then 
</p>
<p>equal to V8 for essentially the entire diode recovery 
</p>
<p>interval. In addition, iA = iL - i8. Equation (4.9) then 
becomes 
</p>
<p>wD ~ J vg(iL - is(t))dt 
switching 
</p>
<p>1ransition (4.10) 
</p>
<p>0 
</p>
<p>Area 
</p>
<p>-Qr 
</p>
<p>0 
</p>
<p>0 
</p>
<p>Fig. 4.51 Transistor-turn-on transition waveforms 
</p>
<p>for the circuit of Fig. 4.50. 
</p>
<p>where the recovered charge Qr is defined as the inte-
</p>
<p>gral of the diode current- is(t) over the interval t0 &lt; t &lt; t2 . Hence, the diode reverse recovery process 
leads directly to switching loss W of:. This is often the largest single component of switching loss in a 
conventional switching converter. It can be reduced by use of faster diodes, designed for minimization of 
</p>
<p>stored minority charge. </p>
<p/>
</div>
<div class="page"><p/>
<p>98 Switch Realization 
</p>
<p>Fig. 4.52 The energy stored in the semicon-
</p>
<p>ductor output capacitances is lost during the 
</p>
<p>transistor turn-on transition. 
</p>
<p>4.3.3 Device Capacitances, and Leakage, Package, and Stray Inductances 
</p>
<p>Reactive elements can also lead to switching loss. Capacitances that are effectively in parallel with 
</p>
<p>switching elements are shorted out when the switch turns on, and any energy stored in the capacitance is 
</p>
<p>lost. The capacitances are charged without energy loss when the switching elements tum off, and the 
</p>
<p>transistor turn-off loss Woff computed in Eq. ( 4.7) may be reduced. Likewise, inductances that are effec-
</p>
<p>tively in series with a switching element lose their stored energy when the switch turns off. Hence, series 
</p>
<p>inductances lead to additional switching loss at tum-off, but can reduce the transistor turn-on loss. 
</p>
<p>The stored energies of the reactive elements can be summed to find the total energy loss per 
</p>
<p>switching period due to these mechanisms. For linear capacitors and inductors, the stored energy is 
</p>
<p>We= L tcv2 
capacitive 1 1 
</p>
<p>elements (4.11) 
</p>
<p>WL= L _2\L/2 
inductive 1 1 
</p>
<p>elements 
</p>
<p>A common source of this type of switching loss is the output capacitances of the semiconductor switch-
</p>
<p>ing devices. The depletion layers of reverse-biased semiconductor devices exhibit capacitance which 
</p>
<p>stores energy. When the transistor turns on, this stored energy is dissipated by the transistor. For example, 
</p>
<p>in the buck converter of Fig. 4.52, the MOSFET exhibits drain-to-source capacitance Cds&bull; and the 
</p>
<p>reverse-biased diode exhibits junction capacitance CF During the switching transitions these two capaci-
</p>
<p>tances are effectively in parallel, since the de source Vg is effectively a short-circuit at high frequency. To 
</p>
<p>the extent that the capacitances are linear, the energy lost when the MOSFET turns on is 
</p>
<p>(4.12) 
</p>
<p>Typically, this type of switching loss is significant at voltage levels above !00 V. The MOSFET gate 
</p>
<p>drive circuit, which must charge and discharge the MOSFET gate capacitances, also exhibits this type of 
</p>
<p>loss. 
</p>
<p>As noted in Section 4.2.2, the incremental drain-to-source capacitance Cds of the power MOS-
</p>
<p>FET is a strong function of the drain-to-source voltage vds&middot; Cd,(vd) follows an approximate inverse-
</p>
<p>square-root dependence of v ds&bull; as given by Eq. ( 4.5). The energy stored in Cds at v ds = VDS is 
</p>
<p>(4.13) </p>
<p/>
</div>
<div class="page"><p/>
<p>4.3 Switching Loss 99 
</p>
<p>where ic = Cds(v d,.) dv d/dt is the current in C ds&middot; Substitution of Eq. ( 4.5) into ( 4.13) yields 
</p>
<p>(4.14) 
</p>
<p>This energy is lost each time the MOSFET switches on. From the standpoint of switching loss, the drain-
</p>
<p>to-source capacitance is equivalent to a linear capacitance having the value jcds( V Ds). 
The Schottky diode is essentially a majority-carrier device, which does not exhibit a reverse-
</p>
<p>recovery transient such as in Fig. 4.51. Reverse-biased Schottky diodes do exhibit significant junction 
</p>
<p>capacitance, however, which can be modeled with a parallel capacitor C1 as in Fig. 4.52, and which leads 
</p>
<p>to energy loss at the transistor turn-on transition. 
</p>
<p>Common sources of series inductance are transformer leakage inductances in isolated convert-
</p>
<p>ers (discussed in Chapter 6), as well as the inductances of interconnections and of semiconductor device 
</p>
<p>packages. In addition to generating switching loss, these elements can lead to excessive peak voltage 
</p>
<p>stress during the transistor turn-off transition. Interconnection and package inductances can lead to sig-
</p>
<p>nificant switching loss in high-current applications, and leakage inductance is an important source of 
</p>
<p>switching loss in many transformer-isolated converters. 
</p>
<p>Diode stored minority charge can induce switch-
</p>
<p>ing loss in the (nonideal) converter reactive elements. As 
</p>
<p>an example, consider the circuit of Fig. 4.53, containing 
</p>
<p>an ideal voltage source vi(t), an inductor L, a capacitor C 
</p>
<p>(which may represent the diode junction capacitance, or vJt) 
</p>
<p>the junction capacitance in parallel with an external 
</p>
<p>capacitor), and a silicon diode. The diode switching pro-
</p>
<p>cesses of many converters can be modeled by a circuit of 
</p>
<p>L 
</p>
<p>Silicon 
diode c 
</p>
<p>this form. Many rectifier circuits containing SCRs exhibit 
</p>
<p>similar waveforms. The voltage source produces the rect-
</p>
<p>angular waveform v;(t) illustrated in Fig. 4.54. This volt-
age is initially positive, causing the diode to become 
</p>
<p>Fig. 4.53 A circuit in which the diode stored 
</p>
<p>charge induces ringing, and ultimately switch-
</p>
<p>ing loss, in (nonideal) reactive elements. 
</p>
<p>forward-biased and the inductor current iL(t) to increase linearly with slope V1/L. Since the current is 
</p>
<p>increasing, the stored minority charge inside the diode also increases. At timet= tp the source voltage 
</p>
<p>vi(t) becomes negative, and the inductor current decreases with slope diL!dt =- V2 /L. The diode stored 
</p>
<p>charge also decreases, but at a slower rate that depends not only on iL but also on the minority carrier 
</p>
<p>recombination lifetime of the silicon material in the diode. Hence, at timet= t2, when iL(t) reaches zero, 
</p>
<p>some stored minority charge remains in the diode. So the diode continues to be forward-biased, and the 
</p>
<p>inductor current continues to decrease with the same slope. The negative current for t &gt; t2 constitutes a 
reverse diode current, which actively removes diode stored charge. At some time later, t = t3 , the diode 
</p>
<p>stored charge in the vicinity of the diode junction becomes zero, and the diode junction becomes reverse-
</p>
<p>biased. The inductor current is now negative, and must flow through the capacitor. The inductor and 
</p>
<p>capacitor then form a series resonant circuit, which rings with decaying sinusoidal waveforms as shown. 
</p>
<p>This ringing is eventually damped out by the parasitic loss elements of the circuit, such as the inductor 
</p>
<p>winding resistance, inductor core loss, and capacitor equivalent series resistance. 
</p>
<p>The diode recovered charge induces loss in this circuit. During the interval t2 &lt; t &lt; t3, the minor-
ity stored charge Qr recovered from the diode is 
</p>
<p>(4.15) </p>
<p/>
</div>
<div class="page"><p/>
<p>100 Switch Realization 
</p>
<p>Ot------1----------
</p>
<p>v8(t) 
</p>
<p>Of-----!!-----t--i----
</p>
<p>&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;l&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;J&middot;&middot;&middot;&middot;&middot;&middot;&middot;r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>Fig. 4.54 Waveforms of the circuit of Fig. 
</p>
<p>4.53. 
</p>
<p>This charge is directly related to the energy stored in the 
</p>
<p>inductor during this interval. The energy WL stored in 
</p>
<p>the inductor is the integral of the power flowing into the 
</p>
<p>inductor: 
</p>
<p>(4.16) 
</p>
<p>During this interval, the applied inductor voltage is 
</p>
<p>(4.17) 
</p>
<p>Substitution of Eq. (4.17) into Eq. (4.16) leads to 
</p>
<p>(4.18) 
</p>
<p>Evaluation of the integral on the left side yields the 
</p>
<p>stored inductor energy at t = t3, or LiL2(t3)12. The right-
</p>
<p>side integral is evaluated by noting that V2 is constant 
</p>
<p>and by substitution of Eq. (4.15), yielding V2Qr. Hence, 
</p>
<p>the energy stored in the inductor at t = t3 is 
</p>
<p>(4.19) 
</p>
<p>or, the recovered charge multiplied by the source volt-
</p>
<p>age. For t &gt; t3, the ringing of the resonant circuit formed 
by the inductor and capacitor causes this energy to be circulated back and forth between the inductor and 
</p>
<p>capacitor. If parasitic loss elements in the circuit cause the ringing amplitude to eventually decay to zero, 
</p>
<p>then the energy becomes lost as heat in the parasitic elements. 
</p>
<p>So diode stored minority charge can lead to loss in circuits that do not contain an active switch-
</p>
<p>ing element. Also, ringing waveforms that decay before the end of the switching period indicate the pres-
</p>
<p>ence of switching loss. 
</p>
<p>4.3.4 Efficiency vs. Switching Frequency 
</p>
<p>Suppose next that we add up all of the energies lost due to switching, as discussed above: 
</p>
<p>(4.20) 
</p>
<p>This is the energy lost in the switching transitions of one switching period. To obtain the average switch-
</p>
<p>ing power loss, we must multiply by the switching frequency: 
</p>
<p>(4.21) 
</p>
<p>Other losses in the converter include the conduction losses Pcond' modeled and solved as in Chapter 3, </p>
<p/>
</div>
<div class="page"><p/>
<p>4.4 Summary of Key Points 101 
</p>
<p>100% 
</p>
<p>................. 4~_(l_SY.!f!P..~I_Jf.~ .... , ............... . 
</p>
<p>Fig. 4.55 Efficiency vs. switching 
</p>
<p>frequency, based on Eq. (4.22), using 
</p>
<p>arbitrary choices for the values of loss 
</p>
<p>and load power. Switching loss causes 
</p>
<p>the efficiency to decrease rapidly at 
</p>
<p>high frequency. 
</p>
<p>90% 
</p>
<p>80% 
</p>
<p>70% 
</p>
<p>60% 
</p>
<p>50% 
</p>
<p>10kHz 
</p>
<p>!~ 
l ~-
</p>
<p>100kHz 1 MHz &middot; 
</p>
<p>and other frequency-independent fixed losses P fixed&bull; such as the power required to operate the control cir-
</p>
<p>cuit. The total loss is therefore 
</p>
<p>Ploss ::::: p cond + p fixed + W tot f..w (4.22) 
</p>
<p>which increases linearly with frequency. At the critical frequency 
</p>
<p>pcond + p fixed 
fcrit.::: W . 
</p>
<p>tot 
</p>
<p>(4.23) 
</p>
<p>the switching losses are equal to the other converter losses. Below this critical frequency, the total loss is 
</p>
<p>dominated by the conduction and fixed loss, and hence the total loss and converter efficiency are not 
</p>
<p>strong functions of switching frequency. Above the critical frequency, the switching loss dominates the 
</p>
<p>total loss, and the converter efficiency decreases rapidly with increasing switching frequency. Typical 
</p>
<p>dependence of the full-load converter efficiency on switching frequency is plotted in Fig. 4.55, for an 
</p>
<p>arbitrary choice of parameter values. The critical frequency fcrit can be taken as a rough upper limit on the 
</p>
<p>switching frequency of a practical converter. 
</p>
<p>4.4 SUMMARY OF KEY POINTS 
</p>
<p>1. How an SPST ideal switch can be realized using semiconductor devices depends on the polarity of the 
</p>
<p>voltage that the devices must block in the off state, and on the polarity of the current which the devices 
</p>
<p>must conduct in the on state. 
</p>
<p>2. Single-quadrant SPST switches can be realized using a single transistor or a single diode, depending on 
</p>
<p>the relative polarities of the off state voltage and on state current. </p>
<p/>
</div>
<div class="page"><p/>
<p>102 Switch Realization 
</p>
<p>3. Two-quadrant SPST switches can be realized using a transistor and diode, connected in series (bidirec-
</p>
<p>tional-voltage) or in antiparallel (bidirectional-current). Several four-quadrant schemes are also listed here. 
</p>
<p>4. A "synchronous rectifier" is a MOSFET connected to conduct reverse current, with gate drive control as 
</p>
<p>necessary. This device can be used where a diode would otherwise be required. If a MOSFET with suffi-
</p>
<p>ciently low R011 is used, reduced conduction loss is obtained. 
</p>
<p>5. Majority carrier devices, including the MOSFET and Schottky diode, exhibit very fast switching times, 
</p>
<p>controlled essentially by the charging of the device capacitances. However, the forward voltage drops of 
</p>
<p>these devices increases quickly with increasing breakdown voltage. 
</p>
<p>6. Minority carrier devices, including the BJT, IGBT, and thyristor family, can exhibit high breakdown volt-
</p>
<p>ages with relatively low forward voltage drop. However, the switching times of these devices are longer, 
</p>
<p>and are controlled by the times needed to insert or remove stored minority charge. 
</p>
<p>7. Energy is lost during switching transitions, owing to a variety of mechanisms. The resulting average power 
</p>
<p>loss, or switching loss, is equal to this energy loss multiplied by the switching frequency. Switching loss 
</p>
<p>imposes an upper limit on the switching frequencies of practical converters. 
</p>
<p>8. The diode and inductor present a "clamped inductive load" to the transistor. When a transistor drives such 
</p>
<p>a load, it experiences high instantaneous power loss during the switching transitions. An example where 
</p>
<p>this leads to significant switching loss is the IGBT and the "current tail" observed during its turn-off tran-
</p>
<p>sition. 
</p>
<p>9. Other significant sources of switching loss include diode stored charge and energy stored in certain para-
</p>
<p>sitic capacitances and inductances. Parasitic ringing also indicates the presence of switching loss. 
</p>
<p>REFERENCES 
</p>
<p>[1] R. D. MIDDLEBROOK, S. CUK, and W. BEHEN, "A New Battery Charger/Discharger Converter," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1978 Record, pp. 251-255, June 1978. 
</p>
<p>[2] H. MATSUO and F. KUROKAWA, "New Solar Cell Power Supply System Using a Boost Type Bidirectional 
</p>
<p>De-De Converter," IEEE Power Electronics Specialists Conference, 1982 Record, pp. 14-19, June 1982. 
</p>
<p>[3] M. VENTURINI, "A New Sine-Wave-In Sine-Wave-Out Conversion Technique Eliminates Reactive Ele-
</p>
<p>ments," Proceedings Seventh International Solid-State Power Conversion Conference (Powercon 7), pp. 
</p>
<p>E3.1-E3.13, 1980. 
</p>
<p>[4] K. D. T. NGO, S. CUK, and R. D. MIDDLEBROOK, "A New Flyback De-to-Three-Phase Converter with 
</p>
<p>Sinusoidal Outputs," IEEE Power Electronics Specialists Conference, 1983 Record, pp. 377-388. 
</p>
<p>[5] S. CUK, "Basics of Switched-Mode Power Conversion: Topologies, Magnetics, and Control," Advances in 
</p>
<p>Switched-Mode Power Conversion, Vol. II, Irvine CA: Teslaco, pp. 279-310, 1983. 
</p>
<p>[6] L. GYUGI and B. PELLY, Static Power Frequency Changers: Theory, Peiformance, and Applications, New 
</p>
<p>York: Wiley-Interscience, 1976. 
</p>
<p>[7] R. S. KAGAN and M. CHI, "Improving Power Supply Efficiency with MOSFET Synchronous Rectifiers," 
</p>
<p>Proceedings Ninth International Solid-State Power Conversion Conference (Powercon 9), pp. D4.1-D4.9, 
</p>
<p>July 1982. 
</p>
<p>[8] R. BLANCHARD and P. E. THIBODEAU, "The Design of a High Efficiency, Low Voltage Power Supply 
</p>
<p>Using MOSFET Synchronous Rectification and Current Mode Control," IEEE Power Electronics Special-</p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 103 
</p>
<p>ists Conference, 1985 Record, pp. 355-361, June 1985. 
</p>
<p>[9] N. MOHAN, T. UNDELAND, and W. ROBBINS, Power Electronics: Converters, Applications, and Design, 
</p>
<p>2nd edit., New York: John Wiley &amp; Sons, 1995, Chapters 19-26. 
</p>
<p>[10] C. L. MA and P. 0. LAURITZEN, "A Simple Power Diode Model with Forward and Reverse Recovery," 
</p>
<p>IEEE Power Electronics Specialists Conference, 1991 Record, pp. 411-415, June 1991. 
</p>
<p>[11] M. SCHLECHT and L. CASEY, "A Comparison of the Square Wave and Quasi-Resonant Topologies," IEEE 
</p>
<p>Applied Power Electronics Conference, 1987 Record, pp. 124-134, March 1987. 
</p>
<p>[12] B. J. BALIGA, Modern Power Devices, New York: John Wiley &amp; Sons, 1987. 
</p>
<p>[13] P. GRAY, D. DEWITT, A. BOOTHROYD, and J. GIBBONS, Physical Electronics and Circuit Models of Tran-
</p>
<p>sistors, Semiconductor Electronics Education Committee, Vol. 2, New York: John Wiley &amp; Sons, 1964. 
</p>
<p>[14] E. OXNER, Power FETs and Their Applications, Englewood, New Jersey: Prentice-Hall, 1982. 
</p>
<p>[15] M. RASHID, Power Electronics: Circuits, Devices, and Applications, 2nd edit., Englewood, New Jersey: 
</p>
<p>Prentice Hall, 1993, Chapters 3, 4, and 8. 
</p>
<p>[16] B. J. BALIGA, M. S. ADLER, R. P. LOVE, P. V. GRAY, and N. D. ZAMMER, "The Insulated Gate Transistor 
</p>
<p>-A New Three Terminal MOS-Controlled Bipolar Power Device," IEEE Transactions on Electron 
</p>
<p>Devices, Vol. 31, No.6, pp. 821-828, June 1984. 
</p>
<p>[17] V. TEMPLE, "MOS-Controlled Thyristors-A New Class of Power Devices," IEEE Transactions on Elec-
</p>
<p>tron Devices, Vol. 33, No. 10, pp. 1609-1618, October 1986. 
</p>
<p>[18] S. SUL, F. PROFUMO, G. CHO, and T. LIPO, "MCTs and IGBTs: A Comparison of Performance in Power 
</p>
<p>Electronics Circuits," IEEE Power Electronics Specialists Conference, 1989 Record, pp. 163-169, June 
</p>
<p>1989. 
</p>
<p>[19] V. TEMPLE, S. ARTHUR, D. WATROUS, R. DE DONCKER, and H. METHA, "Megawatt MOS Controlled 
</p>
<p>Thyristor for High Voltage Power Circuits," IEEE Power Electronics Specialists Conference, 1992 Record, 
</p>
<p>pp. 1018-1025, June 1992. 
</p>
<p>PROBLEMS 
</p>
<p>In Problems 4.1 to 4.6, the input voltage V8 is de and positive with 
</p>
<p>the polarity shown. Specify how to implement the switches using a 
</p>
<p>minimal number of diodes and transistors, such that the converter 
</p>
<p>operates over the entire range of duty cycles 0 ~ D ~ l. The switch 
</p>
<p>states should vary as shown in Fig. 4.56. You may assume that the 
</p>
<p>inductor current ripples and capacitor voltage ripples are small. 
</p>
<p>For each problem, do the following: 
</p>
<p>(a) Realize the switches using SPST ideal 
</p>
<p>switches, and explicitly define the voltage and 
</p>
<p>current of each switch. 
</p>
<p>(b) Express the on-state current and off-state volt-
</p>
<p>Switch 
position 
</p>
<p>2 
</p>
<p>Fig. 4.56 Switch control method for Prob-
</p>
<p>lems 4.1 to 4.6. 
</p>
<p>age of each SPST switch in terms of the converter inductor currents, capacitor voltages, and/or </p>
<p/>
</div>
<div class="page"><p/>
<p>104 Switch Realization 
</p>
<p>4.1 
</p>
<p>4.2 
</p>
<p>4.3 
</p>
<p>4.4 
</p>
<p>input source voltage. 
</p>
<p>(c) Solve the converter to determine the inductor currents and capacitor voltages, as in Chapter 2. 
</p>
<p>(d) Determine the polarities of the switch on-state currents and off-state voltages. Do the polarities 
</p>
<p>vary with duty cycle? 
</p>
<p>(e) State how each switch can be realized using transistors and/or diodes, and whether the realiza-
</p>
<p>tion requires single-quadrant, current-bidirectional two-quadrant, voltage-bidirectional two-
</p>
<p>quadrant, or four-quadrant switches. 
</p>
<p>+ 
</p>
<p>2 
</p>
<p>2 </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 105 
</p>
<p>4.5 
</p>
<p>2 
</p>
<p>4.6 
</p>
<p>2 
</p>
<p>4.7 An IGBT and a silicon diode operate in a buck converter, with the IGBT waveforms illustrated in Fig. 
</p>
<p>4.57. The converter operates with input voltage V8 = 400 V, output voltage V = 200 V, and load current I 
=lOA. 
</p>
<p>VCE ic 
</p>
<p>VcE(t) 
400V 40A 
</p>
<p>300V 30A 
</p>
<p>200V 20A 
</p>
<p>lOOV lOA 
</p>
<p>ov OA 
ic(t) 
</p>
<p>0 2 f.l.lS 
</p>
<p>Fig. 4.57 IGBT voltage and current waveforms, Problem 4.7. 
</p>
<p>(a) Estimate the total energy lost during the switching transitions. 
</p>
<p>(b) The forward voltage drop of the IGBT is 2.5 V, and the diode has forward voltage drop 1.5 V. All 
</p>
<p>other sources of conduction loss and fixed loss can be neglected. Estimate the semiconductor 
</p>
<p>conduction loss. 
</p>
<p>(c) Sketch the converter efficiency over the range of switching frequencies 1 kHz ~fs ~ 100kHz, 
</p>
<p>and label numerical values. 
</p>
<p>4.8 Two MOSFETs are employed as current-bidirectional two-quadrant switches in a bidirectional battery 
</p>
<p>charger/discharger based on the de-de buck converter. This converter interfaces a 16 V battery to a 28 V 
</p>
<p>main power bus. The maximum battery current is 40 A. The MOSFETs have on-resistances of 35 mQ. </p>
<p/>
</div>
<div class="page"><p/>
<p>106 Switch Realization 
</p>
<p>Their body diodes have forward voltage drops of 1.0 V, and exhibit recovered charge Qr of 25 p,C and 
</p>
<p>reverse recovery times tr of 200 ns in the given circuit. You may assume that all diodes in this problem 
</p>
<p>have "snappy" reverse recovery characteristics, and also assume that diode stored charge is the dominant 
</p>
<p>cause of switching loss in this circuit. You may neglect all losses other than the semiconductor conduc-
</p>
<p>tion losses and the switching loss induced by diode stored charge. 
</p>
<p>The current-bidirectional two-quadrant switches are realized as in Fig. 4.10(a), utilizing the 
</p>
<p>MOSFET body diodes. 
</p>
<p>(a) Estimate the switching energy loss, conduction loss, and converter efficiency, when the battery is 
</p>
<p>being charged at the maximum rate. The switching frequency is 100kHz. 
</p>
<p>External diodes are now added as illustrated in Fig. 4.10(b). These diodes have forward voltage drops of 
</p>
<p>1.0 V, and exhibit recovered charge Qr of 5 p,C and reverse recovery times tr of 40 ns in the given circuit. 
</p>
<p>(b) Repeat the analysis of Part (a), for this case. 
</p>
<p>(c) Over what range of switching frequencies does the addition of the external diodes improve the 
</p>
<p>converter efficiency? 
</p>
<p>4.9 A switching converter operates with a switching frequency of 100kHz. The converter waveforms exhibit 
</p>
<p>damped sinusoidal ringing, initiated by the transistor turn-off transition, which decays slowly but even-
</p>
<p>tually reaches zero before the end of the switching period. This ringing occurs in a series resonant circuit 
</p>
<p>formed by parasitic inductances and capacitances in the circuit. The frequency of the ringing is 5 MHz. 
</p>
<p>During the first period of sinusoidal ringing, the ac inductor current reaches a peak magnitude of 0.5 A, 
</p>
<p>and the ac capacitor voltage reaches a peak magnitude of 200 V. Determine the following quantities: 
</p>
<p>(a) the value of the total parasitic inductance, 
</p>
<p>(b) the value of the total parasitic capacitance, 
</p>
<p>(c) the energy lost per switching period, associated with this ringing, and 
</p>
<p>(d) the switching loss associated with this ringing. 
</p>
<p>(e) Derive a general expression for the switching loss, as a function of the switching frequency, 
</p>
<p>ringing frequency, and the ringing voltage and current peak magnitudes during the first period of 
</p>
<p>ringing. </p>
<p/>
</div>
<div class="page"><p/>
<p>5 
The Discontinuous Conduction Mode 
</p>
<p>When the ideal switches of a de-de converter are implemented using current-unidirectional and/or volt-
</p>
<p>age-unidirectional semiconductor switches, one or more new modes of operation known as discontinu-
</p>
<p>ous conduction modes (DCM) can occur. The discontinuous conduction mode arises when the switching 
</p>
<p>ripple in an inductor current or capacitor voltage is large enough to cause the polarity of the applied 
</p>
<p>switch current or voltage to reverse, such that the current- or voltage-unidirectional assumptions made in 
</p>
<p>realizing the switch with semiconductor devices are violated. The DCM is commonly observed in de-de 
</p>
<p>converters and rectifiers, and can also sometimes occur in inverters or in other converters containing two-
</p>
<p>quadrant switches. 
</p>
<p>The discontinuous conduction mode typically occurs with large inductor current ripple in a con-
</p>
<p>verter operating at light load and containing current-unidirectional switches. Since it is usually required 
</p>
<p>that converters operate with their loads removed, DCM is frequently encountered. Indeed, some convert-
</p>
<p>ers are purposely designed to operate in DCM for all loads. 
</p>
<p>The properties of converters change radically in the discontinuous conduction mode. The con-
</p>
<p>version ratio M becomes load-dependent, and the output impedance is increased. Control of the output 
</p>
<p>may be lost when the load is removed. We will see in a later chapter that the converter dynamics are also 
</p>
<p>significantly altered. 
</p>
<p>In this chapter, the origins of the discontinuous conduction mode are explained, and the mode 
</p>
<p>boundary is derived. Techniques for solution of the converter waveforms and output voltage are also 
</p>
<p>described. The principles of inductor volt-second balance and capacitor charge balance must always be 
</p>
<p>true in steady state, regardless of the operating mode. However, application of the small ripple approxi-
</p>
<p>mation requires some care, since the inductor current ripple (or one of the inductor current or capacitor 
</p>
<p>voltage ripples) is not small. 
</p>
<p>Buck and boost converters are solved as examples. Characteristics of the basic buck, boost, and 
</p>
<p>buck-boost converters are summarized in tabular form. </p>
<p/>
</div>
<div class="page"><p/>
<p>108 The Discontinuous Conduction Mode 
</p>
<p>5.1 ORIGIN OF THE DISCONTINUOUS CONDUCTION MODE, 
</p>
<p>AND MODE BOUNDARY 
</p>
<p>Let us consider how the inductor and switch current waveforms change as the load power is reduced. 
</p>
<p>Let's use the buck converter (Fig. 5.1) as a simple example. The inductor current iL(t) and diode current 
</p>
<p>iv(t) waveforms are sketched in Fig. 5.2 for the continuous conduction mode. As described in Chapter 2, 
</p>
<p>the inductor current waveform contains a de component I, plus switching ripple of peak amplitude AiL" 
</p>
<p>During the second subinterval, the diode current is identical to the inductor current. The minimum diode 
</p>
<p>current during the second subinterval is equal to (I- AiL); since the diode is a single-quadrant switch, 
</p>
<p>operation in the continuous conduction mode requires that this current remain positive. As shown in 
</p>
<p>Chapter 2, the inductor current de component I is equal to the load current: 
</p>
<p>(5.1) 
</p>
<p>since no de current flows through capacitor C. It can be seen that I depends on the load resistance R. The 
</p>
<p>Fig. 5.1 Buck converter 
</p>
<p>example. 
</p>
<p>Fig. 5.2 Buck converter wave-
</p>
<p>forms in the continuous conduc-
</p>
<p>tion mode: (a) inductor current 
</p>
<p>iL(t), (b) diode current i0 (t). 
</p>
<p>(a) 
</p>
<p>I 
</p>
<p>0 
</p>
<p>Conducting ; 
devices: f 
</p>
<p>(b) iv(t) 
</p>
<p>I 
</p>
<p>0 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>DTS </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 5.3 Buck converter 
</p>
<p>waveforms at the boundary 
</p>
<p>between the continuous and 
</p>
<p>discontinuous conduction 
</p>
<p>modes: (a) inductor current 
</p>
<p>iL(t), (b) diode current i0 (t). 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>switching ripple peak amplitude is: 
</p>
<p>5.1 Origin of the Discontinuous Conduction Mode, and Mode Boundary 109 
</p>
<p>Conducting 
devices: 
</p>
<p>I &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>0 
</p>
<p>(5.2) 
</p>
<p>The ripple magnitude depends on the applied voltage (Vg - V), on the inductance L, and on the transistor 
</p>
<p>conduction time DTs. But it does not depend on the load resistance R. The inductor current ripple magni-
</p>
<p>tude varies with the applied voltages rather than the applied currents. 
</p>
<p>Suppose now that the load resistance R is increased, so that the de load current is decreased. The 
</p>
<p>de component of inductor current I will then decrease, but the ripple magnitude tliL will remain 
</p>
<p>unchanged. If we continue to increaseR, eventually the point is reached where I= fliv illustrated in Fig. 
</p>
<p>5.3. It can be seen that the inductor current iL(t) and the diode current iv(t) are both zero at the end of the 
</p>
<p>switching period. Yet the load current is positive and nonzero. 
</p>
<p>What happens if we continue to increase the load resistance R? The diode current cannot be 
</p>
<p>negative; therefore, the diode must become reverse-biased before the end of the switching period. As 
</p>
<p>illustrated in Fig. 5.4, there are now three subintervals during each switching period Ts. During the first 
</p>
<p>subinterval of length D1 Ts the transistor conducts, and the diode conducts during the second subinterval 
</p>
<p>of length D2T,. At the end of the second subinterval the diode current reaches zero, and for the remainder 
</p>
<p>of the switching period neither the transistor nor the diode conduct. The converter operates in the discon-
</p>
<p>tinuous conduction mode. 
</p>
<p>Figure 5.3 suggests a way to find the boundary between the continuous and discontinuous con-
</p>
<p>duction modes. It can be seen that, for this buck converter example, the diode current is positive over the 
</p>
<p>entire interval DTs &lt; t &lt; Ts provided that I&gt; tliL. Hence, the conditions for operation in the continuous 
and discontinuous conduction modes are: </p>
<p/>
</div>
<div class="page"><p/>
<p>110 The Discontinuous Conduction Mode 
</p>
<p>Fig. 5.4 Buck converter 
</p>
<p>waveforms in the discontinuous 
</p>
<p>conduction mode: (a) inductor 
</p>
<p>current iL(t), (b) diode current 
</p>
<p>iD(t). 
</p>
<p>DT5 T5 
</p>
<p>Conducting 
devices: 
</p>
<p>--DI Ts -:--D2Ts -:.- D3Ts .. : 
</p>
<p>QI : DI i X i 
</p>
<p>0 
</p>
<p>I&gt; LliL for CCM 
</p>
<p>I&lt; LliL for DCM 
</p>
<p>DTS . 
1--DlTs-+1 
</p>
<p>(5.3) 
</p>
<p>where I and !:1iL are found assuming that the converter operates in the continuous conduction mode. 
</p>
<p>Insertion ofEqs. (5.1) and (5.2) into Eq. (5.3) yields the following condition for operation in the discon-
</p>
<p>tinuous conduction mode: 
</p>
<p>Simplification leads to 
</p>
<p>This can also be expressed 
</p>
<p>where 
</p>
<p>.JJ,_ &lt; D' 
RT, 
</p>
<p>and 
</p>
<p>(5.4) 
</p>
<p>(5.5) 
</p>
<p>(5.6) </p>
<p/>
</div>
<div class="page"><p/>
<p>5.1 Origin of the Discontinuous Conduction Mode, and Mode Boundary 111 
</p>
<p>Fig. 5.5 Buck converter K,,;/D) vs. D. The converter oper-
</p>
<p>ates in CCM when K &gt; K,,;,, and in DCM when K &lt; K,,;,&middot; 
</p>
<p>2 
</p>
<p>D 
</p>
<p>The dimensionless parameter K is a measure of the tendency of a converter to operate in the discontinu-
</p>
<p>ous conduction mode. Large values of K lead to continuous mode operation, while small values lead to 
</p>
<p>the discontinuous mode for some values of duty cycle. The critical value of K at the boundary between 
</p>
<p>modes, Kcri/D), is a function of duty cycle, and is equal to D' for the buck converter. 
</p>
<p>The critical value Kcrit(D) is plotted vs. duty cycleD in Fig. 5.5. An arbitrary choice of K is also 
</p>
<p>illustrated. For the values shown, it can be seen that the converter operates in DCM at low duty cycle, and 
</p>
<p>in CCM at high duty cycle. Figure 5.6 illustrates what happens with heavier loading. The load resistance 
</p>
<p>R is reduced in value, such that K is larger. If K is greater than one, then the converter operates in the con-
</p>
<p>tinuous conduction mode for all duty cycles. 
</p>
<p>It is natural to express the mode boundary in terms of the load resistance R, rather than the 
</p>
<p>dimensionless parameter K. Equation (5.6) can be rearranged to directly expose the dependence of the 
</p>
<p>mode boundary on the load resistance: 
</p>
<p>R &lt; R,,;,(D) for CCM 
(5.7) 
</p>
<p>R &gt; Rc,jD) for DCM 
</p>
<p>where 
</p>
<p>So the converter enters the discontinuous conduction mode when the load resistance R exceeds the criti-
</p>
<p>cal value Rcrir This critical value depends on the inductance, the switching period, and the duty cycle. 
</p>
<p>Note that, since D':::; 1, the minimum value of Rcrir is 2L!Ts. Therefore, if R &lt; 2LIT,., then the converter 
will operate in the continuous conduction mode for all duty cycles. 
</p>
<p>These results can be applied to loads that are not pure linear resistors. An effective load resis-
</p>
<p>Fig. 5.6 Comparison of K with Kcri,(D), for a larger 
</p>
<p>value of K. Since K &gt; l, the converter operates in CCM 
</p>
<p>for all D. 
</p>
<p>K&gt; Kcrit: 
</p>
<p>2 CCM 
</p>
<p>............................................... f!:..":. .. ~~:.~.~L .. 
</p>
<p>D </p>
<p/>
</div>
<div class="page"><p/>
<p>112 The Discontinuous Conduction Mode 
</p>
<p>TableS.l CCM-DCM mode boundaries for the buck, boost, and buck-boost converters 
</p>
<p>Converter Kcrit(D) max (Kcrit) Rcrit(D) min (Rcrit) 
OSD~I O~D~I 
</p>
<p>Buck (1-D) 
2L 21,_ 
</p>
<p>(1-D)T, T, 
</p>
<p>Boost D(1-D)2 4 
2L 27 L 
</p>
<p>27 D(1-D)2 T, TT, 
</p>
<p>Buck-boost (1- D)2 
2L 21,_ 
</p>
<p>(1-D)2 T, T, 
</p>
<p>tance R is defined as the ratio of the de output voltage to the de load current: R = VII. This effective load 
</p>
<p>resistance is then used in the above equations. 
</p>
<p>A similar mode boundary analysis can be performed for other converters. The boost converter is 
</p>
<p>analyzed in Section 5.3, while analysis of the buck-boost converter is left as a homework problem. The 
</p>
<p>results are listed in Table 5.1, for the three basic de-de converters. In each case, the dimensionless 
</p>
<p>parameter K is defined as K = 2L/RT8 , and the mode boundary is given by 
</p>
<p>or R &lt; Rc,;,(D) for CCM 
(5.8) 
</p>
<p>or R &gt; Rc,;,(D) for DCM 
</p>
<p>5.2 ANALYSIS OF THE CONVERSION RATIO M(D, K) 
</p>
<p>With a few modifications, the same techniques and approximations developed in Chapter 2 for the 
</p>
<p>steady-state analysis of the continuous conduction mode may be applied to the discontinuous conduction 
</p>
<p>mode. 
(a) Inductor volt-second balance. The de component of the voltage applied to an inductor must be zero: 
</p>
<p>(5.9) 
</p>
<p>(b) Capacitor charge balance. The de component of current applied to a capacitor must be zero: 
</p>
<p>&bull; 1 iTs. (tc) = T lc(t)dt = 0 
s 0 
</p>
<p>(5.10) 
</p>
<p>These principles must be true for any circuit that operates in steady state, regardless of the operating 
</p>
<p>mode. 
</p>
<p>(c) The linear ripple approximation. Care must be used when employing the linear ripple approximation in the 
</p>
<p>discontinuous conduction mode. 
</p>
<p>(i) Output capacitor voltage ripple. Regardless of the operating mode, it is required that the output volt-
</p>
<p>age ripple be small. Hence, for a well-designed converter operating in the discontinuous conduction 
</p>
<p>mode, the peak output voltage ripple ~v should be much smaller in magnitude than the output volt-
</p>
<p>age de component V. So the linear ripple approximation applies to the output voltage waveform: </p>
<p/>
</div>
<div class="page"><p/>
<p>5.2 Analysis of the Conversion Ratio M(D, K) 113 
</p>
<p>v(t) ~ V (5.11) 
</p>
<p>(ii) Inductor current ripple. By definition, the inductor current ripple is not small in the discontinuous 
</p>
<p>conduction mode. Indeed, Eq. (5.3) states that the inductor current ripple t1iL is greater in magnitude 
</p>
<p>than the de component f. So neglecting the inductor current ripple leads to inaccurate results. In 
</p>
<p>other converters, several inductor currents, or a capacitor voltage, may contain large switching ripple 
</p>
<p>which should not be neglected. 
</p>
<p>The equations necessary for solution of the voltage conversion ratio can be obtained by invoking volt-
</p>
<p>second balance for each inductor voltage, and charge balance for each capacitor current, in the network. 
</p>
<p>The switching ripple is ignored in the output capacitor voltage, but the inductor current switching ripple 
</p>
<p>must be accounted for in this buck converter example. 
</p>
<p>Let us analyze the conversion ratio M == V!Vg of the buck converter of Eq. (5.1). When the tran-
</p>
<p>sistor conducts, for 0 &lt; t &lt; D1 T,, the converter circuit reduces to the network of Fig. 5.7(a). The inductor 
voltage and capacitor current are given by 
</p>
<p>VL(t) = Vg- v(t) 
</p>
<p>. ( ) . ( ) v(t) tct =tLt -R 
(5.12) 
</p>
<p>By making the linear ripple approximation, to ignore the output capacitor voltage ripple, one obtains 
</p>
<p>Fig. 5. 7 Buck converter circuits for operation in 
</p>
<p>the discontinuous conduction mode: (a) during 
</p>
<p>subinterval 1, (b) during subinterval 2, (c) during 
</p>
<p>subinterval 3. 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>(c) 
</p>
<p>c R 
</p>
<p>c R 
</p>
<p>c R 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>+ 
</p>
<p>v(t) </p>
<p/>
</div>
<div class="page"><p/>
<p>114 The Discontinuous Conduction Mode 
</p>
<p>VL(t) ~ Vg- V 
</p>
<p>ic(t) ~ i 1ft)-* 
</p>
<p>Note that the inductor current ripple has not been ignored. 
</p>
<p>(5.13) 
</p>
<p>The diode conducts during subinterval 2, D1 Ts &lt; t &lt; (D1 + D2 )T5 &bull; The circuit then reduces to 
Fig. 5.7(b). The inductor voltage and capacitor current are given by 
</p>
<p>(5.14) 
</p>
<p>By neglecting the ripple in the output capacitor voltage, one obtains 
</p>
<p>vL(t) ~- V 
</p>
<p>ic(t) ~ iL(t)-* (5.15) 
The diode becomes reverse-biased at timet= (D1 + D2 )T5 &bull; The circuit is then as shown in Fig. 5.7(c), 
with both transistor and diode in the off state. The inductor voltage and inductor current are both zero for 
</p>
<p>the remainder of the switching period (D1 + D 2 )T5 &lt; t &lt; T5 &bull; The network equations for the third subinter-
val are given by 
</p>
<p>(5.16) 
</p>
<p>Note that the inductor current is constant and equal to zero during the third subinterval, and therefore the 
</p>
<p>inductor voltage must also be zero in accordance with the relationship vL(t) = LdiL(t)ldt. In practice, par-
</p>
<p>asitic ringing is observed during this subinterval. This ringing occurs owing to the resonant circuit 
</p>
<p>formed by the inductor and the semiconductor device capacitances, and typically has little influence on 
</p>
<p>the converter steady-state properties. Again ignoring the output capacitor voltage ripple, one obtains 
</p>
<p>vL(t) = 0 
</p>
<p>ic(t) =-* (5.17) 
Equations (5.13), (5.15), and (5.17) can now be used to plot the inductor voltage waveform as in Fig. 5.8. 
</p>
<p>According to the principle of inductor volt-second balance, the de component of this waveform must be 
</p>
<p>zero. Since the waveform is rectangular, its de component (or average value) is easily evaluated: 
</p>
<p>(5.18) 
</p>
<p>Solution for the output voltage yields 
</p>
<p>(5.19) 
</p>
<p>The transistor duty cycleD (which coincides with the subinterval! duty cycle D1) is the control input to 
</p>
<p>the converter, and can be considered known. But the subinterval 2 duty cycle D2 is unknown, and hence </p>
<p/>
</div>
<div class="page"><p/>
<p>5.2 Analysis of the Conversion Ratio M(D, K) 115 
</p>
<p>Fig. 5.8 Inductor voltage waveform vL(t), buck 
</p>
<p>converter operating in discontinuous conduction 
</p>
<p>mode. 
</p>
<p>-D1T8 ---D2T8 -:+D3Ts ... , 
</p>
<p>1 o I 
</p>
<p>-V 
</p>
<p>another equation is needed to eliminate D2 and solve for the output voltage V. 
</p>
<p>The second equation is obtained by use of capacitor charge balance. The connection of the 
</p>
<p>capacitor to its adjacent components is detailed in Fig. 5.9. The node equation of this network is 
</p>
<p>. ( ) . ( ) v(t) 
1L t =tc t +R 
</p>
<p>By capacitor charge balance, the de component of capacitor current must be zero: 
</p>
<p>(5.20) 
</p>
<p>(5.21) 
</p>
<p>Therefore, the de load current must be supplied entirely by the other elements connected to the node. In 
</p>
<p>particular, for the case of the buck converter, the de component of inductor current must be equal to the 
</p>
<p>de load current: &middot; . 
</p>
<p>(5.22) 
</p>
<p>So we need to compute the de component of the inductor current. 
</p>
<p>Since the inductor current ripple is not small, determination of the inductor current de compo-
</p>
<p>nent requires that we examine the current waveform in detail. The inductor current waveform is sketched 
</p>
<p>in Fig. 5.10. The current begins the switching period at zero, and increases during the first subinterval 
</p>
<p>with a constant slope, given by the applied voltage divided by the inductance. The peak inductor current 
</p>
<p>ipk is equal to the constant slope, multiplied by the length of the first subinterval: 
</p>
<p>(5.23) 
</p>
<p>The de component of the inductor current is again the average value: 
</p>
<p>(5.24) 
</p>
<p>v(t)IR 
</p>
<p>ic(t) 
+ 
</p>
<p>Fig. 5.9 Connection of the output capacitor to adjacent components. 
c R v(t) </p>
<p/>
</div>
<div class="page"><p/>
<p>116 The Discontinuous Conduction Mode 
</p>
<p>Fig. 5.10 Inductor current waveform 
iL(t), buck converter operating in dis-
continuous conduction mode. ( i L) = I 
</p>
<p>0 DT. T. 
!-D1T8 -j+-D2T8 -!+ D3T8 -.j 
</p>
<p>The integral, or area under the iL(t) curve, is the area of the triangle having height ipk and base dimension 
(D1 + D2)T &bull;. Use of the triangle area formula yields 
</p>
<p>(5.25) 
</p>
<p>Substitution of Eqs. (5.23) and (5.25) into Eq. (5.24) leads to 
</p>
<p>(5.26) 
</p>
<p>Finally, by equating this result to the de load current, according to Eq. (5.22), we obtain 
</p>
<p>(5.27) 
</p>
<p>Thus, we have two unknowns, V and D2, and we have two equations. The first equation, Eq. (5.19), was 
obtained by inductor volt-second balance, while the second equation, Eq. (5.27), was obtained using 
capacitor charge balance. Elimination of D2 from the two equations, and solution for the voltage conver-
sion ratio M(Dp K) = V/Vg, yields 
</p>
<p>(5.28) 
</p>
<p>where K=2URT8 
</p>
<p>valid for K &lt; Kcrit 
</p>
<p>This is the solution of the buck converter operating in discontinuous conduction mode. 
The complete buck converter characteristics, including both continuous and discontinuous con-
</p>
<p>duction modes, are therefore </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 5.11 Voltage conversion ratio 
</p>
<p>M(D, K), buck converter. 
</p>
<p>M= 
</p>
<p>l.O 
</p>
<p>M(D,K) 
</p>
<p>0.8 
</p>
<p>0.6 
</p>
<p>0.4 
</p>
<p>0.2 
</p>
<p>0.0 
</p>
<p>0.0 
</p>
<p>D 
</p>
<p>2 
</p>
<p>1 +v 1+ 4K 
Dz 
</p>
<p>5.3 Boost Converter Example 117 
</p>
<p>0.2 0.4 0.6 0.8 1.0 
</p>
<p>D 
</p>
<p>forK&gt; Kcrit 
</p>
<p>(5.29) 
</p>
<p>forK&lt; Kcrit 
</p>
<p>where the transistor duty cycleD is identical to the subinterval 1 duty cycle D1 of the above derivation. 
</p>
<p>These characteristics are plotted in Fig. 5.11, for several values of K. It can be seen that the effect of the 
</p>
<p>discontinuous conduction mode is to cause the output voltage to increase. As K tends to zero (the 
</p>
<p>unloaded case), M tends to unity for all nonzero D. The characteristics are continuous, and Eq. (5.28) 
</p>
<p>intersects the CCM characteristic M = D at the mode boundary. 
</p>
<p>5.3 BOOST CONVERTER EXAMPLE 
</p>
<p>As a second example, consider the boost converter of Fig. 5.12. Let's determine the boundary between 
</p>
<p>modes, and solve for the conversion ratio in the discontinuous conduction mode. Behavior of the boost 
</p>
<p>converter operating in the continuous conduction mode was analyzed previously, in Section 2.3, and 
</p>
<p>expressions for the inductor current de component I and ripple peak magnitude /::;,iL were found. 
</p>
<p>When the diode conducts, its current is identical to the inductor current iL(t). As can be seen 
</p>
<p>from Fig. 2.18, the minimum value of the inductor current during the diode conduction subinterval 
</p>
<p>DTs &lt; t &lt; T5 is (I- /::;.iL). If this minimum current is positive, then the diode is forward-biased for the 
entire subinterval DTs &lt; t &lt; Ts, and the converter operates in the continuous conduction mode. So the 
conditions for operation of the boost converter in the continuous and discontinuous conduction modes 
</p>
<p>are: </p>
<p/>
</div>
<div class="page"><p/>
<p>118 The Discontinuous Conduction Mode 
</p>
<p>Fig. 5.12 Boost converter example. 
</p>
<p>I&gt; t1iL for CCM 
</p>
<p>I&lt; t1iL for DCM 
</p>
<p>R 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>(5.30) 
</p>
<p>which is identical to ihe results for the buck converter. Substitution of the CCM solutions for I and l::.iu 
Eqs. (2-39) and (2-43), yields 
</p>
<p>(5.31) 
</p>
<p>This equation can be rearranged to obtain 
</p>
<p>.2L.. &gt; DD' 2 for CCM 
RTS 
</p>
<p>(5.32) 
</p>
<p>which is in the standard form 
</p>
<p>K&gt;Kc,;,(D) forCCM 
(5.33) 
</p>
<p>K &lt; Kc,;,(D) for DCM 
</p>
<p>0.15 &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; Kcri,(t) = 2~ 
</p>
<p>0.1 
</p>
<p>Fig. 5.13 Boost converter Kcrit(D) vs. D. 
</p>
<p>0.05 
</p>
<p>0 
</p>
<p>0 0.2 0.4 0.6 0.8 
</p>
<p>D </p>
<p/>
</div>
<div class="page"><p/>
<p>0.15 
</p>
<p>:::E 
u 
u 
</p>
<p>5.3 Boost Converter Example 119 
</p>
<p>CCM 
</p>
<p>0.1 .......................................................... ! ........................ !f ......... . 
</p>
<p>Fig. 5.14 Comparison of K with KcriJD). 
</p>
<p>0.05 
</p>
<p>0 
</p>
<p>0 
</p>
<p>where 
</p>
<p>K=.lL_ 
RT, 
</p>
<p>and 
</p>
<p>0.2 0.4 
</p>
<p>D 
</p>
<p>Kc,JD) = DD'2 
</p>
<p>'j 
.: 
</p>
<p>i 
! 
</p>
<p>0.6 0.8 
</p>
<p>The conditions for operation in the continuous or discontinuous conduction modes are of similar form to 
</p>
<p>those for the buck converter; however, the critical value Kcrir(D) is a. different function of the duty cycle 
</p>
<p>D. The dependence of Kcri/D) on the duty cycleD is plotted in Fig. 5.13. Kcrit(D) is zero at D = 0 and at 
</p>
<p>D = 1, and has a maximum value of 4/27 at D = 113. Hence, if K is greater than 4/27, then the converter 
operates in the continuous conduction mode for all D. Figure 5.14 illustrates what happens when K is 
</p>
<p>less than 4/27. The converter then operates in the discontinuous conduction mode for some intermediate 
</p>
<p>range of values of D near D = 113. But the converter operates in the continuous conduction mode near 
D = 0 and D = 1. Unlike the buck converter, the boost converter must operate in the continuous conduc-
tion mode near D = 0 because the ripple magnitude approaches zer() while the de component I does not. 
</p>
<p>Next, let us analyze the conversion ratio M = V/Vg of the boost converter. When the transistor 
</p>
<p>conducts, for the subinterval 0 &lt; t &lt; D1 Ts, the converter circuit reduces to the circuit of 5.15(a). The 
inductor voltage and capacitor current are given by 
</p>
<p>VL(t) = Vg 
. (t) _ _ v(t) 
tc - R 
</p>
<p>Use of the linear ripple approximation, to ignore the output capacitor voltage ripple, leads to 
</p>
<p>VL(t) "' Vg 
</p>
<p>i c(t) "'-* 
</p>
<p>(5.34) 
</p>
<p>(5.35) 
</p>
<p>During the second subinterval D1T, &lt; t &lt; (D1 + D2 )Ts, the diode conducts. The circuit then reduces to </p>
<p/>
</div>
<div class="page"><p/>
<p>120 The Discontinuous Conduction Mode 
</p>
<p>Fig. 5.15 Boost converter circuits: (a) during 
</p>
<p>subinterval!, 0 &lt; t &lt; D1 T,, (b) during subinterval2, 
D1 T8 &lt; t &lt; (D1 + D2)T8 , (c) during subinterval 3, 
(D1 + D2)T8 &lt; t &lt; T8 &bull; Vg 
</p>
<p>i(t) L 
</p>
<p>i(t) L 
</p>
<p>i(t) L 
</p>
<p>Fig. 5.15(b). The inductor voltage and capacitor current are given by 
</p>
<p>VL(t) = V8 - v(t) 
</p>
<p>ic(t) = i(t)- v~) 
</p>
<p>Neglect of the output capacitor voltage ripple yields 
</p>
<p>vL(t)"' V8 - V 
</p>
<p>ic(t) "' i(t)-* 
The inductor current ripple has not been neglected. 
</p>
<p>+ 
</p>
<p>c R v(t) 
</p>
<p>+ 
</p>
<p>c R v(t) 
</p>
<p>icf...t) 
+ 
</p>
<p>c R v(t) 
</p>
<p>(5.36) 
</p>
<p>(5.37) 
</p>
<p>During the third subinterval, (D1 + D2 )Ts &lt; t &lt; r &bull;. both transistor and diode are in the off state, 
and Fig. 5.15(c) is obtained. The network equations are: 
</p>
<p>VL=O, i=O 
</p>
<p>ic(t) =- v~) 
</p>
<p>Use of the small-ripple approximation yields 
</p>
<p>(5.38) </p>
<p/>
</div>
<div class="page"><p/>
<p>5.3 Boost Converter Example 121 
</p>
<p>Fig. 5.16 Inductor voltage waveform vL(t), boost 
</p>
<p>converter operating in discontinuous conduction 
</p>
<p>mode. 
</p>
<p>vL(t) = 0 
</p>
<p>ic(t) =-* 
</p>
<p>+--D!Ts --++-D2Ts-+t+D3Ts+1 
</p>
<p>i 0 
</p>
<p>(5.39) 
</p>
<p>Equations (5.35), (5.37), and (5.39) are now used to sketch the inductor voltage waveform as in Fig. 
</p>
<p>5.16. By volt-second balance, this waveform must have zero de component when the converter operates 
</p>
<p>in steady state. By equating the average value of this vL(t) waveform to zero, one obtains 
</p>
<p>(5.40) 
</p>
<p>Solution for the output voltage Vyields 
</p>
<p>(5.41) 
</p>
<p>The diode duty cycle D2 is again an unknown, and so a second equation is needed for elimination of D2 
before the output voltage V can be found. 
</p>
<p>We can again use capacitor charge balance to obtain the second equation. The connection of the 
</p>
<p>output capacitor to its adjacent components is detailed in Fig. 5.17. Unlike the buck converter, the diode 
</p>
<p>in the boost converter is connected to the output node. The node equation of Fig. 5.17 is 
</p>
<p>(5.42) 
</p>
<p>where in(t) is the diode current. By capacitor charge balance, the capacitor current ic(t) must have zero 
</p>
<p>de component in steady state. Therefore, the diode current de component (in) must be equal to the de 
</p>
<p>component of the load current: 
</p>
<p>So we need to sketch the diode current waveform, and find its de component. 
</p>
<p>Fig. 5.17 Connection of the output capacitor to adjacent components 
</p>
<p>in the boost converter. 
</p>
<p>c R 
</p>
<p>(5.43) 
</p>
<p>+ 
</p>
<p>v(t) </p>
<p/>
</div>
<div class="page"><p/>
<p>122 The Discontinuous Conduction Mode 
</p>
<p>Fig. 5.18 Boost converter waveforms 
</p>
<p>in the discontinuous conduction mode: 
</p>
<p>(a) inductor current i(t), (b) diode current 
</p>
<p>(a) 
</p>
<p>io(t). 
(b) 
</p>
<p>i(t) 
</p>
<p>0 DT, T, 
j-D 1 T, --+j+- D2T, -+j+ D3T, ... j 
</p>
<p>( iD) .............................................. &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>0 D~ ~ 
j--D 1 T, -....j+- D2T, -+-j+ D3T, ..... j 
</p>
<p>The waveforms of the inductor current i(t) and diode current iv(t) are illustrated in Fig. 5.18. 
</p>
<p>The inductor current begins at zero, and rises to a peak value ipk during the first subinterval. This peak 
</p>
<p>value ipk is equal to the slope V/L, multiplied by the length of the first subinterval, D 1 T,: 
</p>
<p>(5.44) 
</p>
<p>The diode conducts during the second subinterval, and the inductor current then decreases to zero, where 
</p>
<p>it remains during the third subinterval. The diode current iv(t) is identical to the inductor current i(t) dur-
</p>
<p>ing the second subinterval. During the first and third subintervals, the diode is reverse-biased and hence 
</p>
<p>iv(t) is zero. 
</p>
<p>The de component of the diode current, ( iv), is: 
</p>
<p>. 1 iTs. (z 0 ) =- t0 (t)dt 
T, o 
</p>
<p>(5.45) 
</p>
<p>The integral is the area underthe iv(t) waveform. As illustrated in Fig. 5.18(b), this area is the area of the 
</p>
<p>triangle having peak value ipk and base dimension D2T,: 
</p>
<p>(5.46) 
</p>
<p>Substitution ofEqs. (5.44) and (5.46) into Eq. (5.45) leads to the following expression for the de compo-
</p>
<p>nent of the diode current: </p>
<p/>
</div>
<div class="page"><p/>
<p>5.3 Boost Converter Example 123 
</p>
<p>By equating this expression to the de load current as in Eq. (5.43), one obtains the final result 
</p>
<p>VgD 1D2T, V 
2L =R 
</p>
<p>(5.48) 
</p>
<p>So now we have two unknowns, Vand D2 . We have two equations: Eq. (5.41) obtained via inductor volt-
</p>
<p>second balance, and Eq. (5.48) obtained using capacitor charge balance. Let us now eliminate D2 from 
</p>
<p>this system of equations, and solve for the output voltage V. Solution of Eq. (5.41) for D2 yields 
</p>
<p>(5.49) 
</p>
<p>By inserting this result into Eq. (5.48), and rearranging terms, one obtains the following quadratic equa-
</p>
<p>tion: 
</p>
<p>(5.50) 
</p>
<p>Use of the quadratic formula yields 
</p>
<p>1 +V 1 4D~ V - + K 
vg = 2 
</p>
<p>(5.51) 
</p>
<p>The quadratic equation has two roots: one of the roots of Eq. (5.51) is positive, while the other is nega-
</p>
<p>tive. We already know that the output voltage of the boost converter should be positive, and indeed, from 
</p>
<p>Eq. (5.41), it can be seen that V!V8 must be positive since the duty cycles D1 and D2 are positive. So we 
</p>
<p>should select the positive root: 
</p>
<p>(5.52) 
</p>
<p>where K = 2LIRT, 
</p>
<p>valid for K &lt; Kcrh(D) 
</p>
<p>This is the solution of the boost converter operating in the discontinuous conduction mode. 
</p>
<p>The complete boost converter characteristics, including both continuous and discontinuous con-
</p>
<p>duction modes, are 
</p>
<p>_1_ 
forK&gt; Kcr;t 
</p>
<p>1-D 
M= 
</p>
<p>1 + J 1 + 4~2 
(5.53) 
</p>
<p>forK&lt; Kc,;t 
2 </p>
<p/>
</div>
<div class="page"><p/>
<p>124 The Discontinuous Conduction Mode 
</p>
<p>Fig. 5.19 Voltage conversion ratio M(D, 
</p>
<p>K) of the boost converter, including both 
</p>
<p>continuous and discontinuous conduction 
</p>
<p>modes 
</p>
<p>M(D,K) 
</p>
<p>5 
</p>
<p>4 
</p>
<p>3 
</p>
<p>2 
</p>
<p>0 
</p>
<p>0 0.25 0.5 0.75 
</p>
<p>D 
</p>
<p>These characteristics are plotted in Fig. 5.19, for several values of K. As in the buck converter, the effect 
</p>
<p>of the discontinuous conduction mode is to cause the output voltage to increase. The DCM portions of 
</p>
<p>the characteristics are nearly linear, and can be approximated as 
</p>
<p>(5.54) 
</p>
<p>5.4 SUMMARY OF RESULTS AND KEY POINTS 
</p>
<p>The characteristics of the basic buck, boost, and buck-boost are summarized in Table 5.2. Expressions 
</p>
<p>for KcriD), as well as for the solutions of the de conversion ratios in CCM and DCM, and for the DCM 
</p>
<p>diode conduction duty cycle D2 , are given. 
</p>
<p>The de conversion ratios of the DCM buck, boost, and buck-boost converters are compared in 
</p>
<p>Table 5.2 Summary of CCM-DCM characteristics for the buck, boost, and buck-boost converters 
</p>
<p>Converter Kcri/D) DCMM(D,K) DCMD2(D, K) CCMM(D) 
</p>
<p>Buck (1-D) 
2 K D 
</p>
<p>1 + V1 +4K/D 2 
DM(D, K) 
</p>
<p>Boost D(1- D)2 1 + JI +4D 2/K K 1 
2 
</p>
<p>DM(D,K) 
1-D 
</p>
<p>Buck--boost (1- D)2 D IK D -IK -1-D 
</p>
<p>with K= 2LIRT,, DCM occurs for K &lt; Kcrit. </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 5.20 Comparison of de conversion 
</p>
<p>ratios of the buck-boost, buck, and boost 
</p>
<p>converters operated in the discontinuous 
</p>
<p>conduction mode. 
</p>
<p>DCM 
M(D,K) 
</p>
<p>0 
</p>
<p>0 
</p>
<p>5.4 Summary of Results and Key Points 125 
</p>
<p>0.2 0.4 0.6 0.8 
</p>
<p>D 
</p>
<p>Fig. 5.20. The buck-boost characteristic is a line with slope 1/ JK. The characteristics of the buck and 
the boost converters are both asymptotic to this line, as well as to the line M = 1. Hence, when operated 
</p>
<p>deeply into the discontinuous conduction mode, the boost converter characteristic becomes nearly linear 
</p>
<p>with slope 11 JK, especially at high duty cycle. Likewise, the buck converter characteristic becomes 
nearly linear with the same slope, when operated deeply into discontinuous conduction mode at low duty 
</p>
<p>cycle. 
</p>
<p>The following are the key points of this chapter: 
</p>
<p>1. The discontinuous conduction mode occurs in converters containing current- or voltage-unidirectional 
</p>
<p>switches, when the inductor current or capacitor voltage ripple is large enough to cause the switch current 
</p>
<p>or voltage to reverse polarity. 
</p>
<p>2. Conditions for operation in the discontinuous conduction mode can be found by determining when the 
</p>
<p>inductor current or capacitor voltage ripples and de components cause the switch on state current or off 
</p>
<p>state voltage to reverse polarity. 
</p>
<p>3. The de conversion ratio M of converters operating in the discontinuous conduction mode can be found by 
</p>
<p>application of the principles of inductor volt-second and capacitor charge balance. 
</p>
<p>4. Extra care is required when applying the small-ripple approximation. Some waveforms, such as the outpui 
</p>
<p>voltage, should have small ripple which can be neglected. Other waveforms, such as one or more inductor 
</p>
<p>currents, may have large ripple that cannot be ignored. 
</p>
<p>5. The characteristics of a converter changes significantly when the converter enters DCM. The output volt-
</p>
<p>age becomes load-dependent, resulting in an increase in the converter output impedance. </p>
<p/>
</div>
<div class="page"><p/>
<p>126 The Discontinuous Conduction Mode 
</p>
<p>PROBLEMS 
</p>
<p>5.1 The elements of the buck-boost converter of Fig. 5.21 are ideal: all losses may be ignored. Your results 
</p>
<p>for parts (a) and (b) should agree with Table 5.2. 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 5.21 Buck-boost converter of Problems 5.1 and 5.13. 
</p>
<p>(a) Show that the converter operates in discontinuous conduction mode when K &lt; Kcrit' and derive 
</p>
<p>expressions for K and Kcru&middot; 
</p>
<p>(b) Derive an expression for the de conversion ratio V/V8 of the buck-boost converter operating in 
</p>
<p>discontinuous conduction mode. 
</p>
<p>(c) ForK= 0.1, plot VIV8 over the entire range 0 ~ D $ 1. 
</p>
<p>(d) Sketch the inductor voltage and current waveforms forK= 0.1 and D = 0.3. Label salient fea-
tures. 
</p>
<p>(e) What happens to Vat no load (R-+ =)?Explain why, physically. 
</p>
<p>5.2 A certain buck converter contains a synchronous rectifier, as described in Section 4.1.5. 
</p>
<p>(a) Does this converter operate in the discontinuous conduction mode at light load? Explain. 
</p>
<p>(b) The load resistance is disconnected (R-+ =),and the converter is operated with duty cycle 0.5. 
</p>
<p>Sketch the inductor current waveform. 
</p>
<p>5.3 An unregulated de input voltage V8 varies over the range 35 V $ V8 $ 70 V. A buck converter reduces this 
</p>
<p>voltage to 28 V; a feedback loop varies the duty cycle as necessary such that the converter output voltage 
</p>
<p>is always equal to 28 V. The load power varies over the range 10 W $ P1oad ~ 1000 W. The element values 
</p>
<p>are: 
</p>
<p>5.4 
</p>
<p>L= 22 fLH 
</p>
<p>Losses may be ignored. 
</p>
<p>C=470 fLF fs =75kHz 
</p>
<p>(a) Over what range of V8 and load current does the converter operate in CCM? 
</p>
<p>(b) Determine the maximum and minimum values of the steady-state transistor duty cycle. 
</p>
<p>The transistors in the converter of 
</p>
<p>Fig. 5.22 are driven by the same 
</p>
<p>gate drive signal, so that they turn 
</p>
<p>on and off in synchronism with 
</p>
<p>duty cycle D. 
</p>
<p>(a) Determine the conditions 
</p>
<p>under which this con-
</p>
<p>verter operates in the dis-
</p>
<p>continuous conduction 
</p>
<p>mode, as a function of the 
</p>
<p>steady-state duty ratio D 
</p>
<p>R 
</p>
<p>Fig. 5.22 Watkins-Johnson converter of Problem 5.4. 
</p>
<p>+ 
</p>
<p>v </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 127 
</p>
<p>and the dimensionless parameter K = 2L/RTs. 
</p>
<p>(b) What happens to your answer to Part (a) forD&lt; 0.5? 
</p>
<p>(c) Derive an expression for the de conversion ratio M(D, K). Sketch M vs. D forK= 10 and for 
</p>
<p>K = 0.1, over the range 0:::; D:::; 1. 
</p>
<p>5.5 DCM mode boundary analysis of the Cuk converter of Fig. 5.23. The capacitor voltage ripples are small. 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 5.23 Cuk converter, Problems 5.5, 5.6, 5.11, and 5.12 
</p>
<p>(a) Sketch the diode current waveform for CCM operation. Find its peak value, in terms of the rip-
</p>
<p>ple magnitudes /';.iLl, /';.iL2' and the de components !1 and !2, of the two inductor currents iLl(t) 
</p>
<p>and iL2(t), respectively. 
</p>
<p>(b) Derive an expression for the conditions under which the Cuk converter operates in the discontin-
</p>
<p>uous conduction mode. Express your result in the form K &lt; Kcrit(D), and give formulas forK and 
</p>
<p>Kcrit(D). 
</p>
<p>5.6 DCM conversion ratio analysis of the Cuk converter of Fig. 5.23. 
</p>
<p>(a) Suppose that the converter operates at the boundary between CCM and DCM, with the follow-
</p>
<p>ing element and parameter values: 
</p>
<p>D=0.4 
</p>
<p>vg = 12ov 
L1 =54 J.!H 
</p>
<p>fs= 100kHz 
</p>
<p>R= 10Q 
</p>
<p>L2 = 27 J.!H 
C1 = 47 J.!F C2 = 100 J.!F 
</p>
<p>Sketch the diode current waveform i0 (t), and the inductor current waveforms i 1(t) and iit). 
</p>
<p>Label the magnitudes of the ripples and de components of these waveforms. 
</p>
<p>(b) Suppose next that the converter operates in the discontinuous conduction mode, with a different 
</p>
<p>choice of parameter and element values. Derive an analytical expression for the de conversion 
</p>
<p>ratio M(D, K). 
</p>
<p>(c) Sketch the diode current waveform i0 (t), and the inductor current waveforms i1(t) and iit), for 
</p>
<p>operation in the discontinuous conduction mode. 
</p>
<p>5.7 DCM mode boundary analysis of the SEPIC of Fig. 5.24 
</p>
<p>(a) Sketch the diode current waveform for CCM operation. Find its peak value, in terms of the rip-
</p>
<p>ple magnitudes /';.iLl, /';.iLz&bull; and the de components ! 1 and ! 2, of the two inductor currents iLl(t) 
</p>
<p>and iL2(t), respectively. 
</p>
<p>(b) Derive an expression for the conditions under which the SEPIC operates in the discontinuous 
</p>
<p>conduction mode. Express your result in the form K &lt; KcriJD), and give formulas for K and 
</p>
<p>KcriJD). 
</p>
<p>5.8 DCM conversion ratio analysis of the SEPIC of Fig. 5.24. 
</p>
<p>(a) Suppose that the converter operates at the boundary between CCM and DCM, with the follow-</p>
<p/>
</div>
<div class="page"><p/>
<p>128 The Discontinuous Conduction Mode 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 5.24 SEPIC, Problems 5.7 and 5.8. 
</p>
<p>ing element and parameter values: 
</p>
<p>D = 0.225 f, =100kHz 
V8 = 120V R= 100 
</p>
<p>L1 = 50 f.!H L2 = 75 f.!H 
</p>
<p>C1 = 47 f.!F C2 = 200 f.!F 
</p>
<p>Sketch the diode current waveform i0 (t), and the inductor current waveforms i1 (t) and i2(t). 
</p>
<p>Label the magnitudes of the ripples and de components of these waveforms. 
</p>
<p>(b) Suppose next that the converter operates in the discontinuous conduction mode, with a different 
</p>
<p>choice of parameter and element values. Derive an analytical expression for the de conversion 
</p>
<p>ratio M(D, K). 
</p>
<p>(c) Sketch the diode current waveform i0 (t), and the inductor current waveforms i1(t) and i2(t), for 
</p>
<p>operation in the discontinuous conduction mode. 
</p>
<p>5.9 An L-C input filter is added to a buck converter as illustrated in Fig. 5.25. Inductors L1 and L2 and capac-
</p>
<p>itor C2 are large in value, such that their switching ripples are small. All losses can be neglected. 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>Fig. 5.25 Buck converter with input filter, Problems 5.9 and 5.10. 
</p>
<p>(a) Sketch the capacitor C1 voltage waveform v1 (t), and derive expressions for its de component V1 
and peak ripple magnitude ~v 1 . 
</p>
<p>(b) The load current is increased (R is decreased in value) such that ~v 1 is greater than V1. 
</p>
<p>(i) Sketch the capacitor voltage waveform v 1 (t). 
</p>
<p>(ii) For each subinterval, determine which semiconductor devices conduct. 
</p>
<p>(iii) Determine the conditions under which the discontinuous conduction mode occurs. 
</p>
<p>Express your result in the form K &lt; Kcri,(D), and give formulas forK and Kcrir(D). 
</p>
<p>5.10 Derive an expression for the conversion ratio M(D, K) of the DCM converter described in the previous 
</p>
<p>problem. Note: D is the transistor duty cycle. 
</p>
<p>5.11 In the Cuk converter of Fig. 5.23, inductors L1 and L2 and capacitor C2 are large in value, such that their 
</p>
<p>switching ripples are small. All losses can be neglected. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 129 
</p>
<p>(a) Assuming that the converter operates in CCM, sketch the capacitor C1 voltage waveform vCl(t), 
</p>
<p>and derive expressions for its de component V1 and peak ripple magnitude Avc1&bull; 
</p>
<p>(b) The load current is increased (R is decreased in value) such that Avc1 is greater than V1&bull; 
</p>
<p>(i) Sketch the capacitor voltage waveform v Cl (t). 
</p>
<p>(ii) For each subinterval, determine which semiconductor devices conduct. 
</p>
<p>(iii) Determine the conditions under which the discontinuous conduction mode occurs. 
</p>
<p>Express your result in the form K &lt; Kcri,(D), and give formulas for K and Kc,1,(D). 
</p>
<p>5.12 Derive an expression for the conversion ratio M(D, K) of the DCM Cuk converter described in the previ-
</p>
<p>ous problem. Note: Dis the transistor duty cycle. 
</p>
<p>5.13 A DCM buck-boost converter as in Fig. 5.21 is to be designed to operate under the following conditions: 
</p>
<p>136 v s V8 s 204 v 
</p>
<p>5 W S Pload S 100 W 
</p>
<p>V=-150V 
</p>
<p>fs= 100kHz 
You may assume that a feedback loop will vary to transistor duty cycle as necessary to maintain a con-
</p>
<p>stant output voltage of- 150 V. 
</p>
<p>Design the converter, subject to the following considerations: 
</p>
<p>The converter should operate in the discontinuous conduction mode at all times 
</p>
<p>Given the above requirements, choose the element values to minimize the peak inductor current 
</p>
<p>The output voltage peak ripple should be less than 1 V. 
</p>
<p>Specify: 
</p>
<p>(a) The inductor value L 
</p>
<p>(b) The output capacitor value C 
</p>
<p>(c) The worst-case peak inductor current ipk 
</p>
<p>(d) The maximum and minimum values of the transistor duty cycleD 
</p>
<p>5.14 A DCM boost converter as in Fig. 5.12 is to be designed to operate under the following conditions: 
</p>
<p>18 v s V8 s 36 v 
</p>
<p>5WsP1aads 100W 
</p>
<p>V=48V 
</p>
<p>fs =150kHz 
You may assume that a feedback loop will vary to transistor duty cycle as necessary to maintain a con-
</p>
<p>stant output voltage of 48 V. 
</p>
<p>Design the converter, subject to the following considerations: 
</p>
<p>The converter should operate in the discontinuous conduction mode at all times. To ensure an 
</p>
<p>adequate design margin, the inductance L should be chosen such that K is no greater than 75% of 
</p>
<p>Kcrit at all operating points. 
</p>
<p>Given the above requirements, choose the element values to minimize the peak inductor current. 
</p>
<p>The output voltage peak ripple should be less than 1 V. 
</p>
<p>Specify: 
</p>
<p>(a) The inductor value L 
</p>
<p>(b) The output capacitor value C 
</p>
<p>(c) The worst-case peak inductor current ipk </p>
<p/>
</div>
<div class="page"><p/>
<p>130 The Discontinuous Conduction Mode 
</p>
<p>(d) The maximum and minimum values of the transistor duty cycle D. 
</p>
<p>(e) The values of D, K and Kcrit at the following operating points: (i) Vg = I8 V and P1oad = 5 W; (ii) 
Vg = 36 V and P10aa = 5 W; (iii) Vg = I8 V and P1oad = IOO W; (iv) Vg = 36 V and P1oaa = IOO W. 
</p>
<p>5.15 In de-de converters used in battery-powered portable equipment, it is sometimes required that the con-
verter continue to regulate its load voltage with high efficiency while the load is in a low-power "sleep" 
</p>
<p>mode. The power required by the transistor gate drive circuitry, as well as much of the switching loss, is 
</p>
<p>dependent on the switching frequency but not on the load current. So to obtain high efficiency at very 
</p>
<p>low load powers, a variable-frequency control scheme is used, in which the switching frequency is 
</p>
<p>reduced in proportion to the load current. 
</p>
<p>Consider the boost converter system of Fig. 5.26(a). The battery pack consists of two nickel-cad-
</p>
<p>mium cells, which produce a voltage of Vg = 2.4 V &plusmn; 0.4 V. The converter boosts this voltage to a regu-
lated 5 V. As illustrated in Fig. 5.26(b), the converter operates in the discontinuous conduction mode, 
with constant transistor on-time t011 &bull; The transistor off-time t0ffis varied by the controller to regulate the 
</p>
<p>output voltage. 
(a) 
</p>
<p>r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;,.... ... _ ... .;...i _ ___,&pound; [load[ ....................... ! 
</p>
<p>+I 
L 
</p>
<p>c 
</p>
<p>Fig. 5.26 Boost con-
</p>
<p>verter employed in portable 
</p>
<p>battery-powered equipment 
</p>
<p>with sleep mode, Problem 
</p>
<p>5.I5: (a) converter circuit, 
</p>
<p>(b) inductor current wave-
</p>
<p>form. 
</p>
<p>R ~)I 
..................... -........ , ------~----'--+L.- ... --~ .................. ] 
</p>
<p>Battery pack 
</p>
<p>(b) i(t) 
</p>
<p>Effective load 
</p>
<p>(a) Write the equations for the CCM-DCM boundary and conversion ratio M = V/Vg, in terms of ton' 
t0ff' L, and the effective load resistance R. 
</p>
<p>For parts (b) and (c), the load current can vary between I 00 p,A and I A. The transistor on time is fixed: 
</p>
<p>( 0 n = 10 p,s. 
</p>
<p>(b) Select values for L and C such that: 
</p>
<p>The output voltage peak ripple is no greater than 50 m V, 
</p>
<p>The converter always operates in DCM, and 
</p>
<p>The peak inductor current is as small as possible. 
</p>
<p>(c) For your design of part (b), what are the maximum and minimum values of the switching fre-
</p>
<p>quency? </p>
<p/>
</div>
<div class="page"><p/>
<p>6 
Converter Circuits 
</p>
<p>We have already analyzed the operation of a number of different types of converters: buck, boost, 
</p>
<p>buck-boost, Cuk, voltage-source inverter, etc. With these converters, a number of different functions can 
</p>
<p>be performed: step-down of voltage, step-up, inversion of polarity, and conversion of de to ac or vice-
</p>
<p>versa. 
</p>
<p>It is natural to ask, Where do these converters come from? What other converters occur, and 
</p>
<p>what other functions can be obtained? What are the basic relations between converters? In this chapter, 
</p>
<p>several different circuit manipulations are explored, which explain the origins of the basic converters. 
</p>
<p>Inversion of source and load transforms the buck converter into the boost converter. Ca~cade connection 
</p>
<p>of converters, and simplification of the resulting circuit, shows how the buck-boost and Cuk converters 
</p>
<p>are based on the buck and the boost converters. Differential connection of the load between the outputs 
</p>
<p>of two or more converters leads to a single-phase or polyphase inverter. A short list of some of the better 
</p>
<p>known converter circuits follows this discussion. 
</p>
<p>Transformer-isolated de-de converters are also covered in this chapter. Use of a transformer 
</p>
<p>allows isolation and multiple outputs to be obtained in a de-de converter, and can lead to better converter 
</p>
<p>optimization when a very large or very small conversion ratio is required. The transformer is modeled as 
</p>
<p>a magnetizing inductance in parallel with an ideal transformer; this allows the analysis techniques of the 
</p>
<p>previous chapters to be extended to cover converters containing transformers. A number of well-known 
</p>
<p>isolated converters, based on the buck, boost, buck-boost, single-ended primary inductance converter 
</p>
<p>(SEPIC), and Cuk, are listed and discussed. 
</p>
<p>Finally, the evaluation, selection, and design of converters to meet given requirements are con-
</p>
<p>sidered. Important performance-related attributes of transformer-isolated converters include: whether the 
</p>
<p>transformer reset process imposes excessive voltage stress on the transistors, whether the converter can 
</p>
<p>supply a high-current output without imposing excessive current stresses on the secondary-side compo-
</p>
<p>nents, and whether the converter can be well-optimized to operate with a wide range of operating points, </p>
<p/>
</div>
<div class="page"><p/>
<p>132 Converter Circuits 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>Fig. 6.1 The basic buck converter. 2 
c R v 
</p>
<p>that is, with large tolerances in V8 and P1oad' Switch utilization is a simplified figure-of-merit that mea-
</p>
<p>sures the ratio of the converter output power to the total transistor voltage and current stress. As the 
</p>
<p>switch utilization increases, the converter efficiency increases while its cost decreases. Isolated convert-
</p>
<p>ers with large variations in operating point tend to utilize their power devices more poorly than noniso-
</p>
<p>lated converters which function at a single operating point. Computer spreadsheets are a good tool for 
</p>
<p>optimization of power stage designs and for trade studies to select a converter topology for a given appli-
</p>
<p>cation. 
</p>
<p>6.1 CIRCUIT MANIPULATIONS 
</p>
<p>The buck converter (Fig. 6.1) was developed in Chapter 1 using basic principles. The switch reduces the 
</p>
<p>voltage de component, and the low-pass filter removes the switching harmonics. In the continuous con-
</p>
<p>duction mode, the buck converter has a conversion ratio of M =D. The buck converter is the simplest and 
</p>
<p>most basic circuit, from which we will derive other converters. 
</p>
<p>6.1.1 Inversion of Source and Load 
</p>
<p>Let us consider first what happens when we interchange the power input and power output ports of a con-
</p>
<p>verter. In the buck converter of Fig. 6.2(a), voltage V1 is applied at port 1, and voltage V2 appears at port 
</p>
<p>2. We know that 
</p>
<p>(6.1) 
</p>
<p>This equation can be derived using the principle of inductor volt-second balance, with the assumption 
</p>
<p>that the converter operates in the continuous conduction mode. Provided that the switch is realized such 
</p>
<p>that this assumption holds, then Eq. (6.1) is true regardless of the direction of power flow. 
</p>
<p>So let us interchange the power source and load, as in Fig. 6.2(b). The load, bypassed by the 
</p>
<p>capacitor, is connected to converter port 1, while the power source is connected to converter port 2. 
</p>
<p>Power now flows in the opposite direction through the converter. Equation (6.1) must still hold; by solv-
</p>
<p>ing for the load voltage V1, one obtains 
</p>
<p>(6.2) 
</p>
<p>So the load voltage is greater than the source voltage. Figure 6.2(b) is a boost converter, drawn back-
</p>
<p>wards. Equation 6.2 nearly coincides with the familiar boost converter result, M(D) = liD', except that D' 
is replaced by D. 
</p>
<p>Since power flows in the opposite direction, the standard buck converter unidirectional switch </p>
<p/>
</div>
<div class="page"><p/>
<p>6.1 Circuit Manipulations 133 
</p>
<p>(a) Port 1 Port2 
L 
</p>
<p>+ + 
2 
</p>
<p>~ 
Power flow 
</p>
<p>(b) 
Port 1 Port2 
</p>
<p>L 
</p>
<p>Fig. 6.2 Inversion of source and 
</p>
<p>load transforms a buck converter + 
into a boost converter: (a) buck con-
</p>
<p>VI verter, (b) inversion of source and 
load, (c) realization of switch. 
</p>
<p>IIIII 
Power flow 
</p>
<p>(c) 
Port 1 Port2 
</p>
<p>L 
</p>
<p>Power flow 
</p>
<p>realization cannot be used with the circuit of Fig. 6.2(b). By following the discussion of Chapter 4, one 
</p>
<p>finds that the switch can be realized by connecting a transistor between the inductor and ground, and a 
</p>
<p>diode from the inductor to the load, as shown in Fig. 6.2(c). In consequence, the transistor duty cycleD 
</p>
<p>becomes the fraction of time which the single-pole double-throw (SPDT) switch of Fig. 6.2(b) spends in 
</p>
<p>position 2, rather than in position 1. So we should interchangeD with its complement D' in Eq. (6.2), and 
</p>
<p>the conversion ratio of the converter of Fig. 6.2( c) is 
</p>
<p>(6.3) 
</p>
<p>Thus, the boost converter can be viewed as a buck converter having the source and load connections 
</p>
<p>exchanged, and in which the switch is realized in a manner that allows reversal of the direction of power 
</p>
<p>flow. </p>
<p/>
</div>
<div class="page"><p/>
<p>134 Converter Circuits 
</p>
<p>Converter 1 
+ Converter 2 + 
</p>
<p>vg vl v 
VI-M (D) ~=MiD) V- I VI 
</p>
<p>g 
</p>
<p>D 
Fig. 6.3 Cascade connection of converters. 
</p>
<p>6.1.2 Cascade Connection of Converters 
</p>
<p>Converters can also be connected in cascade, as illustrated in Fig. 6.3 [1,2]. Converter 1 has conversion 
</p>
<p>ratio M1(D), such that its output voltage V1 is 
</p>
<p>(6.4) 
</p>
<p>This voltage is applied to the input of the second converter. Let us assume that converter 2 is driven with 
</p>
<p>the same duty cycle D applied to converter 1. If converter 2 has conversion ratio M2(D), then the output 
</p>
<p>voltage Vis 
</p>
<p>(6.5) 
</p>
<p>Substitution of Eq. (6.4) into Eq. (6.5) yields 
</p>
<p>v V = M(D) = M I (D)M 2(D) 
g 
</p>
<p>(6.6) 
</p>
<p>Hence, the conversion ratio M(D) of the composite converter is the product of the individual conversion 
</p>
<p>ratios M 1(D) and MiD). 
</p>
<p>Let us consider the case where converter 1 is a buck converter, and converter 2 is a boost con-
</p>
<p>verter. The resulting circuit is illustrated in Fig. 6.4. The buck converter has conversion ratio 
</p>
<p>The boost converter has conversion ratio 
</p>
<p>So the composite conversion ratio is 
</p>
<p>j'_=_l_ 
VI 1-D 
</p>
<p>(6.7) 
</p>
<p>(6.8) </p>
<p/>
</div>
<div class="page"><p/>
<p>6.1 Circuit Manipulations 135 
</p>
<p>2 
</p>
<p>+ + 
</p>
<p>2 
R v 
</p>
<p>Buck converter Boost converter 
</p>
<p>Fig. 6.4 Cascade connection of buck converter and boost converter. 
</p>
<p>2 
</p>
<p>+ 
</p>
<p>2 
</p>
<p>R v 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>Fig. 6.5 Simplification of the cascaded buck and boost converter circuit of Fig. 6.4: (a) removal of capacitor Cl' 
</p>
<p>(b) combining of inductors L1 and L2 . 
</p>
<p>(6.9) 
</p>
<p>The composite converter has a noninverting buck-boost conversion ratio. The voltage is reduced when 
</p>
<p>D &lt; 0.5, and increased when D &gt; 0.5. 
The circuit of Fig. 6.4 can be simplified considerably. Note that inductors L1 and L2 , along with 
</p>
<p>capacitor Cl' form a three-pole low-pass filter. The conversion ratio does not depend on the number of 
</p>
<p>poles present in the low-pass filter, and so the same steady-state output voltage should be obtained when 
</p>
<p>a simpler low-pass filter is used. In Fig. 6.5(a), capacitor C1 is removed. Inductors L1 and L2 are now in 
</p>
<p>series, and can be combined into a single inductor as shown in Fig. 6.5(b). This converter, the noninvert-
</p>
<p>ing buck-boost converter, continues to exhibit the conversion ratio given in Eq. (6.9). 
</p>
<p>The switches of the converter of Fig. 6.5(b) can also be simplified, leading to a negative output 
</p>
<p>voltage. When the switches are in position 1, the converter reduces to Fig. 6.6(a). The inductor is con-
</p>
<p>nected to the input source V8 , and energy is transferred from the source to the inductor. When the </p>
<p/>
</div>
<div class="page"><p/>
<p>136 Converter Circuits 
</p>
<p>(a) + (b) + 
</p>
<p>v v 
</p>
<p>Fig. 6.6 Connections of the circuit of Fig. 6.5(b): (a) while the switches are in position 1, (b) while the switches 
</p>
<p>are in position 2. 
</p>
<p>(a) + (b) + 
</p>
<p>v v 
</p>
<p>Fig. 6.7 Reversal of the output voltage polarity, by reversing the inductor connections while the switches are in 
</p>
<p>position 2: (a) connections with the switches in position 1, (b) connections with the switches in position 2. 
</p>
<p>switches are in position 2, the converter reduces to Fig. 6.6(b). The inductor is then connected to the&middot; 
</p>
<p>load, and energy is transferred from the inductor to the load. To obtain a negative output, we can simply 
</p>
<p>reverse the polarity of the inductor during one of the subintervals (say, while the switches are in position 
</p>
<p>2). The individual circuits of Fig. 6.7 are then obtained, and the conversion ratio becomes 
</p>
<p>V _ D 
vg -- 1-D (6.10) 
</p>
<p>Note that one side of the inductor is now always connected to ground, while the other side is switched 
</p>
<p>between the input source and the load. Hence only one SPDT switch is needed, and the converter circuit 
</p>
<p>of Fig. 6.8 is obtained. Figure 6.8 is recognized as the conventional buck-boost converter. 
</p>
<p>Thus, the buck-boost converter can be viewed as a cascade connection of buck and boost con-
</p>
<p>verters. The properties of the buck-boost converter are consistent with this viewpoint. Indeed, the equiv-
</p>
<p>alent circuit model of the buck-boost converter contains a 1 :D (buck) de transformer, followed by aD': 1 
</p>
<p>(boost) de transformer. The buck-boost converter inherits the pulsating input current of the buck con-
</p>
<p>verter, and the pulsating output current of the boost converter. 
</p>
<p>Other converters can be derived by cascade connections. The Cuk converter (Fig. 2.20) was 
</p>
<p>originally derived [1,2] by cascading a boost converter (converter 1), followed by a buck (converter 2). A 
</p>
<p>negative output voltage is obtained by reversing the polarity of the internal capacitor connection during 
</p>
<p>one of the subintervals; as in the buck-boost converter, this operation has the additional benefit of reduc-
</p>
<p>ing the number of switches. The equivalent circuit model of the Cuk converter contains a D':l (boost) 
</p>
<p>Fig. 6.8 Converter circuit obtained from the 
</p>
<p>subcircuits of Fig. 6.7. 
</p>
<p>2 + 
</p>
<p>v </p>
<p/>
</div>
<div class="page"><p/>
<p>6.1 Circuit Manipulations 137 
</p>
<p>ideal de transformer, followed by a l:D (buck) ideal de transformer. The Cuk converter inherits the non-
</p>
<p>pulsating input current property of the boost converter, and the non pulsating output current property of 
</p>
<p>the buck converter. 
</p>
<p>6.1.3 Rotation of Three-Terminal Cell 
</p>
<p>The buck, boost, and buck-boost converters each contain an inductor that is connected to a SPDT switch. 
</p>
<p>As illustrated in Fig. 6.9(a), the inductor-switch network can be viewed as a basic cell having the three 
</p>
<p>terminals labeled a, b, and c. It was first pointed out in [1,2], and later in [3], that there are three distinct 
</p>
<p>ways to connect this cell between the source and load. The connections a-A b-B c-C lead to the buck 
</p>
<p>converter. The connections a-C b-A c-B amount to inversion of the source and load, and lead to the 
</p>
<p>boost converter. The connections a-A b-C c-B lead to the buck-boost converter. So the buck, boost, and 
</p>
<p>buck-boost converters could be viewed as being based on the same inductor-switch cell, with different 
</p>
<p>source and load connections. 
</p>
<p>A dual three-terminal network, consisting of a capacitor-switch cell, is illustrated in Fig. 6.9(b ). 
</p>
<p>Filter inductors are connected in series with the source and load, such that the converter input and output 
</p>
<p>currents are nonpulsating. There are again three possible ways to connect this cell between the source 
</p>
<p>and load. The connections a-A b-B c-C lead to a buck converter with L-C input low-pass filter. The con-
</p>
<p>nections a-B b-A c-C coincide with inversion of source and load, and lead to a boost converter with an 
</p>
<p>added output L-C filter section. The connections a-A b-C c-B lead to the Cuk converter. 
</p>
<p>Rotation of more complicated three-terminal cells is explored in [4]. 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>Fig. 6.9 Rotation of three-terminal switch cells: (a) switch/inductor cell, (b) switch/capacitor cell. </p>
<p/>
</div>
<div class="page"><p/>
<p>138 Converter Circuits 
</p>
<p>Fig. 6.10 Obtaining a bipolar output by differential connection of load. 
</p>
<p>6.1.4 Differential Connection of the Load 
</p>
<p>In inverter applications, where an ac output is required, a converter is needed that is capable of producing 
</p>
<p>an output voltage of either polarity. By variation of the duty cycle in the correct manner, a sinusoidal out-
</p>
<p>put voltage having no de bias can then be obtained. Of the converters studied so far in this chapter, the 
</p>
<p>buck and the boost can produce only a positive unipolar output voltage, while the buck-boost and Cuk 
</p>
<p>converter produce only a negative unipolar output voltage. How can we derive converters that can pro-
</p>
<p>duce bipolar output voltages? 
</p>
<p>A well-known technique for obtaining a bipolar output is the differential connection of the load 
</p>
<p>across the outputs of two known converters, as illustrated in Fig. 6.1 0. If converter 1 produces voltage V1, 
</p>
<p>and converter 2 produces voltage V2, then the load voltage Vis given by 
</p>
<p>(6.11) 
</p>
<p>Although V1 and V2 may both individually be positive, the load voltage V can be either positive or nega-
</p>
<p>tive. Typically, if converter 1 is driven with duty cycleD, then converter 2 is driven with its complement, 
</p>
<p>D', so that when V1 increases, V2 decreases, and vice versa. 
</p>
<p>Several well-known inverter circuits can be derived using the differential connection. Let's real-
</p>
<p>ize converters 1 and 2 of Fig. 6.10 using buck converters. Figure 6.11(a) is obtained. Converter 1 is 
</p>
<p>driven with duty cycleD, while converter 2 is driven with duty cycleD'. So when the SPDT switch of 
</p>
<p>converter 1 is in the upper position, then the SPDT switch of converter 2 is in the lower position, and 
</p>
<p>vice-versa. Converter 1 then produces output voltage V1 = DV8 , while converter 2 produces output volt-</p>
<p/>
</div>
<div class="page"><p/>
<p>6.1 Circuit Manipulations 139 
</p>
<p>(a) Buck converter 1 
</p>
<p>+ 
2 
</p>
<p>VI 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>vg . 
2 
</p>
<p>. + 
Vz 
</p>
<p>- Buck converter 2 . 
</p>
<p>(b) 
</p>
<p>l + v -
vg 
</p>
<p>2 
</p>
<p>-
</p>
<p>1 
Fig. 6.11 Derivation of bridge inverter (H-bridge ): (a) differential connection of load across outputs of buck con-
</p>
<p>verters, (b) bypassing load by capacitor, (c) combining series inductors, (d) circuit (c) redrawn in its usual form. </p>
<p/>
</div>
<div class="page"><p/>
<p>140 Converter Circuits 
</p>
<p>(c) 
</p>
<p>l + - v . 
vg 
</p>
<p>2 
</p>
<p>-. 
</p>
<p>l . 
(d) 
</p>
<p>2 
</p>
<p>vg 
</p>
<p>Fig. 6.11 Continued 
</p>
<p>Fig. 6.12 Conversion ratio of the H-bridge inverter circuit. </p>
<p/>
</div>
<div class="page"><p/>
<p>6.1 Circuit Manipulations 141 
</p>
<p>age V2 = D'V8 &bull; The differential load voltage is 
</p>
<p>(6.12) 
</p>
<p>Simplification leads to 
</p>
<p>V=(2D-l)V8 (6.13) 
</p>
<p>This equation is plotted in Fig. 6.12. It can be seen the output voltage is positive forD&gt; 0.5, and negative 
</p>
<p>forD&lt; 0.5. If the duty cycle is varied sinusoidally about a quiescent operating point of 0.5, then the out-
</p>
<p>put voltage will be sinusoidal, with no de bias. 
</p>
<p>The circuit of Fig. 6.ll(a) can be simplified. It is usually desired to bypass the load directly with 
</p>
<p>a capacitor, as in Fig. 6.ll(b). The two inductors are now effectively in series, and can be combined into 
</p>
<p>a single inductor as in Fig. 6.ll(c). Figure 6.ll(d) is identical to Fig. 6.ll(c), but is redrawn for clarity. 
</p>
<p>This circuit is commonly called the H-bridge, or bridge inverter circuit. Its use is widespread in servo 
</p>
<p>amplifiers and single-phase inverters. Its properties are similar to those of the buck converter, from which 
</p>
<p>it is derived. 
</p>
<p>Polyphase inverter circuits can be derived in a similar manner. A three-phase load can be con-
</p>
<p>nected differentially across the outputs of three de-de converters, as illustrated in Fig. 6.12. If the three-
</p>
<p>phase load is balanced, then the neutral voltage Vn will be equal to the average of the three converter out-
</p>
<p>put voltages: 
</p>
<p>v, = H VI + Vz + v3) (6.14) 
</p>
<p>de source 3&cent;ac load 
</p>
<p>Converter 1 + 
</p>
<p>V1 =M(D 1) vg VI 
</p>
<p>-vg . 
Converter 2 + 
</p>
<p>V2 =M(D2) V8 
v2 -
</p>
<p>. . 
</p>
<p>Converter 3 + 
</p>
<p>V3 =M(D3) V8 v3 
</p>
<p>Fig. 6.12 Generation of dc-3&lt;jlac inverter by differential connection of 3&lt;jl load. </p>
<p/>
</div>
<div class="page"><p/>
<p>142 Converter Circuits 
</p>
<p>(a) 3&lt;jlacload 
</p>
<p>de source + 
</p>
<p>I 
VI 
</p>
<p>.L l 
vg 
</p>
<p>+ 
</p>
<p>T 
v2 . 
</p>
<p>_L ----:::L 
</p>
<p>+ 
</p>
<p>I 
v3 
</p>
<p>.:!; l -
(b) 
</p>
<p>de source 3&lt;jlacload 
</p>
<p>+ 
</p>
<p>(c) 
de source 3&lt;jlacload 
</p>
<p>+ 
</p>
<p>Fig. 6.13 Dc-3&lt;jlac inverter topologies: (a) differential connection of 3&lt;jlload across outputs of buck converters: 
</p>
<p>(b) simplification of low-pass filters to obtain the dc-3&lt;jlac voltage-source inverter; (c) the dc-3&lt;jlac current-source 
</p>
<p>inverter. </p>
<p/>
</div>
<div class="page"><p/>
<p>6.2 A Short List of Converters 143 
</p>
<p>If the converter output voltages V1, V2 , and V3 contain the same de bias, then this de bias will also appear 
</p>
<p>at the neutral point Vn. The phase voltages Van' Vbn' and Vcn are given by 
</p>
<p>van= Vl- VII 
</p>
<p>vbn= Vz- VII 
</p>
<p>Vcn= V3- V" 
</p>
<p>It can be seen that the de biases cancel out, and do not appear in van' vbn' and vcn" 
</p>
<p>(6.15) 
</p>
<p>Let us realize converters 1, 2, and 3 of Fig. 6.12 using buck converters. Figure 6.13(a) is then 
</p>
<p>obtained. The circuit is re-drawn in Fig. 6.13(b) for clarity. This converter is known by several names, 
</p>
<p>including the voltage-source inverter and the buck-derived three-phase bridge. 
</p>
<p>Inverter circuits based on de-de converters other than the buck converter can be derived in a 
</p>
<p>similar manner. Figure 6.13(c) contains a three-phase current-fed bridge converter having a boost-type 
</p>
<p>voltage conversion ratio, also known as the current-source inverter. Since most inverter applications 
</p>
<p>require the capability to reduce the voltage magnitude, a de-de buck converter is usually cascaded at the 
</p>
<p>de input port of this inverter. Several other examples of three-phase inverters are given in [5-7], in which 
</p>
<p>the converters are capable of both increasing and decreasing the voltage magnitude. 
</p>
<p>6.2 A SHORT LIST OF CONVERTERS 
</p>
<p>An infinite number of converters are possible, and hence it is not feasible to list them all. A short list is 
</p>
<p>given here. 
</p>
<p>Let's consider first the class of single-input single-output converters, containing a single induc-
</p>
<p>tor. There are a limited number of ways in which the inductor can be connected between the source and 
</p>
<p>load. If we assume that the switching period is divided into two subintervals, then the inductor should be 
</p>
<p>connected to the source and load in one manner during the first subinterval, and in a different manner 
</p>
<p>during the second subinterval. One can examine all of the possible combinations, to derive the complete 
</p>
<p>set of converters in this class [8-10]. By elimination of redundant and degenerate circuits, one finds that 
</p>
<p>there are eight converters, listed in Fig. 6.14. How the converters are counted can actually be a matter of 
</p>
<p>semantics and personal preference; for example, many people in the field would not consider the nonin-
</p>
<p>verting buck-boost converter as distinct from the inverting buck-boost. Nonetheless, it can be said that a 
</p>
<p>converter is defined by the connections between its reactive elements, switches, source, and load; by how 
</p>
<p>the switches are realized; and by the numerical range of reactive element values. 
</p>
<p>The first four converters of Fig. 6.14, the buck, boost, buck-boost, and the noninverting buck-
</p>
<p>boost, have been previously discussed. These converters produce a unipolar de output voltage. With these 
</p>
<p>converters, it is possible to increase, decrease, and/or invert a de voltage. 
</p>
<p>Converters 5 and 6 are capable of producing a bipolar output voltage. Converter 5, the 
</p>
<p>H-bridge, has previously been discussed. Converter 6 is a nonisolated version of a push-pull current-fed 
</p>
<p>converter [11-15]. This converter can also produce a bipolar output voltage; however, its conversion ratio 
</p>
<p>M(D) is a nonlinear function of duty cycle. The number of switch elements can be reduced by using a 
</p>
<p>two-winding inductor as shown. The function of the inductor is similar to that of the flyback converter, 
</p>
<p>discussed in the next section. When switch 1 is closed the upper winding is used, while when switch 2 is 
</p>
<p>closed, current flows through the lower winding. The current flows through only one winding at any 
</p>
<p>given instant, and the total ampere-turns of the two windings are a continuous function of time. Advan-
</p>
<p>tages of this converter are its ground-referenced load and its ability to produce a bipolar output voltage 
</p>
<p>using only two SPST current-bidirectional switches. The isolated version and its variants have found </p>
<p/>
</div>
<div class="page"><p/>
<p>144 Converter Circuits 
</p>
<p>1. Buck M(D) = D 
</p>
<p>2. Boost 
</p>
<p>2 
</p>
<p>3. Buck-boost 
</p>
<p>4. Noninverting buck-boost 
</p>
<p>M(D) = 1 ~D 
</p>
<p>M(D) = - ___])_ 
1-D 
</p>
<p>M(D) = 1 ~D 
</p>
<p>0.5 D 
</p>
<p>0 0.5 D 
0 
</p>
<p>-1 
</p>
<p>-2 
</p>
<p>-3 
</p>
<p>-4 
</p>
<p>M(D) 
</p>
<p>M(D) 
</p>
<p>0 
0.5 D 
</p>
<p>Fig. 6.14 Eight members of the basic class of single-input single-output converters containing a single inductor. 
</p>
<p>application in high-voltage de power supplies. 
</p>
<p>Converters 7 and 8 can be derived as the inverses of converters 5 and 6. These converters are 
</p>
<p>capable of interfacing an ac input to a de output. The ac input current waveform can have arbitrary wave-
</p>
<p>shape and power factor. 
</p>
<p>The class of single-input single-output converters containing two inductors is much larger. Sev-
</p>
<p>eral of its members are listed in Fig. 6.15. The Cuk converter has been previously discussed and ana-</p>
<p/>
</div>
<div class="page"><p/>
<p>6.2 A Short List of Converters 145 
</p>
<p>5. Bridge M(D)=2D-l 
M(D) 
</p>
<p>'&middot;f:~: D 
-I 
</p>
<p>6. Watkins-Johnson M(D)-2D-l --D- M(D) 
</p>
<p>+ or + 
</p>
<p>-I 
D 
</p>
<p>v v 
-2 
</p>
<p>-3 
</p>
<p>M(D) = 2Dl-l 
</p>
<p>M(D) 
</p>
<p>~ 
7. Current-fed bridge 
</p>
<p>'&middot;[:~: 
0.5 D 
</p>
<p>-I 
</p>
<p>-2 
</p>
<p>8. Inverse of Watkins-Johnson M(D)= zl-1 
M(D) 
</p>
<p>~ + or + 
0.5 D 
</p>
<p>v v 
-I 
</p>
<p>-2 
</p>
<p>Fig. 6.14 Continued 
</p>
<p>lyzed. It has an inverting buck-boost characteristic, and exhibits nonpulsating input and output terminal 
</p>
<p>currents. The SEPIC (single-ended primary inductance converter) [16], and its inverse, have noninverting 
</p>
<p>buck-boost characteristics. The Cuk and SEPIC also exhibit the desirable feature that the MOSFET 
</p>
<p>source terminal is connected to ground; this simplifies the construction of the gate drive circuitry. Two-
</p>
<p>inductor converters having conversion ratios M(D) that are biquadratic functions of the duty cycle D are 
</p>
<p>also numerous. An example is converter 4 of Fig. 6.15 [17]. This converter can be realized using a single 
</p>
<p>transistor and three diodes. Its conversion ratio is M(D) = D2. This converter may find use in nonisolated 
applications that require a large step-down of the de voltage, or in applications having wide variations in 
</p>
<p>operating point. </p>
<p/>
</div>
<div class="page"><p/>
<p>146 Converter Circuits 
</p>
<p>l. Cuk 
</p>
<p>2. SEPIC 
</p>
<p>3. Inverse of SEPIC 
</p>
<p>4. Buck 2 
</p>
<p>M(D)=- 1 ~D 
</p>
<p>M(D) = ___!2_ 
1-D 
</p>
<p>M(D) = ___!2_ 
1-D 
</p>
<p>M(D) =D 2 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>0.5 D 
</p>
<p>-1 
</p>
<p>-2 
</p>
<p>-3 
</p>
<p>-4 
</p>
<p>M(D) 
</p>
<p>M(D) 
</p>
<p>4 
</p>
<p>0 0.5 D 
</p>
<p>0 0.5 D 
</p>
<p>M(D) 
</p>
<p>0.5 
</p>
<p>o.,._--=::..._---+-------+---+ 
0 0.5 D 
</p>
<p>Fig. 6.15 Several members ofthe basic class of single-input single-output converters containing two inductors. 
</p>
<p>6.3 TRANSFORMER ISOLATION 
</p>
<p>In a large number of applications, it is desired to incorporate a transformer into a switching converter, to 
</p>
<p>obtain de isolation between the converter input and output. For example, in off-line applications (where 
</p>
<p>the converter input is connected to the ac utility system), isolation is usually required by regulatory agen-</p>
<p/>
</div>
<div class="page"><p/>
<p>(a) (b) 
</p>
<p>6.3 Tran~former Isolation 147 
</p>
<p>Vl:t)-i-l(_t:M_(-t)-'---il-'(-t)-'[--1~; r ilt) ,:1) 
[
</p>
<p>; i3(t) + 
</p>
<p>v3(t) 
</p>
<p>:: -
</p>
<p>: ......... :.~~--] 
Ideal 
</p>
<p>transformer 
</p>
<p>Fig. 6.16 Simplified model of a multiple-winding transformer: (a) schematic symbol, (b) equivalent circuit con-
taining a magnetizing inductance and ideal transformer. 
</p>
<p>cies. Isolation could be obtained in these cases by simply connecting a 50 Hz or 60Hz transformer at the 
</p>
<p>converter ac input However, since transformer size and weight vary inversely with frequency, significant 
</p>
<p>improvements can be made by incorporating the transformer into the converter, so that the transformer 
</p>
<p>operates at the converter switching frequency of tens or hundreds of kilohertz. 
</p>
<p>When a large step-up or step-down conversion ratio is required, the use of a transformer can 
</p>
<p>allow better converter optimization. By proper choice of the transformer turns ratio, the voltage or cur-
</p>
<p>rent stresses imposed on the transistors and diodes can be minimized, leading to improved efficiency and 
</p>
<p>lower cost 
</p>
<p>Multiple de outputs can also be obtained in an inexpensive manner, by adding multiple second-
</p>
<p>ary windings and converter secondary-side circuits. The secondary turns ratios are chosen to obtain the 
</p>
<p>desired output voltages. Usually only one output voltage can be regulated via control of the converter 
</p>
<p>duty cycle, so wider tolerances must be allowed for the auxiliary output voltages. Cross regulation is a 
</p>
<p>measure of the variation in an auxiliary output voltage, given that the main output voltage is perfectly 
</p>
<p>regulated [18-20]. 
</p>
<p>A physical multiple-winding transformer having turns ratio n1:n2 :n3: ... is illustrated in Fig. 
</p>
<p>6.16(a). A simple equivalent circuit is illustrated in Fig. 6.16(b), which is sufficient for understanding the 
</p>
<p>operation of most transformer-isolated converters. The model assumes perfect coupling between wind-
</p>
<p>ings and neglects losses; more accurate models are discussed in a later chapter. The ideal transformer 
</p>
<p>obeys the relationships 
</p>
<p>v1(t) vit) v3(t) 
fll = n:;- = fi3 = 
0 = n 1i 1' (t) + n2i2(t) + niit) + ... 
</p>
<p>(6.16) 
</p>
<p>In parallel with the ideal transformer is an inductance LM, called the magnetizing inductance, referred to 
</p>
<p>the transformer primary in the figure. 
</p>
<p>Physical transformers must contain a magnetizing inductance. For example, suppose we discon-
</p>
<p>nect all windings except for the primary winding. We are then left with a single winding on a magnetic 
</p>
<p>core-an inductor. Indeed, the equivalent circuit of Fig. 6.16(b) predicts this behavior, via the magnetiz-
</p>
<p>ing inductance. </p>
<p/>
</div>
<div class="page"><p/>
<p>148 Converter Circuits 
</p>
<p>B(t) &laquo; J v,(t) dt 
saturation 
</p>
<p>Fig. 6.17 B-H characteristics oftransformer core. 
</p>
<p>The magnetizing current iM(t) is proportional to the magnetic field H(t) inside the transformer 
</p>
<p>core. The physical B-H characteristics of the transformer core material, illustrated in Fig. 6.17, govern 
</p>
<p>the magnetizing current behavior. For example, if the magnetizing current iM(t) becomes too large, then 
</p>
<p>the magnitude of .the magnetic field H(t) causes the core to saturate. The magnetizing inductance then 
</p>
<p>becomes very small in value, effectively shorting out the transformer. 
</p>
<p>The presence of the magnetizing inductance explains why transformers do not work in de cir-
</p>
<p>cuits: at de, the magnetizing inductance has zero impedance, and shorts out the windings. In a well-
</p>
<p>designed transformer, the impedance of the magnetizing inductance is large in magnitude over the 
</p>
<p>intended range of operating frequencies, such that the magnetizing current iM(t) has much smaller mag-
</p>
<p>nitude than i 1(t). Then i1'(t)"' i1(t), and the transformer behaves nearly as an ideal transformer. It should 
</p>
<p>be emphasized that the magnetizing current iM(t) and the primary winding current i1(t) are independent 
</p>
<p>quantities. 
</p>
<p>The magnetizing inductance must obey all of the usual rules for inductors. In the model of Fig. 
</p>
<p>6.16(b), the primary winding voltage v1(t) is applied across LM, and hence 
</p>
<p>Integration leads to 
</p>
<p>( ) -L diM(t) 
VI t - M dt 
</p>
<p>(6.17) 
</p>
<p>(6.18) 
</p>
<p>So the magnetizing current is determined by the integral of the applied winding voltage. The principle of 
</p>
<p>inductor volt-second balance also applies: when the converter operates in steady-state, the de component 
</p>
<p>of voltage applied to the magnetizing inductance must be zero: 
</p>
<p>(6.19) 
</p>
<p>Since the magnetizing current is proportional to the integral of the applied winding voltage, it is impor&middot;&middot; 
</p>
<p>tant that the de component of this voltage be zero. Otherwise, during each switching period there will be 
</p>
<p>a net increase in magnetizing current, eventually leading to excessively large currents and transformer 
</p>
<p>saturation. </p>
<p/>
</div>
<div class="page"><p/>
<p>6.3 Transformer Isolation 149 
</p>
<p>The operation of converters containing transformers may be understood by inserting the model 
</p>
<p>of Fig. 6.16(b) in place of the transformer in the converter circuit. Analysis then proceeds as described in 
</p>
<p>the previous chapters, treating the magnetizing inductance as any other inductor of the converter. 
</p>
<p>Practical transformers must also contain leakage inductance. A small part of the flux linking a 
</p>
<p>winding may not link the other windings. In the two-winding transformer, this phenomenon may be 
</p>
<p>modeled with small inductors in series with the windings. In most isolated converters, leakage induc-
</p>
<p>tance is a nonideality that leads to switching loss, increased peak transistor voltage, and that degrades 
</p>
<p>cross-regulation, but otherwise has no influence on basic converter operation. 
</p>
<p>There are several ways of incorporating transformer isolation into a de-de converter. The full-
</p>
<p>bridge, half-bridge, forward, and push-pull converters are commonly used isolated versions of the buck 
</p>
<p>converter. Similar isolated variants of the boost converter are known. The ftyback converter is an isolated 
</p>
<p>version of the buck-boost converter. These isolated converters, as well as isolated versions of the SEPIC 
</p>
<p>and the Cuk converter, are discussed in this section. 
</p>
<p>6.3.1 Full-Bridge and Half-Bridge Isolated 
</p>
<p>Buck Converters 
</p>
<p>The full-bridge transformer-isolated buck converter is sketched in Fig. 6.18(a). A version containing a 
</p>
<p>center-tapped secondary winding is shown; this circuit is commonly used in converters producing low 
</p>
<p>output voltages. The two halves of the center-tapped secondary winding may be viewed as separate 
</p>
<p>windings, and hence we can treat this circuit element as a three-winding transformer having turns ratio 
</p>
<p>1 :n:n. When the transformer is replaced by the equivalent circuit model of Fig. 6.16(b ), the circuit of Fig. 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>v + 
g - R v 
</p>
<p>--1 D2 --1 
Q2 Q4 
</p>
<p>(b) 
Ql 
</p>
<p>-I + 
v + 
</p>
<p>g - R v 
</p>
<p>-I 
Q2 Ideal 
</p>
<p>' .. :: 
</p>
<p>:.r.~a.ll.sfor.l11:e.!l11:().4e_!J 
</p>
<p>Fig. 6.18 Full-bridge transformer-isolated buck converter: (a) schematic diagram, (b) replacement of transformer 
</p>
<p>with equivalent circuit model. </p>
<p/>
</div>
<div class="page"><p/>
<p>150 Converter Circuits 
</p>
<p>Fig. 6.19 Waveforms of the 
</p>
<p>full-bridge transformer-isolated 
</p>
<p>buck converter. 
</p>
<p>iM(t) ~/! 
</p>
<p>~: 
LM l 
</p>
<p>,,~,) 1~----vg_._. ----;-. ---------+---++ 
</p>
<p>;(t)l~ 
</p>
<p>v,(t) 1 nVg i : nVg i 
</p>
<p>~ 0 0 ~ 
</p>
<p>ivs(t) ~'------i-----+---+----++ 0.5 i 0.5 i r 0 i--------1: t .. 
conducting 
</p>
<p>devices: 
</p>
<p>0 DT 
s 
</p>
<p>T+DT 
&middot;' s 
</p>
<p>6.18(b) is obtained. Typical waveforms are illustrated in Fig. 6.19. The output portion of the converter is 
</p>
<p>similar to the nonisolated buck converter-compare the vJt) and i(t) waveforms of Fig. 6.19 with Figs. 
</p>
<p>2.l(b) and 2.10. 
</p>
<p>During the first subinterval 0 &lt; t &lt; DTs, transistors Q1 and Q4 conduct, and the transformer pri-
mary voltage is vy = V8 . This positive voltage causes the magnetizing current iM(t) to increase with a 
slope of V/LM. The voltage appearing across each half of the center-tapped secondary winding is nV8 , 
</p>
<p>with the polarity mark at positive potential. Diode D5 is therefore forward-biased, and D6 is reverse-
</p>
<p>biased. The voltage v,(t) is then equal to n V8 , and the output filter inductor current i(t) flows through 
</p>
<p>diode D5 . 
</p>
<p>Several transistor control schemes are possible for the second subinterval DTs &lt; t &lt; Ts. In the 
most common scheme, all four transistors are switched off, and hence the transformer voltage is vy = 0. 
</p>
<p>Alternatively, transistors Q2 and Q4 could conduct, or transistors Q1 and Q3 could conduct. In any event, 
diodes D5 and D6 are both forward-biased during this subinterval; each diode conducts approximately 
</p>
<p>one-half of the output filter inductor current. 
</p>
<p>Actually, the diode currents i05 and i06 during the second subinterval are functions of both the 
</p>
<p>output inductor current and the transformer magnetizing current. In the ideal case (no magnetizing cur-
</p>
<p>rent), the transformer causes i05(t) and i06(t) to be equal in magnitude since, if i1'(t) = 0, then 
ni05(t) = ni06(t). But the sum of the two diode currents is equal to the output inductor current: </p>
<p/>
</div>
<div class="page"><p/>
<p>6.3 Transformer Isolation 151 
</p>
<p>i05(t) +i06(t) = i(t) (6.20) 
</p>
<p>Therefore, it must be true that i05 = i06 = 0.5i during the second subinterval. In practice, the diode cur-
</p>
<p>rents differ slightly from this result, because of the nonzero magnetizing current. 
</p>
<p>The ideal transformer currents in Fig. 6.18(b) obey 
</p>
<p>i; (t)- ni 05(t) + ni 06(t) = 0 (6.21) 
</p>
<p>The node equation at the primary of the ideal transformer is 
</p>
<p>(6.22) 
</p>
<p>Elimination of i/(t) from Eqs. (6.21) and (6.22) leads to 
</p>
<p>(6.23) 
</p>
<p>Equations (6.23) and (6.20) describe, in the general case, the transformer winding currents during the 
</p>
<p>second subinterval. According to Eq. (6.23), the magnetizing current iM(t) may flow through the primary 
</p>
<p>winding, through one of the secondary windings, or it may divide between all three of these windings. 
</p>
<p>How the division occurs depends on the i-v characteristics of the conducting transistors and diodes, and 
</p>
<p>on the transformer leakage inductances. In the case where i1 = 0, the solution to Eqs. (6.20) and (6.23) is 
</p>
<p>i 05(t) = ~ i(t)- 2 ~ i M(t) 
</p>
<p>i06(t) = ~ i(t) + 21n iM(t) 
</p>
<p>Provided that iM &lt; ni, then i05 and i06 are each approximately 0.5i. 
</p>
<p>(6.24) 
</p>
<p>The next switching period, T, &lt; t &lt; 2Ts, proceeds in a similar manner, except that the trans-
former is excited with voltage of the opposite polarity. During Ts &lt; t &lt; (T,. + DT,.), transistors Q2 and Q3 
and diode D6 conduct. The applied transformer primary voltage is Vr =- V8 , which causes the magnetiz-
ing current to decrease with slope- V/LM. The voltage vs(t) is equal to nVg, and the output inductor cur-
</p>
<p>rent i(t) flows through diode D6 . Diodes D5 and D6 again both conduct during (Ts + DTs) &lt; t &lt; 2T,., with 
operation similar to subinterval 2 described previously. It can be seen that the switching ripple in the out-
</p>
<p>put filter elements has frequency fs = liT,.. However, the transformer waveforms have frequency 0.5fs. 
By application of the principle of inductor volt-second balance to the magnetizing inductance, 
</p>
<p>the average value of the transformer voltage vr(t) must be zero when the converter operates in steady 
</p>
<p>state. During the first switching period, positive volt-seconds are applied to the transformer, approxi-
</p>
<p>mately equal to 
</p>
<p>r vg- ( Q l and Q4 forward voltage drops) 1 ( Q l and Q4 conduction time) (6.25) 
</p>
<p>During the next switching period, negative volt-seconds are applied to the transformer, given by 
</p>
<p>-l V8 - ( Q2 and Q3 forward voltage drops) 1 ( Q2 and Q3 conduction time) (6.26) </p>
<p/>
</div>
<div class="page"><p/>
<p>152 Converter Circuits 
</p>
<p>The net volt-seconds, that is, the sum of Eqs. (6.25) and (6.26), should equal zero. While the full bridge 
</p>
<p>scheme causes this to be approximately true, in practice there exist imbalances such as small differences 
</p>
<p>in the transistor forward voltage drops or in the transistor switching times, so that ( vr) is small but non-
</p>
<p>zero. In consequence, during every two switching periods there is a net increase in the magnitude of the 
</p>
<p>magnetizing current. This increase can cause the transistor forward voltage drops to change such that 
</p>
<p>small imbalances are compensated. However, if the imbalances are too large, then the magnetizing cur-
</p>
<p>rent becomes large enough to saturate the transformer. 
</p>
<p>Transformer saturation under steady-state conditions can be avoided by placing a capacitor in 
</p>
<p>series with the transformer primary. Imbalances then induce a de voltage component across the capacitor, 
</p>
<p>rather than across the transformer primary. Another solution is the use of current-programmed control, 
</p>
<p>discussed in a later chapter. The series capacitor is omitted when current-programmed control is used. 
</p>
<p>By application of the principle of volt-second balance to the output filter inductor L, the de load 
</p>
<p>voltage must be equal to the de component of v/t): 
</p>
<p>V = ( v,) (6.27) 
</p>
<p>By inspection of the v/t) waveform in Fig. 6.19, ( vs) = nDVg. Hence, 
</p>
<p>(6.28) 
</p>
<p>So as in the buck converter, the output voltage can be controlled by variation of the transistor duty cycle 
</p>
<p>D. An additional increase or decrease of the voltage can be obtained via the physical transformer turns 
</p>
<p>ration. Equation (6.28) is valid for operation in the continuous conduction mode; as in the nonisolated 
</p>
<p>buck converter, the full-bridge and half-bridge converters can operate in discontinuous conduction mode 
</p>
<p>at light load. The converter can operate over essentially the entire range of duty cycles 0 :::; D &lt; 1. 
</p>
<p>Transistors Q1 and Q2 must not conduct simultaneously; doing so would short out the de source 
</p>
<p>Vg, causing a shoot-through current spike. This transistor cross-conduction condition can lead to low 
efficiency and transistor failure. Cross conduction can be prevented by introduction of delay between the 
</p>
<p>tum-off of one transistor and the turn-on of the next transistor. Diodes D1 to D4 ensure that the peak tran-
</p>
<p>sistor voltage is limited to the de input voltage V8 , and also provide a conduction path for the transformer 
</p>
<p>magnetizing current at light load. Details of the switching transitions of the full-bridge circuit are dis-
</p>
<p>cussed further in a later chapter, in conjunction with zero-voltage switching phenomena. 
</p>
<p>The full-bridge configuration is typically used in switching power supplies at power levels of 
</p>
<p>approximately 750 W and greater. It is usually not used at lower power levels because of its high parts 
</p>
<p>count-four transistors and their associated drive circuits are required. The utilization of the transformer 
</p>
<p>is good, leading to small transformer size. In particular, the utilization of the transformer core is very 
</p>
<p>good, since the transformer magnetizing current can be both positive and negative. Hence, the entire core 
</p>
<p>B-H loop can be used. However, in practice, the flux swing is usually limited by core loss. The trans-
</p>
<p>former primary winding is effectively utilized. But the center-tapped secondary winding is not, since 
</p>
<p>each half of the center-tapped winding transmits power only during alternate switching periods. Also, the 
</p>
<p>secondary winding currents during subinterval 2 lead to winding power loss, but not to transmittal of 
</p>
<p>energy to the load. Design of the transformer of the full-bridge configuration is discussed in detail in a 
</p>
<p>later chapter. 
</p>
<p>The half-bridge transformer-isolated buck converter is illustrated in Fig. 6.20. Typical wave-
</p>
<p>forms are illustrated in Fig. 6.21. This circuit is similar to the full-bridge of Fig. 6.18(a), except transis-
</p>
<p>tors Q3 and Q4, and their antiparallel diodes, have been replaced with large-value capacitors ca and cb. 
By volt-second balance of the transformer magnetizing inductance, the de voltage across capacitor Cb is 
</p>
<p>equal to the de component of the voltage across transistor Q2 , or 0.5Vg. The transformer primary voltage </p>
<p/>
</div>
<div class="page"><p/>
<p>v + 
g -
</p>
<p>6.3 Transformer Isolation 153 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 6.20 Half-bridge transformer-isolated buck converter. 
</p>
<p>Fig. 6.21 Waveforms of the 
</p>
<p>half-bridge transformer-isolated 
</p>
<p>buck converter. 
</p>
<p>iM(t) h~'---'- /i, __ __,_____:~---
c- L_ i"" 0 ~ 
</p>
<p>ozMvgj !-0.~1 r,,'',,, 
vr(t) j o.sv, I~ I 
</p>
<p>0 l-asv, i 0 f 
i j ! 
</p>
<p>i(t) 1 ~ 
</p>
<p>vs(t) 1 O.SnV, ! O.SnV, ! ! 
</p>
<p>im(t) 1. 
0 I 0 ~ 
</p>
<p>0.5 i I 
0 
</p>
<p>0.5 i G 
</p>
<p>conducting 
devices: 
</p>
<p>0 
</p>
<p>vT(t) is then 0.5V8 when transistor Q1 conducts, and- 0.5V8 when transistor Q2 conducts. The magnitude 
of vT(t) is half as large as in the full-bridge configuration, with the result that the output voltage is 
reduced by a factor of 0.5: 
</p>
<p>V=0.5nDV8 (6.29) </p>
<p/>
</div>
<div class="page"><p/>
<p>154 Converter Circuits 
</p>
<p>The factor of 0.5 can be compensated for by doubling the transformer turns ration. However, this causes 
</p>
<p>the transistor currents to double. 
</p>
<p>So the half-bridge configuration needs only two transistors rather than four, but these two tran-
</p>
<p>sistors must handle currents that are twice as large as those of the full-bridge circuit. In consequence, the 
</p>
<p>half-bridge configuration finds application at lower power levels, for which transistors with sufficient 
</p>
<p>current rating are readily available, and where low parts count is important. Utilization of the transformer 
</p>
<p>core and windings is essentially the same as in the full-bridge, and the peak transistor voltage is clamped 
</p>
<p>to the de input voltage V8 by diodes D1 and D2&bull; It is possible to omit capacitor Ca if desired. The current-
</p>
<p>programmed mode generally does not work with half-bridge converters. 
</p>
<p>6.3.2 Forward Converter 
</p>
<p>The forward converter is illustrated in Fig. 6.22. This transformer-isolated converter is based on the buck 
</p>
<p>converter. It requires a single transistor, and hence finds application at power levels lower than those 
</p>
<p>commonly encountered in the full-bridge and half-bridge configurations. Its nonpulsating output current, 
</p>
<p>shared with other buck-derived converters, makes the forward converter well suited for applications 
</p>
<p>involving high output currents. The maximum transistor duty cycle is limited in value; for the common 
</p>
<p>choice n1 = n2 , the duty cycle is limited to the range 0 :s; D &lt; 0.5. 
The transformer magnetizing current is reset to zero while the transistor is in the off-state. How 
</p>
<p>this occurs can be understood by replacing the three-winding transformer in Fig. 6.22 with the equivalent 
</p>
<p>circuit of Fig. 6.16(b ). The resulting circuit is illustrated in Fig. 6.23, and typical waveforms are given in 
</p>
<p>Fig. 6.24. The magnetizing inductance LM, in conjunction with diode D 1, must operate in the discontinu-
</p>
<p>ous conduction mode. The output inductor L, in conjunction with diode D3 , may operate in either contin-
</p>
<p>uous or discontinuous conduction mode. The waveforms of Fig. 6.24 are sketched for continuous mode 
</p>
<p>operation of inductor L. During each switching period, three subintervals then occur as illustrated in Fig. 
6.25. 
</p>
<p>During subinterval!, transistor Q1 conducts and the circuit of Fig. 6.25(a) is obtained. Diode D2 
becomes forward-biased, while diodes D1 and D3 are reverse-biased. Voltage V8 is applied to the trans-
</p>
<p>former primary winding, and hence the transformer magnetizing current iM(t) increases with a slope of 
</p>
<p>V/LM as illustrated in Fig. 6.24. The voltage across diode D3 is equal to V8 , multiplied by the turns ratio 
</p>
<p>n3/n 1&bull; 
</p>
<p>The second subinterval begins when transistor Q1 is switched off. The circuit of Fig. 6.25(b) is 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>+ 
</p>
<p>Fig. 6.22 Single-transistor forward converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>6.3 Transformer Isolation 155 
</p>
<p>nl : nz : n3 
Dz L 
</p>
<p>iM 
+ 
</p>
<p>LM D3 VD3 c R v 
</p>
<p>vg + 
</p>
<p>DI 
</p>
<p>Fig. 6.23 Forward converter, with transformer equivalent circuit model. 
</p>
<p>Fig. 6.24 Waveforms of the forward 
</p>
<p>converter. 
</p>
<p>Conducting 
devices: 
</p>
<p>0 
</p>
<p>0 0 
</p>
<p>-DT,-- +---D2Ts-i&bull;D3Ts&bull;! 
------+- T ' i 
</p>
<p>s 
</p>
<p>then obtained. The transformer magnetizing current iM(t) at this instant is positive, and must continue to 
</p>
<p>flow. Since transistor Q1 is off, the equivalentcircuit model predicts that the magnetizing current must 
flow into the primary of the ideal transformer. It can be seen that n1 iM ampere-turns flow out of the polar-
</p>
<p>ity mark of the primary winding. Hence, according to Eq. (6.16), an equal number of total ampere-turns 
</p>
<p>must flow into the polarity marks of the other windings. Diode D2 prevents current from flowing into the </p>
<p/>
</div>
<div class="page"><p/>
<p>156 Converter Circuits 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>(c) 
</p>
<p>+ 
</p>
<p>+ 
</p>
<p>+ 
</p>
<p>iM 
</p>
<p>: == 0 
</p>
<p>: LM 
</p>
<p>1.----L--.J 
</p>
<p>D2 on 
</p>
<p>+ 
</p>
<p>+ 
</p>
<p>+ 
</p>
<p>+j 
</p>
<p>_____ ; __ : 
i3 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>Fig. 6.25 Forward converter circuit: (a) during subinterval!, (b) during subinterval2, (c) during subinterval3. 
</p>
<p>polarity mark of winding 3. Hence, the current iMn1/n2 must flow into the polarity mark of winding 2. So 
</p>
<p>diode D1 becomes forward-biased, while diode D2 is reverse-biased. Voltage V8 is applied to winding 2, 
</p>
<p>and hence the voltage across the magnetizing inductance is- V8n/n2 , referred to winding 1. This nega-
</p>
<p>tive voltage causes the magnetizing current to decrease, with a slope of- V8n/n2LM. Since diode D2 is 
</p>
<p>reverse-biased, diode D3 must tum on to conduct the output inductor current i(t). 
</p>
<p>When the magnetizing current reaches zero, diode D1 becomes reverse-biased. Subinterval 3 
</p>
<p>then begins, and the circuit of Fig. 6.25( c) is obtained. Elements Q 1, D 1, and D2 operate in the off state, 
and the magnetizing current remains at zero for the balance of the switching period. 
</p>
<p>By application of the principle of inductor volt-second balance to the transformer magnetizing </p>
<p/>
</div>
<div class="page"><p/>
<p>6.3 Transformer Isolation 157 
</p>
<p>Fig. 6.26 Magnetizing current 
</p>
<p>waveform, forward converter: 
</p>
<p>(a) DCM, D &lt; 0.5; (b) CCM, D &gt; 0.5. 
</p>
<p>inductance, the primary winding voltage v1(t) must have zero average. Referring to Fig. 6.24, the average 
</p>
<p>of v 1 (t) is given by 
</p>
<p>(6.30) 
</p>
<p>Solution for the duty cycle D2 yields 
</p>
<p>(6.31) 
</p>
<p>Note that the duty cycle D3 cannot be negative. But since D + D2 + D3 = 1, we can write 
</p>
<p>(6.32) 
</p>
<p>Substitution ofEq. (6.31) into Eq. (6.32) leads to 
</p>
<p>(6.33) 
</p>
<p>Solution for D then yields 
</p>
<p>(6.34) 
</p>
<p>So the maximum duty cycle is limited. For the common choice n1 = ~&middot; the limit becomes 
</p>
<p>(6.35) 
</p>
<p>If this limit is violated, then the transistor off-time is insufficient to reset the transformer magnetizing 
</p>
<p>current to zero before the end of the switching period. Transformer saturation may then occur. 
</p>
<p>The transformer magnetizing current waveform iM(t) is illustrated in Fig. 6.26, for the typical </p>
<p/>
</div>
<div class="page"><p/>
<p>158 Converter Circuits 
</p>
<p>case where n1 = n2 . Figure 6.26(a) illustrates operation with D &lt; 0.5. The magnetizing inductance, in 
conjunction with diode D1, operates in the discontinuous conduction mode, and iM(t) is reset to zero 
</p>
<p>before the end of each switching period. Figure 6.26(b) illustrates what happens when the transistor duty 
</p>
<p>cycleD is greater than 0.5. There is then no third subinterval, and the magnetizing inductance operates in 
</p>
<p>continuous conduction mode. Furthermore, subinterval2 is not long enough to reset the magnetizing cur-
</p>
<p>rent to zero. Hence, there is a net increase of iM(t) over each switching period. Eventually, the magnetiz-
</p>
<p>ing current will become large enough the saturate the transformer. 
</p>
<p>The converter output voltage can be found by application of the principle of inductor volt-sec-
</p>
<p>ond balance to inductor L. The voltage across inductor L must have zero de component, and therefore the 
</p>
<p>de output voltage Vis equal to the de component of diode D3 voltage v m(t). The waveform v mCt) is illus-
</p>
<p>trated in Fig. 6.24.1t has an average value of 
</p>
<p>(6.36) 
</p>
<p>This is the solution of the forward converter in the continuous conduction mode. The solution is subject 
</p>
<p>to the constraint given in Eq. (6.34). 
</p>
<p>It can be seen from Eq. (6.34) that the maximum duty cycle could be increased by decreasing 
</p>
<p>the turns ratio n2/n1. This would cause iM(t) to decrease more quickly during subinterval 2, resetting the 
</p>
<p>transformer faster. Unfortunately, this also increases the voltage stress applied to transistor Q1 . The max-
imum voltage applied to transistor Q1 occurs during subinterval 2; solution of the circuit of Fig. 6.25(b) 
for this voltage yields 
</p>
<p>(6.37) 
</p>
<p>For the common choice n1 = n2 , the voltage applied to the transistor during subinterval 2 is 2Vg. In prac-
</p>
<p>tice, a somewhat higher voltage is observed, due to ringing associated with the transformer leakage 
</p>
<p>inductance. So decreasing the turns ratio n2/n1 allows increase of the maximum transistor duty cycle, at 
</p>
<p>the expense of increased transistor blocking voltage. 
</p>
<p>A two-transistor version of the forward converter is illustrated in Fig. 6.27. Transistors Q1 and 
</p>
<p>Q2 are controlled by the same gate drive signal, such that they both conduct during subinterval 1, and are 
off during subintervals 2 and 3. The secondary side of the converter is identical to the single-transistor 
</p>
<p>forward converter; diode D3 conducts during subinterval l, while diode D 4 conducts during subintervals 
</p>
<p>2 and 3. During subinterval 2, the magnetizing current iM(t) forward-biases diodes D1 and D2. The trans-
</p>
<p>+ 
</p>
<p>+ c R v 
</p>
<p>Fig. 6.27 Two-transistor forward converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>6.3 Transformer Isolation 159 
</p>
<p>former primary winding is then connected to V8 , with polarity opposite that of subinterval 1. The magne-
</p>
<p>tizing current then decreases, with slope- V/LM. When the magnetizing current reaches zero, diodes D 1 
and D2 become reverse-biased. The magnetizing current then remains at zero for the balance of the 
</p>
<p>switching period. So operation of the two-transistor forward converter is similar to the single-transistor 
</p>
<p>forward converter, in which n1 = n2 . The duty cycle is limited to D &lt; 0.5. This converter has the advan-
tage that the transistor peak blocking voltage is limited to V8 , and is clamped by diodes D 1 and D2 &bull; Typi-
</p>
<p>cal power levels of the two-transistor forward converter are similar to those of the half-bridge 
</p>
<p>configuration. 
</p>
<p>The utilization of the transformer of the forward converter is quite good. Since the transformer 
</p>
<p>magnetizing current cannot be negative, only half of the core B-H loop can be used. This would seem-
</p>
<p>ingly imply that the transformer cores of forward converters should be twice as large as those of full- or 
</p>
<p>half-bridge converters. However, in modern high-frequency converters, the flux swing is constrained by 
</p>
<p>core loss rather than by the core material saturation flux density. In consequence, the utilization of the 
</p>
<p>transformer core of the forward converter can be as good as in the full- or half-bridge configurations. Uti-
</p>
<p>lization of the primary and secondary windings of the transformer is better than in the full-bridge, half-
</p>
<p>bridge, or push-pull configurations, since the forward converter requires no center-tapped windings. Dur-
</p>
<p>ing subinterval!, all of the available winding copper is used to transmit power to the load. Essentially no 
</p>
<p>unnecessary current flows during subintervals 2 and 3. Typically, the magnetizing current is small com-
</p>
<p>pared to the reflected load current, and has negligible effect on the transformer utilization. So the trans-
</p>
<p>former core and windings are effectively utilized in modern forward converters. 
</p>
<p>6.3.3 Push-Pull Isolated Buck Converter 
</p>
<p>The push-pull isolated buck converter is illustrated in Fig. 6.28. The secondary-side circuit is identical 
</p>
<p>with the full- and half-bridge converters, with identical waveforms. The primary-side circuit contains a 
</p>
<p>center-tapped winding. Transistor Q1 conducts for time DTs during the first switching period. Transistor 
</p>
<p>Q2 conducts for an identical length of time during the next switching period, such that volt-second bal-
</p>
<p>ance is maintained across the transformer primary winding. Converter waveforms are illustrated in Fig. 
</p>
<p>6.29. This converter can operate oven the entire range of duty cycles 0 ~ D &lt; 1. Its conversion ratio is 
given by 
</p>
<p>(6.38) 
</p>
<p>This converter is sometimes used in conjunction with low input voltages. It tends to exhibit low primary-
</p>
<p>Fig. 6.28 Push-pull isolated 
</p>
<p>buck converter. 
</p>
<p>i(t) 
L 
</p>
<p>+ 
</p>
<p>v,.(t) 
</p>
<p>+ 
</p>
<p>c R v </p>
<p/>
</div>
<div class="page"><p/>
<p>160 Converter Circuits 
</p>
<p>Fig. 6.29 Waveforms of the 
</p>
<p>push-pull isolated buck converter. 
</p>
<p>iM(t) ~/~ 
</p>
<p>~: 
LM i 
</p>
<p>'it) l v, 
i(t)l~ 
</p>
<p>' : : : 
</p>
<p>,,(t) 1 nV, 0 nV, i 0 ~ 
</p>
<p>im (t) ~'-----+-~-o-.5-i---'----~---o._s_i_----' .... _ 0 r--------!rt 
~&middot; 
</p>
<p>Conducting 
devices: 
</p>
<p>0 DT, T, T,+DT, 2T, 
</p>
<p>side conduction losses, since at any given instant only one transistor is connected in series with the de 
</p>
<p>source Vg. The ability to operate with transistor duty cycles approaching unity also allows the turns ratio 
</p>
<p>n to be minimized, reducing the transistor currents. 
</p>
<p>The push-pull configuration is prone to transformer saturation problems. Since it cannot be 
</p>
<p>guaranteed that the forward voltage drops and conduction times of transistors Q1 and Q2 are exactly 
equal, small imbalances can cause the de component of voltage applied to the transformer primary to be 
</p>
<p>nonzero. In consequence, during every two switching periods there is a net increase in the magnitude of 
</p>
<p>the magnetizing current. If this imbalance continues, then the magnetizing current can eventually 
</p>
<p>become large enough to saturate the transformer. 
</p>
<p>Current-programmed control can be employed to mitigate the transformer saturation problems. 
</p>
<p>Operation of the push-pull converter using only duty cycle control is not recommended. 
</p>
<p>Utilization of the transformer core material and secondary winding is similar to that for the full-
</p>
<p>bridge converter. The flux and magnetizing current can be both positive and negative, and therefore the 
</p>
<p>entire B-H loop can be used, if desired. Since the primary and secondary windings are both center-
</p>
<p>tapped, their utilization is suboptimal. </p>
<p/>
</div>
<div class="page"><p/>
<p>6.3 Transformer Isolation 161 
</p>
<p>(a) 
</p>
<p>vg v 
</p>
<p>+ 
</p>
<p>(b) Q, D, 
</p>
<p>Fig. 6.30 Derivation of the fly-
</p>
<p>back converter: (a) buck-boost vg v 
converter; (b) inductor L is 
</p>
<p>wound with two parallel wires; 
+ (c) inductor windings are iso-
</p>
<p>lated, leading to the flyback con- (c) 
Q, D, 
</p>
<p>verter; (d) with a I :n turns ratio 
</p>
<p>and positive output. 
</p>
<p>vg v 
</p>
<p>+ 
</p>
<p>(d) 
</p>
<p>+ 
</p>
<p>c v 
vg + 
</p>
<p>~ 
</p>
<p>6.3.4 Flyback Converter 
</p>
<p>The flyback converter is based on the buck-boost converter. Its derivation is illustrated in Fig. 6.30. Fig-
</p>
<p>ure 6.30(a) depicts the basic buck-boost converter, with the switch realized using a MOSFET and diode. 
</p>
<p>In Fig. 6.30(b ), the inductor winding is constructed using two wires, with a 1:1 turns ratio. The basic 
</p>
<p>function of the inductor is unchanged: and the parallel windings are equivalent to a single winding con-
</p>
<p>structed of larger wire. In Fig. 6.30(c), the connections between the two windings are broken. One wind-
</p>
<p>ing is used while the transistor Q1 conducts, while the other winding is used when diode D1 conducts. 
</p>
<p>The total current in the two windings is unchanged from the circuit of Fig. 6.30(b ); however, the current 
</p>
<p>is now distributed between the windings differently. The magnetic fields inside the inductor in both cases </p>
<p/>
</div>
<div class="page"><p/>
<p>162 Converter Circuits 
</p>
<p>Fig. 6.31 Flyback converter circuit: 
</p>
<p>(a) with transformer equivalent circuit 
</p>
<p>model, (b) during subinterval I, 
</p>
<p>(c) during subinterval 2. 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>(c) 
</p>
<p>+ 
</p>
<p>............................................ . . . . 
: Transformer model : ifn 
</p>
<p>+ 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>are identical. Although the two-winding magnetic device is represented using the same symbol as the 
</p>
<p>transformer, a more descriptive name is "two-winding inductor." This device is sometimes also called a 
</p>
<p>jiyback transformer. Unlike the ideal transformer, current does not flow simultaneously in both windings 
</p>
<p>of the fly back transformer. Figure 6.30(d) illustrates the usual configuration of the flyback converter. The 
</p>
<p>MOSFET source is connected to the primary-side ground, simplifying the gate drive circuit. The trans-
</p>
<p>former polarity marks are reversed, to obtain a positive output voltage. A 1 :n turns ratio is introduced; 
</p>
<p>this allows better converter optimization. 
</p>
<p>The flyback converter may be analyzed by insertion of the model of Fig. 6.16(b) in place of the 
</p>
<p>flyback transformer. The circuit of Fig. 6.31(a) is then obtained. The magnetizing inductance LM func-
</p>
<p>tions in the same manner as inductor L of the original buck-boost converter of Fig. 6.30(a). When transis-
</p>
<p>tor Q1 conducts, energy from the de source Vg is stored in LM. When diode D1 conducts, this stored 
</p>
<p>energy is transferred to the load, with the inductor voltage and current scaled according to the 1:n turns 
</p>
<p>ratio. 
</p>
<p>During subinterval 1, while transistor Q1 conducts, the converter circuit model reduces to Fig. </p>
<p/>
</div>
<div class="page"><p/>
<p>6.3 Transformer Isolation 163 
</p>
<p>6.3l(b). The inductor voltage Vv capacitor current ic, and de source current ig are given by 
</p>
<p>VL = V8 
0 v 
zc=-R 
</p>
<p>ig = i 
</p>
<p>(6.39) 
</p>
<p>With the assumption that the converter operates in the continuous conduction mode, with small inductor 
</p>
<p>current ripple and small capacitor voltage ripple, the magnetizing current i and output capacitor voltage v 
can be approximated by their de components, I and V, respectively. Equation (6.39) then becomes 
</p>
<p>VL= V8 
0 v 
zc=-R 
</p>
<p>i8 =I 
</p>
<p>(6.40) 
</p>
<p>During the second subinterval, the transistor is in the off-state, and the diode conducts. The equivalent 
</p>
<p>circuit of Fig. 6.3l(c) is obtained. The primary-side magnetizing inductance voltage vv the capacitor 
</p>
<p>current ic, and the de source current ig for this subinterval are: 
</p>
<p>vL=-* 
0 i v 
1c=n-f? 
</p>
<p>ig = 0 
</p>
<p>(6.41) 
</p>
<p>It is important to consistently define vL(t) on the same side of the transformer for all subintervals. Upon 
</p>
<p>making the small-ripple approximation, one obtains 
</p>
<p>VL=-* 
</p>
<p>. I V 
zc=n-7[ 
</p>
<p>ig=O 
</p>
<p>(6.42) 
</p>
<p>The vL(t), ic(t), and igCt) waveforms are sketched in Fig. 6.32 for continuous conduction mode operation. 
Application of the principle of volt-second balance to the primary-side magnetizing inductance 
</p>
<p>yields 
</p>
<p>Solution for the conversion ratio then leads to 
</p>
<p>_ V _ D 
M(D)-v-n D' 
</p>
<p>g 
</p>
<p>(6.43) 
</p>
<p>(6.44) 
</p>
<p>So the conversion ratio of the fly back converter is similar to that of the buck-boost converter, but contains 
</p>
<p>an added factor of n. 
</p>
<p>Application of the principle of charge balance to the output capacitor C leads to 
</p>
<p>(6.45) </p>
<p/>
</div>
<div class="page"><p/>
<p>164 Converter Circuits 
</p>
<p>Fig. 6.32 Flyback converter waveforms, 
</p>
<p>continuous conduction mode. 
</p>
<p>Solution for I yields 
</p>
<p>Conducting 
devices: 
</p>
<p>I nV = D'R 
</p>
<p>-
</p>
<p>-VIn 
</p>
<p>!In- VIR 
</p>
<p>-VIR 
-
</p>
<p>I 
r---
</p>
<p>0 
</p>
<p>-DTs- -D'Ts-j 
Ts . 
</p>
<p>(6.46) 
</p>
<p>This is the de component of the magnetizing current, referred to the primary. The de component of the 
</p>
<p>source current ig is 
</p>
<p>(6.47) 
</p>
<p>An equivalent circuit that models the de components of the flyback converter waveforms can 
</p>
<p>now be constructed. Circuits corresponding to the inductor loop equation (6.43) and to node equations 
</p>
<p>(6.45) and (6.47) are illustrated in Fig. 6.33(a). By replacing the dependent sources with ideal de trans-
</p>
<p>formers, one obtains Fig. 6.33(b ). This is the de equivalent circuit of the fly back converter. It contains a 
</p>
<p>l:D buck-type conversion ratio, followed by a D':l boost-type conversion ratio, and an added factor of 
</p>
<p>1 :n arising from the fly back transformer turns ratio. By use of the method developed in Chapter 3, the 
</p>
<p>model can be refined to account for losses and to predict the converter efficiency. The flyback converter 
</p>
<p>can also be operated in the discontinuous conduction mode; analysis is left as a homework problem. The 
</p>
<p>results are similar to the DCM buck-boost converter results tabulated in Chapter 5, but are generalized to 
</p>
<p>account for the turns ratio 1 :n. 
</p>
<p>The flyback converter is commonly used at the 50 to 100 W power range, as well as in high-
</p>
<p>voltage power supplies for televisions and computer monitors. It has the advantage of very low parts </p>
<p/>
</div>
<div class="page"><p/>
<p>(a) 
</p>
<p>DI 
</p>
<p>(b) 1: D 
</p>
<p>I 
</p>
<p>I 
</p>
<p>D'V 
---n 
</p>
<p>6.3 Transformer Isolation 165 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>D':n 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 6.33 Flyback converter equivalent circuit model, CCM: (a) circuits corresponding to Eqs. (6.43), (6.45), and 
</p>
<p>(6.47); (b) equivalent circuit containing ideal de transformers. 
</p>
<p>count. Multiple outputs can be obtained using a minimum number of parts: each additional output 
</p>
<p>requires only an additional winding, diode, and capacitor. However, in comparison with the full-bridge, 
</p>
<p>half-bridge, or two-transistor forward converters, the flyback converter has the disadvantages of high 
</p>
<p>transistor voltage stress and poor cross-regulation. The peak transistor voltage is equal to the de input 
</p>
<p>voltage Vg plus the reflected load voltage Vln; in practice, additional voltage is observed due to ringing 
</p>
<p>associated with the transformer leakage inductance. Rigorous comparison of the utilization of the fly-
</p>
<p>back transformer with the transformers of buck-derived circuits is difficult because of the different func-
</p>
<p>tions performed by these elements. The magnetizing current of the flyback transformer is unipolar, and 
</p>
<p>hence no more than half of the core material B-H loop can be utilized. The magnetizing current must 
</p>
<p>contain a significant de component. Yet, the size of the flyback transformer is quite small in designs 
</p>
<p>intended to operate in the discontinuous conduction mode. However, DCM operation leads to increased 
</p>
<p>peak currents in the transistor, diode, and filter capacitors. Continuous conduction mode designs require 
</p>
<p>larger values of LM, and hence larger fiyback transformers, but the peak currents in the power stage ele-
</p>
<p>ments are lower. 
</p>
<p>6.3.5 Boost-Derived Isolated Converters 
</p>
<p>Transformer-isolated boost converters can be derived by inversion of the source and load of buck-derived 
</p>
<p>isolated converters. A number of configurations are known, and two of these are briefly discussed here. 
</p>
<p>These converters find some employment in high-voltage power supplies, as well as in low-harmonic rec-
</p>
<p>tifier applications. 
</p>
<p>A full-bridge configuration is diagrammed in Fig. 6.34, and waveforms for the continuous con-
</p>
<p>duction mode are illustrated in Fig. 6.35. The circuit topologies during the first and second subintervals 
</p>
<p>are equivalent to those of the basic nonisolated boost converter, and when the turns ratio is 1:1, the induc-
</p>
<p>tor current i(t) and output current i0 (t) waveforms are identical to the inductor current and diode current 
</p>
<p>waveforms of the nonisolated boost converter. 
</p>
<p>During subinterval 1, all four transistors operate in the on state. This connects the inductor L 
</p>
<p>across the de input source Vg, and causes diodes D1 and D2 to be reverse-biased. The inductor current i(t) </p>
<p/>
</div>
<div class="page"><p/>
<p>166 Converter Circuits 
</p>
<p>R 
</p>
<p>Fig. 6.34 Full-bridge transformer-isolated boost converter. 
</p>
<p>Vy(t) 
Vln 
</p>
<p>0 0 
</p>
<p>- V/n 
</p>
<p>vg vg : 
: 
</p>
<p>V8 -V!n V8 -V!n 
: 
</p>
<p>i(t; 
</p>
<p>iJt) I 
0 
</p>
<p>Tin 
</p>
<p>0 
</p>
<p>Un I. 
i+--DT--+1+---D'T --i+--DT--+ +--D'T -tt 
</p>
<p>Conducting 
devices: 
</p>
<p>i s : Ts s !, s T s i 
s 1 
</p>
<p>Fig. 6.35 Waveforms of the transformer-isolated full-bridge boost converter, CCM. 
</p>
<p>+ 
</p>
<p>v </p>
<p/>
</div>
<div class="page"><p/>
<p>6.3 Transformer Isolation 167 
</p>
<p>increases with slope V/L, and energy is transferred from the de source Vg to inductor L. During the sec-
</p>
<p>ond subinterval, transistors Q2 and Q3 operate in the off state, so that inductor L is connected via transis-
</p>
<p>tors Q1 and Q4 through the transformer and diode D1 to the de output. The next switching period is 
</p>
<p>similar, except that during subinterval 2, transistors Q1 and Q4 operate in the off state, and inductor Lis 
</p>
<p>connected via transistors Q2 and Q3 through the transformer and diode D2 to the de output. If the transis-
</p>
<p>tor off-times and the diode forward drops are identical, then the average transformer voltage is zero, and 
</p>
<p>the net volt-seconds applied to the transformer magnetizing inductance over two switching periods is 
</p>
<p>zero. 
</p>
<p>Application of the principle of inductor volt-second balance to the inductor voltage waveform 
</p>
<p>vL(t) yields 
</p>
<p>(6.48) 
</p>
<p>Solution for the conversion ratio M(D) then leads to 
</p>
<p>M (D) = J::_ = _!1_ 
V D' 
</p>
<p>g 
</p>
<p>(6.49) 
</p>
<p>This result is similar to the boost converter M(D), with an added factor of n due to the transformer turns 
</p>
<p>ratio. 
</p>
<p>The transistors must block the reflected load voltage V/n = V/D'. In practice, additional voltage 
</p>
<p>(a) 
</p>
<p>.J.&pound;1 
+ 
</p>
<p>c R v 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>Fig. 6.36 Push-pull isolated converters: (a) based on the boost converter, (b) based on the Watkins-Johnson con-
</p>
<p>verter. </p>
<p/>
</div>
<div class="page"><p/>
<p>168 Converter Circuits 
</p>
<p>is observed due to ringing associated with the transformer leakage inductance. Because the instantaneous 
</p>
<p>transistor current is limited by inductor L, saturation of the transformer due to small imbalances in the 
</p>
<p>semiconductor forward voltage drops or conduction times is not catastrophic. Indeed, control schemes 
</p>
<p>are known in which the transformer is purposely operated in saturation during subinterval 1 [13, 15]. 
</p>
<p>A push-pull configuration is depicted in Fig. 6.36(a). This configuration requires only two tran-
</p>
<p>sistors, each of which must block voltage 2VIn. Operation is otherwise similar to that of the full-bridge. 
</p>
<p>During subinterval I, both transistors conduct. During subinterval 2, one of the transistors operates in the 
</p>
<p>off state, and energy is transferred from the inductor through the transformer and one of the diodes to the 
</p>
<p>output. Transistors conduct during subinterval 2 during alternate switching periods, such that transformer 
</p>
<p>volt-second balance is maintained. A similar push-pull version of the Watkins-Johnson converter, con-
</p>
<p>verter 6 of Fig. 6.14, is illustrated in Fig. 6.36(b). 
</p>
<p>6.3.6 Isolated Versions of the SEPIC and the Cuk Converter 
</p>
<p>The artifice used to obtain isolation in the flyback converter can also be applied to the SEPIC and 
</p>
<p>inverse-SEPIC. Referring to Fig. 6.37(a), inductor L2 can be realized using two windings, leading to the 
</p>
<p>isolated SEPIC of Fig. 6.37(b). An equivalent circuit is given in Fig. 6.37(c). It can be seen that the mag-
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>(c) 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>: Ideal :: : :: 
Transf;;~~&middot;;&middot;&middot;&middot;&middot; l 
</p>
<p>c ........... rrt(J_ci_~l ............ ; 
</p>
<p>Fig. 6.37 Obtaining isolation in the SEPIC: (a) basic nonisolated converter, (b) isolated SEPIC, (c) with trans-
</p>
<p>former equivalent circuit modeL </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 6.38 Waveforms of the 
</p>
<p>isolated SEPIC, continuous 
</p>
<p>conduction mode. 
</p>
<p>6.3 Transformer Isolation 169 
</p>
<p>: : 
</p>
<p>i,(l) 11---0 ---+-t:J-(z-&middot;1 + i2-) I n~i _---l,.._[_. 
</p>
<p>i,~:r:t:&plusmn;=::. 
</p>
<p>j-DTs---+j-D'Ts-j 
Conducting j ' T, : 
</p>
<p>devices: j Q1 D 1 
</p>
<p>netizing inductance performs the energy-storage function of the original inductor L2 . In addition, the 
</p>
<p>ideal transformer provides isolation and a turns ratio. 
</p>
<p>Typical primary and secondary winding current waveforms iP(t) and iJt) are portrayed in Fig. 
</p>
<p>6.38, for the continuous conduction mode. The magnetic device must function as both a flyback trans-
</p>
<p>former and also a conventional two-winding transformer. During subinterval 1, while transistor Q1 con-
</p>
<p>ducts, the magnetizing current flows through the primary winding, and the secondary winding current is 
</p>
<p>zero. During subinterval 2, while diode D1 conducts, the magnetizing current flows through the second-
</p>
<p>ary winding to the load. In addition, the input inductor current i 1 flows through the primary winding. This 
</p>
<p>induces an additional component of secondary current i 1 In, which also flows to the load. So design of the 
</p>
<p>SEPIC transformer is somewhat unusual, and the rms winding currents are larger than those of the fly-
</p>
<p>back transformer. 
</p>
<p>By application of the principle of volt-second balance to inductors L1 and LM, the conversion 
</p>
<p>ratio can be shown to be 
</p>
<p>M(D) = _y_ = nr; 
V D 
</p>
<p>g 
</p>
<p>(6.50) 
</p>
<p>Ideally, the transistor must block voltage V/D'. In practice, additional voltage is observed due to ringing 
</p>
<p>associated with the transformer leakage inductance. </p>
<p/>
</div>
<div class="page"><p/>
<p>170 Converter Circuits 
</p>
<p>+ 
</p>
<p>+ 
R v 
</p>
<p>Fig. 6.39 Isolated inverse-SEPIC. 
</p>
<p>An isolated version of the inverse-SEPIC is shown in Fig. 6.39. Operation and design of the 
</p>
<p>transformer is similar to that of the SEPIC. 
</p>
<p>Isolation in the Cuk converter is obtained in a different manner [18]. The basic nonisolated Cuk 
</p>
<p>converter is illustrated in Fig. 6.40(a). In Fig. 6.40(b), capacitor C1 is split into two series capacitors C1a 
</p>
<p>and Clb' A transformer can now be inserted between these capacitors, as indicated in Fig. 6.40(c). The 
</p>
<p>polarity marks have been reversed, so that a positive output voltage is obtained. Having capacitors in 
</p>
<p>series with the transformer primary and secondary windings ensures that no de voltage is applied to the 
</p>
<p>transformer. The transformer functions in a conventional manner, with small magnetizing current and 
</p>
<p>negligible energy storage within the magnetizing inductance. 
</p>
<p>Utilization of the transformer of the Cuk converter is quite good. The magnetizing current can 
</p>
<p>(a) 
</p>
<p>vg R v 
</p>
<p>+ 
</p>
<p>Fig. 6.40 Obtaining isolation (b) 
</p>
<p>in the Cuk converter: (a) basic 
</p>
<p>nonisolated Cuk converter, 
</p>
<p>(b) splitting capacitor C1 into 
</p>
<p>two series capacitors, (c) inser- vg R v 
tion of transformer between 
</p>
<p>capacitors. 
+ 
</p>
<p>(c) 
</p>
<p>+ 
</p>
<p>vg R v 
</p>
<p>1: n </p>
<p/>
</div>
<div class="page"><p/>
<p>6.4 Converter Evaluation and Design 171 
</p>
<p>be both positive and negative, and hence the entire core B-H loop can be utilized if desired. There are no 
</p>
<p>center-tapped windings, and all of the copper is effectively utilized. The transistor must block voltage 
</p>
<p>V/D', plus some additional voltage due to ringing associated with the transformer leakage inductance. 
</p>
<p>The conversion ratio is identical to that of the isolated SEPIC, Eq. (6.50). 
</p>
<p>The isolated SEPIC and Cuk converter find application as switching power supplies, typically at 
</p>
<p>power levels of several hundred watts. They are also now finding use as ac-dc low-harmonic rectifiers. 
</p>
<p>6.4 CONVERTER EVALUATION AND DESIGN 
</p>
<p>There is no ultimate converter perfectly suited for all possible applications. For a given application, with 
</p>
<p>given specifications, trade studies should be performed to select a converter topology. Several 
</p>
<p>approaches that meet the specifications should be considered, and for each approach important quantities 
</p>
<p>such as worst-case transistor voltage, worst-case transistor rms current, transformer size, etc., should be 
</p>
<p>computed. This type of quantitative comparison can lead to selection of the best approach, while avoid-
</p>
<p>ing the personal biases of the engineer. 
</p>
<p>6.4.1 Switch Stress and Utilization 
</p>
<p>Often, the largest single cost in a converter is the cost of the active semiconductor devices. Also, the con-
</p>
<p>duction and switching losses associated with the semiconductor devices often dominates the other con-
</p>
<p>verter losses. This suggests evaluating candidate converter approaches by comparing the voltage and 
</p>
<p>current stresses imposed on the active semiconductor devices. Minimization of the total switch stresses 
</p>
<p>leads to minimization of the total silicon area required to realize the power devices of the converter. 
</p>
<p>So it is useful to compare the total active switch stress and active switch utilization of candidate 
</p>
<p>converter approaches. In a good design, the voltages and currents imposed on the semiconductor devices 
</p>
<p>is minimized, while the load power is maximized. If a converter contains k active semiconductor devices, 
</p>
<p>the total active switch stress Scan be defined as 
</p>
<p>k 
</p>
<p>S= LVI 
j= l J 1 
</p>
<p>(6.51) 
</p>
<p>where V1 is the peak voltage applied to semiconductor switch j, and 11 is the rms current applied to 
</p>
<p>switchj. Peak rather than rms current is sometimes used, with qualitatively similar results. If the con-
</p>
<p>verter load power is P1oad&bull; then the active switch utilization U can be defined as 
</p>
<p>U _ pload - s 
(6.52) 
</p>
<p>The switch utilization is less than one in transformer-isolated converters, and is a quantity to be maxi-
</p>
<p>mized. 
</p>
<p>For example, consider the transistor utilization in the CCM flyback converter of Fig. 6.30(d). 
</p>
<p>The peak transistor voltage occurs during subinterval 2, and is equal to the de input voltage Vg plus the 
</p>
<p>reflected load voltage V/n: 
</p>
<p>v vg 
v Ql,pk = vg + n = u 
</p>
<p>(6.53) </p>
<p/>
</div>
<div class="page"><p/>
<p>172 Converter Circuits 
</p>
<p>The transistor current waveform coincides with the input current waveform igCt), which is sketched in 
Fig. 6.32. The rms value of this waveform is 
</p>
<p>I I /l5 p/oad 
QI.nn.&lt; = = V /l5 
</p>
<p>g 
</p>
<p>(6.54) 
</p>
<p>So the total active switch stress is 
</p>
<p>(6.55) 
</p>
<p>The load power Pload can be expressed in terms of V and I by solution of the equivalent circuit model, 
</p>
<p>Fig. 6.33(b ). The result is 
</p>
<p>p/oad= D'V h (6.56) 
</p>
<p>Use of Eq. (6.44) to eliminate V8 from Eq. (6.55), and evaluation of Eq. (6.52), leads to 
</p>
<p>U=D'/l5 (6.57) 
</p>
<p>The transistor utilization U tends to zero at D = 0 and at D = 1, and reaches a maximum of U = 0.385 at 
D = 113. 
</p>
<p>For given values of Vg, V, and the load power, the designer can arbitrarily choose the duty cycle 
</p>
<p>D. The turns ratio is then chosen to satisfy Eq. (6.44), as follows: 
</p>
<p>V D' 
n= V, D (6.58) 
</p>
<p>At low duty cycle, the transistor rms current becomes large because the transformer turns ratio must be 
</p>
<p>large. At a duty cycle approaching one, the transistor peak voltage is large. So the choice D = 113 is a 
</p>
<p>good one, which minimizes the product of peak transistor voltage and rms transistor current. In practice, 
</p>
<p>the converter must be optimized to meet a number of different criteria, so a somewhat different duty 
</p>
<p>cycle may be chosen. Also, the converter must usually be designed to operate with some given range of 
</p>
<p>load powers and input voltages; this can lead to a different choice of D, as well as to reduced switch uti-
</p>
<p>lization. 
</p>
<p>For a simple comparison between converters, the switch utilizations of a number of isolated and 
</p>
<p>nonisolated converters are collected in Table 6.1. For simplicity, the formulas assume that the converter 
</p>
<p>is designed to function at a single operating point, that is, with no variations in Vg, V, or Pload&middot; 
</p>
<p>It can be seen that the nonisolated buck and boost converters operate most efficiently when their 
</p>
<p>conversion ratios M(D) are near one. In the case of the boost converter, the switch utilization is greater 
</p>
<p>than one forD &lt; 0.382, and approaches infinity as D tends to zero. The reason for this is that, at D = 0, 
</p>
<p>the transistor is always off and hence its rms current is zero. But at D = 0, V = Vg, so the output power is 
</p>
<p>nonzero. All of the load power flows through the diode rather than the transistor. Of course, if it is desired 
</p>
<p>that V = Vg, then it would be best to eliminate the boost converter, and directly connect the load to the 
input voltage. But it is nonetheless true that if the output voltage Vis not too much greater than Vg, then a 
</p>
<p>large amount of power can be controlled by a relatively small transistor. Similar arguments apply to the 
</p>
<p>buck converter: all of the load power must flow through the transistor and hence U:::; 1, yet converter effi-
</p>
<p>ciency and cost per watt are optimized when the output voltage Vis not too much smaller than the input 
</p>
<p>voltage. </p>
<p/>
</div>
<div class="page"><p/>
<p>6.4 Converter Evaluation and Design 173 
</p>
<p>Table 6.1 Active switch utilizations of some common de-de converters, single operating point 
</p>
<p>Converter 
</p>
<p>Buck 
</p>
<p>Boost 
</p>
<p>Buck-boost, flyback, nonisolated SEPIC, 
</p>
<p>isolated SEPIC, non isolated Cuk, isolated Cuk 
</p>
<p>Forward, n1 = n2 
</p>
<p>Other isolated buck-derived converters 
</p>
<p>(full-bridge, half-bridge, push-pull) 
</p>
<p>Isolated boost-derived converters 
</p>
<p>(full-bridge, push-pull) 
</p>
<p>U(D) 
</p>
<p>D' 
</p>
<p>.fl5 
</p>
<p>D' .fl5 
</p>
<p>lm 
2 
</p>
<p>D' 
</p>
<p>2JI +D 
</p>
<p>max U(D) 
</p>
<p>33J = 0.385 
</p>
<p>- 1-=0.353 
2.f2 
</p>
<p>2)z = 0.353 
</p>
<p>I 
2 
</p>
<p>max U(D) 
</p>
<p>occurs at D = 
</p>
<p>0 
</p>
<p>I 
3 
</p>
<p>I 
2 
</p>
<p>0 
</p>
<p>Incorporation of an isolation transformer leads to reduced switch utilization. In general, trans-
</p>
<p>former-isolated buck-derived converters should be designed to operate at as large a duty cycle as other 
</p>
<p>considerations will allow. Even so, the switch utilization is reduced to U ~ 0.353, meaning that the switch 
</p>
<p>stress is increased by a factor of approximately 2.8 as compared with the nonisolated buck converter at 
</p>
<p>D = l. On the other hand, the transformer turns ratio can be chosen to match the load voltage to the input 
</p>
<p>voltage and better optimize the converter. For example, in a full-bridge buck-derived converter operating 
</p>
<p>with Vg = 500 V and V = 5 V, the turns ratio could be chosen to be nearly 100:1, leading to a duty cycle 
close to one and switch utilization of approximately 0.35. To obtain a 1 kW output power, the total tran-
</p>
<p>sistor stress would be 1 kW/0.35 = 2.86 kVA. By comparison, the nonisolated buck converter would 
operate with a duty cycle of0.01 and a switch utilization ofO.l. Its total switch stress would be 1 kW/0.1 
</p>
<p>= 10 kVA; transistors with larger rated currents and lower on-resistances would be needed. Similar argu-
</p>
<p>ments apply to the transformer-isolated boost-derived converters: these converters are better optimized 
</p>
<p>when they operate at low duty cycles. 
</p>
<p>The nonisolated buck-boost, nonisolated SEPIC, nonisolated Cuk converter, and the isolated 
</p>
<p>SEPIC, flyback, and Cuk converters have similar switch utilizations. In all of these converters, 
</p>
<p>U ~ 0.385, which is approximately the same as in the isolated buck-derived converters. So the noniso-
</p>
<p>lated versions of these converters tend to have lower switch utilizations than the buck or boost convert-
</p>
<p>ers; however, isolation can be obtained with no additional penalty in switch stress. Switch utilization of a 
</p>
<p>single-operating-point design is maximized when the turns ratio is chosen such that D = 1/3. 
</p>
<p>The cost of the active semiconductor devices of a converter approach can be estimated using the 
</p>
<p>converter switch utilization, as follows: 
</p>
<p>( ) 
( semic~~~~~~~~ t~~e cost) 
</p>
<p>semiconductor cost _ ,--'----------------'~ 
</p>
<p>per kW output power - (voltage)( curr~nt )( con~erter) 
deratmg deratmg sw1tch 
factor factor utilization 
</p>
<p>(6.59) 
</p>
<p>The semiconductor device cost per rated kVA is equal to the cost of a semiconductor device, divided by </p>
<p/>
</div>
<div class="page"><p/>
<p>174 Converter Circuits 
</p>
<p>the products of its maximum voltage rating and its maximum rms current capability, expressed in $/kVA. 
</p>
<p>This figure depends on a variety of factors, including the device type, packaging, voltage and power lev-
</p>
<p>els, and market volume. A typical U.S. value in 2000 is less than $1/kVA. Voltage and current derating is 
</p>
<p>required to obtain reliable operation of the semiconductor devices. A typical design guideline is that the 
</p>
<p>worst-case peak transistor voltage (including transients, voltage spikes due to ringing, and all other antic-
</p>
<p>ipated events) should not exceed 75% of the rated transistor voltage, leading to a voltage derating factor 
</p>
<p>of (0.75). Hence, the cost of the active semiconductor switches in a 2000 isolated de-de converter is typ-
</p>
<p>ically in the range $1 to $10 per kW of output power for medium to high-power applications. 
</p>
<p>6.4.2 Design Using Computer Spreadsheet 
</p>
<p>Computer spreadsheets are a useful tool for performing converter trade studies and designs. Given speci-
</p>
<p>fications regarding the desired output voltage V, the ranges of the input voltage Vg and the load power 
</p>
<p>Pload&bull; the desired output voltage ripple dv, the switching frequency f,., etc., various design options can be 
</p>
<p>explored. The transformer turns ratio and the inductor current ripple di can be taken as design variables, 
</p>
<p>chosen by the engineer. The range of duty cycle variations and the inductor and capacitor component val-
</p>
<p>ues can then be computed. Worst-case values of the currents and voltages applied to the various power-
</p>
<p>stage elements can also be evaluated, as well as the sizes of the magnetic elements. By investigating sev-
</p>
<p>eral choices of the design variables, a good compromise between the worst-case voltage stresses and cur-
</p>
<p>rent stresses can be found. 
</p>
<p>A short spreadsheet example is given in Table 6.2. The converter operates from a de voltage 
</p>
<p>derived by rectifying a 230 V &plusmn; 20% ac source voltage. The converter de input voltage Vg is therefore 
</p>
<p>230J2 V &plusmn; 20%. The load voltage is a regulated 15 V de, with switching ripple dv no greater than 0.1 V. 
</p>
<p>The load power can vary over the range 20 W to 200 W. It is desired to operate with a switching fre-
</p>
<p>quency of fs = 100 kHz. These values are entered as specifications, at the top of the spreadsheet. The 
design of a forward converter, Fig. 6.22, and of a ftyback converter, Fig. 6.30(d), to meet these specifica-
</p>
<p>tions is investigated in the spreadsheet. Continuous conduction mode designs are investigated: the induc-
</p>
<p>tor current ripple di is chosen small enough that the converter operates in CCM at full load power. 
</p>
<p>Depending on the choice of di, the converter may operate in either CCM or DCM at minimum load 
</p>
<p>power. 
</p>
<p>For the single-transistor forward converter, the turns ratios n 2/n 1 and n/n1, as well as the induc-
</p>
<p>tor current ripple di, can be taken as design variables. For this example, the reset-winding turns ratio 
</p>
<p>n2/n1 is chosen to be one, and hence the duty cycle is limited to D &lt; 0.5 as given by Eq. (6.35). The max-
</p>
<p>imum duty cycle is computed first. The output voltage of the forward converter, in continuous conduction 
</p>
<p>mode, is given by Eq. (6.36). Solution for the duty cycleD leads to 
</p>
<p>(6.60) 
</p>
<p>The maximum value of D occurs at minimum Vg and at full load, and is given in Table 6.2. The minimum 
</p>
<p>CCM value of D, occurring at maximum Vg, is also listed. 
</p>
<p>The value of the inductance Lis computed next. The magnitude of the inductor current ripple di 
</p>
<p>can be computed in a manner similar to that used for the nonisolated buck converter to obtain Eq. (2.15). 
</p>
<p>The result is 
</p>
<p>A._ D'VT, 
LJ.l--u 
</p>
<p>(6.61) </p>
<p/>
</div>
<div class="page"><p/>
<p>Table 6.2 Spreadsheet design example 
</p>
<p>Specifications 
</p>
<p>Maximum input voltage V8 
Minimum input voltage V8 
Output voltage V 
</p>
<p>Maximum load power Pload 
</p>
<p>Minimum load power Pload 
</p>
<p>Switching frequency fs 
Maximum output ripple ~v 
</p>
<p>Forward converter design, CCM 
</p>
<p>Design variables 
</p>
<p>Reset winding turns ratio n2/n 1 
Turns ratio n/n1 
</p>
<p>390V 
</p>
<p>260V 
</p>
<p>15V 
</p>
<p>200W 
</p>
<p>20W 
</p>
<p>lOOkHz 
</p>
<p>0.1 v 
</p>
<p>1 
</p>
<p>0.125 
</p>
<p>6.4 Converter Evaluation and Design 175 
</p>
<p>Fly back converter design, CCM 
</p>
<p>Design variables 
</p>
<p>Turns ratio n2/n 1 
Inductor current ripple ~i 
</p>
<p>0.125 
</p>
<p>3 A ref to sec 
</p>
<p>Inductor current ripple ~i 2A ref to sec 
</p>
<p>Results 
</p>
<p>Maximum duty cycle D 
</p>
<p>Minimum D, at full load 
</p>
<p>Minimum D, at minimum load 
</p>
<p>Inductance L 
</p>
<p>Capacitance C 
</p>
<p>Worst-case stresses 
</p>
<p>Peak transistor voltage v QI 
</p>
<p>Rms transistor current 
</p>
<p>Transistor utilization U 
</p>
<p>Peak diode voltage v02 
Rms diode current i02 
Peak diode voltage v03 
Rms diode current i03 
Rms output capacitor current ic 
</p>
<p>0.462 
</p>
<p>0.308 
</p>
<p>0.251 
</p>
<p>261J.H 
</p>
<p>251J.F 
</p>
<p>780V 
</p>
<p>1.13A 
</p>
<p>0.226 
</p>
<p>49V 
</p>
<p>9.1 A 
</p>
<p>49V 
</p>
<p>11.1 A 
</p>
<p>1.15 A 
</p>
<p>Results 
</p>
<p>Maximum duty cycle D 
</p>
<p>Minimum D, at full load 
</p>
<p>Minimum D, at minimum load 
</p>
<p>Inductance L 
</p>
<p>Capacitance C 
</p>
<p>Worst-case stresses 
</p>
<p>Peak transistor voltage v Ql 
</p>
<p>Rms transistor current 
</p>
<p>Transistor utilization U 
</p>
<p>Peak diode voltage v01 
Rms diode current im 
</p>
<p>Peak diode current im 
</p>
<p>Rms output capacitor current ic 
</p>
<p>0.316 
</p>
<p>0.235 
</p>
<p>0.179 
</p>
<p>19 IJ.H ref to sec 
</p>
<p>210 !J.F 
</p>
<p>510V 
</p>
<p>1.38A 
</p>
<p>0.284 
</p>
<p>64V 
</p>
<p>16.3A 
</p>
<p>22.2A 
</p>
<p>9.1 A 
</p>
<p>The worst-case maximum ripple occurs in CCM at minimum duty cycle. Solution for L yields 
</p>
<p>L= D'VTs 
2~i 
</p>
<p>(6.62) 
</p>
<p>This equation is used to select L such that the worst-case ripple is equal to the specified value of lli. The 
</p>
<p>required value of L is listed in Table 6.2. The required value of C that leads to the specified voltage ripple 
</p>
<p>llv is also computed, using Eq. (2.60). Since Eq. (2.60) neglects capacitor esr, a larger value of C may be 
</p>
<p>required in practice. 
</p>
<p>If the converter operates in the discontinuous conduction mode at light load, then the controller 
</p>
<p>must reduce the duty cycleD to maintain the required output voltage V. The conversion ratio M(D, K) of 
</p>
<p>the DCM forward converter can be found analytically, using the method developed in the previous chap-
</p>
<p>ter. Alternatively, the nonisolated buck converter solution, Eq. (5.29), can be applied directly if all ele-
</p>
<p>ment values are referred to the transformer secondary side. Herice, the output voltage in DCM is given by </p>
<p/>
</div>
<div class="page"><p/>
<p>176 Converter Circuits 
</p>
<p>(6.63) 
</p>
<p>with K = 2URT,, and R = V2/P1oad&middot; Solution for the duty cycleD yields 
</p>
<p>(6.64) 
</p>
<p>The actual duty cycle is the smaller of Eqs. (6.60) and (6.64). The minimum duty cycle occurs at mini-
</p>
<p>mum load power and maximum Vg, and is given in Table 6.2. 
</p>
<p>Worst-case component stresses can now be evaluated. The peak transistor voltage is given by 
</p>
<p>Eq. (6.37). The rms transistor current is calculated with the help of Appendix 1. With the assumption that 
</p>
<p>the transformer magnetizing current can be neglected, the transistor current is equal to the reflected 
</p>
<p>inductor current i(t)n3 /n 1 during subinterval!, and is equal to zero during subintervals 2 and 3. The rms 
</p>
<p>transistor current is therefore 
</p>
<p>(6.65) 
</p>
<p>where I= Ploa/V. The worst-case value of !Ql-rms occurs at maximum load power and at maximum duty 
cycle. Expressions for the worst-case stresses in the diodes and output capacitor, as well as for the fly-
</p>
<p>back converter, are found in a similar manner. Their derivation is left as an exercise for the student. 
</p>
<p>The designs of Table 6.2 are good ones which illustrate the tradeoffs inherent in selection of an 
</p>
<p>isolated converter topology, although some additional design optimization is possible and is left as a 
</p>
<p>homework problem. Both designs utilize a turns ratio of 8:1. The rms transistor current is 22% higher in 
</p>
<p>the flyback converter. This current could be reduced, at the expense of increased transistor voltage. The 
</p>
<p>flyback converter imposes only 510 Von the transistor. A transistor rated at 800 V or 1000 V could be 
</p>
<p>used, with an adequate voltage derating factor and some margin for voltage ringing due to transformer 
</p>
<p>leakage inductance. The 780 V imposed on the transistor of the forward converter is 53% higher than in 
</p>
<p>the flyback converter. Power MOSFETs with voltage ratings greater than 1000 V are not available in 
</p>
<p>1997; hence, when voltage ringing due to transformer leakage inductance is accounted for, this design 
</p>
<p>will have an inadequate voltage design margin. This problem could be overcome by changing the reset 
</p>
<p>winding turns ratio n2/n 1, or by using a two-transistor forward converter. It can be concluded that the 
</p>
<p>transformer reset mechanism of the fly back converter is better than that of the conventional forward con-
</p>
<p>verter. 
</p>
<p>Because of the pulsating nature of the secondary-side currents in the fly back converter, the rms 
</p>
<p>and peak secondary currents are significantly higher than in the forward converter. The flyback converter 
</p>
<p>diode must conduct an rms current that is 47% greater than that of forward converter diode D3 , and 80% 
</p>
<p>greater than the current in forward converter diode D2 . The secondary winding of the fly back transformer 
</p>
<p>must also conduct this current. Furthermore, the output capacitor of the flyback converter must be rated 
</p>
<p>to conduct an rms current of 9.1 A. This capacitor will be much more expensive than its counterpart in 
</p>
<p>the forward converter. It can be concluded that the nonpulsating output current property of the forward 
</p>
<p>converter is superior to the pulsating output current of the fly back. For these reasons, flyback converters 
</p>
<p>and other converters having pulsating output currents are usually avoided when the application calls for a 
</p>
<p>high-current output. </p>
<p/>
</div>
<div class="page"><p/>
<p>6.5 
</p>
<p>1. 
</p>
<p>6.5 Summary of Key Points 177 
</p>
<p>SUMMARY OF KEY POINTS 
</p>
<p>The boost converter can be viewed as an inverse buck converter, while the buck-boost and Cuk converters 
</p>
<p>arise from cascade connections of buck and boost converters. The properties of these converters are consis-
</p>
<p>tent with their origins. Ac outputs can be obtained by differential connection of the load. An infinite num-
</p>
<p>ber of converters are possible, and several are listed in this chapter. 
</p>
<p>2. For understanding the operation of most converters containing transformers, the transformer can be mod-
</p>
<p>eled as a magnetizing inductance in parallel with an ideal transformer. The magnetizing inductance must 
</p>
<p>obey all of the usual rules for inductors, including the principle of volt-second balance. 
</p>
<p>3. The steady-state behavior of transformer-isolated converters may be understood by first replacing the 
</p>
<p>transformer with the magnetizing-inductance-plus-ideal-transformer equivalent circuit. The techniques 
</p>
<p>developed in the previous chapters can then be applied, including use of inductor volt-second balance and 
</p>
<p>capacitor charge balance to find de currents and voltages, use of equivalent circuits to model losses and 
</p>
<p>efficiency, and analysis of the discontinuous conduction mode. 
</p>
<p>4. In the full-bridge, half-bridge, and push-pull isolated versions of the buck and/or boost converters, the 
</p>
<p>transformer frequency is twice the output ripple frequency. The transformer is reset while it transfers 
</p>
<p>energy: the applied voltage polarity alternates on successive switching periods. 
</p>
<p>5. In the conventional forward converter, the transformer is reset while the transistor is off. The transformer 
</p>
<p>magnetizing inductance operates in the discontinuous conduction mode, and the maximum duty cycle is 
</p>
<p>limited. 
</p>
<p>6. The flyback converter is based on the buck-boost converter. The flyback transformer is actually a two-
</p>
<p>winding inductor, which stores and transfers energy. 
</p>
<p>7. The transformer turns ratio is an extra degree-of-freedom which the designer can choose to optimize the 
</p>
<p>converter design. Use of a computer spreadsheet is an effective way to determine how the choice of turns 
</p>
<p>ratio affects the component voltage and current stresses. 
</p>
<p>8. Total active switch stress, and active switch utilization, are two simplified figures-of-merit which can be 
</p>
<p>used to compare the various converter circuits. 
</p>
<p>REFERENCES 
</p>
<p>[l] S. CUK, "Modeling, Analysis, and Design of Switching Converters," Ph.D. thesis, California Institute of 
</p>
<p>Technology, November 1976. 
</p>
<p>[2] S. CUK and R. D. MIDDLEBROOK, "A New Optimum Topology Switching De-to-De Converter," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1977 Record, pp. 160-179, June 1977. 
</p>
<p>[3] E. LANDSMAN, "A Unifying Derivation of Switching De-De Converter Topologies," IEEE Power Electron-
</p>
<p>ics Specialists Conference, 1979 Record, pp. 239-243, June 1979. 
</p>
<p>[4] R. TYMERSKI and V. VORPERIAN, "Generation, Classification, and Analysis of Switched-Mode De-to-De 
</p>
<p>Converters by the Use of Converter Cells," Proceedings International Telecommunications Energy Confer-
</p>
<p>ence, pp. 181-195, October 1986. 
</p>
<p>[5] S. CUK and R. ERICKSON, "A Conceptually New High-Frequency Switched-Mode Amplifier Technique 
</p>
<p>Eliminates Current Ripple," Proceedings Fifth National Solid-State Power Conversion Conference (Pow-
</p>
<p>ercon 5), pp. G3.1-G3.22, May 1978. </p>
<p/>
</div>
<div class="page"><p/>
<p>178 Converter Circuits 
</p>
<p>[6] F. BARZEGAR and S. CUK, "A New Switched-Mode Amplifier Produces Clean Three-Phase Power," Pro-
</p>
<p>r;eedings Ninth International Solid-State Power Conversion Conference (Powercon 9), pp. E3.1-E3.15, 
</p>
<p>July 1982. 
</p>
<p>[7] K. D. T. Noo, S. CUK, and R. D. MIDDLEBROOK, "A New Flyback De-to-Three-Phase Converter with 
</p>
<p>Sinusoidal Outputs," IEEE Power Electronics Specialists Conference, 1983 Record, pp. 377-388. 
</p>
<p>[8] R. W. ERICKSON, "Synthesis of Switched-Mode Converters," IEEE Power Electronics Specialists Confer-
</p>
<p>ence, 1983 Record, pp. 9-22, June 1983. 
</p>
<p>[9] D. MAKSIMOVIC and S. CUK, "General Properties and Synthesis ofPWM De-De Converters," IEEE Power 
</p>
<p>Electronics Specialists Conference, 1989 Record, pp. 515-525, June 1989. 
</p>
<p>[10] M. S. MAKOWSKI, "On Topological Assumptions on PWM Converters-A Reexamination," IEEE Power 
</p>
<p>Electronics Specialists Conference, 1993 Record, pp. 141-147, June 1993. 
</p>
<p>[11] B. ISRAELSEN, J. MARTIN, C. REEVE, and V. SCOWN, "A 2.5 kV High Reliability TWT Power Supply: 
</p>
<p>Design Techniques for High Efficiency and Low Ripple," IEEE Power Electronics Specialists Conference, 
</p>
<p>1977 Record, pp. 109-130, June 1977. 
</p>
<p>[12] R. SEVERNS, "A New Current-Fed Converter Topology," IEEE Power Electronics Specialists Conference, 
</p>
<p>1979 Record, pp. 277-283, June 1979. 
</p>
<p>[13] V. J. THOTTUVELIL, T. G. WILSON, and H. A. OWEN, "Analysis and Design of a Push-Pull Current-Fed 
</p>
<p>Converter," IEEE Power Electronics Specialists Conference, 1981 Record, pp. 192-203, June 1981. 
</p>
<p>[14] R. REDL AND N. SOKAL, "Push-Pull Current-Fed Multiple-Output De-De Power Converter with Only 
</p>
<p>One Inductor and with 0-100% Switch Duty Ratio," IEEE Power Electronics Specialists Conference, 
</p>
<p>1980 Record, pp. 341-345, June 1982. 
</p>
<p>[15] P. W. CLARKE, "Converter Regulation by Controlled Conduction Overlap," U. S. Patent 3,938,024, Febru-
</p>
<p>ary 10, 1976. 
</p>
<p>[16] R. P. MASSEY and E. C. SNYDER, "High-Voltage Single-Ended De-De Converter," IEEE Power Electron-
</p>
<p>ics Specialists Conference, 1977 Record, pp. 156-159, June 1977. 
</p>
<p>[17] D. MAKSIMOVIC and S. CuK, "Switching Converters with Wide De Conversion Range," IEEE Transac-
</p>
<p>tions on Power Electronics, Vol. 6, No.1, pp. 151-157, January 1991. 
</p>
<p>&middot; [18] R. D. MIDDLEBROOK and S. CUK, "Isolation and Multiple Outputs of a New Optimum Topology Switch-
</p>
<p>ing De-to-De Converter," IEEE Power Electronics Specialists Conference, 1978 Record, pp. 256-264, June 
</p>
<p>13-15, 1978. 
</p>
<p>[19] T. G. WILSON, "Cross Regulation in an Energy-Storage De-to-De Converter with Two Regulated Out-
</p>
<p>puts," IEEE Power Electronics Specialists Conference, 1977 Record, pp. 190-199, June 1977. 
</p>
<p>[20] H. MATSUO, "Comparison of Multiple-Output De-De Converters Using Cross Regulation," IEEE Power 
</p>
<p>Electronics Specialists Conference, 1979 Record, pp. 169-185, June 1979. 
</p>
<p>[21] K. HARADA, T. NABESHIMA, and K. HISANAGA, "State-Space Analysis of the Cross-Regulation," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1979 Record, pp. 186-192, June 1979. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 179 
</p>
<p>[22] J. N. PARK and T. R. ZALOUM, "A Dual Mode Forward/Flyback Converter," IEEE Power Electronics Spe-
</p>
<p>cialists Conference, 1982 Record, pp. 3-13, June 1982. 
</p>
<p>[23] S. CUK, "General Topological Properties of Switching Structures," IEEE Power Electronics Specialists 
</p>
<p>Conference, 1979 Record, pp. 109-130, June 1979. 
</p>
<p>[24] R. SEVERNS and G. BLOOM, Modern De-to-De Switchmode Power Converter Circuits, New York: Van 
</p>
<p>Nostrand Reinhold, 1985. 
</p>
<p>[25] N. MOHAN, T. UNDELAND, and W. ROBBINS, Power Electronics: Converters, Applications, and Design, 
</p>
<p>2nd edit., New York: John Wiley &amp; Sons, 1995. 
</p>
<p>[26] J. KASSAKIAN, M. SCHLECHT, and G. VERGHESE, Principles of Power Electronics, Reading, MA: Addi-
</p>
<p>son-Wesley, 1991. 
</p>
<p>[27] D. MITCHELL, De-De Switching Regulator Analysis, New York: McGraw-Hill, 1988. 
</p>
<p>[28] K. KIT SUM, Switch Mode Power Conversion: Basic Theory and Design, New York: Marcel Dekker, 1984. 
</p>
<p>[29] R. E. TARTER, Solid-State Power Conversion Handbook, New York: John Wiley &amp; Sons, 1993. 
</p>
<p>[30] Q. CHEN, F. C. LEE, and M. M. JovANOVIC, "DC Analysis and Design of Multiple-Output Forward Con-
</p>
<p>verters with Weighted Voltage-Mode Control," IEEE Applied Power Electronics Conference, 1993 Record, 
</p>
<p>pp. 449-455, March 1993. 
</p>
<p>PROBLEMS 
</p>
<p>6.1 Tapped-inductor boost converter. The 
</p>
<p>boost converter is sometimes modified as 
</p>
<p>illustrated in Fig. 6.41, to obtain a larger 
</p>
<p>conversion ratio than would otherwise 
</p>
<p>occur. The inductor winding contains a 
</p>
<p>total of (n1 + n2) turns. The transistor is 
connected to a tap placed n1 turns from the 
</p>
<p>left side of the inductor, as shown. The 
</p>
<p>tapped inductor can be viewed as a two-
</p>
<p>winding (n1: n2) transformer, in which the 
</p>
<p>two windings are connected in series. The 
</p>
<p>inductance of the entire (n1 + n2) turn 
winding is L. 
</p>
<p>Fig. 6.41 
</p>
<p>6.1 
</p>
<p>ni n2 
turns turns 
</p>
<p>,......-_,,......-_, 
</p>
<p>+ 
</p>
<p>R V 
</p>
<p>Tapped-inductor boost converter, Problem 
</p>
<p>(a) Sketch an equivalent circuit model for the tapped inductor, which includes a magnetizing induc-
</p>
<p>tance and an ideal transformer. Label the values of the magnetizing inductance and turns ratio. 
</p>
<p>(b) Determine an analytical expression for the conversion ratio M = V!V8 &bull; You may assume that the 
transistor, diode, tapped inductor, and capacitor are lossless. You may also assume that the con-
</p>
<p>verter operates in continuous conduction mode. 
</p>
<p>(c) Sketch M(D) vs. D for n1 = n2, and compare to the nontapped (n2 = 0) case. 
</p>
<p>6.2 Analysis ofthe DCM flyback converter. The flyback converter of Fig. 6.30(d) operates in the discontinu-
</p>
<p>ous conduction mode. 
</p>
<p>(a) Model the fly back transformer as a magnetizing inductance in parallel with an ideal transformer, </p>
<p/>
</div>
<div class="page"><p/>
<p>180 Converter Circuits 
</p>
<p>and sketch the converter circuits during the three subintervals. 
</p>
<p>(b) Derive the conditions for operation in discontinuous conduction mode. 
</p>
<p>(c) Solve the converter: derive expressions for the steady-state output voltage V and subinterval 2 
</p>
<p>(diode conduction interval) duty cycle D2 . 
</p>
<p>6.3 Analysis of the isolated inverse-SEPIC of Fig. 6.39. You may assume that the converter operates in the 
</p>
<p>continuous conduction mode, and that all inductor current ripples and capacitor voltage ripples are 
</p>
<p>small. 
</p>
<p>(a) Derive expressions for the de components of the magnetizing current, inductor current, and 
</p>
<p>capacitor voltages. 
</p>
<p>(b) Derive analytical expressions for the rms values of the primary and secondary winding currents. 
</p>
<p>Note that these quantities do not simply scale by the turns ratio. 
</p>
<p>6.4 The two-transistor flyback converter. The converter of Fig. 6.42 is sometimes used when the de input 
</p>
<p>voltage is high. Transistors Q1 and Q2 are driven with the same gating signal, such that they turn on and 
off simultaneously with the same duty cycle D. Diodes D1 and D2 ensure that the off state voltages of the 
</p>
<p>transistors do not exceed V8 . The converter operates in discontinuous conduction mode. The magnetiz-
</p>
<p>ing inductance, referred to the primary side, is LM. 
</p>
<p>Fig. 6.42 Two-transistor fly-
</p>
<p>back converter, Problem 6.4. + 
</p>
<p>(a) Determine an analytical expression for the steady-state output voltage V. 
</p>
<p>c 
</p>
<p>(b) Over what range of duty cycles does the transformer reset properly? Explain. 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>6.5 A nonideal fly back converter. The fly back converter shown in Fig. 6.30( d) operates in the continuous 
</p>
<p>conduction mode. The MOSFET has on-resistance Ron, and the diode has a constant forward voltage 
</p>
<p>drop Vv. The flyback transformer has primary winding resistance RP and secondary winding resistance 
</p>
<p>R,. 
</p>
<p>(a) Derive a complete steady-state equivalent circuit model, which is valid in the continuous con-
</p>
<p>duction mode, and which correctly models the loss elements listed above as well as the converter 
</p>
<p>input and output ports. Sketch your equivalent circuit. 
</p>
<p>(b) Derive an analytical expression for the converter efficiency. 
</p>
<p>6.6 A low-voltage computer power supply with synchronous rectification. The trend in digital integrated cir-
</p>
<p>cuits is towards lower power supply voltages. It is difficult to construct a high-efficiency low-voltage 
</p>
<p>power supply, because the conduction loss arising in the secondary-side diodes becomes very large. The 
</p>
<p>objective of this problem is to estimate how the efficiency of a forward converter varies as the output 
</p>
<p>voltage is reduced, and to investigate the use of synchronous rectifiers. 
</p>
<p>The forward converter of Fig. 6.22 operates from a de input of V8 = 325 V, and supplies 20 A to 
its de load. Consider three cases: (i) V = 5 V, (ii) V = 3.3 V, and (iii) V = 1.5 V. For each case, the turns 
ratio n/n1 is chosen such that the converter produces the required output voltage at a transistor duty 
cycle of D = 0.4. The MOSFET has on-resistance Ron = 5 Q. The secondary-side schottky diodes have </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 181 
</p>
<p>forward voltage drops of VF = 0.5 V. All other elements can be considered ideal. 
</p>
<p>(a) Derive an equivalent circuit for the forward converter, which models the semiconductor conduc-
</p>
<p>tion losses described above. 
</p>
<p>(b) Solve your model for cases (i), (ii), and (iii) described above. For each case, determine numeri-
</p>
<p>cal values of the turns ratio n/n1 and for the efficiency TJ. 
</p>
<p>(c) The secondary-side Schottky diodes are replaced by MOSFETs operating as synchronous recti-
</p>
<p>fiers. The MOSFETs each have an on-resistance of 4 mQ. Determine the new numerical values 
</p>
<p>of the turns ratio n3/n1 and the efficiency TJ, for cases (i), (ii), and (iii). 
</p>
<p>6.7 Rotation of switching cells. A network containing switches and reactive elements has terminals a, b, and 
c, as illustrated in Fig. 6.43(a). You are given that the relationship between the terminal voltages is 
</p>
<p>VbJVac = p,(D). 
</p>
<p>(a) A a b B 
</p>
<p>(b) 
</p>
<p>Fig. 6.43 Rotation of three-terminal switching cells, 
</p>
<p>Problem 6.7 
</p>
<p>(c) 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>1: n 
</p>
<p>+ 
</p>
<p>(a) Derive expressions for the source-to-load conversion ratio V/Vg = M(D), in terms of p,(D), for the 
following three connection schemes: 
</p>
<p>(i) a-A b-B c-C 
</p>
<p>(ii) a-B b-C c-A 
</p>
<p>(iii) a-C b-A c-B 
</p>
<p>(b) Consider the three-terminal network of Fig. 6.43(b). Determine p,(D) for this network. Plug your 
</p>
<p>answer into your results from part (a), to verify that the buck, boost, and buck-boost converters 
</p>
<p>are generated. 
</p>
<p>(c) Consider the three-terminal network of Fig. 6.43(c). Determine p,(D) for this network. Plug your 
</p>
<p>answer into your results from part (a). What converters are generated? 
</p>
<p>6.8 Transformer-isolated current-sense circuit. It is often required that the current flowing in a power transis-
</p>
<p>tor be sensed. A noninductive resistor R placed in series with the transistor will produce a voltage v(t) 
that is proportional to the transistor drain current iv(t). Use of a transformer allows isolation between the 
</p>
<p>power transistor and the control circuit. The transformer turns ratio also allows reduction of the current 
</p>
<p>and power loss and increase of the voltage of the resistor. This problem is concerned with design of the 
transformer-isolated current-sense circuit of Fig. 6.44. </p>
<p/>
</div>
<div class="page"><p/>
<p>182 Converter Circuits 
</p>
<p>Fig. 6.44 Transformer-isolated circuit for sensing 
</p>
<p>the transistor switch current, Problem 6.8 
R 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>The transformer has a single-turn primary and an n-turn secondary winding. The transistor 
</p>
<p>switches on and off with duty cycleD and switching frequency!,. While the transistor conducts, its cur-
</p>
<p>rent is essentially constant and is equal to /. Diodes D 1 and D2 are conventional silicon diodes having 
</p>
<p>forward voltage drop VD. Diode D2 is a zener diode, which can be modeled as a voltage source of value 
</p>
<p>V2 , with the polarity indicated in the figure. For a proper design, the circuit elements should be chosen 
</p>
<p>such that the transformer magnetizing current, in conjunction with diode D2, operates in discontinuous 
</p>
<p>conduction mode. In a good design, the magnetizing current is much smaller than the transistor current. 
</p>
<p>Three subintervals occur during each switching period: subinterval!, in which Q1 and D1 conduct; sub-
</p>
<p>interval 2, in which D2 and D2 conduct; subinterval3, in which Qp D1 and D2 are off. 
</p>
<p>(a) Sketch the current sense circuit, replacing the transformer and zener diode by their equivalent 
</p>
<p>circuits. 
</p>
<p>(b) Sketch the waveforms of the transistor current iv(t), the transformer magnetizing current iM(t), 
</p>
<p>the primary winding voltage, and the voltage v(t). Label salient features. 
</p>
<p>(c) Determine the conditions on the zener voltage V2 that ensure that the transformer magnetizing 
</p>
<p>current is reset to zero before the end of the switching period. 
</p>
<p>(d) You are given the following specifications: 
</p>
<p>Switching frequency 
</p>
<p>Transistor duty cycle 
</p>
<p>!,=100kHz 
</p>
<p>D50.75 
</p>
<p>Transistor peak current max i D (t) 5 25 A 
</p>
<p>The output voltage v(t) should equal 5 V when the transistor current is 25 A. To avoid saturating 
</p>
<p>the transformer core, the volt-seconds applied to the single-tum primary winding while the tran-
</p>
<p>sistor conducts should be no greater than 2 volt-p,sec. The silicon diode forward voltage drops 
</p>
<p>are Vv = 0.7 V. 
Design the circuit: select values of R, n, and V2 . 
</p>
<p>6.9 Optimal reset of the forward converter transformer. As illustrated in Fig. 6.45, it is possible to reset the 
</p>
<p>transformer of the forward converter using a voltage source other than the de input V8 ; several such 
</p>
<p>schemes appear in the literature. By optimally choosing the value of the reset voltage V,, the peak volt-
</p>
<p>age stresses imposed on transistor Q1 and diode D2 can be reduced. The maximum duty cycle can also be 
</p>
<p>increased, leading to a lower transformer turns ratio and lower transistor current. The resulting improve-
</p>
<p>ment in converter cost and efficiency can be significant when the de input voltage varies over a wide 
</p>
<p>range. 
</p>
<p>(a) As a function of V8 , the transistor duty cycleD, and the transformer turns ratios, what is the min-
</p>
<p>imum value of V, that causes the transformer magnetizing current to be reset to zero by the end 
</p>
<p>of the switching period? 
</p>
<p>(b) For your choice of V, from part (a), what is the peak voltage imposed on transistor Q1? 
</p>
<p>This converter is to be used in a universal-input off-line application, with the following specifications. 
</p>
<p>The input voltage V8 can vary between 127 and 380 V. The load voltage is regulated by variation of the </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 183 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>+ 
</p>
<p>Fig. 6.45 Forward converter with auxiliary reset winding, Problem 6.9 
</p>
<p>duty cycle, and is equal to 12 V. The load power is 480 W. 
</p>
<p>(c) Choose the turns ratio n3/n 1 such that the total active switch stress is minimized. For your choice 
</p>
<p>of n3/n 1, over what range will the duty cycle vary? What is the peak transistor current? 
</p>
<p>(d) Compare your design of Part (c) with the conventional scheme in which n1 = n2 and V, = V8 &bull; 
</p>
<p>Compare the worst-case peak transistor voltage and peak transistor current. 
</p>
<p>(e) Suggest a way to implement the voltage source V,. Give a schematic of the power-stage compo-
</p>
<p>nents of your implementation. Use a few sentences to describe the control-circuit functions 
</p>
<p>required by your implementation, if any. 
</p>
<p>6.10 Design of a multiple-output de-de flyback converter. For this problem, you may neglect all losses and 
</p>
<p>transformer leakage inductances. It is desired that the three-output fly back converter shown in Fig. 6.46 
</p>
<p>operates in the discontinuous conduction mode, with a switching frequency off,= 100kHz. The nomi-
</p>
<p>nal operating conditions are given in the diagram, and you may that there are no variations in the input 
</p>
<p>voltage or the load currents. Select D3 = 0.1 (the duty cycle of subinterval 3, in which all semiconductors 
</p>
<p>are off). The objective of this problem is to find a good steady-state design, in which the semiconductor 
</p>
<p>peak blocking voltages and peak currents are reasonably low. 
</p>
<p>vg + 
165 V de 
</p>
<p>Fig. 6.46 Three-output fly back converter design, Problem 6.1 0. </p>
<p/>
</div>
<div class="page"><p/>
<p>184 Converter Circuits 
</p>
<p>(a) It is possible to find a design in which the transistor peak blocking voltage is less than 300 V, and 
</p>
<p>the peak diode blocking voltages are all less than 35 V, under steady-state conditions. Design the 
</p>
<p>converter such that this is true. Specify: (i) the transistor duty cycle D, (ii) the magnetizing 
</p>
<p>inductance LM, referred to the primary, (iii) the turns ratios n/np and n3/nP. 
</p>
<p>(b) For your design of part (a), determine the rrns currents of the four windings. Note that they don't 
</p>
<p>simply scale by the turns ratios. 
</p>
<p>6.11 Spreadsheet design. 
</p>
<p>(a) Develop the analytical expressions for the "Results" and "Worst-case stresses" of the forward 
</p>
<p>converter spreadsheet design example of Table 6.2. 
</p>
<p>(b) Enter the formulas you developed in part (a) into a computer spreadsheet, and verify that your 
</p>
<p>computed values agree with those of Table 6.2. 
</p>
<p>(c) It is desired to reduce the forward converter peak transistor voltage to a value no greater than 
</p>
<p>650 V. Modify the design numbers to accomplish this, and briefly discuss the effect on the other 
</p>
<p>component stresses. 
</p>
<p>(d) For these specifications, what is the largest possible value of the transistor utilization of the 
</p>
<p>CCM forward converter? How should the spreadsheet design variables be chosen to attain the 
</p>
<p>maximum transistor utilization? 
</p>
<p>6.12 Spreadsheet design of an isolated Cuk converter. The isolated Cuk converter of Fig. 6.40( c) is to be 
</p>
<p>designed to meet the specifications listed in Table 6.2. The converter is to be designed such that it oper-
</p>
<p>ates in continuous conduction mode at full load. 
</p>
<p>(a) Develop analytical expressions for the following quantities: 
</p>
<p>&bull; The maximum and minimum duty cycles, for CCM operation 
</p>
<p>&bull; The peak voltages and rms currents of both semiconductor devices 
</p>
<p>&bull; The ripple magnitudes of the capacitor voltages and inductor currents 
</p>
<p>&bull; The rms capacitor currents 
</p>
<p>&bull; The transistor utilization U 
</p>
<p>(b) Enter the formulas you developed in part (a) into a computer spreadsheet. What are the design 
</p>
<p>variables? 
</p>
<p>(c) For the specifications listed in Table 6.2, select the design variables to attain what you believe is 
</p>
<p>the best design. Compare the performance of your design with the fl yback and forward converter 
</p>
<p>designs of Table 6.2. </p>
<p/>
</div>
<div class="page"><p/>
<p>Part II 
</p>
<p>Converter Dynamics and Control </p>
<p/>
</div>
<div class="page"><p/>
<p>7 
AC Equivalent Circuit Modeling 
</p>
<p>7.1 INTRODUCTION 
</p>
<p>Converter systems invariably require feedback. For example, in a typical de-de converter application, the 
</p>
<p>output voltage v(t) must be kept constant, regardless of changes in the input voltage vgCt) or in the effec-
</p>
<p>tive load resistance R. This is accomplished by building a circuit that varies the converter control input 
[i.e., the duty cycle d(t)] in such a way that the output voltage v(t) is regulated to be equal to a desired ref-
</p>
<p>erence value v ref" In inverter systems, a feedback loop causes the output voltage to follow a sinusoidal 
reference voltage. In modern low-harmonic rectifier systems, a control system causes the converter input 
current to be proportional to the input voltage, such that the input port presents a resistive load to the ac 
source. So feedback is commonly employed. 
</p>
<p>A typical de-de system incorporating a buck converter and feedback loop block diagram is 
illustrated in Fig. 7.1. It is desired to design this feedback system in such a way that the output voltage is 
</p>
<p>accurately regulated, and is insensitive to disturbances in vgCt) or in the load current. In addition, the 
feedback system should be stable, and properties such as transient overshoot, settling time, and steady-
state regulation should meet specifications. The ac modeling and design of converters and their control 
</p>
<p>systems such as Fig. 7.1 is the subject of Part II of this book. 
</p>
<p>To design the system of Fig. 7.1, we need a dynamic model of the switching converter. How do 
</p>
<p>variations in the power input voltage, the load current, or the duty cycle affect the output voltage? What 
</p>
<p>are the small-signal transfer functions? To answer these questions, we will extend the steady-state mod-
</p>
<p>els developed in Chapters 2 and 3 to include the dynamics introduced by the inductors and capacitors of 
the converter. Dynamics of converters operating in the continuous conduction mode can be modeled 
using techniques quite similar to those of Chapters 2 and 3; the resulting ac equivalent circuits bear a 
</p>
<p>strong resemblance to the de equivalent circuits derived in Chapter 3. 
</p>
<p>Modeling is the representation of physical phenomena by mathematical means. In engineering, </p>
<p/>
</div>
<div class="page"><p/>
<p>188 AC Equivalent Circuit Modeling 
</p>
<p>Power 
input 
</p>
<p>Switching converter 
</p>
<p>~-------------&middot; ----&middot; ...... &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;----------&middot;&middot;&middot; ....................... : 
</p>
<p>Load 
</p>
<p>+ 
</p>
<p>v(t) R 
</p>
<p>Feedback 
connection 
</p>
<p>r&middot;&middot;-------------------------- ------------------------------------------------------------------------------------------------, 
</p>
<p>! Transistor ! 
! gate driver ! 
</p>
<p>8(1)Dn_/ vc(t)C:.J Voltag' I 
reference vref ! 
</p>
<p>I 
: dT, T, 1 1 ! 
~--------------------------------------------------------------------------------------------------------------------------------: 
</p>
<p>Controller 
</p>
<p>Fig. 7.1 A simple de-de regulator system, including a buck converter power stage and a feedback network. 
</p>
<p>it is desired to model the important dominant behavior of a system, while neglecting other insignificant 
</p>
<p>phenomena. Simplified terminal equations of the component elements are used, and many aspects of the 
</p>
<p>system response are neglected altogether, that is, they are "unmodeled." The resulting simplified model 
</p>
<p>yields physical insight into the system behavior, which aids the engineer in designing the system to oper-
</p>
<p>ate in a given specified manner. Thus, the modeling process involves use of approximations to neglect 
</p>
<p>small but complicating phenomena, in an attempt to understand what is most important. Once this basic 
</p>
<p>insight is gained, it may be desirable to carefully refine the model, by accounting for some of the previ-
</p>
<p>ously ignored phenomena. It is a fact of life that real, physical systems are complex, and their detailed 
</p>
<p>analysis can easily lead to an intractable and useless mathematical mess. Approximate models are an 
</p>
<p>important tool for gaining understanding and physical insight. 
</p>
<p>As discussed in Chapter 2, the switching ripple is small in a well-designed converter operating 
</p>
<p>in continuous conduction mode (CCM). Hence, we should ignore the switching ripple, and model only 
</p>
<p>the underlying ac variations in the converter waveforms. For example, suppose that some ac variation is 
</p>
<p>introduced into the converter duty cycle d(t), such that 
</p>
<p>(7.1) 
</p>
<p>where D and Dm are constants, I Dm I &laquo; D, and the modulation frequency wm is much smaller than the 
converter switching frequency ws = 2nfs. The resulting transistor gate drive signal is illustrated in 
Fig. 7.2(a), and a typical converter output voltage waveform v(t) is illustrated in Fig. 7.2(b). The spec-
</p>
<p>trum of v(t) is illustrated in Fig. 7.3. This spectrum contains components at the switching frequency as 
</p>
<p>well as its harmonics and sidebands; these components are small in magnitude if the switching ripple is 
</p>
<p>small. In addition, the spectrum contains a low-frequency component at the modulation frequency wm. 
</p>
<p>The magnitude and phase of this component depend not only on the duty cycle variation, but also on the 
</p>
<p>frequency response of the converter. If we neglect the switching ripple, then this low-frequency compo-</p>
<p/>
</div>
<div class="page"><p/>
<p>7.1 Introduction 189 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Gate 
drive 
</p>
<p>-,,--, 
</p>
<p>Actual waveform v(t) 
including ripple 
</p>
<p>jJ 
Averaged waveform (v(t))T 
</p>
<p>with ripple neglected ' 
</p>
<p>Fig. 7.2 Ac variation of the converter signals: (a) transistor gate drive signal, in which the duty cycle varies 
</p>
<p>slowly, and (b) the resulting converter output voltage waveform. Both the actual waveform v(t) (including high fre-
</p>
<p>quency switching ripple) and its averaged, low-frequency component, (v(t))r,&bull; are illustrated. 
</p>
<p>Spectrum 
of v(t) 
</p>
<p>Modulation 
frequency and its 
</p>
<p>harmonics 
</p>
<p>------
Switching 
</p>
<p>frequency and 
sidebands 
</p>
<p>....---..... 
</p>
<p>Fig. 7.3 Spectrum of the output voltage waveform v(t) of Fig. 7.2. 
</p>
<p>Switching 
harmonics 
</p>
<p>(!) 
</p>
<p>nent remains [also illustrated in Fig. 7.2(b)]. The objective of our ac modeling efforts is to predict this 
</p>
<p>low-frequency component. 
</p>
<p>A simple method for deriving the small-signal model of CCM converters is explained in 
</p>
<p>Section 7 .2. The switching ripples in the inductor current and capacitor voltage waveforms are removed 
</p>
<p>by averaging over one switching period. Hence, the low-frequency components of the inductor and 
</p>
<p>capacitor waveforms are modeled by equations of the form 
</p>
<p>(7.2) 
</p>
<p>where (x(t))r, denotes the average of x(t) over an interval of length T5 : </p>
<p/>
</div>
<div class="page"><p/>
<p>190 AC Equivalent Circuit Modeling 
</p>
<p>(7.3) 
</p>
<p>So we will employ the basic approximation of removing the high-frequency switching ripple by averag-
</p>
<p>ing over one switching period. Yet the average value is allowed to vary from one switching period to the 
</p>
<p>next, such that low-frequency variations are modeled. In effect, the "moving average" ofEq. (7.3) consti-
</p>
<p>tutes low-pass filtering of the waveform. A few of the numerous references on averaged modeling of 
</p>
<p>switching converters are listed at the end of this chapter [1-20]. 
</p>
<p>Note that the principles of inductor volt-second balance and capacitor charge balance predict 
</p>
<p>that the right-hand sides of Eqs. (7.2) are zero when the converter operates in equilibrium. Equations 
</p>
<p>(7.2) describe how the inductor currents and capacitor voltages change when nonzero average inductor 
</p>
<p>voltage and capacitor current are applied over a switching period. 
</p>
<p>The averaged inductor voltage and capacitor currents of Eq. (7.2) are, in general, nonlinear 
</p>
<p>functions of the signals in the converter, and hence Eqs. (7.2) constitute a set of nonlinear differential 
</p>
<p>equations. Indeed, the spectrum in Fig. 7.3 also contains harmonics of the modulation frequency wm. In 
most converters, these harmonics become significant in magnitude as the modulation frequency wm 
approaches the switching frequency W5 , or as the modulation amplitude Dm approaches the quiescent 
</p>
<p>duty cycle D. Nonlinear elements are not uncommon in electrical engineering; indeed, ail semiconductor 
</p>
<p>devices exhibit nonlinear behavior. To obtain a linear model that is easier to analyze, we usuaiiy con-
</p>
<p>struct a smaii-signal model that has been linearized about a quiescent operating point, in which the har-
</p>
<p>monics of the modulation or excitation frequency are neglected. As an example, Fig. 7.4 iiiustrates 
</p>
<p>linearization of the familiar diode i-v characteristic shown in Fig. 7 .4(b ). Suppose that the diode current 
</p>
<p>i(t) has a quiescent (de) value I and a signal component i(t). As a result, the voltage v(t) across the diode 
</p>
<p>has a quiescent value V and a signal component v(t). If the signal components are smaii compared to the 
</p>
<p>quiescent values, 
</p>
<p>(7.4) 
</p>
<p>then the relationship between v(t) and z(t) is approximately linear, v(t) = r oi(t). The conductance l!r D 
</p>
<p>(a) 
+ 
</p>
<p>(b) 
</p>
<p>v = V+v 
</p>
<p>(c) 
+ i 
</p>
<p>SA 
</p>
<p>4A 
</p>
<p>3A 
</p>
<p>Actual 
</p>
<p>Quiescent 
operating 
</p>
<p>Linearized 
function 
</p>
<p>point i(t) 
</p>
<p>:: &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;~ IVVJ 
</p>
<p>o+-~~~~~~+-~~ 
0 0.5V i 1 V 
</p>
<p>v ?-v(t) 
</p>
<p>v 
</p>
<p>Fig. 7.4 Small-signal equivalent circuit modeling of the diode: (a) a nonlinear diode conducting current i; (b) lin-
</p>
<p>earization of the diode characteristic around a quiescent operating point; (c) a linearized small-signal model. </p>
<p/>
</div>
<div class="page"><p/>
<p>0 ~ D 
0 ~--------~--------~--
</p>
<p>-Vg ................................ . 
</p>
<p>v 
</p>
<p>7.1 Introduction 191 
</p>
<p>Fig. 7.5 Linearization of the static control-to-
</p>
<p>output characteristic of the buck-boost converter 
</p>
<p>about the quiescent operating point D = 0.5. 
</p>
<p>represents the slope of the diode characteristic, evaluated at the quiescent operating point. The small-sig-
</p>
<p>nal equivalent circuit model of Fig. 7.4(c) describes the diode behavior for small variations around the 
</p>
<p>quiescent operating point. 
</p>
<p>An example of a nonlinear converter characteristic is the dependence of the steady-state output 
</p>
<p>voltage Vof the buck-boost converter on the duty cycleD, illustrated in Fig. 7.5. Suppose that the con-
verter operates with some de o~tput voltage, say, V = - Vg, corresponding to a quiescent duty cycle of 
D = 0.5. Duty cycle variations d about this quiescent value will excite variations v in the output voltage. 
If the magnitude of the duty cycle variation is sufficiently small, then we can compute the resulting out-
put voltage variations by linearizing the curve. The slope of the linearized characteristic in Fig. 7.5 is 
</p>
<p>chosen to be equal to the slope of the actual nonlinear characteristic at the quiescent operating point; this 
slope is the de control-to-output gain of the converter. The linearized and nonlinear characteristics are 
</p>
<p>approximately equal in value provided that the duty cycle variations dare sufficiently small. 
</p>
<p>Although it illustrates the process of small-signallinearization, the buck-boost example of Fig. 
</p>
<p>7.5 is oversimplified. The inductors and capacitors of the converter cause the gain to exhibit a frequency 
</p>
<p>response. To correctly predict the poles and zeroes of the small-signal transfer functions, we must linear-
ize the converter averaged differential equations, Eqs. (7.2). This is done in Section 7.2. A small-signal 
ac equivalent circuit can then be constructed using the methods developed in Chapter 3. The resulting 
</p>
<p>small-signal model of the buck-boost converter is illustrated in Fig. 7.6; this model can be solved using 
conventional circuit analysis techniques, to find the small-signal transfer functions, output impedance, 
and other frequency-dependent properties. In systems such as Fig. 7.1, the equivalent circuit model can 
be inserted in place of the converter. When small-signal models of the other system elements (such as the 
</p>
<p>+ 
</p>
<p>c v(t) R 
</p>
<p>Fig. 7.6 Small-signal ac equivalent circuit model of the buck-boost converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>192 AC Equivalent Circuit Modeling 
</p>
<p>pulse-width modulator) are inserted, then a complete linearized system model is obtained. This model 
</p>
<p>can be analyzed using standard linear techniques, such as the Laplace transform, to gain insight into the 
</p>
<p>behavior and properties of the system. 
</p>
<p>Two well-known variants of the ac modeling method, state-space averaging and circuit averag-
</p>
<p>ing, are explained in Sections 7.3 and 7 .4. An extension of circuit averaging, known as averaged switch 
</p>
<p>modeling, is also discussed in Section 7.4. Since the switches are the only elements that introduce 
</p>
<p>switching harmonics, equivalent circuit models can be derived by averaging only the switch waveforms. 
</p>
<p>The converter models suitable for analysis or simulation are obtained simply by replacing the switches 
</p>
<p>with the averaged switch model. The averaged switch modeling technique can be extended to other 
</p>
<p>modes of operation such as the discontinuous conduction mode, as well as to current programmed con-
</p>
<p>trol and to resonant converters. In Section 7.5, it is shown that the small-signal model of any de-de 
</p>
<p>pulse-width modulated CCM converter can be written in a standard form. Called the canonical model, 
</p>
<p>this equivalent circuit describes the basic physical functions that any of these converters must perform. A 
</p>
<p>simple model of the pulse-width modulator circuit is described in Section 7 .6. 
</p>
<p>These models are useless if you don't know how to apply them. So in Chapter 8, the frequency 
</p>
<p>response of converters is explored, in a design-oriented and detailed manner. Small-signal transfer func-
</p>
<p>tions of the basic converters are tabulated. Bode plots of converter transfer functions and impedances are 
</p>
<p>derived in a simple, approximate manner, which allows insight to be gained into the origins of the fre-
</p>
<p>quency response of complex converter systems. 
</p>
<p>These results are used to design converter control systems in Chapter 9 and input filters in 
</p>
<p>Chapter 10. The modeling techniques are extended in Chapters 11 and 12 to cover the discontinuous con-
</p>
<p>duction mode and the current programmed mode. 
</p>
<p>7.2 THE BASIC AC MODELING APPROACH 
</p>
<p>Let us derive a small-signal ac model of the buck-boost converter of Fig. 7.7. The analysis begins as 
</p>
<p>usual, by determining the voltage and current waveforms of the inductor and capacitor. When the switch 
</p>
<p>is in position 1, the circuit of Fig. 7.8(a) is obtained. The inductor voltage and capacitor current are: 
</p>
<p>. (t) _ C dv(t) _ v(t) 
!c - dt -- R 
</p>
<p>(7.5) 
</p>
<p>(7.6) 
</p>
<p>We now make the small-ripple approximation. But rather than replacing vgCt) and v(t) with their de com-
</p>
<p>ponents Vg and Vas in Chapter 2, we now replace them with their low-frequency averaged values (vgCt)\:, 
and (v(t))T,' defined by Eq. (7.3). Equations (7.5) and (7.6) then become 
</p>
<p>2 + 
</p>
<p>i(t) 
c R v(t) 
</p>
<p>L 
</p>
<p>Fig. 7.7 Buck-boost converter example. </p>
<p/>
</div>
<div class="page"><p/>
<p>7.2 The Basic AC Modeling Approach 193 
</p>
<p>R 
</p>
<p>Fig. 7.8 Buck-boost converter circuit: (a) when the switch is in position 1, (b) when the switch is in position 2. 
</p>
<p>. ()-Cdv(t)_ (v(t)lr, 
lc t- ([t----R-
</p>
<p>(7.7) 
</p>
<p>(7.8) 
</p>
<p>Hence, during the first subinterval, the inductor current i(t) and the capacitor voltage v(t) change with the 
</p>
<p>essentially constant slopes given by Eqs. (7.7) and (7.8). With the switch in position 2, the circuit of 
</p>
<p>Fig. 7.8(b) is obtained. Its inductor voltage and capacitor current are: 
</p>
<p>di(t) 
vL(t) = L----;[( = v(t) (7.9) 
</p>
<p>. (t) _ C dv(t) __ '( ) _ v(t) 
lc - dt - z t R 
</p>
<p>(7.10) 
</p>
<p>Use of the small-ripple approximation, to replace i(t) and v(t) with their averaged values, yields 
</p>
<p>(7.11) 
</p>
<p>. ( ) _ C dv(t) _ ( '( )) ( v(t) l r, 
lc t - dt -- l t r,- --R-
</p>
<p>(7 .12) 
</p>
<p>During the second subinterval, the inductor current and capacitor voltage change with the essentially 
</p>
<p>constant slopes given by Eqs. (7.11) and (7.12). 
</p>
<p>7.2.1 Averaging the Inductor Waveforms 
</p>
<p>The inductor voltage and current waveforms are sketched in Fig. 7.9. The low-frequency average of the 
</p>
<p>inductor voltage is found by evaluation of Eq. (7.3)-the inductor voltage during the first and second 
</p>
<p>subintervals, given by Eqs. (7.7) and (7.11), are averaged: 
</p>
<p>(7.13) 
</p>
<p>where d'(t) = 1-d(t). The right-hand side of Eq. (7.13) contains no switching harmonics, and models </p>
<p/>
</div>
<div class="page"><p/>
<p>194 AC Equivalent Circuit Modeling 
</p>
<p>(a) VL(t) (v.&lt;tl)T 
..... / '........ .----
(vL(t))T, = d(v,(t)Jr, + d'(v(tl)r, 
</p>
<p>0 ........ \ ......................................................... . 
</p>
<p>dT, ~s 
</p>
<p>L 7&bull; 
</p>
<p>(b) i(t) 
</p>
<p>0 
</p>
<p>Fig. 7.9 Buck-boost converter waveforms: 
</p>
<p>(a) inductor voltage, (b) inductor current. 
</p>
<p>only the low-frequency components of the inductor voltage waveform. Insertion of this equation into 
</p>
<p>Eq. (7.2) leads to 
</p>
<p>(7.14) 
</p>
<p>This equation describes how the low-frequency components of the inductor current vary with time. 
</p>
<p>7.2.2 Discussion of the Averaging Approximation 
</p>
<p>In steady-state, the actual inductor current waveform i(t) is periodic with period equal to the switching 
</p>
<p>period T5 : i(t + T) = i(t). During transients, there is a net change in i(t) over one switching period. This 
net change in inductor current is correctly predicted by use of the average inductor voltage. We can show 
</p>
<p>that this is true, based on the inductor equation 
</p>
<p>(7.15) 
</p>
<p>Divide by L, and integrate both sides from t to t + T5 : 
</p>
<p>(7 .16) 
</p>
<p>The left-hand side of Eq. (7.16) is i(t + T5)- i(t), while the right-hand side can be expressed in terms of 
the definition of (vL(t))r,&bull; Eq. (7.3), by multiplying and dividing by Ts to obtain 
</p>
<p>i(t + T,)- i(t) = f T, h&lt;tJ) r, (7.17) 
</p>
<p>The left-hand side of Eq. (7 .17) is the net change in inductor current over one complete switching period. 
</p>
<p>Equation (7.17) states that this change is exactly equal to the switching period Ts multiplied by the aver-</p>
<p/>
</div>
<div class="page"><p/>
<p>7.2 The Basic AC Modeling Approach 195 
</p>
<p>age slope (vL(t))T/L. 
Equation (7.17) can be rearranged to obtain 
</p>
<p>L i(t + T,)- i(t) ( ()) 
T, VL t T, 
</p>
<p>(7.18) 
</p>
<p>Let us now find the derivative of (i(t))18: 
</p>
<p>d(i(t))T d ( 1 it+T,. ) i(t + T)- i(t) 
---' =- - !('t)d't = s 
</p>
<p>dt dt T, , &middot; T, 
(7.19) 
</p>
<p>Substitution ofEq. (7.19) into (7.18) leads to 
</p>
<p>(7.20) 
</p>
<p>which coincides with Eq. (7.2). 
</p>
<p>Let us next compute how the inductor current changes over one switching period in our buck-
</p>
<p>boost example. The inductor current waveform is sketched in Fig. 7.9(b). Assume that the inductor cur-
</p>
<p>rent begins at some arbitrary value i(O). During the first subinterval, the inductor current changes with 
the essentially constant value given by Eq. (7.7). The value at the end of the first subinterval is 
</p>
<p>( h~)Ts) i(dT,) 
-------
</p>
<p>i(O) - + ~ 
(final value)= (initial value)+ (length of interval) (average slope) 
</p>
<p>(7.21) 
</p>
<p>During the second subinterval, the inductor current changes with the essentially constant value given by 
</p>
<p>Eq. (7 .11 ). Hence, the value at the end of the second subinterval is 
</p>
<p>((vC~)T,) i(T) - i(dT,) ------- + (d'T,) ------- ~ (final value)= (initial value)+ (length of interval) (average slope) 
By substitution of Eq. (7.21) into Eq. (7.22), we can express i(T,) in terms of i(O), 
</p>
<p>i(T,)=i(O)+ ~ (d(t)h(t))r, +d'(t)(v(t))r,) 
</p>
<p>~ 
</p>
<p>( VL(t)) T 
s 
</p>
<p>(7.22) 
</p>
<p>(7.23) 
</p>
<p>Equations (7.21) to (7.23) are illustrated in Fig. 7.10. Equation (7.23) expresses the final value i(T,.) 
</p>
<p>directly in terms of i(O), without the intermediate step of calculating i(D'I). This equation can be inter-
preted in the same manner as Eqs. (7.21) and (7.22): the final value i(T,) is equal to the initial value i(O), 
</p>
<p>plus the length of the interval T8 multiplied by the average slope (vL(t))r./L. But note that the interval 
length is chosen to coincide with the switching period, such that the switching ripple is effectively </p>
<p/>
</div>
<div class="page"><p/>
<p>196 AC Equivalent Circuit Modeling 
</p>
<p>Actual waveform, 
including ripple 
</p>
<p>Averaged waveform 
</p>
<p>Fig. 7.10 Use of the average slope to predict 
</p>
<p>how the inductor current waveform changes over 
</p>
<p>one switching period. The actual waveform i(t) 
</p>
<p>and its low-frequency component (i(t))r, are 
</p>
<p>illustrated. 
</p>
<p>i(t) (i(t))T 
</p>
<p>__________ / _____ ' 
</p>
<p>(b) 
</p>
<p>0 
</p>
<p>dh(t))T, +d'(v(t))T, 
</p>
<p>L 
</p>
<p>dT, 
</p>
<p>(ic(t))r 
0 -------------------------- ___________ \: ____ ~--------- -------------
</p>
<p>dTS T, 
</p>
<p>L /.J 
(v(t)) 
</p>
<p>- __ r, - (i(t)) 
R r, 
</p>
<p>v(t) 
</p>
<p>0+-------~------~---+ 
dT5 
</p>
<p>v(dT,) 
</p>
<p>( v(t)) T ( i(t)) T v(T,) 
' s 
</p>
<p>v(O) 
</p>
<p>- ------w;--c-
</p>
<p>Fig. 7.11 Buck-boost converter waveforms: (a) capacitor current, (b) capacitor voltage. 
</p>
<p>removed. Also, the use of the average slope leads to correct prediction of the final value i(T5). It can be 
</p>
<p>easily verified that, when Eq. (7.23) is inserted into Eq. (7.19), the previous result (7.14) is obtained. 
</p>
<p>7.2.3 Averaging the Capacitor Waveforms 
</p>
<p>A similar procedure leads to the capacitor dynamic equation. The capacitor voltage and current wave-
</p>
<p>forms are sketched in Fig. 7 .11. The average capacitor current can be found by averaging Eqs. (7 .8) and 
</p>
<p>(7.12); the result is 
</p>
<p>(icCtl) r, = d(t) (- (vC~) r,) + d'(t) (- (i(t) )T,- ( vC~) r,) (7.24) 
</p>
<p>Upon inserting this equation into Eq. (7.2) and collecting terms, one obtains </p>
<p/>
</div>
<div class="page"><p/>
<p>7.2 The Basic AC Modeling Approach 197 
</p>
<p>Fig. 7.12 Buck-boost converter wave-
</p>
<p>forms: input source current iit). .......................... ........ Yg~?.!.:.l ...... ........... .. 
</p>
<p>0 
0~------L-------~----+ 
</p>
<p>0 
</p>
<p>d(vU)) (v(t)) 
C __ T, =- d'(t) (i(t)) - __ T, 
</p>
<p>dt T, R 
</p>
<p>(7.25) 
</p>
<p>This is the basic averaged equation which describes de and low-frequency ac variations in the capacitor 
</p>
<p>voltage. 
</p>
<p>7.2.4 The Average Input Current 
</p>
<p>In Chapter 3, it was found to be necessary to write an additional equation that models the de component 
</p>
<p>of the converter input current. This allowed the input port of the converter to be modeled by the de equiv-
</p>
<p>alent circuit. A similar procedure must be followed here, so that low-frequency variations at the converter 
</p>
<p>input port are modeled by the ac equivalent circuit. 
</p>
<p>For the buck-boost converter example, the current igCt) drawn by the converter from the input 
</p>
<p>source is equal to the inductor current i(t) during the first subinterval, and zero during the second sub-
</p>
<p>interval. By neglecting the inductor current ripple and replacing i(t) with its averaged value (i(t))r,&bull; we 
</p>
<p>can express the input current as follows: 
</p>
<p>. ~ (i(t)) T during subinterval! 
l (t) = ' 
8 0 during subinterval2 
</p>
<p>(7.26) 
</p>
<p>The input current waveform is illustrated in Fig. 7.12. Upon averaging over one switching period, one 
</p>
<p>obtains 
</p>
<p>(7.27) 
</p>
<p>This is the basic averaged equation which describes de and low-frequency ac variations in the converter 
</p>
<p>input current. 
</p>
<p>7 .2.5 Perturbation and Linearization 
</p>
<p>The buck-boost converter averaged equations, Eqs. (7.14), (7.25), and (7.27), are collected below: </p>
<p/>
</div>
<div class="page"><p/>
<p>198 AC Equivalent Circuit Modeling 
</p>
<p>d(i(t))T 
L-d-' = d(t) (vg(t)J + d'(t) (v(t))T 
</p>
<p>t ~ s 
</p>
<p>d(v(t)) (v(t)) 
C __ Ts =- d'(t) (i(t)) - __ T, 
</p>
<p>dt T, R 
(7.28) 
</p>
<p>These equations are nonlinear because they involve the multiplication of time-varying quantities. For 
</p>
<p>example, the capacitor current depends on the product of the control input d'(t) and the low-frequency 
</p>
<p>component of the inductor current, (i(t))T; Multiplication of time-varying signals generates harmonics, 
</p>
<p>and is a nonlinear process. Most of the techniques of ac circuit analysis, such as the Laplace transform 
</p>
<p>and other frequency-domain methods, are not useful for nonlinear systems. So we need to linearize 
</p>
<p>Eqs. (7.28) by constructing a small-signal model. 
</p>
<p>Suppose that we drive the converter at some steady-state, or quiescent, duty ratio d(t) = D, with 
quiescent input voltage v gCt) = Vg. We know from our steady-state analysis of Chapters 2 and 3 that, after 
</p>
<p>any transients have subsided, the inductor current (i(t))r,, the capacitor voltage (v(t))r,, and the input cur-
</p>
<p>rent (igCt))Ts will reach the quiescent values/, V, and Ig, respectively, where 
</p>
<p>(7.29) 
</p>
<p>Equations (7.29) are derived as usual via the principles of inductor volt-second and capacitor charge bal-
</p>
<p>ance. They could also be derived from Eqs. (7.28) by noting that, in steady state, the derivatives must 
</p>
<p>equal zero. 
</p>
<p>To construct a small-signal ac model at a quiescent operating point (I, V), one assumes tbat the 
</p>
<p>input voltage vgCt) and the duty cycle d(t) arAe equal to some given quiescent values Vg and D, plus some 
</p>
<p>superimposed small ac variations OgCt) and d(t). Hence, we have 
</p>
<p>(7.30) 
</p>
<p>In response to these inputs, and after any transients have subsided, the averaged inductor current (i(t) )r,, 
</p>
<p>the averaged capacitor voltage (v(t))r,, and the averaged input current (igCt))Ts waveforms will be equal to 
the corresponding quiescent values/, V, and Ig, plus some superimposed small ac variations i(t), O(t), and 
</p>
<p>igCt): 
</p>
<p>(iCt))T =I+i(t) 
s 
</p>
<p>(v(t))T =V+v(t) 
s 
</p>
<p>(7.31) 
</p>
<p>(i8(t)JT,=f8 +i8(t) 
</p>
<p>With the assumptions tbat the ac variations are small in magnitude compared to the de quiescent values, 
</p>
<p>or </p>
<p/>
</div>
<div class="page"><p/>
<p>7.2 The Basic AC Modeling Approach 199 
</p>
<p>hu) I &laquo; I vg I 
IJct)l &laquo; IDI 
I i(t) I&laquo; III (7.32) 
I oct) I &laquo; I vI 
l1it)l &laquo; 11gl 
</p>
<p>then the nonlinear equations (7.28) can be linearized. This is done by inserting Eqs. (7.30) and (7.31) 
</p>
<p>into Eq. (7.28). For the inductor equation, one obtains 
</p>
<p>(7.33) 
</p>
<p>It should be noted that the complement of the duty cycle is given by 
</p>
<p>d'(t) = ( 1 - d(t)) = 1 - ( D + d (t)) = D'- d (t) (7.34) 
</p>
<p>where D' = 1 -D. The minus sign arises in the expression for d'(t) because a d(t) variation that causes 
</p>
<p>d(t) to increase will cause d' (t) to decrease. 
</p>
<p>By multiplying out Eq. (7.33) and collecting terms, one obtains 
</p>
<p>De terms 1st order ac terms 
(linear) 
</p>
<p>2"d order ac terms 
(nonlinear) 
</p>
<p>The derivative of I is zero, since I is by definition a de (constant) term. For the purposes of deriving a 
</p>
<p>small-signal ac model, the de terms can be considered known constant quantities. On the right-hand side 
</p>
<p>of Eq. (7 .35), three types of terms arise: 
</p>
<p>De terms: These terms contain de quantities only. 
</p>
<p>First-order ac terms: Each of these terms contains a single ac quantity, usually multiplied by a constant 
</p>
<p>coefficient such as a de term. These terms are linear functions of the ac variations. 
</p>
<p>Second-order ac terms: These terms contain the products of ac quantities. Hence they are nonlinear, 
</p>
<p>because they involve the multiplication of time-varying signals. 
</p>
<p>It is desired to neglect the nonlinear ac terms. Provided that the small-signal assumption, Eq. (7.32), is 
</p>
<p>satisfied, then each of the second-order nonlinear terms is much smaller in magnitude that one or more of 
</p>
<p>the linear first-order ac terms. For example, the second-order ac term d(t)vgCt) is much smaller in magni-
</p>
<p>tude than the first-order ac term DvgCt) whenever I d(t) I &laquo;D. So we can neglect the second-order terms. 
Also, by definition [or by use of Eq. (7.29)], the de terms on the right-hand side of the equation are equal 
</p>
<p>to the de terms on the left-hand side, or zero. 
</p>
<p>We are left with the first-order ac terms on both sides of the equation. Hence, 
</p>
<p>di(t) ' ,, . ( ) ' 
L 1ft= Dvg(t) + D v(t) + Vg- V d(t) (7.36) </p>
<p/>
</div>
<div class="page"><p/>
<p>200 AC Equivalent Circuit Modeling 
</p>
<p>This is the desired result: the small-signal linearized equation that describes variations in the inductor 
</p>
<p>current. 
</p>
<p>The capacitor equation can be linearized in a similar manner. Insertion ofEqs. (7.30) and (7.31) 
</p>
<p>into the capacitor equation of Eq. (7.28) yields 
</p>
<p>d( v + O(t)) ( ' A ) ( &bull; ) ( v + O(t)) 
C dt - D -d(t) l+t(t)- R 
</p>
<p>Upon multiplying out Eq. (7.37) and collecting terms, one obtains 
</p>
<p>( dv dO(t)) ( , v) ( ,. O(t) A ) C Tt+---;.rt = -DI-R + -Dt(t)-R+ld(t) + 
~~ 
</p>
<p>De terms 1" order ae terms 
(linear) 
</p>
<p>d (t)i(t) 
~ 
</p>
<p>2"d order ae term 
(nonlinear) 
</p>
<p>(7.37) 
</p>
<p>(7.38) 
</p>
<p>By neglecting the second-order terms, and noting that the de terms on both sides of the equation are 
</p>
<p>equal, we again obtain a linearized first-order equation, containing only the first-order ac terms of 
</p>
<p>Eq. (7.38): 
</p>
<p>C dv(t) =- D'i(t)- O(t) +I d(t) 
dt R 
</p>
<p>(7.39) 
</p>
<p>This is the desired small-signallinearized equation that describes variations in the capacitor voltage. 
</p>
<p>Finally, the equation of the average input current is also linearized. Insertion of Eqs. (7.30) and 
</p>
<p>(7.31) into the input current equation ofEq. (7.28) yields 
</p>
<p>By collecting terms, we obtain 
</p>
<p>= (m) + (oi(t)+IdCt)) + 
'----v--' ~ 
</p>
<p>De term 1 ' 1 order ae term De term 1 '' order ae terms 
(linear) 
</p>
<p>d(t)i(t) 
~ 
</p>
<p>2"d order ae term 
(nonlinear) 
</p>
<p>(7.40) 
</p>
<p>(7.41) 
</p>
<p>We again neglect the second-order nonlinear terms. The de terms on both sides of the equation are equal. 
</p>
<p>The remaining first-order linear ac terms are 
</p>
<p>ig(t) = Di(t) + Jd(t) (7.42) 
</p>
<p>This is the linearized small-signal equation that describes the low-frequency ac components of the con-
</p>
<p>verter input current. 
</p>
<p>In summary, the nonlinear averaged equations of a switching converter can be linearized about a 
</p>
<p>quiescent operating point. The converter independent inputs are expressed as constant (de) values, plus 
</p>
<p>small ae variations. In response, the converter averaged waveforms assume similar forms. Insertion of 
</p>
<p>Eqs. (7.30) and (7.31) into the converter averaged nonlinear equations yields de terms, linear ac terms, 
</p>
<p>and nonlinear terms. If the ac variations are sufficiently small in magnitude, then the nonlinear terms are </p>
<p/>
</div>
<div class="page"><p/>
<p>7.2 The Basic AC Modeling Approach 201 
</p>
<p>much smaller than the linear ac terms, and so can be neglected. The remaining linear ac terms comprise 
</p>
<p>the small-signal.ac model of the converter. 
</p>
<p>7.2.6 Construction of the Small-Signal Equivalent Circuit Model 
</p>
<p>Equations (7.36), (7.39), and (7.42) are the small-signal ac description of the ideal buck-boost converter, 
</p>
<p>and are collected below: 
</p>
<p>di(t) ( ) A 
L lit= DfWl + D'v(t) + V8 - V d(t) 
</p>
<p>C d~~) =- D'z(t)- v~) +I d(t) (7.43) 
</p>
<p>z 8(t) = Di(t) +I d(t) 
</p>
<p>In Chapter 3, we collected the averaged de equations of a converter, and reconstructed an equivalent cir-
</p>
<p>cuit that modeled the de properties of the converter. We can use the same procedure here, to construct 
</p>
<p>averaged small-signal ac models of converters. 
</p>
<p>The inductor equation of (7.43), or Eq. (7.36), describes the voltages around a loop containing 
</p>
<p>the inductor. Indeed, this equation was derived by finding the inductor voltage via loop analysis, then 
</p>
<p>averaging, perturbing, and linearizing. So the equation represents the voltages around a loop of the 
</p>
<p>small-signal model, which contains the inductor. The loop current is the small-signal ac inductor current 
</p>
<p>i(t). As illustrated in Fig. 7.13, the term Ldi(t)ldt represents the voltage across the inductor Lin the 
</p>
<p>small-signal model. This voltage is equal to three other voltage terms. DvgCt) and D'v(t) represent d~pen&shy;
</p>
<p>dent sources as shown. The~e terms will be combined into ideal transformers. The term (V8 - V)d(t) is 
</p>
<p>driven by the control input d(t), and is represented by an independent source as shown. 
</p>
<p>The capacitor equation of (7.43), or Eq. (7.39), describes the currents flowing into a node 
</p>
<p>attached to the capacitor. This equation was derived by finding the capacitor current via node analysis, 
</p>
<p>then averaging, perturbing, and linearizing. Hence, this equation describes the currents flowing into a 
</p>
<p>node of the small-signal model, attached to the capacitor. As illustrated in Fig. 7.14, the term Cdv(t)ldt 
</p>
<p>represents the current flowing through capacitor C in the small-signal model. The capacitor voltage is 
</p>
<p>v(t). According to the equation, this current is equal to three other terms. The term- D'i(t) represents a 
</p>
<p>dependent source, which will eventually be combined into an ideal transformer. The term- v(t)IR is rec-
</p>
<p>D'v(t) 
</p>
<p>Fig. 7.13 Circuit equivalent to the small-signal ac inductor loop equation ofEq. (7.43) or (7.36). </p>
<p/>
</div>
<div class="page"><p/>
<p>202 AC Equivalent Circuit Modeling 
</p>
<p>C dO(t) 
dt 
</p>
<p>c 
</p>
<p>+ 
</p>
<p>O(t) 
</p>
<p>O(t) 
</p>
<p>R 
</p>
<p>R 
</p>
<p>Fig. 7.14 Circuit equivalent to the small-signal ac capacitor node equation ofEq. (7.43) or (7.39). 
</p>
<p>!d(t) Di(t) 
</p>
<p>Fig. 7.15 Circuit equivalent to the small-signal ac input source current equation ofEq. (7.43) or (7.42). 
</p>
<p>ognized as the current flowing through the load resistor in the small-signafmodel. The resistor is con-
</p>
<p>nected in parallel with the capacitor, such that the ac voltage across the resistor R is O(t) as expected. The 
</p>
<p>term !d(t) is driven by the control input d(t), and is represented by an independent source as shown. 
</p>
<p>Finally, the input current equation of (7.43), or Eq. (7.42), describes the small-signal ac current 
</p>
<p>ig(t) drawn by the converter out of the input voltage source 0 gCt). This is a node equation which states that 
</p>
<p>!gCt) is equal to the currents in two branches, as illustrated in Fig. 7.15. The first branch, corresponding to 
the Di(t) term, is dependent on the ac inductor current i(t). Hence, we represent this term using a depen-
</p>
<p>dent current source; this source will eventually be incorporated into an ideal transformer. The second 
</p>
<p>branch, corresponding to the !d(t) term, is driven by the control input d(t), and is represented by an inde-
</p>
<p>pendent source as shown. 
</p>
<p>The circuits of Figs. 7.13, 7.14, and 7.15 are collected in Fig. 7.16(a). As discussed in Chapter 
</p>
<p>3, the dependent sources can be combined into effective ideal transformers, as illustrated in Fig. 7.16(b). 
</p>
<p>The sinusoid superimposed on the transformer symbol indicates that the transformer is ideal, and is part 
</p>
<p>of the averaged small-signal ac model. So the effective de transformer property of CCM de-de converters 
</p>
<p>also influences small-signal ac variations in the converter signals. 
</p>
<p>The equivalent circuit of Fig. 7.16(b) can now be solved using techniques of conventional linear 
</p>
<p>circuit analysis, to find the converter transfer functions, input and output impedances, etc. This is done in 
</p>
<p>detail in the next chapter. Also, the model can be refined by inclusion of losses and other nonidealities-
</p>
<p>an example is given in Section 7.2.9. 
</p>
<p>7 .2. 7 Discussion of the Perturbation and Linearization Step 
</p>
<p>In the perturbation and linearization step, it is assumed that an averaged voltage or current consists of a 
</p>
<p>constant (de) component and a small-signal ac variation around the de component. In Section 7.2.5, the </p>
<p/>
</div>
<div class="page"><p/>
<p>7.2 The Basic AC Modeling Approach 203 
</p>
<p>(a) 
L 
</p>
<p>(v,- v)d(t) 
</p>
<p>+ 
</p>
<p>c v(t) R 
</p>
<p>(b) L ( v,- v)dUJ 
</p>
<p>+ 
</p>
<p>c v(t) R 
</p>
<p>Fig. 7.16 Buck-boost converter small-signal ac equivalent circuit: (a) the circuits of Figs. 7.13 to 7.15, collected 
</p>
<p>together; (b) combination of dependent sources into effective ideal transformer, leading to the final model. 
</p>
<p>linearization step was completed by neglecting nonlinear terms that correspond to products of the small-
</p>
<p>signal ac variations. In general, the linearization step amounts to taking the Taylor expansion of a nonlin-
</p>
<p>ear relation and retaining only the constant and linear terms. For example, the large-signal averaged 
</p>
<p>equation for the inductor current in Eq. (7.28) can be written as: 
</p>
<p>d(i(t))T ( ) 
L -d-' = d(t) (v gCtJ) + d'(t) ( v(t)) T = /1 (v gCtJ) , ( v(t)) T , d(t) 
</p>
<p>t Ts .1 Ts .s 
(7.44) 
</p>
<p>Let us expand this expression in a three-dimensional Taylor series, about the quiescent operating point 
</p>
<p>(Vg, V, D): 
</p>
<p>(7.45) 
</p>
<p>+ higher-order nonlinear terms 
</p>
<p>For simplicity of notation, the angle brackets denoting average values are dropped in the above equation. 
</p>
<p>The derivative of I is zero, since I is by definition a de (constant) term. Equating the de terms on both 
</p>
<p>sides of Eq. (7 .45) gives: 
</p>
<p>(7.46) 
</p>
<p>which is the volt-second balance relationship for the inductor. The coefficients with the linear terms on 
</p>
<p>the right-hand side of Eq. (7 .45) are found as follows: </p>
<p/>
</div>
<div class="page"><p/>
<p>204 AC Equivalent Circuit Modeling 
</p>
<p>(7.47) 
</p>
<p>(7.48) 
</p>
<p>(7.49) 
</p>
<p>Using (7.47), (7.48) and (7.49), neglecting higher-order nonlinear terms, and equating the linear ac terms 
on both sides ofEq. (7.45) gives: 
</p>
<p>di(t) ( ) A 
L ---;It= Dvg(t) + D'v(t) + V8 - v d(t) (7.50) 
</p>
<p>which is identical to Eq. (7.36) derived in Section 7.2.5. In conclusion, the linearization step can always 
</p>
<p>be accomplished using the Taylor expansion. 
</p>
<p>7.2.8 Results for Several Basic Converters 
</p>
<p>The equivalent circuit models for the buck, boost, and buck-boost converters operating in the continuous 
</p>
<p>conduction mode are summarized in Fig. 7.17. The buck and boost converter models contain ideal trans-
formers having turns ratios equal to the converter conversion ratio. The buck-boost converter contains 
ideal transformers having buck and boost conversion ratios; this is consistent with the derivation of Sec-
tion 6.1.2 of the buck -boost converter as a cascade connection of buck and boost converters. These mod-
els can be solved to find the converter transfer functions, input and output impedances, inductor current 
variations, etc. By insertion of appropriate turns ratios, the equivalent circuits of Fig. 7.17 can be adapted 
to model the transformer-isolated versions of the buck, boost, and buck-boost converters, including the 
forward, fiyback, and other converters. 
</p>
<p>7.2.9 Example: A Nonideal Flyback Converter 
</p>
<p>To illustrate that the techniques of the previous section are useful for modeling a variety of converter 
phenomena, let us next derive a small-signal ac equivalent circuit of a converter containing transformer 
</p>
<p>isolation and resistive losses. An isolated fiyback converter is illustrated in Fig. 7.18. The fiyback trans-
</p>
<p>former has magnetizing inductance L,.referred to the primary winding, and turns ratio 1:n. MOSFET Q1 
has on-resistance Ron&middot; Other loss elements, as well as the transformer leakage inductances and the 
switching losses, are negligible. The ac modeling of this converter begins in a manner similar to the de 
converter analysis of Section 6.3.4. The fiyback transformer is replaced by an equivalent circuit consist-
ing of the magnetizing inductance Lin parallel with an ideal transformer, as illustrated in Fig. 7.19(a). 
</p>
<p>During the first subinterval, when MOSFET Q1 conducts, diode D 1 is off. The circuit then </p>
<p/>
</div>
<div class="page"><p/>
<p>7.2 The Basic AC Modeling Approach 205 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>R v(t) 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>R v(t) 
</p>
<p>(c) 
( v,- v)d(t) 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>c v(t) R 
</p>
<p>Fig. 7.17 Averaged small-signal ac models for several basic converters operating in continuous conduction 
</p>
<p>mode: (a) buck, (b) boost, (c) buck-boost. 
</p>
<p>+ 
</p>
<p>L c R v(t) 
</p>
<p>-1 
</p>
<p>Fig. 7.18 Fly back converter example. </p>
<p/>
</div>
<div class="page"><p/>
<p>206 AC Equivalent Circuit Modeling 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>R v(t) 
</p>
<p>(b) r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;; 
! Transformer model ! 
</p>
<p>+ 
</p>
<p>+ c R v 
</p>
<p>(c) 
i/n 
</p>
<p>+ 
</p>
<p>+ c R v 
</p>
<p>, _____________________________________ L. ___ -&lt; __ ,,__ __ _._ __ ...J 
</p>
<p>Fig. 7.19 Flyback converter example: (a) incorporation of transformer equivalent circuit, (b) circuit during sub-
interval I, (c) circuit during subinterval 2. 
</p>
<p>reduces to Fig. 7.19(b). The inductor voltage vL(t), capacitor current idt), and converter input current 
igCt) are: 
</p>
<p>vL(t) = vgCt)- i(t)Ron 
</p>
<p>ic(t) =- v~) 
</p>
<p>ig(t) = i(t) 
</p>
<p>(7.51) 
</p>
<p>We next make the small ripple approximation, replacing the yoltages and currents with their average val-</p>
<p/>
</div>
<div class="page"><p/>
<p>7.2 &middot; The Basic AC Modeling Approach 207 
</p>
<p>ues as defined by Eq. (7.3), to obtain 
</p>
<p>(7.52) 
</p>
<p>During the second subinterval, MOSFET Q1 is off, diode D1 conducts, and the circuit of Fig. 7.19(c) is 
</p>
<p>obtained. Analysis of this circuit shows that the inductor voltage, capacitor current, and input current are 
</p>
<p>given by 
</p>
<p>The small-ripple approximation leads to 
</p>
<p>(t) _ v(t) 
VL -- n 
</p>
<p>. ( ) _ i(t) v(t) 
let ---n-R 
</p>
<p>ig(t) = 0 
</p>
<p>(v(t))T 
vL(t) =--n-' 
</p>
<p>(i(t))T (v(t))T 
ic(t) = -n-'- ~ 
</p>
<p>ig(t) = 0 
</p>
<p>(7.53) 
</p>
<p>(7.54) 
</p>
<p>The inductor voltage and current waveforms are sketched in Fig. 7.20. The average inductor voltage can 
</p>
<p>now be found by averaging the waveform of Fig. 7.20(a) over one switching period. The result is 
</p>
<p>(a) v-iR g 011 
</p>
<p>h&lt;t))T 
0 ....................................... \ ...... ~ ................... . 
</p>
<p>dT8 T8 t 
</p>
<p>1... .. J 
-vln 
</p>
<p>(b) i(t) 
</p>
<p>0 
</p>
<p>Fig. 7.20 Inductor waveforms for the flyback example: (a) inductor voltage, (b) inductor current. </p>
<p/>
</div>
<div class="page"><p/>
<p>208 AC Equivalent Circuit Modeling 
</p>
<p>(a) ic(t) 
</p>
<p>(ic(t))r 
</p>
<p>0 
_________ \ ______ ' 
</p>
<p>dTs Ts 
L_ 
</p>
<p>(b) v(t) 
</p>
<p>0 dTs 
</p>
<p>Fig. 7.21 Capacitor waveforms for the flyback example: (a) capacitor current, (b) capacitor voltage. 
</p>
<p>By inserting this result into Eq. (7.20), we obtain the averaged inductor equation, 
</p>
<p>d(i(t))T, _ , (v(t))T, 
L -d-t - = d(t) ( vg{t)) r,- d(t) (1(t)) T, R00 - d (t) -n--
</p>
<p>The capacitor waveforms are constructed in Fig. 7.21. The average capacitor current is 
</p>
<p>( - (v(t)) ) ( (iCt)) (vCt)) ) (ic(t))r, =d(t) R r, +d'(t) ~-~ 
</p>
<p>This leads to the averaged capacitor equation 
</p>
<p>(7.58) 
</p>
<p>The converter input current igCt) is sketched in Fig. 7.22. 
Its average is 
</p>
<p>igCt) (i(t))T 
.... ./ ~-
</p>
<p>.......................... ......... \i.g~?)_:.L_ __ _ 
</p>
<p>(7.55) 
</p>
<p>(7.56) 
</p>
<p>(7.57) 
</p>
<p>(7.59) 
</p>
<p>0 
01------.L.------L--
</p>
<p>The averaged converter equations (7.56), (7.58) and 
</p>
<p>(7.59) are collected below: 
</p>
<p>0 dTs 
</p>
<p>Fig. 7.22 Input source current waveform, 
</p>
<p>fly back example. </p>
<p/>
</div>
<div class="page"><p/>
<p>7.2 The Basic AC Modeling Approach 209 
</p>
<p>d(i(t))T (v(t))T 
L _d_s = d(t) (vg(t)) -d(t) (i(t))T Ron -d'(t) -n-' 
</p>
<p>f Ts s 
</p>
<p>d(v(t))T (i(t))T (v(t))T (7.60) 
C~=d'(t)-n-'-~ 
</p>
<p>This is a nonlinear set of differential equations, and hence the next step is to perturb and linearize, to con-
</p>
<p>struct the converter small-signal ac equations. We assume that the converter input voltage vgCt) and duty 
cycle d(t) can be expressed as quiescent values plus small ac variations, as follows: 
</p>
<p>(vgCtl)T, = V8 + vg(t) 
</p>
<p>d(t) = D + d(t) 
(7.61) 
</p>
<p>In response to these inputs, and after all transients have decayed, the average converter waveforms can 
</p>
<p>also be expressed as quiescent values plus small ac variations: 
</p>
<p>(i(t))T =I+ z(t) 
s 
</p>
<p>(v(t))T =V+v(t) 
s 
</p>
<p>(ig(t)) T, =I 8 + l g{t) 
</p>
<p>With these substitutions, the large-signal averaged inductor equation becomes 
</p>
<p>Upon multiplying this expression out and collecting terms, we obtain 
</p>
<p>De terms 
</p>
<p>+ 
</p>
<p>1" order ac terms (linear) 
</p>
<p>( d(t)vg(t) + d(t) v~)- d(t)i(t)R 0 ,) 
~ 
</p>
<p>2"d order ac terms (nonlinear) 
</p>
<p>(7.62) 
</p>
<p>(7.64) 
</p>
<p>As usual, this equation contains three types of terms. The de terms contain no time-varying quantities. 
</p>
<p>The first-order ac terms are linear functions of the ac variations in the circuit, while the second-order ac 
</p>
<p>terms are functions of the products of the ac variations. If the small-signal assumptions of Eq. (7 .32) are 
</p>
<p>satisfied, then the second-order terms are much smaller in magnitude that the first-order terms, and hence 
</p>
<p>can be neglected. The de terms must satisfy </p>
<p/>
</div>
<div class="page"><p/>
<p>210 AC Equivalent Circuit Modeling 
</p>
<p>(7.65) 
</p>
<p>This result could also be derived by applying the principle of inductor volt-second balance to the steady-
</p>
<p>state inductor voltage waveform. The first-order ac terms must satisfy 
</p>
<p>(7.66) 
</p>
<p>This is the linearized equation that describes ac variations in the inductor current. 
</p>
<p>Upon substitution of Eqs. (7.61) and (7.62) into the averaged capacitor equation (7.60), one 
</p>
<p>obtains 
</p>
<p>d(V+v(t))_(, , )(I+iCt)) (v+v(t)) 
C dt - D -d(t) --n-- R 
</p>
<p>By collecting terms, we obtain 
</p>
<p>c(dv + dv(t)) = (D'I _Y) + (v'i(t) _ v(t) _IJ(t)) _ 
dt dt n R n R n 
</p>
<p>________.., ~ 
De terms 1 st order ae terms 
</p>
<p>(linear) 
</p>
<p>J(t)i(t) 
-n-
-----...-.-
</p>
<p>2nd order ae term 
(nonlinear) 
</p>
<p>We neglect the second-order terms. The de terms of Eq. (7 .68) must satisfy 
</p>
<p>0- (D'I _Y) 
- n R 
</p>
<p>(7.67) 
</p>
<p>(7.68) 
</p>
<p>(7.69) 
</p>
<p>This result could also be obtained by use of the principle of capacitor charge balance on the steady-state 
</p>
<p>capacitor current waveform. The first-order ac terms of Eq. (7.68) lead to the small-signal ac capacitor 
</p>
<p>equation 
</p>
<p>c dv(t) _ D'i(t) _ v(t) _ 1 Jet) 
dt - n R n 
</p>
<p>Substitution of Eqs. (7.61) and (7.62) into the averaged input current equation (7.60) leads to 
</p>
<p>Upon collecting terms, we obtain 
</p>
<p>= (DI) + (Di(t)+IJ(t)) + 
~~ 
</p>
<p>De term 1st order,ae term De term 1." order ae terms 
(linear) 
</p>
<p>The de terms must satisfy 
</p>
<p>d(t)i(t) 
'--v---' 
</p>
<p>znd order ac term 
(nonlinear) 
</p>
<p>(7.70) 
</p>
<p>(7.71) 
</p>
<p>(7.72) </p>
<p/>
</div>
<div class="page"><p/>
<p>7.2 The Basic AC Modeling Approach 211 
</p>
<p>Fig. 7.23 Circuit equivalent 
</p>
<p>to the small-signal ac inductor 
</p>
<p>loop equation, Eq. (7.76) or 
</p>
<p>. (7.66). 
</p>
<p>L 
</p>
<p>(7.73) 
</p>
<p>We neglect the second-order nonlinear terms ofEq. (7.72), leaving the following linearized ac equation: 
</p>
<p>i g(t) = Di(t) +I J(t) (7.74) 
</p>
<p>This result models the low-frequency ac variations in the converter input current. 
</p>
<p>The equations of the quiescent values, Eqs. (7.65), (7.69), and (7.73) are collected below: 
</p>
<p>O=DVg-D'*-DR0,l 
</p>
<p>0=(~?-*) (7.75) 
</p>
<p>lg=Dl 
</p>
<p>For given quiescent values of the input voltage Vg and duty cycleD, this system of equations can be eval-
</p>
<p>uated to find the quiescent output voltage V, inductor current I, and input current de component lg. The 
</p>
<p>results are then inserted into the small-signal ac equations. 
</p>
<p>The small-signal ac equations, Eqs. (7.66), (7.70), and (7.74), are summarized below: 
</p>
<p>di(t) A ,v(t) ( v ) A .~ 
L 1ft= Dvg(t)- D 71 + Vg + n- IR011 d(t)- DR011l(t) 
</p>
<p>c dv(t) _ D'i(t) _ v(t) _I J(t) 
dt - n R . n 
</p>
<p>(7.76) 
</p>
<p>i g(t) = Di(t) +I J(t) 
</p>
<p>The final step is to construct an equivalent circuit that corresponds to these equations. 
</p>
<p>The inductor equation was derived by first writing loop equations, to find the applied inductor 
</p>
<p>voltage during each subinterval. These equations were then averaged, perturbed, and linearized, to obtain 
</p>
<p>Eq. (7.66). So this equation describes the small-signal ac voltages around a loop containing the inductor. 
</p>
<p>The loop current is the ac inductor current i(t). The quantity Ldi(t)ldt is the low-frequency ac voltage 
</p>
<p>across the inductor. The four terms on the right-hand side of the equation are the voltages across the four 
</p>
<p>other elements in the loop. The terms DvgCt) and- D'v(t)ln are dependent on voltages elsewhere in the 
</p>
<p>converter, and hence are represented as dependent sources in Fig. 7.23. The third term is driven by the 
</p>
<p>duty cycle variations d(t) and hence is represented as an independent source. The fourth term, - DRani(t), 
</p>
<p>is a voltage that is proportional to the loop current i(t). Hence this term obeys Ohm's law, with effective 
</p>
<p>resistance DRan as shown in the figure. So the influence of the MOSFET on-resistance on the converter </p>
<p/>
</div>
<div class="page"><p/>
<p>212 AC Equivalent Circuit Modeling 
</p>
<p>Fig. 7.24 Circuit equivalent 
</p>
<p>to the small-signal ac capacitor 
</p>
<p>node equation, Eq. (7.76) or 
(7.70). 
</p>
<p>Fig. 7.25 Circuit equivalent 
</p>
<p>to the small-signal ac input 
</p>
<p>source current equation, Eq. 
</p>
<p>(7.76) or (7.74). 
</p>
<p>c dv(t) 
dt 
</p>
<p>D'i(t) c -n-
</p>
<p>Ia(t) Di(t) 
</p>
<p>small-signal transfer functions is modeled by an effective resistance of value DR on&middot; 
</p>
<p>+ v(t) 
R 
</p>
<p>v(t) R 
</p>
<p>Small-signal capacitor equation (7.70) leads to the equivalent circuit of Fig. 7.24. The equation 
</p>
<p>constitutes a node equation of the equivalent circuit model. It states that the capacitor current Cdv(t)ldt is 
</p>
<p>equal to three other currents. The current D'i(t)/n depends on a current elsewhere in the model, and hence 
</p>
<p>is represented by a dependent current source. The term - v(t)/R is the ac component of the load current, 
</p>
<p>which we model with a load resistance R connected in parallel with the capacitor. The last term is driven 
</p>
<p>by the duty cycle variations a(t), and is modeled by an independent source. 
</p>
<p>The input port equation, Eq. (7.74), also constitutes a node equation. It describes the small-sig-
</p>
<p>nal ac current igCt), drawn by the converter out of the input voltage source vgCt). There are two other terms 
</p>
<p>in the equation. The term Di(t) is dependent on the inductor current ac variation i(t), and is represented 
</p>
<p>with a dependent source. The term Ia(t) is driven by the control variations, and is modeled by an inde-
</p>
<p>pendent source. The equivalent circuit for the input port is illustrated in Fig. 7.25. 
</p>
<p>The circuits of Figs. 7.23, 7.24, and 7.25 are combined in Fig. 7.26. The dependent sources can 
</p>
<p>be replaced by ideal transformers, leading to the equivalent circuit of Fig. 7.27. This is the desired result: 
</p>
<p>an equivalent circuit that models the low-frequency small-signal variations in the converter waveforms. It 
</p>
<p>can now be solved, using conventional linear circuit analysis techniques, to find the converter transfer 
</p>
<p>functions, output impedance, and other ac quantities of interest. 
</p>
<p>+ 
</p>
<p>v(t) R 
</p>
<p>Fig. 7.26 The equivalent circuits of Figs. 7.23 to 7.25, collected together. </p>
<p/>
</div>
<div class="page"><p/>
<p>7.3 State-Space Averaging 213 
</p>
<p>Fig. 7.27 Small-signal ac equivalent circuit model of the flyback converter. 
</p>
<p>7.3 STATE-SPACEAVERAGING 
</p>
<p>A number of ac converter modeling techniques have appeared in the literature, including the current-
</p>
<p>injected approach, circuit averaging, and the state-space averaging method. Although the proponents of a 
</p>
<p>given method may prefer to express the end result in a specific form, the end results of nearly all methods 
</p>
<p>are equivalent. And everybody will agree that averaging and small-signal linearization are the key steps 
</p>
<p>in modeling PWM converters. 
</p>
<p>The state-space averaging approach [1, 2] is described in this section. The state-space descrip-
</p>
<p>tion of dynamical systems is a mainstay of modem control theory; the state-space averaging method 
</p>
<p>makes use of this description to derive the small-signal averaged equations of PWM switching convert-
</p>
<p>ers. The state-space averaging method is otherwise identical to the procedure derived in Section 7 .2. 
</p>
<p>Indeed, the procedure of Section 7.2 amounts to state-space averaging, but without the formality of writ-
</p>
<p>ing the equations in matrix form. A benefit of the state-space averaging procedure is the generality of its 
</p>
<p>result: a small-signal averaged model can always be obtained, provided that the state equations of the 
</p>
<p>original converter can be written. 
</p>
<p>Section 7.3.1 summarizes how to write the state equations of a network. The basic results of 
</p>
<p>state-space averaging are described in Section 7 .3.2, and a short derivation is given in Section 7 .3.3. Sec-
</p>
<p>tion 7.3.4 contains an example, in which the state-space averaging method is used to derive the quiescent 
</p>
<p>de and small-signal ac equations of a buck-boost converter. 
</p>
<p>7.3.1 The State Equations of a Network 
</p>
<p>The state-space description is a canonical form for writing the differential equations that describe a sys-
</p>
<p>tem. For a linear network, the derivatives of the state variables are expressed as linear combinations of 
</p>
<p>the system independent inputs and the state variables themselves. The physical state variables of a sys-
</p>
<p>tem are usually associated with the storage of energy, and for a typical converter circuit, the physical 
</p>
<p>state variables are the independent inductor currents and capacitor voltages. Other typical state variables 
</p>
<p>include the position and velocity of a motor shaft. At a given point in time, the values of the state vari-
</p>
<p>ables depend on the previous history of the system, rather than on the present values of the system inputs. 
</p>
<p>To solve the differential equations of the system, the initial values of the state variables must be specified. 
</p>
<p>So if we know the state of a system, that is, the values of all of the state variables, at a given time t0, and 
</p>
<p>if we additionally know the system inputs, then we can in principle solve the system state equations to 
</p>
<p>find the system waveforms at any future time. 
</p>
<p>The state equations of a system can be written in the compact matrix form of Eq. (7.77): </p>
<p/>
</div>
<div class="page"><p/>
<p>214 AC Equivalent Circuit Modeling 
</p>
<p>dx(t) 
K-----;[( = Ax(t) + Bu(t) (7.77) 
</p>
<p>y(t) = Cx(t) + Eu(t) 
</p>
<p>Here, the state vector.x(t) is a vector containing all of the state variables, that is, the inductor currents, 
</p>
<p>capacitor voltages, etc. The input vector u(t) contains the independent inputs to the system, such as the 
</p>
<p>input voltage source vgCt). The derivative of the state vector is a vector whose elements are equal to the 
</p>
<p>derivatives of the corresponding elements of the state vector: 
</p>
<p>x1(t) 
</p>
<p>x(t) = xit) (7.78) 
</p>
<p>In the standard form of Eq. (7.77), K is a matrix containing the values of capacitance, inductance, and 
</p>
<p>mutual inductance (if any), such that Kdx(t)ldt is a vector containing the inductor winding voltages and 
</p>
<p>capacitor currents. In other physical systems, K may contain other quantities such as moment of inertia 
</p>
<p>or mass. Equation (7.77) states that the inductor voltages and capacitor currents of the system can be 
</p>
<p>expressed as linear combinations of the state variables and the independent inputs. The matrices A and B 
</p>
<p>contain constants of proportionality. 
</p>
<p>It may also be desired to compute other circuit waveforms that do not coincide with the ele-
</p>
<p>ments of the state vector x(t) or the input vector u(t). These other signals are, in general, dependent wave-
</p>
<p>forms that can be expressed as linear combinations of the elements of the state vector and input vector. 
</p>
<p>The vector y(t) is usually called the output vector. We are free to place any dependent signal in this vec-
</p>
<p>tor, regardless of whether the signal is actually a physical output. The converter input current igCt) is often 
</p>
<p>chosen to be an element of y(t). In the state equations (7.77), the elements of y(t) are expressed as a !In-
</p>
<p>ear combination of the elements of the x(t) and u(t) vectors. The matrices C and E contain constants of 
</p>
<p>proportionality. 
</p>
<p>As an example, let us write the state equations of the circuit of Fig. 7.28. This circuit contains 
</p>
<p>two capacitors and an inductor, and hence the physical state variables are the independent capacitor volt-
</p>
<p>ages v1(t) and v2(t), as well as the inductor current i(t). So we can define the state vector as 
</p>
<p>v1(t) 
</p>
<p>x(t) = v2(t) (7.79) 
</p>
<p>i(t) 
</p>
<p>i(t) L 
</p>
<p>jRi(t) icl(t) 
+ + vL(t) - icz(t) + 
</p>
<p>Rz 
</p>
<p>iin(t) Ri cl v1(t) Cz vz(t) + 
</p>
<p>R3 Vouif) 
</p>
<p>Fig. 7.28 Circuit example. </p>
<p/>
</div>
<div class="page"><p/>
<p>7.3 State-Space Averaging 215 
</p>
<p>Since there are no coupled inductors, the matrix K is diagonal, and simply contains the values of capaci-
</p>
<p>tance and inductance: 
</p>
<p>C 1 o o 
K= 0 C2 0 
</p>
<p>0 0 L 
</p>
<p>(7.80) 
</p>
<p>The circuit has one independent input, the current source iin(t). Hence we should define the input vector 
</p>
<p>as 
</p>
<p>u(t) = [ i,,(t)] 
(7.81) 
</p>
<p>We are free to place any dependent signal in vector y(t). Suppose that we are interested in also computing 
</p>
<p>the voltage v0 Jt) and the current iR/t). We can therefore define y(t) as 
</p>
<p>(7.82) 
</p>
<p>To write the state equations in the canonical form of Eq. (7.77), we need to express the inductor voltages 
</p>
<p>and capacitor currents as linear combinations of the elements of x(t) and u(t), that is, as linear combina-
</p>
<p>tions ofv1(t), vit), i(t), and ii,/t). 
</p>
<p>The capacitor current ic1(t) is given by the node equation 
</p>
<p>. (&middot;)-C dv1(t) _. ( )- v1(t) _ '() 
zc1 t - 1 dt - z,, t R1 1 t 
</p>
<p>(7.83) 
</p>
<p>This equation will become the top row of the matrix equation (7 .77). The capacitor current icit) is given 
</p>
<p>by the node equation, 
</p>
<p>. ( ) _ C dv2(t) _ '( ) ___1l{t)__ 
lcz t - 2 dt - l t - Rz + R3 
</p>
<p>(7.84) 
</p>
<p>Note that we have been careful to express this current as a linear combination of the elements of x(t) and 
</p>
<p>u(t) alone. The inductor voltage is given by the loop equation, 
</p>
<p>(7.85) 
</p>
<p>Equations (7.83) to (7.85) can be written in the following matrix form: 
</p>
<p>dv 1(t) 1 0 -1 
C1 o o 
</p>
<p>----;[( -R; vl(t) 
</p>
<p>+l81~ 0 C2 0 
dvz(t) 
</p>
<p>0 1 v2(t) ----;[( - Rz + R3 
0 0 L di(t) i(t) (7.86) 
</p>
<p>-1 0 ~ 
~ dt ~ 
</p>
<p>~ 
</p>
<p>~ 
</p>
<p>K 
dx(t) 
</p>
<p>A x(t) + B u(t) dt </p>
<p/>
</div>
<div class="page"><p/>
<p>216 AC Equivalent Circuit Modeling 
</p>
<p>Matrices A and B are now known. 
</p>
<p>It is also necessary to express the elements of y(t) as linear combinations of the elements of x(t) 
</p>
<p>and u(t). By solution of the circuit of Fig. 7 .28, v out(t) can be written in terms of v2(t) as 
</p>
<p>(7.87) 
</p>
<p>Also, iR1 (t) can be expressed in terms of v 1 (t) as 
</p>
<p>(7.88) 
</p>
<p>By collecting Eqs. (7.87) and (7.88) into the standard matrix form ofEq. (7.77), we obtain 
</p>
<p>[ Vom(t) j = 0 
R3 
</p>
<p>0 
v1(t) 
</p>
<p>+ [8] [iil,(t)] Rz+R3 v2(t) 
jRI(t) 1 0 0 i(t) -~ (7.89) 
~ RI 
</p>
<p>~ 
</p>
<p>~ 
y(t) c x(t) + E u(t) 
</p>
<p>We can now identify the matrices C and E as shown above. 
</p>
<p>It should be recognized that, starting in Chapter 2, we have always begun the analysis of con-
</p>
<p>verters by writing their state equations. We are now simply writing these equations in matrix form. 
</p>
<p>7.3.2 The Basic State-Space Averaged Model 
</p>
<p>Consider now that we are given a PWM converter, operating in the continuous conduction mode. The 
</p>
<p>converter circuit contains independent states that form the state vector x(t), and the converter is driven by 
</p>
<p>independent sources that form the input vector u(t). During the first subinterval, when the switches are in 
</p>
<p>position 1, the converter reduces to a linear circuit that can be described by the following state equations: 
</p>
<p>dx(t) 
K ----a(= A 1x(t) + B 1u(t) (7.90) 
</p>
<p>y(t) = C1x(t) + E 1u(t) 
</p>
<p>During the second subinterval, with the switches in position 2, the converter reduces to another linear cir-
</p>
<p>cuit whose state equations are 
</p>
<p>dx(t) K----at= A 2x(t) + B2u(t) (7.91) 
y(t) = C2x(t) + E2u(t) 
</p>
<p>During the two subintervals, the circuit elements are connected differently; therefore, the respective state 
</p>
<p>equation matrices Al' Bl' C1, E 1 and A2, B2, C2, E2 may also differ. Given these state equations, the 
</p>
<p>result of state-space averaging is the state equations of the equilibrium and small-signal ac models. 
</p>
<p>Provided that the natural frequencies of the converter, as well as the frequencies of variations of 
</p>
<p>the converter inputs, are much slower than the switching frequency, then the state-space averaged model </p>
<p/>
</div>
<div class="page"><p/>
<p>7.3 State-Space Averaging 217 
</p>
<p>that describes the converter in equilibrium is 
</p>
<p>where the averaged matrices are 
</p>
<p>O=AX+BU 
</p>
<p>Y=CX+EU 
</p>
<p>A=DA 1 +D'A 2 
</p>
<p>B=DB1 +D'B2 
</p>
<p>C=DC 1 +D'C2 
</p>
<p>E=DE1 +D'E2 
</p>
<p>The equilibrium de components are 
</p>
<p>X = equilibrium (de) state vector 
</p>
<p>U =equilibrium (de) input vector 
</p>
<p>Y = equilibrium (de) output vector 
</p>
<p>D =equilibrium (de) duty cycle 
</p>
<p>(7.92) 
</p>
<p>(7.93) 
</p>
<p>(7.94) 
</p>
<p>Quantities defined in Eq. (7.94) represent the equilibrium values of the averaged vectors. Equation (7.92) 
</p>
<p>can be solved to find the equilibrium state and output vectors: 
</p>
<p>X=-A- 1 BU 
</p>
<p>Y=(-cA- 1 B+E)U 
</p>
<p>The state equations of the small-signal ac model are 
</p>
<p>K d~~) = Ax(t) + Bfi(t) + {(A 1 - A 2) X+ (B 1 - B2) U} d(t) 
</p>
<p>y(t) = Cx(t) + Efi(t) + { ( C 1 - C 2) X+ (E 1 - E 2) U} d(t) 
</p>
<p>(7.95) 
</p>
<p>(7.96) 
</p>
<p>The quantities x(t), u(t), y(t), and d(t) in Eq. (7.96) are small ac variations about the equilibrium solution, 
</p>
<p>or quiescent operating point, defined by Eqs. (7.92) to (7.95). 
</p>
<p>So if we can write the converter state equations, Eqs. (7.90) and (7.91), then we can always find 
</p>
<p>the averaged de and small-signal ac models, by evaluation ofEqs. (7.92) to (7.96). 
</p>
<p>7.3.3 Discussion of the State-Space Averaging Result 
</p>
<p>As in Sections 7.1 and 7.2, the low-frequency components of the inductor currents and capacitor voltages 
</p>
<p>are modeled by averaging over an interval of length T8&bull; Hence, we can define the average of the state vec-
tor x(t) as 
</p>
<p>J it+T, 
(xct))r =r x('t)d't 
</p>
<p>s s I 
</p>
<p>(7.97) </p>
<p/>
</div>
<div class="page"><p/>
<p>218 AC Equivalent Circuit Modeling 
</p>
<p>The low-frequency components of the input and output vectors are modeled in a similar manner. By 
</p>
<p>averaging the inductor voltages and capacitor currents, one then obtains the following low-frequency 
</p>
<p>state equation: 
</p>
<p>(7.98) 
</p>
<p>This result is equivalent to Eq. (7.2). 
</p>
<p>For example, let us consider how the elements of the state vector x(t) change over one switching 
</p>
<p>period. During the first subinterval, with the switches in position 1, the converter state equations are 
</p>
<p>given by Eq. (7.90). Therefore, the elements of x(t) change with the slopes K-1(A1x(t) + B1u(t)). If we 
make the small ripple approximation, that x(t) and u(t) do not change much over one switching period, 
</p>
<p>then the slopes are essentially constant and are approximately equal to 
</p>
<p>(7.99) 
</p>
<p>This assumption coincides with the requirements for small switching ripple in all elements of x(t) and 
</p>
<p>that variations in u(t) be slow compared to the switching frequency. If we assume that the state vector is 
</p>
<p>initially equal to x(O), then we can write 
</p>
<p>(7.100) 
</p>
<p>final initial interval slope 
</p>
<p>value value length 
</p>
<p>Similar arguments apply during the second subinterval. With the switch in position 2, the state equations 
</p>
<p>are given by Eq. (7.91). With the assumption of small ripple during this subinterval, the state vector now 
</p>
<p>changes with slope 
</p>
<p>The state vector at the end of the switching period is 
</p>
<p>~ = ~ + B K- 1 (A2 (x(t))Ts +B2 (u(t))Ts) 
~ 
</p>
<p>final initial interval 
</p>
<p>value value length 
</p>
<p>slope 
</p>
<p>Substitution ofEq. (7.100) into Eq. (7.102) allows us to determine x(T8 ) in terms ofx(O): 
</p>
<p>Upon collecting terms, one obtains 
</p>
<p>(7.101) 
</p>
<p>(7.102) 
</p>
<p>(7.103) </p>
<p/>
</div>
<div class="page"><p/>
<p>7.3 State-Space Averaging 219 
</p>
<p>x(t) K-1(A 1 (x)r,+B 1 (u)r,) K-1(A2(x)r,+B2(uk) 
</p>
<p>....... (x(t) )r ...... . .. 
x(O) ................. , .. , ..... / ...... ,................................ x(T) 
</p>
<p>K-1( (dA 1 + d'A2) (xk + (dB 1 + d'B2) (uk) 
</p>
<p>0 dT8 
</p>
<p>Fig. 7.29 How an element of the state vector, and its average, evolve over one switching period. 
</p>
<p>y(t) 
</p>
<p>(y(t) )T 
s 
</p>
<p>Fig. 7.30 Averaging an element of the output vector y(t). 
</p>
<p>(7.104) 
</p>
<p>Next, we approximate the derivative of (x(t))Ts using the net change over one switching period: 
</p>
<p>d(x(t) )r x(T)- x(O) 
___ s "'-'-&pound;' =--'-'-
</p>
<p>dt T, 
</p>
<p>(7.105) 
</p>
<p>Substitution ofEq. (7.104) into (7.105) leads to 
</p>
<p>(7.106) 
</p>
<p>which is identical to Eq. (7.99). This is the basic averaged model which describes the converter dynam-
</p>
<p>ics. It is nonlinear because the control input d(t) is multiplied by (x(t))Ts and (u(t))Ts. Variation of a typical 
</p>
<p>element ofx(t) and its average are illustrated in Fig. 7.29. 
</p>
<p>It is also desired to find the low-frequency components of the output vector y(t) by averaging. 
</p>
<p>The vector y(t) is described by Eq. (7.90) for the first subinterval, and by Eq. (7.91) for the second sub-
</p>
<p>interval. Hence, the elements of y(t) may be discontinuous at the switching transitions, as illustrated in 
</p>
<p>Fig. 7.30. We can again remove the switching harmonics by averaging over one switching period; the </p>
<p/>
</div>
<div class="page"><p/>
<p>220 AC Equivalent Circuit Modeling 
</p>
<p>result is 
</p>
<p>(y(t)) T, = d(t) ( cl (x(t)) T, + El (u(t)) T,) + d'(t) ( Cz (x(t)) T, + Ez (u(t)) T,) (7.107) 
</p>
<p>Rearrangement of terms yields 
</p>
<p>(7.108) 
</p>
<p>This is again a nonlinear equation. 
</p>
<p>The averaged state equations, (7.106) and (7.108), are collected below: 
</p>
<p>d(x(t))T 
K dt '= ( d(t) A 1 + d'(t) A 2) (x(t))T, + (d(t) B 1 + d'(t) B2) (u(t))T, (7.109) 
</p>
<p>(y(t)) T, = ( d(t) cl + d'(t) Cz) (x(t)) T, + ( d(t) El + d'(t) Ez) (u(t)) T, 
</p>
<p>The next step is the linearization of these equations about a quiescent operating point, to construct a 
</p>
<p>small-signal ac model. When de inputs d(t) = D and u(t) = U are applied, converter operates in equilib-
rium when the derivatives of all of the elements of (x(t))T, are zero. Hence, by setting the derivative of 
</p>
<p>(x(t))Ts to zero in Eq. (7 .109), we can define the converter quiescent operating point as the solution of 
</p>
<p>O=AX+BU 
</p>
<p>Y=CX+EU 
(7.110) 
</p>
<p>where definitions (7.93) and (7.94) have been used. We now perturb and linearize the converter wave-
</p>
<p>forms about this quiescent operating point: 
</p>
<p>(x(tl)T =X+ x(t) 
s 
</p>
<p>(u(t))T = U + ii(t) 
s (7.111) 
</p>
<p>(y(t)) T, = Y + y(t) 
</p>
<p>d(t) = D + d(t) =? d'(t) = D'- d(t) 
</p>
<p>Here, ft(t) and d(t) are small ac variations in the input vector and duty ratio. The vectors x(t) and y(t) are 
</p>
<p>the resulting small ac variations in the state and output vectors. We must assume that these ac variations 
</p>
<p>are much smaller than the quiescent values. In other words, 
</p>
<p>Here, II x II denotes a norm of the vector x. 
</p>
<p>II u II &raquo; II u(t) II 
</p>
<p>D &raquo;ldctll 
II X II &raquo; II x(t) II 
</p>
<p>II vII &raquo; II Y&lt;tl II 
</p>
<p>Substitution ofEq. (7.111) into Eq. (7.109) yields 
</p>
<p>(7.112) </p>
<p/>
</div>
<div class="page"><p/>
<p>7.3 State-Space Averaging 221 
</p>
<p>d(X+ x(t)) 
K dt ( ( D+ d (t)) A 1 + ( D'- d (t)) A 2) (X+ x(t)) 
</p>
<p>+ ((D+d(tl) B, + (D'-d(tl) B2) (U+fi(tl) 
</p>
<p>(Y+y(tl)= ((D+d(tl) C1 + (D'-d(tl) C2) (X+x(tl) 
</p>
<p>+ ( (D+ d(t)) E1 + (D'-d(t)) E2) (U+ fi(t)) 
</p>
<p>The derivative dX/dt is zero. By collecting terms, one obtains 
</p>
<p>first -order ac de terms first -order ac terms 
</p>
<p>second-order nonlinear terms 
</p>
<p>de + 1 '' order ac de terms first -order ac terms 
</p>
<p>second-order nonlinear terms 
</p>
<p>(7.113) 
</p>
<p>(7.114) 
</p>
<p>Since the de terms satisfy Eq. (7 .11 0), they drop out of Eq. (7 .114 ). Also, if the small-signal assumption 
</p>
<p>(7.112) is satisfied, then the. second-order nonlinear terms of Eq. (7.114) are small in magnitude com-
</p>
<p>pared to the first-order ac terms. We can therefore neglect the nonlinear terms, to obtain the following 
</p>
<p>linearized ac model: 
</p>
<p>K d!~t) = Ax(t) + Bfi(t) + { (A 1 -A 2) X+ (B,- B2) U }d(t) 
</p>
<p>y(t) = Cx(t) + Eii(t) + { ( C1 - C2) X+ (E 1 - E2) U }d(t) 
</p>
<p>This is the desired result, which coincides with Eq. (7.95). 
</p>
<p>7.3.4 Example: State-Space Averaging of a Nonideal Buck-Boost Converter 
</p>
<p>(7.115) 
</p>
<p>Let us apply the state-space averaging method to model the buck-boost converter of Fig. 7.31. We will 
</p>
<p>model the conduction loss of MOSFET Q1 by on-resistance R011 , and the forward voltage drop of diode </p>
<p/>
</div>
<div class="page"><p/>
<p>222 AC Equivalent Circuit Modeling 
</p>
<p>+ 
</p>
<p>c R v(t) 
</p>
<p>Fig. 7.31 Buck-boost converter example. 
</p>
<p>D 1 by an independent voltage source of value VD. It is desired to obtain a complete equivalent circuit, 
</p>
<p>which models both the input port and the output port of the converter. 
</p>
<p>The independent states of the converter are the inductor current i(t) and the capacitor voltage 
</p>
<p>v(t). Therefore, we should define the state vector x(t) as 
</p>
<p>x(t) = r i(t) 1 
l v(t) j 
</p>
<p>(7.116) 
</p>
<p>The input voltage vgCt) is an independent source which should be placed in the input vector u(t). In addi-
</p>
<p>tion, we have chosen to model the diode forward voltage drop with an independent voltage source of 
</p>
<p>value VD. So this voltage source should also be included in the input vector u(t). Therefore, let us define 
</p>
<p>the input vector as 
</p>
<p>r 
vg(t) 1 u(t)= V 
</p>
<p>D 
</p>
<p>(7.117) 
</p>
<p>To model the converter input port, we need to find the converter input current igCt). To calculate this 
</p>
<p>dependent current, it should be included in the output vector y(t). Therefore, let us choose to define y(t) 
</p>
<p>as 
</p>
<p>y(t) = [ ig(t) l (7.118) 
</p>
<p>Note that it isn't necessary to include the output voltage v(t) in the output vector y(t), since v(t) is already 
</p>
<p>included in the state vector x(t). 
</p>
<p>Next, let us write the state equations for each subinterval. When the switch is in position 1, the 
</p>
<p>converter circuit of Fig. 7.32(a) is obtained. The inductor voltage, capacitor current, and converter input 
</p>
<p>current are 
</p>
<p>di(t) . 
L ([t = vgCt) -z(t) Ro" 
</p>
<p>C dv(t) __ v(t) 
dt - R 
</p>
<p>ig(t) = i(t) 
</p>
<p>These equations can be written in the following state-space form: 
</p>
<p>(7.119) </p>
<p/>
</div>
<div class="page"><p/>
<p>7.3 State-Space Averaging 223 
</p>
<p>(a) 
</p>
<p>+ 
i(t) 
</p>
<p>c R v(t) 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>L R v(t) 
</p>
<p>Fig. 7.32 Buck-boost converter circuit: (a) during subinterval!, (b) during subinterval2. 
</p>
<p>[ L 0 l d l i(t) j -Ron Q I i(t) 1 + [ 1 o l r vg(t) j 0 C dt v(t) = 0 1 v(t) 0 0 V 0 
~~ -R ~ '----v---' ~ 
</p>
<p>~ 
</p>
<p>K 
dx(t) 
</p>
<p>AI x(t) Bt u(t) (7.120) ---crt 
</p>
<p>[ig(t) l [1 0 l l i(t) 1 + l 0 0 J r vg(t) 1 
'----v---' 
</p>
<p>....____._., v(t) ....____._., V0 
~ ~ 
</p>
<p>y(t) ct x(t) Et u(t) 
</p>
<p>So we have identified the state equation matrices A1, Bp Cp and E1. 
</p>
<p>With the switch in position 2, the converter circuit of Fig. 7 .32(b) is obtained. For this subinter-
</p>
<p>val, the inductor voltage, capacitor current, and converter input current are given by 
</p>
<p>L di(t) = v(t)- V 
dt D 
</p>
<p>C dv(t) = _ v(t) _ i(t) 
dt R 
</p>
<p>(7.121) 
</p>
<p>igCt) = 0 
</p>
<p>When written in state-space form, these equations become </p>
<p/>
</div>
<div class="page"><p/>
<p>224 AC Equivalent Circuit Modeling 
</p>
<p>[ L 0 l d l i(t) j 0 1 l i(t) j + [ 0 - 1ll vg{t) j 
0 C dt v(t) = 1 v(t) 0 0 VD 
</p>
<p>'----.----' ~ -1-R ~ '------v-----' ~ 
~ 
</p>
<p>K 
dx(t) 
</p>
<p>A2 x{t) B2 u(t) (7.122) ----;[! 
</p>
<p>[i/t)] [ 00 l l i(t) j + [ 00 l l vt~) j 
~ ~ 
</p>
<p>v(t) 
~ 
</p>
<p>~ 
~ 
</p>
<p>y(t) c2 x{t) E2 u(t) 
</p>
<p>So we have also identified the subinterval 2 matrices A2, B2, C2, and E2. 
</p>
<p>The next step is to evaluate the state-space averaged equilibrium equations (7.92) to (7.94). The 
</p>
<p>averaged matrix A is 
</p>
<p>In a similar manner, the averaged matrices B, C, and E are evaluated, with the following results: 
</p>
<p>B=DB 1 +D'B2=[ ~ -f] 
C = DC 1 + D'C 2 = [ D 0] 
</p>
<p>E = DE1 + D'E2 = [ 0 0] 
</p>
<p>The de state equations (7.92) therefore become 
</p>
<p>[ ~ l = 
[ D 0] 
</p>
<p>[ t l + r ~ -~' J r ~~ 1 
[ t l + [ 0 0 l l ~~ j 
</p>
<p>(7.123) 
</p>
<p>(7.124) 
</p>
<p>(7.125) 
</p>
<p>Evaluation of Eq. (7 .95) leads to the following solution for the equilibrium state and output vectors: 
</p>
<p>(7.126) 
</p>
<p>Alternatively, the steady-state equivalent circuit of Fig. 7.33 can be constructed as usual from </p>
<p/>
</div>
<div class="page"><p/>
<p>7.3 State-Space Averaging 225 
</p>
<p>+ 
</p>
<p>v R 
</p>
<p>Fig. 7.33 De circuit model for the buck-boost converter example, equivalent to Eq. (7.125). 
</p>
<p>Eq. (7.125). The top row of Eq. (7.125) could have been obtained by application of the principle of 
</p>
<p>inductor volt-second balance to the inductor voltage waveform. The second row of Eq. (7.125) could 
</p>
<p>have been obtained by application of the principle of capacitor charge balance to the capacitor current 
</p>
<p>waveform. The ig(t) equation expresses the de component of the converter input current. By reconstruct-
</p>
<p>ing circuits that are equivalent to these three equations, the de model of Fig. 7.33 is obtained. 
</p>
<p>The small-signal model is found by evaluation of Eq. (7.95). The vector coefficients of d(t) in 
</p>
<p>Eq. (7.95) are 
</p>
<p>(AI-Az) X+ (BI-Bz) U= r- V ~IR,,j + l Vg~ Vo j = r Vg- V -:Ro,+ Vo 1 
(CI-Cz) X+ (EI-Ez) U= [I] 
</p>
<p>The small-signal ac state equations (7.95) therefore become 
</p>
<p>[ 
L 0 l A_r i(t) 1 = -DR"" D' 
OCdtv(t)j -D' _l_ 
</p>
<p>R 
</p>
<p>[t g{t)] = [ D 0 ] r ~~~~ 1 + [ 0 0 l[ v g6t) 1 + [I ]J (t) 
</p>
<p>(7.127) 
</p>
<p>(7.128) 
</p>
<p>Note that, since the diode forward voltage drop is modeled as the constant value VD, there are no ac vari-
</p>
<p>ations in this source, and vD(t) equals zero. Again, a circuit model equivalent to Eq. (7.128) can be con-
</p>
<p>structed, in the usual manner. When written in scalar form, Eq. (7.128) becomes 
</p>
<p>L d~~) = D' v(t)- DROO i(t) + D vgCt) + ( vg- v-I Roo+ VD) d(t) 
</p>
<p>C d~~) = -D' i(t)- O~) +I d(t) 
</p>
<p>i ,(t) = D i(t) +I d(t) 
</p>
<p>(7.129) 
</p>
<p>Circuits corresponding to these equations are listed in Fig. 7.34. These circuits can be combined into the 
</p>
<p>complete small-signal ac equivalent circuit model of Fig. 7.35. </p>
<p/>
</div>
<div class="page"><p/>
<p>226 AC Equivalent Circuit Modeling 
</p>
<p>(a) 
</p>
<p>L 
</p>
<p>(b) 
</p>
<p>(c) 
</p>
<p>~ 
</p>
<p>Jd(t) 
</p>
<p>c dO(t) 
dt 
</p>
<p>c 
</p>
<p>D'O(t) 
</p>
<p>+ 
</p>
<p>O(t) 
</p>
<p>Di(t) 
</p>
<p>O(t) 
</p>
<p>R 
</p>
<p>R 
</p>
<p>Fig. 7.34 Circuits equivalent to the small-signal converter equations: (a) inductor loop, (b) capacitor node, (c) 
</p>
<p>input port. 
</p>
<p>L 
</p>
<p>i(t) DR00 + 
</p>
<p>v(t) R 
</p>
<p>Fig. 7.35 Complete small-signal ac equivalent circuit model, nonideal buck-boost converter example. 
</p>
<p>7.4 CIRCUIT AVERAGING AND AVERAGED SWITCH MODELING 
</p>
<p>Circuit averaging is another well-known technique for derivation of converter equivalent circuits. Rather 
</p>
<p>than averaging the converter state equations, with the circuit averaging technique we average the con-
</p>
<p>verter waveforms directly. All manipulations are performed on the circuit diagram, instead of on its equa-</p>
<p/>
</div>
<div class="page"><p/>
<p>7.4 Circuit Averaging and Averaged Switch Modeling 221 
</p>
<p>tions, and hence the circuit averaging technique gives a more physical interpretation to the model. Since 
</p>
<p>circuit averaging involves averaging and small-signallinearization, it is equivalent to state-space averag-
</p>
<p>ing. However, in many cases circuit averaging is easier to apply, and allows the small-signal ac model to 
</p>
<p>be written almost by inspection. The circuit averaging technique can also be applied directly to a number 
</p>
<p>of different types of converters and switch elements, including phase-controlled rectifiers, PWM convert-
</p>
<p>ers operated in discontinuous conduction mode or with current programming, and quasi-resonant con-
</p>
<p>verters-these are described in later chapters. However, in other cases it may lead to involuted models 
</p>
<p>that are less easy to analyze and understand. To overcome this problem, the circuit averaging and state-
</p>
<p>space averaging approaches can be combined. Circuit averaging was developed before state-space aver-
</p>
<p>aging, and is described in [4]. Because of its generality, there has been a recent resurgence of interest in 
</p>
<p>circuit averaging of switch networks [13-20]. 
</p>
<p>The key step in circuit averaging is to replace the converter switches with voltage and current 
</p>
<p>sources, to obtain a time-invariant circuit topology. The waveforms of the voltage and current generators 
</p>
<p>are defined to be identical to the switch waveforms of the original converter. Once a time-invariant circuit 
</p>
<p>network is obtained, then the converter waveforms can be averaged over one switching period to remove 
</p>
<p>the switching harmonics. Any nonlinear elements in the averaged circuit model can then be perturbed 
</p>
<p>and linearized, leading to the small-signal ac model. 
</p>
<p>In Fig. 7 .36, the switching elements are separated from the remainder of the converter. The con-
</p>
<p>verter therefore consists of a switch network containing the converter switching elements, and a time-
</p>
<p>invariant network, containing the reactive and other remaining elements. Figure 7.36 illustrates the sim-
</p>
<p>ple case in which there are two single-pole single-throw (SPST) switches; the switches can then be repre-
</p>
<p>sented using a two-port network. In more complicated systems containing multiple transistors or diodes, 
</p>
<p>such as in polyphase converters, the switch network may contain more than two ports. 
</p>
<p>Power input Load 
</p>
<p>Time-invariant network 
containing converter reactive elements + 
</p>
<p>c L R : 
----1J-- ~ 
</p>
<p>+ vc(t) -
iL(t) 
</p>
<p>v(t) 
</p>
<p>il (t) i2(t) 
</p>
<p>+-
Switch network + 
</p>
<p>...... 'l:l 
v1 (t) t::: 
</p>
<p>() 
</p>
<p>v2(t) a ::t 
~ N 
</p>
<p>- -
</p>
<p>Control d(t) 
input 
</p>
<p>Fig. 7.36 A switching converter can be viewed as a switch network connected to a time-invariant network. </p>
<p/>
</div>
<div class="page"><p/>
<p>228 AC Equivalent Circuit Modeling 
</p>
<p>+ 
</p>
<p>Switch network 
;&middot;&middot;---&middot;&middot;&middot;&middot;&middot;&middot;&middot;---&middot;&middot;&middot;&middot;-----&middot;&middot;----&middot;&middot;&middot;&middot;&middot;&middot;; 
' ' 
</p>
<p>~ 
</p>
<p>~. .... ~~F:;'&middot;&middot;&middot;&middot;&middot;&middot; 
Fig. 7.37 Schematic of the SEPIC, arranged in the form of Fig. 7.36. 
</p>
<p>The central idea of the averaged switch modeling approach is to find an averaged circuit model 
</p>
<p>for the switch network. The resulting averaged switch model can then be inserted into the converter cir-
</p>
<p>cuit to obtain a complete averaged circuit model of the converter. An important advantage of the aver-
</p>
<p>aged switch modeling approach is that the same model can be used in many different converter 
</p>
<p>configurations. It is not necessary to rederive an averaged circuit model for each particular converter. 
</p>
<p>Furthermore, in many cases, the averaged switch model simplifies converter analysis and yields good 
</p>
<p>intuitive understanding of the converter steady-state and dynamic properties. 
</p>
<p>The first step in the process of finding an averaged switch model for a switch network is to 
</p>
<p>sketch the converter in the form of Fig. 7.36, in which a switch network containing only the converter 
</p>
<p>switching elements is explicitly defined. The CCM SEPIC example shown in Fig. 7.37 is used to illus-
</p>
<p>trate the process. There is usually more than one way to define the two ports of the switch network; a nat-
</p>
<p>ural way to define the two-port switch network of the SEPIC is illustrated in Fig. 7.37. The switch 
</p>
<p>network terminal quantities v1(t), i1(t), v2(t), and i2(t) are illustrated in Fig. 7.38 for CCM operation. Note 
</p>
<p>that it is not necessary that the ports of the switch network be electrically connected within the switch 
</p>
<p>network itself. Furthermore, there is no requirement that any of the terminal voltage or current wave-
</p>
<p>forms of the switch network be nonpulsating. 
</p>
<p>7.4.1 Obtaining a Time-Invariant Circuit 
</p>
<p>The first step in the circuit averaging technique is to replace the switch network with voltage 
</p>
<p>and current sources, such that the circuit connections do not vary in time. The switch network defined in 
</p>
<p>the SEPIC is shown in Fig. 7 .39(a). As with any two-port network, two of the four terminal voltages and </p>
<p/>
</div>
<div class="page"><p/>
<p>7.4 Circuit Averaging and Averaged Switch Modeling 229 
</p>
<p>-
</p>
<p>0 0,__ ___ __._ ____ ___._ __ 0 
01-----.l..-------L.--
</p>
<p>0 0 dT8 
</p>
<p>0 
01------~------~---+ 
</p>
<p>0 
o~----~------~~--&middot; 
</p>
<p>0 0 dTs 
</p>
<p>Fig. 7.38 Terminal switch network waveforms in the CCM SEPIC. 
</p>
<p>currents can be taken as independent inputs to the switch network. The remaining two voltages and/or 
</p>
<p>currents are viewed as dependent outputs of the switch network. In general, the choice of independent 
</p>
<p>inputs is arbitrary, as long as the inputs can indeed be independent in the given converter circuit. For 
</p>
<p>CCM operation, one can choose one terminal current and one terminal voltage as the independent inputs. 
</p>
<p>Let us select i1(t) and vit) as the switch network independent inputs. In addition, the duty cycle d(t) is 
</p>
<p>the independent control input. 
</p>
<p>In Fig. 7 .39(b ), the ports of the switch network are replaced by dependent voltage and current 
</p>
<p>sources. The waveforms of these dependent sources are defined to be identical to the actual dependent 
</p>
<p>outputs v1(t) and iz(t) given in Fig. 7.38. Since all waveforms in Fig. 7.39(b) match the waveforms of 
</p>
<p>Figs. 7.39(a) and 7.38, the circuits are electrically equivalent. So far, no approximations have been made. 
</p>
<p>7.4.2 Circuit Averaging 
</p>
<p>The next step is determination of the average values of the switch network terminal waveforms 
</p>
<p>in terms of the converter state variables (inductor currents and capacitor voltages) and the converter inde-
</p>
<p>pendent inputs (such as the input voltage and the transistor duty cycle). The basic assumption is made 
</p>
<p>that the natural time constants of the converter network are much longer that the switching period T8 &bull; 
</p>
<p>This assumption coincides with the requirement for small switching ripple. One may average the wave-
</p>
<p>forms over a time interval which is short compared to the system natural time constants, without signifi-
</p>
<p>cantly altering the system response. Hence, when the basic assumption is satisfied, it is a good 
</p>
<p>approximation to average the converter waveforms over the switching period T8 &bull; The resulting averaged 
</p>
<p>model predicts the low-frequency behavior of the system, while neglecting the high-frequency switching 
</p>
<p>harmonics. In the SEPIC example, by use of the usual small ripple approximation, the average values of 
</p>
<p>the switch network terminal waveforms of Fig. 7.38 can be expressed in terms of the independent inputs 
</p>
<p>and the state variables as follows: </p>
<p/>
</div>
<div class="page"><p/>
<p>230 AC Equivalent Circuit Modeling 
</p>
<p>(a) --------------------------: iz(t) 
</p>
<p>+ + 
</p>
<p>Switch network 
&middot;---&middot;&middot;-----&middot;&middot;&middot;----&middot;&middot;&middot;&middot;--&middot;&middot;&middot;&middot;--&middot;&middot;&middot;----------&middot; 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>Switch network 
' ' &middot;&middot;&middot;&middot;&middot;&middot;--&middot;&middot;&middot;&middot;--&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-' 
</p>
<p>(c) 
( i I (t) &gt;r, ,--------------------------------------------------------------------------------: (i2(t) &gt;rs 
</p>
<p>+ + 
</p>
<p>d'(t); ) 
d(t) \ vz(t) r, 
</p>
<p>Averaged switch network 
&middot;---&middot;&middot;&middot;&middot;---&middot;&middot;&middot;&middot;&middot;&middot;- ...... -&middot; .... &middot;- ......................................... -- ...... ~ 
</p>
<p>(d) 
</p>
<p>+ 
</p>
<p>Averaged switch network 
&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;---------------------------&middot;&middot;&middot;----&middot;&middot;&middot;---&middot;&middot;&middot;&middot;&middot;---&middot;&middot;&middot;-&middot;-&middot;&middot;&middot;&middot;&middot;--&middot;&middot;&middot;&middot;&middot;--&middot;&middot; 
</p>
<p>Fig. 7.39 Derivation of the averaged switch model for the CCM SEPIC: (a) switch network; (b) switch network 
</p>
<p>where the switches are replaced with dependent sources whose waveforms match the switch terminal dependent 
</p>
<p>waveforms; (c) large-signal, nonlinear averaged switch model obtained by averaging the switch network terminal 
</p>
<p>waveforms in (b); (d) de and ac small-signal averaged switch model. </p>
<p/>
</div>
<div class="page"><p/>
<p>7.4 Circuit Averaging and Averaged Switch Modeling 231 
</p>
<p>We have selected (i1(t))Ts and (v2(t))rs as the switch network independent inputs. The dependent outputs 
</p>
<p>of the averaged switch network are then (i2(t))Ts and (v1 (t))rs&middot; The next step is to express, if possible, the 
</p>
<p>switch network dependent outputs (iit))Ts and (v1(t))rs as functions solely of the switch network indepen-
dent inputs (i1(t))Ts, (vit))Ts, and the control input d(t). In this step, the averaged switch outputs should 
</p>
<p>not be written as functions of other converter signals such as (vgCt))Ts, (vCI(t))Ts, (vC2(t))Ts' (iLI(t))Ts' 
</p>
<p>(iL2(t))Ts' etc. 
We can use Eqs. (7.131) and (7.132) to write 
</p>
<p>(7.134) 
</p>
<p>(7.135) 
</p>
<p>Substitution of these expressions into Eqs. (7.130) and (7.133) leads to 
</p>
<p>(7.136) 
</p>
<p>(7.137) 
</p>
<p>The averaged equivalent circuit for the switch network, that corresponds to Eqs. (7.136) and (7.137), is 
illustrated in Fig. 7.39(c). Upon completing the averaging step, the switching harmonics have been 
removed from all converter waveforms, leaving only the de and low-frequency ac components. This 
</p>
<p>large-signal, nonlinear, time-invariant model is valid for frequencies sufficiently less than the switching 
</p>
<p>frequency. Averaging the waveforms of Fig. 7.38 modifies only the switch network; the remainder of 
</p>
<p>the converter circuit is unchanged. Therefore, the averaged circuit model of the converter is obtained 
simply by replacing the switch network with the averaged switch model. The switch network of 
</p>
<p>Fig. 7.39(a) can be identified in any two-switch converter, such as buck, boost, buck-boost, SEPIC, or 
Cuk. If the converter operates in continuous conduction mode, the derivation of the averaged switch 
model follows the same steps, and the result shown in Fig. 7.39(c) is the same as in the SEPIC example. 
</p>
<p>This means that the model of Fig. 7.39(c) can be used as a general large-signal averaged switch model 
for all two-switch converters operating in CCM. </p>
<p/>
</div>
<div class="page"><p/>
<p>232 AC Equivalent Circuit Modeling 
</p>
<p>7.4.3 Perturbation and LinearizatiQn 
</p>
<p>The model of Fig. 7.39(c) is nonlinear, because the dependent generators given by Eqs. (7.136) and 
</p>
<p>(7.137) are nonlinear functions of d(t), (i2(t))Ts and (v1(t))Ts. To construct a small-signal ac model, we per-
turb and linearize Eqs. (7.136) and (7.137) in the usual fashion. Let 
</p>
<p>d(t) = D + J(t) 
</p>
<p>h&lt;t))T =VI+ iW) 
s 
</p>
<p>(ii(t)}r =II+ ii(t) 
s 
</p>
<p>( Vz(t)) T = V2 + i'z{t) 
s 
</p>
<p>(iz(t)} r = / 2 + i 2(t) 
s 
</p>
<p>(7.138) 
</p>
<p>With these substitutions, Eq. (7.136) becomes 
</p>
<p>(7.139) 
</p>
<p>It is desired to solve for the dependent quantity V1 + v1&bull; Equation (7.139) can be manipulated as follows: 
</p>
<p>(7.140) 
</p>
<p>The terms d(t)v1(t) and d(t)v2(t) are nonlinear, and are small in magnitude provided that the ac variations 
are much smaller than the quiescent values [as in Eq. (7.32)]. When the small-signal assumption is satis-
</p>
<p>fied, these terms can be neglected. Upon eliminating the nonlinear terms and solving for the switch net-
</p>
<p>work dependent output V1 + v" we obtain 
</p>
<p>+ 
</p>
<p>Fig. 7.40 Linearization of the dependent 
</p>
<p>voltage source. 
</p>
<p>(7.141) 
</p>
<p>The term (V/DD')d(t) is driven by the control input J, and 
hence can be represented by an independent voltage 
</p>
<p>source as in Fig. 7.40. The term (D'/D)(V2 + vz(t)) is equal 
to the constant value (D'/D) multiplied by the port 2 inde-
</p>
<p>pendent voltage (V2 + v2(t)). This term is represented by a 
dependent voltage source in Fig. 7 .40. This dependent 
</p>
<p>source will become the primary winding of an ideal trans-
</p>
<p>former. 
</p>
<p>In a similar manner, substitution of the relationships 
</p>
<p>(7.138) into Eq. (7.137) leads to: 
</p>
<p>(7.142) 
</p>
<p>The terms i1(t)d(t) and i2(t)d(t) are nonlinear, and can be neglected when the small-signal assumption is 
satisfied. Elimination of the nonlinear terms, and solution for /2 + i2, yields: </p>
<p/>
</div>
<div class="page"><p/>
<p>7.4 Circuit Averaging and Averaged S'(Vitch Modeling 233 
</p>
<p>(7.143) 
</p>
<p>The term (lz!DD')d(t) is driven by the control input d(t), and 
</p>
<p>is represented by an independent current source in Fig. 7.41. 
</p>
<p>The term (D'/D)(/1 + i 1(t)) is dependent on the port 1 current 
(11 + i1(t)). This term is modeled by a dependent current 
source in Fig. 7.41; this source will become the secondary 
</p>
<p>winding of an ideal transformer. Equations (7 .141) and 
</p>
<p>(7.143) describe the averaged switch network model of 
</p>
<p>Fig. 7.39(d). Note that the model contains both de and small-
</p>
<p>signal ac terms: one equivalent circuit is used for both the de 
Fig. 7.41 Linearization of the depen- and the smail-signal ac models. The transformer symbol con-
dent current source. 
</p>
<p>tains both a solid line (indicating that it is an ideal trans-
</p>
<p>former capable of passing de voltages and currents) and a 
</p>
<p>sinusoidal line (which indicates that small-signal ac varia-
tions are modeled). The averaged switch model of Fig. 7 .39( d) reveals that the switch network performs 
</p>
<p>the functions of: (i) transformation of de and small-signal ac voltage and current levels according to the 
D':D conversion ratio, and (ii) introduction of ac voltage and current variations into the converter circuit, 
</p>
<p>driven by the control input d(t). When this model is inserted into Fig. 7.37, the de and small-signal ac 
</p>
<p>SEPIC model of Fig. 7.42 is obtained. This model can now be solved to determine the steady-state volt-
</p>
<p>ages and currents as well as the small-signal converter transfer functions. 
</p>
<p>The switch network of Fig. 7.39(a) can be identified in all two-switch converters, including 
</p>
<p>buck, boost, SEPIC, Cuk, etc. As illustrated Fig. 7 .43, a complete averaged circuit model of the converter 
</p>
<p>can be constructed simply by replacing the switch network with the averaged switch model. For exam-
</p>
<p>+ 
</p>
<p>Fig. 7.42 A de and small-signal ac averaged circuit model of the CCM. SEPIC. </p>
<p/>
</div>
<div class="page"><p/>
<p>234 AC Equivalent Circuit Modeling 
</p>
<p>Power input 
</p>
<p>+ 
-
</p>
<p>(a) 
</p>
<p>Power input 
</p>
<p>(b) 
</p>
<p>Time-invariant network 
containing converter reactive elements 
</p>
<p>c L 
</p>
<p>--H- -+-'1\0lf\----
iL(t) 
</p>
<p>+ vc(t) -
</p>
<p>i (t) ;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;: i (t) 
1 ' Switch ' 2 
</p>
<p>+ I network + 
</p>
<p>v1(t) ~ ~~ vz(t) 
</p>
<p>- -
</p>
<p>c &bull;&bull;&bull;&bull;&bull;.&bull;.&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull; , &bull;..&bull;.&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull; : 
</p>
<p>Duty d(t) 
cycle 
</p>
<p>Time-invariant network 
containing converter reactive elements 
</p>
<p>c 
</p>
<p>---111-1 -
</p>
<p>'-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-~-~-~r.C:ff.~~--swf_!!.C.~--~~~?.!..~ ....... l 
Duty 
cycle d(t) 
</p>
<p>Loa d 
</p>
<p>+ 
</p>
<p>R &lt; v(t) 
</p>
<p>Load 
</p>
<p>+ 
</p>
<p>R V+v 
</p>
<p>Fig. 7.43 Construction of an averaged circuit model for a two-switch converter operating in CCM: (a) the con-
</p>
<p>verter circuit with the general two-switch network identified; (b) de and ac small-signal averaged circuit model 
</p>
<p>obtained by replacing the switch network with the averaged model. </p>
<p/>
</div>
<div class="page"><p/>
<p>7.4 Circuit Averaging and Averaged Switch Modeling 235 
</p>
<p>(a) 
L 
</p>
<p>+ iz(t) 
</p>
<p>,,(t) l~~:: :: ~~~~k- c R v(t) 
(b) 
</p>
<p>L 
- Vz + vz + 
</p>
<p>-+ 
11 + iJ Iz + iz 
</p>
<p>+ 
/ 2 A 
</p>
<p>VJ +VI 
DD'd 
</p>
<p>Q c R V+v 
</p>
<p>Fig. 7.44 Construction of an averaged circuit model for an ideal boost converter example: (a) converter circuit 
</p>
<p>with the switch network of Fig. 7.39(a) identified; (b) a de and small-signal ac averaged circuit model obtained by 
</p>
<p>replacing the switch network with the model ofFig. 7.39(d). 
</p>
<p>pie, Fig. 7.44 shows an averaged circuit model of the boost converter obtained by identifying the switch 
</p>
<p>network of Fig. 7.39(a) and replacing the switch network with the model of Fig. 7.39(d). 
</p>
<p>In summary, the circuit averaging method involves replacing the switch network with equivalent 
</p>
<p>voltage and current sources, such that a time-invariant network is obtained. The converter waveforms are 
</p>
<p>then averaged over one switching period to remove the switching harmonics. The large-signal model is 
</p>
<p>perturbed and linearized about a quiescent operating point, to obtain a de and a small-signal averaged 
</p>
<p>switch model. Replacement of the switch network with the averaged switch model yields a complete 
</p>
<p>averaged circuit model of the converter. 
</p>
<p>7.4.4 Switch Networks 
</p>
<p>So far, we have described derivation of the averaged switch model for the general two-switch 
</p>
<p>network where the ports of the switch network coincide with the switch ports. No connections are 
</p>
<p>assumed between the switches within the switch network itself. As a result, this switch network and its 
</p>
<p>averaged model can be used to easily construct averaged circuit models of many two-switch converters, 
</p>
<p>as illustrated in Fig. 7.43.1t is important to note, however, that the definition of the switch network ports 
</p>
<p>is not unique. Different definitions of the switch network lead to equivalent, but not identical, averaged 
</p>
<p>switch models. The alternative forms of the averaged switch model may result in simpler circuit models, 
</p>
<p>or models that provide better physical insight. Two alternative averaged switch models, better suited for 
</p>
<p>analyses of boost and buck converters, are described in this section. 
</p>
<p>Consider the ideal boost converter of Fig. 7.45(a). The switch network contains the transistor </p>
<p/>
</div>
<div class="page"><p/>
<p>236 AC Equivalent Circuit Modeling 
</p>
<p>(a) 
+ + 
</p>
<p>v(t) 
</p>
<p>C R 
</p>
<p>. Switch network ! 
~-- ................................. : 
</p>
<p>(b) 
</p>
<p>Fig. 7.45 An ideal boost converter exam-
</p>
<p>ple: (a) converter circuit showing another pos-
</p>
<p>sible definition of the switch network; (b) 
</p>
<p>terminal waveforms of the switch network. 
</p>
<p>v2(t) 
</p>
<p>(vl(t))T 
&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;---&middot;&middot;&middot; s &middot;&middot;&middot;-- --&middot;---&middot;-&middot;---------------&middot;-&middot;&middot;&middot; ............ . 
</p>
<p>0 
01--------l'--------l....---
</p>
<p>0 
</p>
<p>(iz(t))T 
----&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;----~------- &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; ............ . 
</p>
<p>0 
o~------L- ______ _L __ __. 
</p>
<p>0 dT, 
</p>
<p>and the diode, as in Fig. 7.44(a), but the switch network ports are defined differently. Let us proceed with 
</p>
<p>the derivation of the corresponding averaged switch model. The switch network terminal waveforms are 
</p>
<p>shown in Fig. 7.45(b). Since i 1(t) and v2(t) coincide with the converter inductor current and capacitor 
</p>
<p>voltage, it is convenient to choose these waveforms as the independent inputs to the switch network. The 
</p>
<p>steps in the derivation of the averaged switch model are illustrated in Fig. 7.46. 
</p>
<p>First, we replace the switch network with dependent voltage and current generators as illus-
</p>
<p>trated in Fig. 7.46(b). The voltage generator v1(t) models the dependent voltage waveform at the input 
</p>
<p>port of the switch network, i.e., the transistor voltage. As illustrated in Fig. 7.45(b), v1(t) is zero when the 
</p>
<p>transistor conducts, and is equal to vit) when the diode conducts: 
</p>
<p>( ) _ { 0, 0 &lt; t &lt; dT, v1 t -
v2(t), dT, &lt; t &lt; T, 
</p>
<p>(7.144) 
</p>
<p>When v1(t) is defined in this manner, the inductor voltage waveform is unchanged. Likewise, iit) models 
</p>
<p>the dependent current waveform at port 2 of the network, i.e., the diode current. As illustrated in 
</p>
<p>Fig. 7.45(b), iit) is equal to zero when the transistor conducts, and is equal to i 1(t) when the diode con-
</p>
<p>ducts: </p>
<p/>
</div>
<div class="page"><p/>
<p>7.4 Circuit Averaging and Averaged Switch Modeling 
</p>
<p>. ( ) _ { 0, 0 &lt; t &lt; dT, 
12 t -
</p>
<p>i 1(t), dT,. &lt; t &lt; T, 
</p>
<p>237 
</p>
<p>(7.145) 
</p>
<p>With i2(t) defined in this manner, the capacitor current waveform is unchanged. Therefore, the original 
</p>
<p>converter circuit shown in Fig. 7.45(a), and the circuit obtained by replacing the switch network of 
</p>
<p>Fig. 7.46(a) with the switch network of Fig. 7.46(b), are electrically identical. So far, no approximations 
</p>
<p>have been made. Next, we remove the switching harmonics by averaging all signals over one switching 
</p>
<p>period, as in Eq. (7.3). The results are 
</p>
<p>(7.146) 
</p>
<p>Here we have assumed that the switching ripples of the inductor current and capacitor voltage are small, 
</p>
<p>or at least linear functions of time. The averaged switch model of Fig. 7 .46( c) is now obtained. This is a 
</p>
<p>large-signal, nonlinear model, which can replace the switch network in the".original converter circuit, for 
</p>
<p>construction of a large-signal nonlinear circuit model of the converter. The switching harmonics have 
</p>
<p>been removed from all converter waveforms, leaving only the de and low-frequency ac components. 
</p>
<p>The model can be linearized by perturbing and linearizing the converter waveforms about a qui-
</p>
<p>escent operating point, in the usual manner. Let 
</p>
<p>h&lt;t)) r, = vg + vg(t) 
</p>
<p>d(t) = D + d(t) =} d'(t) = D'- d(t) 
</p>
<p>(i(t))r = (i 1(t))r =I+ i(t) 
s s 
</p>
<p>(v(t))r =(v2(t))r =V+v(t) 
s s 
</p>
<p>(vt(t))r =VI+ vl(t) 
s 
</p>
<p>(iz&lt;t))r = / 2 + i 2(t) 
s 
</p>
<p>The nonlinear voltage generator at port 1 of the averaged switch network has value 
</p>
<p>(D' -J(t)) ( v + v(t)) = D' ( v + v(t))- v J(t)- v(t)d(t) 
</p>
<p>(7.147) 
</p>
<p>(7.148) 
</p>
<p>The term v(t)d(t) is nonlinear, and is small in magnitude provided that the ac variations are much smaller 
</p>
<p>than the quiescent values [as in Eq. (7.32)]. When the small-signal assumption is satisfied, this term can 
</p>
<p>be neglected. The term Vd(t) is driven by the control input, and hence can be represented by an indepen-
</p>
<p>dent voltage source. The term D'(V + v(t)) is equal to the constant valueD' multiplied by the output volt-
age (V + v(t)). This term is dependent on the output capacitor voltage; it is represented by a dependent 
voltage source. This dependent source will become the primary winding of an ideal transformer. 
</p>
<p>The nonlinear current generator at the port 2 of the averaged switch network is treated in a sim-
</p>
<p>ilar manner. Its current is 
</p>
<p>(D'- d(t)) (I+ i(t)) = D' (1 + i(t)) -I d(t)- i(t)d(t) (7.149) 
</p>
<p>The term i(t)d(t) is nonlinear, and can be neglected provided that the small-signal assumption is satisfied. </p>
<p/>
</div>
<div class="page"><p/>
<p>238 AC Equivalent Circuit Modeling 
</p>
<p>(a) 
il(t) r&middot; -----------------------------------
</p>
<p>+ + 
</p>
<p>(b) 
</p>
<p>Switch network 
~--&middot;&middot;&middot;&middot; ................................... -~ 
</p>
<p>(c) (il (t))T , ......... &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; s: 
+ 
</p>
<p>Averaged switch network 
-------------------------------------------------------------------------&middot;&middot;&middot; 
</p>
<p>(d) /1 + zl r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;: Iz + lz 
</p>
<p>+ + 
</p>
<p>Fig. 7.46 Derivation of the averaged switch model for the CCM boost of Fig. 7.45: (a) switch network; 
</p>
<p>(b) switch network where the switches are replaced by dependent sources whose waveforms match the switch ter-
</p>
<p>minal waveforms; (c) large-signal, nonlinear averaged switch model obtained by averaging the switch network ter-
</p>
<p>minal waveforms; (d) de and ac small-signal averaged switch network modeL </p>
<p/>
</div>
<div class="page"><p/>
<p>7.4 Circuit Averaging and Averaged Switch Modeling 239 
</p>
<p>~~~-&middot;-----------------------------------------------------------------------i 
</p>
<p>l l 
+ 
</p>
<p>c R V+v 
</p>
<p>, Averaged switch network i 
' I L---------------------------------------------------------------------------&bull; 
</p>
<p>Fig. 7.47 De and small-signal ac averaged circuit model of the boost converter. 
</p>
<p>The term Id(t) is driven by the control input d(t), and is represented by an independent current source. 
</p>
<p>The term D'(I + i(t)) is dependent on the inductor current (I+ i(t)). This term is modeled by a dependent 
current source; this source will become the secondary winding of an ideal transformer. 
</p>
<p>Upon elimination of the nonlinear terms, and replacement of the dependent generators with an 
</p>
<p>ideal D':l transformer, the combined de and small-signal ac averaged switch model of Fig. 7.46(d) is 
</p>
<p>obtained. Figure 7.47 shows the complete averaged circuit model of the boost converter. 
</p>
<p>It is interesting to compare the models of Fig. 7.44(b) and Fig. 7.47. The two averaged circuit 
</p>
<p>models of the boost converter are equivalent-they result in the same steady-state solution, and the same 
</p>
<p>converter transfer functions. However, since both ports of the switch network in Fig. 7.45(a) share the 
</p>
<p>same reference ground, the resulting averaged circuit model in Fig. 7.47 is easier to solve, and gives bet-
</p>
<p>ter physical insight into steady-state operation and dynamics of the boost converter. The circuit model of 
</p>
<p>Fig. 7.47 reveals that the switch network performs the functions of: (i) transformation of de and small-
</p>
<p>signal ac voltage and current levels according to the D':1 conversion ratio, and (ii) introduction of ac 
</p>
<p>voltage and current variations into the converter circuit, driven by the control input d(t). The model of 
</p>
<p>Fig. 7.47 obtained using the circuit averaging approach is identical to the model of Fig. 7.17(b) obtained 
</p>
<p>using the basic ac modeling technique of Section 7 .2. &middot; 
</p>
<p>Next, we consider the CCM buck converter of Fig. 7.48, where the switch network ports are 
</p>
<p>defined to share a common ground terminal. The derivation of the corresponding averaged switch model 
</p>
<p>follows the same steps as in the SEPIC and the boost examples. Let us select v1(t) and i2(t) as the inde-
pendent terminal variables of the two-port switch network, since these quantities coincide with the 
</p>
<p>applied converter input voltage vgCt) and the inductor current i(t), respectively. We then need to express 
</p>
<p>the averaged dependent terminal waveforms (i1 (t))T, and (v2(t))Ts as functions of the control input d(t) and 
</p>
<p>of (v 1 (t))Ts and (i2(t))T:.. Upon averaging the waveforms of Fig. 7.48(b ), one obtains 
</p>
<p>Perturbation and linearization of Eq. (7.150) then leads to 
</p>
<p>/ 1 +i 1(t)=D(l 2 +i 2(t))+l2 d(t) 
</p>
<p>Vz + vz(t) = D (VI+ vl(t)) +VI d(t) 
</p>
<p>(7.150) 
</p>
<p>(7.151) 
</p>
<p>An equivalent circuit corresponding to Eq. (7.151) is illustrated in Fig. 7.49(a). Replacement of the </p>
<p/>
</div>
<div class="page"><p/>
<p>240 AC Equivalent Circuit Modeling 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>----&middot;&middot;&middot;&middot;&middot;---------&middot;-
L 
</p>
<p>(a) il (t) ! iz( t) i(t) 
+ + 
</p>
<p>vgCt) v2(t) c R v(t) 
</p>
<p>Switch network 
&middot;&middot;&middot;------&middot;&middot;&middot;&middot;&middot;-----&middot;&middot;&middot;&middot;&middot; 
</p>
<p>(b) 
</p>
<p>(it(t))T 
&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;- &middot;&middot;&middot;&middot;&middot;&middot;&middot;--&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;----~&middot;-&middot;&middot;&middot;-- &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;---&middot;&middot; 
</p>
<p>Fig. 7.48 Buck converter example: 
</p>
<p>(a) converter circuit, (b) switch wave-
</p>
<p>forms. 
</p>
<p>0 
01------L-----...l---
</p>
<p>0 
</p>
<p>v2(t) 
</p>
<p>( V2(t)) T, 
</p>
<p>0 
01-----~-----'---+ 
</p>
<p>0 dTs 
</p>
<p>------------------------&middot;----------------------------------------------------&middot; 
11 + t1! - I 12 + i2 
+ &bull; I + ; + 
</p>
<p>V1d(t) I 
l 
</p>
<p>vl + 1\ I v2 + v2 
</p>
<p>I 
[ Averaged switch network [ !. ___________________________________________________________________________ _ 
</p>
<p>+ 
</p>
<p>R V+v 
</p>
<p>l .... ~~~!:~~!:~-~~!!.~~--'!.:_t::'.()!:.~---' 
Fig. 7.49 Averaged switch modeling, buck converter example: (a) de and small-signal ac averaged switch 
</p>
<p>model; (b) Averaged circuit model of the buck converter obtained by replacement of the switch network by the aver-
</p>
<p>aged switch model. </p>
<p/>
</div>
<div class="page"><p/>
<p>7.4 Circuit Averaging and Averaged Switch Modeling 241 
</p>
<p>(a) 
</p>
<p>ii (t) r&middot;&middot;-------------------------------------1 iz(t) 
</p>
<p>+ + + 
</p>
<p>T 
v2(t) 
</p>
<p>- ' ' ' 
~---------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;-' 
</p>
<p>(b) 
</p>
<p>i1 (t) :---------------------------------------1 i2(t) 
</p>
<p>+ + + + 
</p>
<p>' ' ' ' 
~--&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;' 
</p>
<p>(c) 
</p>
<p>ii (t) :---------------------------------------1 iz(t) 
</p>
<p>+ + + 
</p>
<p>t ....................................... .! 
</p>
<p>Fig. 7.50 Three basic switch networks, and their CCM de and small-signal ac averaged switch models: (a) the 
</p>
<p>buck switch network, (b) the boost switch network, and (c) the general two-switch network. 
</p>
<p>switch network in Fig. 7.48(a) with the averaged switch model of Fig. 7.49(a) leads to the converter aver-
</p>
<p>aged circuit model of Fig. 7 .49(b ). The circuit model of Fig. 7 .49(b) reveals that the switch network per-
</p>
<p>forms the functions of: (i) transformation of de and small-signal ac voltage and current levels according 
</p>
<p>to the 1 :D conversion ratio, and (ii) introduction of ac voltage and current variations into the converter 
</p>
<p>circuit, driven by the control input d(t). The model is easy to solve for both de conversion ratio and small-
</p>
<p>signal frequency responses. It is identical to the model shown in Fig. 7.17(a). 
</p>
<p>The three basic switch networks-the buck switch network, the boost switch network, and the 
</p>
<p>general two-switch network-together with the corresponding averaged switch models are shown in 
</p>
<p>Fig. 7.50. Averaged switch models can be refined to include conduction and switching losses. These 
</p>
<p>models can then be used to predict the voltages, currents, and efficiencies of nonideal converters. Two 
</p>
<p>examples of averaged switch models that include losses are described in Sections 7.4.5 and 7.4.6. </p>
<p/>
</div>
<div class="page"><p/>
<p>242 AC Equivalent Circuit Modeling 
</p>
<p>7.4.5 Example: Averaged Switch Modeling of Conduction Losses 
</p>
<p>An averaged switch model can be refined to include switch conduction losses. Consider again the SEPIC 
</p>
<p>of Fig. 7.37. Suppose that the transistor on-resistance is Ron and the diode forward voltage drop V0 are 
</p>
<p>approximately constant. In this example, all other conduction or switching losses are neglected. Our 
</p>
<p>objective is to derive an averaged switch model that includes conduction losses caused by the voltage 
</p>
<p>drops across Ron and V0 . Let us define the switch network as in Fig. 7.39(a). The waveforms of the switch 
</p>
<p>network terminal currents are the same as in Fig. 7.38, but the voltage waveforms are affected by the 
</p>
<p>voltage drops across Ron and V0 as shown in Fig. 7.51. We select i1(t) and v2(t) as the switch network 
</p>
<p>independent inputs, as in Section 7.4.1. The average values ofv1(t) and v2(t) can be found as follows: 
</p>
<p>(7.152) 
</p>
<p>(7.153) 
</p>
<p>Next, we proceed to eliminate (iLI(t))Ts, (idt))T,' (vCI(t))Ts, and (v0 (t))Ts, to write the above equations in 
</p>
<p>terms of the averaged independent terminal currents and voltages of the switch network. By combining 
</p>
<p>Eqs. (7.152) and (7.153), we obtain: 
</p>
<p>Since the current waveforms are the same as in Fig. 7.38, Eq. (7.134) can be used here: 
</p>
<p>hCt))T 
&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;---~------ ........................................ . 
</p>
<p>v2(t) 
r(VCI +va-Ron(iLI +iL2) 
</p>
<p>v -
</p>
<p>( vz(t)) T 
2 
</p>
<p>---&middot;&middot;---&middot;&middot;----------&middot;---&middot;------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>0~----j=~===t--; 
0 dT, ~-V Ts 
</p>
<p>D 
</p>
<p>Fig. 7.51 The switch network terminal volt-
</p>
<p>ages v1(t) and vzCt) for the case when the transis-
</p>
<p>tor on-resistance is Ron and the diode forward 
</p>
<p>voltage drop is VD. 
</p>
<p>(7.154) 
</p>
<p>(7.155) </p>
<p/>
</div>
<div class="page"><p/>
<p>7.4 Circuit Averaging and Averaged Switch Modeling 243 
</p>
<p>(il (t))y 
s 
</p>
<p>(iz(t))r 
s 
</p>
<p>+ 
Ron 
</p>
<p>+ 
</p>
<p>d(t) 
</p>
<p>(v 1(t))r 
s 
</p>
<p>(v2(t))r 
s 
</p>
<p>Fig. 7.52 Large-signal averaged switch model for the general two-switch network of Fig. 7.50. This model 
includes conduction losses due to the transistor on-resistance Ron and the diode forward voltage drop V v&middot; 
</p>
<p>Substitution of Eqs. (7 .154) and (7 .155) into Eq. (7.152) results in: 
</p>
<p>(7.156) 
</p>
<p>Equation (7.156) can be solved for the voltage (v1(t))r,: 
</p>
<p>(7.157) 
</p>
<p>The expression for the averaged current (iz(t))-r, is given by Eq. (7 .137) derived in Section 7 .4.2: 
</p>
<p>(7.158) 
</p>
<p>Equations (7.157) and (7 .158) constitute the averaged terminal relations of the switch network. An equiv-
</p>
<p>alent circuit corresponding to these relationships is shown in Fig. 7.52. The generators that depend on the 
</p>
<p>transistor duty cycle d(t) are combined into an ideal transformer with the turns ratio d'(t):d(t). This part 
</p>
<p>of the model is the same as in the averaged switch model derived earlier for the switch network with 
</p>
<p>ideal switches. The elements Ron /d and VD model the conduction losses in the switch network. This is a 
</p>
<p>large-signal, nonlinear model. If desired, this model can be perturbed and linearized in the usual manner, 
</p>
<p>to obtain a small-signal ac switch model. 
</p>
<p>The model of Fig. 7.52 is also well suited for computer simulations. As an example of this 
</p>
<p>application, consider the buck-boost converter in Fig 7 .53( a). In this converter, the transistor on-resis-
</p>
<p>tance is Ron= 50 mQ, while the diode forward voltage drop is Vv= 0.8 V. Resistor RL = 100 mQ models 
the copper loss of the inductor. All other losses are neglected. Figure 7 .53(b) shows the averaged circuit 
</p>
<p>model of the converter obtained by replacing the switch network with the averaged switch model of 
</p>
<p>Fig. 7.52. 
</p>
<p>Let's investigate how the converter output voltage reaches its steady-state value, starting from 
</p>
<p>zero initial conditions. A transient simulation can be used to generate converter waveforms during the 
</p>
<p>start-up transient. It is instructive to compare the responses obtained by simulation of the converter 
</p>
<p>switching circuit shown in Fig. 7.53(a) against the responses obtained by simulation of the averaged cir-
</p>
<p>cuit model shown in Fig. 7.53(b). Details of how these simulations are performed can be found in 
</p>
<p>Appendix B .1. Figure 7.54 shows the start-up transient waveforms of the inductor current and the output 
</p>
<p>voltage. In the waveforms obtained by simulation of the averaged circuit model, the switching ripple is 
</p>
<p>removed, but other features of the converter transient responses match very closely the responses </p>
<p/>
</div>
<div class="page"><p/>
<p>244 AC Equivalent Circuit Modeling 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>i(t) 
</p>
<p>0.1 Q RL 
</p>
<p>. &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;A~~&middot;;~g~&middot;&middot;;D;Tici;~;;;;J~T"&middot;&middot;&middot;&middot;&middot;&middot;&middot;i 
</p>
<p>(il(t))r, j (iz(t))r, 
</p>
<p>+ 
,_ 
</p>
<p>I (vz(t))r, 
I 
</p>
<p>-l .......................................................... ...! + 
</p>
<p>+ 
</p>
<p>R 
v(t) 
</p>
<p>20Q 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>20Q 
</p>
<p>Fig. 7.53 Buck-boost converter example: (a) converter circuit; (b) averaged circuit model of the converter. 
</p>
<p>obtained from the switching circuit. Simulations of averaged circuit models can be used to predict con-
</p>
<p>verter steady-state and dynamic responses, as well as converter losses and efficiency. 
</p>
<p>7 .4.6 Example: Averaged Switch Modeling of Switching Losses 
</p>
<p>Switching losses can also be modeled via averaged switch modeling. As an example, consider again the 
</p>
<p>CCM buck converter of Fig. 7.48(a). Let us suppose that the transistor is ideal, and that the diode exhibits 
</p>
<p>reverse recovery described in Section 4.3.2. The simplified switch waveforms are shown in Fig. 7.55. Ini-
</p>
<p>tially, the diode conducts the inductor current and the transistor is in the off state. When the transistor 
</p>
<p>turns on, a negative current flows through the diode so that the transistor current i 1 exceeds the inductor 
</p>
<p>current. The time it takes to remove the charge Qr stored within the diode is the reverse recovery time tr. </p>
<p/>
</div>
<div class="page"><p/>
<p>i(t) 
</p>
<p>60A 
</p>
<p>SOA 
</p>
<p>40A 
</p>
<p>30A 
</p>
<p>20 A 
</p>
<p>lOA 
</p>
<p>0 
</p>
<p>0 
</p>
<p>v(t) 
</p>
<p>lOV 
</p>
<p>0 
</p>
<p>-lOY 
</p>
<p>-20 V 
</p>
<p>-30V 
</p>
<p>-40 V 
</p>
<p>-SOV 
</p>
<p>-60 V 
</p>
<p>0 
</p>
<p>7.4 Circuit Averaging and Averaged Switch Modeling 245 
</p>
<p>Waveform obtained by simulation 
of the averaged model 
</p>
<p>/ 
Waveform obtained by simulation 
of the switching circuit model 
</p>
<p>0.2 ms 0.4 ms 0.6ms 
</p>
<p>t 
</p>
<p>0.8 ms 
</p>
<p>Waveform obtained by simulation 
of the averaged model 
</p>
<p>Waveform obtained by simulation 
/ of the switching circuit model 
</p>
<p>0.2 ms 0.4 ms 0 .6 ms 0.8 ms 
</p>
<p>1 ms 
</p>
<p>1 ms 
</p>
<p>1.2 ms 
</p>
<p>1.2 ms 
</p>
<p>Fig. 7.54 Waveforms obtained by simulation of the switching converter circuit shown in Fig. 7.53(a) and by 
</p>
<p>simulation of the averaged circuit model of Fig. 7.53(b) 
</p>
<p>;2 
</p>
<p>::=L 
0 
</p>
<p>VI 
</p>
<p>: 
VI 
</p>
<p>0 5} 
</p>
<p>dT . 
r, 
</p>
<p>0 
</p>
<p>0 
[, 
</p>
<p>Fig. 7.55 Switch waveforms, buck 
</p>
<p>converter switching loss example. </p>
<p/>
</div>
<div class="page"><p/>
<p>246 AC Equivalent Circuit Modeling 
</p>
<p>1 : d(t) 
</p>
<p>+ + 
</p>
<p>Fig. 7.56 Large-signal averaged switch model for the buck converter switching loss example. 
</p>
<p>It is assumed that the diode is "snappy," so that the voltage drop across the diode remains small during 
</p>
<p>the reverse recovery time. After the diode reverse recovery is completed, the diode turns off, and the volt-
</p>
<p>age v2 across the diode quickly jumps to the input voltage v1 = vg. For this simple example, conduction 
</p>
<p>losses and other switching losses are neglected. 
</p>
<p>Let us select v 1 (t) and i2(t) as the independent terminal variables of the two-port switch network, 
</p>
<p>and derive expressions for the averaged dependent terminal waveforms (i1(t))r, and (v2(t))r,&middot; The average 
</p>
<p>value of i1(t) is equal to the area under the i 1(t) waveform, divided by the switching period T,: 
</p>
<p>(il(t) )T, = f, f' im dt = i,( Q, + tr(iit) )T, + dT,(ilt) )T,) 
= QT, + Ttr (ilt))T + d(iz(t))T 
</p>
<p>s s s s 
</p>
<p>(7.159) 
</p>
<p>The quantity d(t) is the effective transistor duty cycle, defined in Fig. 7.55 as the transistor on-time minus 
</p>
<p>the reverse recovery time, divided by the switching period. The average value of v2(t) is equal to: 
</p>
<p>(7.160) 
</p>
<p>Equations (7.159) and (7.160) constitute the averaged terminal relations of the switch network. An equiv-
</p>
<p>alent circuit corresponding to these relationships is constructed in Fig. 7 .56. The generators that depend 
</p>
<p>on the effective transistor duty cycle d(t) are combined into an ideal transformer. To complete the model, 
</p>
<p>the recovered charge Qr and the reverse recovery time tr can be expressed as functions of the current 
</p>
<p>(i2(t))T, [20]. This is a large-signal averaged switch model, which accounts for the switching loss of the 
</p>
<p>idealized waveforms of Fig. 7.55. If desired, this model can be perturbed and linearized in the usual man-
</p>
<p>ner, to obtain a small-signal ac switch model. 
</p>
<p>The model of Fig. 7.56 has the following physical interpretation. The transistor operates with 
</p>
<p>the effective duty cycle d(t). This is the turns ratio of the ideal de transformer, which models the first-
</p>
<p>order switch property of loss less transfer of power from the switch input to the switch output port. The 
</p>
<p>additional current generators model the switching loss. Note that both generators consume power. The 
</p>
<p>total switching loss is: 
</p>
<p>(7.161) 
</p>
<p>These generators also correctly model how the switching loss increases the average switch input current. </p>
<p/>
</div>
<div class="page"><p/>
<p>7.5 The Canonical Circuit Model 247 
</p>
<p>:&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-----------------------&middot;------~ . . . . 
1: D L I 
</p>
<p>+ + 
</p>
<p>C &middot;-&middot;-&middot;&middot;&middot; R v 
</p>
<p>Fig. 7.57 De equivalent circuit model, buck converter switching loss example. 
</p>
<p>By inserting the switch model of Fig. 7.56 into the original converter circuit of Fig. 7.48(a), and by let-
</p>
<p>ting all waveforms be equal to their quiescent values, we obtain the steady-state model of Fig. 7.57. This 
</p>
<p>model predicts that the steady-state output voltage is: 
</p>
<p>(7.162) 
</p>
<p>To find the efficiency, we must compute the average input and output powers. The converter input power 
</p>
<p>is 
</p>
<p>(7.163) 
</p>
<p>The average output power is 
</p>
<p>Pout=Vl2=DV/2 (7.164) 
</p>
<p>Hence the converter efficiency is 
</p>
<p>TJ =pout= 1 
P;, 1 + .i1:._ + ~ 
</p>
<p>DTJ DT, 
</p>
<p>(7.165) 
</p>
<p>Beware, the efficiency is not simply equal to VIDV8 . 
</p>
<p>7.5 THE CANONICAL CIRCUIT MODEL 
</p>
<p>Having discussed several methods for deriving the ac equivalent circuit models of switching converters, 
</p>
<p>let us now pause to interpret the results. All PWM CCM de-de converters perform similar basic func-
</p>
<p>tions. First, they transform the voltage and current levels, ideally with 100% efficiency. Second, they 
</p>
<p>contain low-pass filtering of the waveforms. While necessary to remove the high-frequency switching 
</p>
<p>ripple, this filtering also influences low-frequency voltage and current variations. Third, the converter 
</p>
<p>waveforms can be controlled by variation of the duty cycle. 
</p>
<p>We expect that converters having similar physical properties should have qualitatively similar 
</p>
<p>equivalent circuit models. Hence, we can define a canonical circuit model that correctly accounts for all </p>
<p/>
</div>
<div class="page"><p/>
<p>248 AC Equivalent Circuit Modeling 
</p>
<p>of these basic properties [1-3]. The ac equivalent circuit of any CCM PWM de--de converter can be 
</p>
<p>manipulated into this canonical form. This allows us to extract physical insight, and to compare the ac 
</p>
<p>properties of converters. The canonical model is used in several later chapters, where it is desired to ana-
</p>
<p>lyze converter phenomena in a general manner, without reference to a specific converter. So the canoni--
</p>
<p>cal model allows us to define and discuss the physical ac properties of converters. 
</p>
<p>In this section, the canonical circuit model is developed, based on physical arguments. An 
</p>
<p>example is given which illustrates how to manipulate a converter equivalent circuit into canonical form. 
</p>
<p>Finally, the parameters of the canonical model are tabulated for several basic ideal converters. 
</p>
<p>7.5.1 Development of the Canonical Circuit Model 
</p>
<p>The physical elements of the canonical circuit model are collected, one at a time, in Fig. 7.58. 
</p>
<p>The converter contains a power input port vgCt) and a control input port d(t), as well as a power output 
</p>
<p>port and load having voltage v(t). As discussed in Chapter.3, the basic function of any CCM PWM de--de 
</p>
<p>converter is the conversion of de voltage and current levels, ideally with 100% efficiency. As illustrated 
</p>
<p>in Fig. 7.58(a), we have modeled this property with an ideal de transformer, having effective turns ratio 
</p>
<p>1 :M(D) where M is the conversion ratio. This conversion ratio is a function of the quiescent duty cycle D. 
</p>
<p>As discussed in Chapter 3, this model can be refined, if desired, by addition of resistors and other ele-
</p>
<p>ments that model the converter losses. 
</p>
<p>Slow variations vgCt) in the power input induce ac variations v(t) in the converter output voltage. 
</p>
<p>As illustrated in Fig. 7 .58(b ), we expect these variations also to be transformed by the conversion ratio 
</p>
<p>M(D). 
</p>
<p>The converter must also contain reactive elements that filter the switching harmonics and trans-
</p>
<p>fer energy between the power input and power output ports. Since it is desired that the output switching 
</p>
<p>ripple be small, the reactive elements should comprise a low-pass filter having a cutoff frequency well 
</p>
<p>below the switching frequency. This low-pass characteristic also affects how ac line voltage variations 
</p>
<p>influence the output voltage. So the model should contain an effective low-pass filter as illustrated in Fig. 
</p>
<p>7.58(c). This figure predicts that the line-to-output transfer function is 
</p>
<p>(7.166) 
</p>
<p>where H/s) is the transfer function of the effective low-pass filter loaded by resistance R. When the load 
</p>
<p>is nonlinear, R is the incremental load resistance, evaluated at the quiescent operating point. The effective 
</p>
<p>filter also influences other properties of the converter, such as the small-signal input and output imped-
</p>
<p>ances. It should be noted that the elemental values in the effective low-pass filter do not necessarily coin-
</p>
<p>cide with the physical element values in the converter. In general, the element values, transfer function, 
</p>
<p>and terminal impedances of the effective low-pass filter can vary with quiescent operating point. Exam-
</p>
<p>ples are given in the following subsections. 
</p>
<p>Control input variations, specifically, duty cycle variations d(t), also induce ac variations in the 
</p>
<p>converter voltages and currents. Hence, the model should contain voltage and current sources driven by 
</p>
<p>d(t). In the examples of the previous section, we have seen that both voltage sources and current sources 
</p>
<p>appear, which are distributed around the circuit model. It is possible to manipulate the model such that all 
of the d(t) sources are pushed to the input side of the equivalent circuit. In the process, the sources may 
</p>
<p>become frequency-dependent; an example is given in the next subsection. In general, the sources can be 
</p>
<p>combined into a single voltage source e(s)d(s) and a single current source j(s)d(s) as shown in </p>
<p/>
</div>
<div class="page"><p/>
<p>(a) 
</p>
<p>(c) 
</p>
<p>(d) 
</p>
<p>7.5 The Canonical Circuit Model 249 
</p>
<p>Converter model 
(b) 
</p>
<p>&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;: 
</p>
<p>'&middot; + I &middot;H'----t-----'m : f &middot; 
1 ........................ -.j.. ..................... .J 
</p>
<p>l:M(D) ! 
</p>
<p>, .... ,., 9....---+-----.H I ,:.+ 
...................... .j... ....................... i 
</p>
<p>Power 
input 
</p>
<p>Power 
input 
</p>
<p>Power 
input 
</p>
<p>D 
</p>
<p>Control 
input 
</p>
<p>wad Power 
input 
</p>
<p>:&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;~~;~;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;! 
</p>
<p>1 :M(D) ..-------..... 
</p>
<p>D 
</p>
<p>.Control 
input 
</p>
<p>+ 
</p>
<p>Effective 
</p>
<p>low-pass 
</p>
<p>filter 
</p>
<p>z,.(s) 
- V+v(s) R 
</p>
<p>l ........................ .r ........................................................................ .l 
D 
</p>
<p>Control 
input 
</p>
<p>Z,;(s) -
Effective 
</p>
<p>low-pass 
</p>
<p>filter 
</p>
<p>Load 
</p>
<p>+ 
</p>
<p>z,.(s) 
- V+v(s) R 
</p>
<p>l. .......................... ~ ...................................................................... i 
D+a(s) 
</p>
<p>Control 
input 
</p>
<p>Load 
</p>
<p>wad 
</p>
<p>Fig. 7.58 Development of the canonical circuit model, based on physical arguments: (a) de transformer model, 
(b) inclusion of ac variations, (c) reactive elements introduce effective low-pass filter, (d) inclusion of ac duty cycle 
</p>
<p>variations. </p>
<p/>
</div>
<div class="page"><p/>
<p>250 AC Equivalent Circuit Modeling 
</p>
<p>Fig. 7.58(d). This model predicts that the small-signal control-to-output transfer function is 
</p>
<p>G.is) = ~(s) = e(s) M(D) H.(s) 
d(s) 
</p>
<p>(7.167) 
</p>
<p>This tran~sfer function is found by setting the vgCs) variations to zero, and solving for the dependence of 
</p>
<p>v(s) on d(s). Figure 7.58(d) is the complete canonical circuit, which can model any PWM CCM de-de 
</p>
<p>converter. 
</p>
<p>7.5.2 Example: Manipulation of the Buck-Boost Converter Model into Canonical Form 
</p>
<p>To illustrate the steps in the derivation of the canonical circuit model, let us manipulate the equivalent 
</p>
<p>circuit of the buck-boost converter into canonical form. A small-signal ac equivalent circuit for the buck-
</p>
<p>boost converter is derived in Section 7.2. The result, Fig. 7.16(b), is reproduced in Fig. 7.59. To manipu-
</p>
<p>late this network into canonical form, it is necessary to push all of the independent d(t) generators to the 
</p>
<p>left, while pushing the inductor to the right and combining the transformers. 
</p>
<p>The (Vg - V)d(t) voltage source is in series with the inductor, and hence the positions of these 
</p>
<p>two elements can be interchanged. In Fig. 7.60(a), the voltage source is placed on the primary side of the 
</p>
<p>l:D ideal transformer; this requires dividing by the effective turns ratio D. The output-side Id(t) current 
</p>
<p>source has also been moved to the primary side of the D': 1 transformer. This requires multiplying by the 
</p>
<p>turns ratio liD'. The polarity is also reversed, in accordance with the polarities of the D':l transformer 
</p>
<p>windings. 
</p>
<p>Next, we need to move the I d(t)ID current source to the left of the inductor. This can be done 
</p>
<p>using the artifice illustrated in Fig. 7.60(b). The ground connection of the current source is broken, and 
</p>
<p>the source is connected to node A instead. A second, identical, current source is connected from node A 
</p>
<p>to ground. The second source causes the current flowing into node A to be unchanged, such that the node 
</p>
<p>equations of Figs. 7.60(a) and 7.60(b) are identical. 
</p>
<p>In Fig. 7.60(c), the parallel combination of the inductor and current source is converted into 
</p>
<p>Thevenin equivalent form. The series combination of an inductor and voltage source are obtained. 
</p>
<p>In Fig. 7.60(d), the Jd(t)ID current source is pushed to the primary side of the l:D transformer. 
</p>
<p>The magnitude of the current source is multiplied by the turns ratio D. In addition, the current source is 
</p>
<p>pushed through the (Vg - V)d(t)ID voltage source, using the previously described artifice. The ground 
</p>
<p>connection of the source is moved to node B, and an identical source is connected from node B to ground 
</p>
<p>such that the circuit node equations are unchanged. 
</p>
<p>.L 
(v.- v)dCt) 
</p>
<p>+ 
</p>
<p>v + v(s) R 
</p>
<p>Fig. 7.59 Small-signal ac model of the buck-boost converter, before manipulation into canonical form. </p>
<p/>
</div>
<div class="page"><p/>
<p>7.5 The Canonical Circuit Model 251 
</p>
<p>(a) 
</p>
<p>(c) 
</p>
<p>(d) 
</p>
<p>V8 - V , 
-od 
</p>
<p>v,- v , 
-od 
</p>
<p>V8 - V , 
-od 
</p>
<p>sL/ J 
D' L 
</p>
<p>L 
</p>
<p>Fig. 7.60 Steps in the manipulation of the buck-boost ac model into canonical form. 
</p>
<p>+ 
</p>
<p>V + v(s) R 
</p>
<p>R 
</p>
<p>+ 
</p>
<p>V + v(s) R 
</p>
<p>+ 
</p>
<p>V + v(s) R </p>
<p/>
</div>
<div class="page"><p/>
<p>252 AC Equivalent Circuit Modeling 
</p>
<p>Fig. 7.61 The buck-boost converter model, in canonical form. 
</p>
<p>Effective 
low-pass 
</p>
<p>'&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-~-~~~~---&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;' 
</p>
<p>+ 
</p>
<p>v + v(s) R 
</p>
<p>Figure 7.61 is the final form of the model. The inductor is moved to the secondary side of the 
</p>
<p>D':1 transformer, by multiplying by the square of the turns ratio as shown. The sLid(t)ID' voltage source 
</p>
<p>is moved to the primary side of the 1:D transformer, by dividing by the turns ratio D. The voltage and 
</p>
<p>current sources are combined as shown, and the two transformers are combined into a single D':D trans-
</p>
<p>former. The circuit is now in canonical form. 
</p>
<p>It can be seen that the inductance of the effective low-pass filter is not simply equal to the phys-
</p>
<p>ical inductor value L, but rather is equal to LID'2. At different quiescent operating points, with different 
</p>
<p>values of D', the value of the effective inductance will change. In consequence, the transfer function, 
</p>
<p>input impedance, and output impedance of the effective low-pass filter will also vary with quiescent 
</p>
<p>operating point. The reason for this variation is the transformation of the inductance value by the effec-
</p>
<p>tive D':l transformer. 
</p>
<p>It can also be seen from Fig. 7.61 that the coefficient of the d(t) voltage generator is 
</p>
<p>(7.168) 
</p>
<p>This expression can be simplified by substitution of the de relationships (7 .29). The result is 
</p>
<p>(7.169) 
</p>
<p>When we pushed the output-side Jd(t) current source through the inductor, we obtained a voltage source 
</p>
<p>having a frequency dependence. In consequence, the e(s)d voltage generator is frequency-dependent. 
</p>
<p>7.5.3 Canonical Circuit Parameter Values for Some Common Converters 
</p>
<p>For ideal CCM PWM de-de converters containing a single inductor and capacitor, the effective low-pass 
</p>
<p>filter of the canonical model should contain a single inductor and a single capacitor. The canonical model 
</p>
<p>then reduces to the circuit of Fig. 7.62. It is assumed that the capacitor is connected directly across the 
</p>
<p>load. The parameter values for the basic buck, boost, and buck-boost converters are collected in Table 
</p>
<p>7.1. Again, it should be pointed out that the effective inductance Le depends not only on the physical </p>
<p/>
</div>
<div class="page"><p/>
<p>7.6 Modeling the Pulse- Width Modulator 253 
</p>
<p>e(s)d(s) 
</p>
<p>+ 
</p>
<p>V + v(s) R 
</p>
<p>Fig. 7.62 The canonical model, for ideal CCM converters containing a single inductor and capacitor. 
</p>
<p>Table 7.1 Canonical model parameters for the ideal buck, boost and buck-boost converters 
</p>
<p>Converter M(D) Le e(s) j(s) 
</p>
<p>Buck D L v v 
D2 R 
</p>
<p>Boost 1 L v(1-A_) _L 
D' D'2 D'2R D' 2R 
</p>
<p>Buck-boost D L V ( 1 sDL) v - D' D'z - D 2 - D' 2R - D' 2R 
</p>
<p>inductor valueL, but also on the quiescent duty cycle D. Furthermore, the current flowing in the effective 
</p>
<p>inductance Le does not in general coincide with the physical inductor current I+ i(t). 
</p>
<p>The model of Fig. 7.62 can be solved using conventional linear circuit analysis, to find quanti-
</p>
<p>ties of interest such as the converter transfer functions, input impedance, and output impedance. Trans-
</p>
<p>former isolated versions of the buck, boost, and buck-boost converters, such as the full bridge, forward, 
</p>
<p>and fly back converters, can also be modeled using the equivalent circuit of Fig. 7.62 and the parameters 
</p>
<p>of Table 7.1, provided that one correctly accounts for the transformer turns ratio. 
</p>
<p>7.6 MODELING THE PULSE-WIDTH MODULATOR 
</p>
<p>We have now achieved the goal, stated at the beginning of this chapter, of deriving a useful equivalent 
</p>
<p>circuit model for the switching converter in Fig. 7.1. One detail remains: modeling the pulse-width mod-
</p>
<p>ulator. The pulse-width modulator block shown in Fig. 7.1 produces a logic signal 8(t) that commands 
</p>
<p>the converter power transistor to switch on and off. The logic signal 8(t) is periodic, with frequency fs and 
duty cycle d(t). The input to the pulse-width modulator is an analog control signal vJt). The function of 
</p>
<p>the pulse-width modulator is to produce a duty cycle d(t) that is proportional to the analog control volt-</p>
<p/>
</div>
<div class="page"><p/>
<p>254 AC Equivalent Circuit Modeling 
</p>
<p>Sawtooth 
</p>
<p>wave 
</p>
<p>generator 
</p>
<p>Analog 
input 
</p>
<p>v /t) o-------1 
</p>
<p>Fig. 7.63 A simple pulse-width modulator circuit. 
</p>
<p>age vc(t). 
</p>
<p>Comparator 
</p>
<p>o(t) 
</p>
<p>PWM 
waveform 
</p>
<p>A schematic diagram of a simple pulse-width modulator circuit is given in Fig. 7.63. A saw-
</p>
<p>tooth wave generator produces the voltage waveform vsaw(t) illustrated in Fig. 7.64. The .peak-to-peak 
</p>
<p>amplitude of this waveform is V M&middot; The converter switching frequency fs is determined by and equal to the 
frequency of vmw(t). An analog comparator compares the analog control voltage vc(t) to vsaw(t). This 
</p>
<p>comparator produces a logic-level output which is high whenever vc(t) is greater than vsaw(t), and is oth-
</p>
<p>erwise low. Typical waveforms are illustrated in Fig. 7.64. 
</p>
<p>If the sawtooth waveform vmw(t) has minimum value zero, then the duty cycle will be zero 
</p>
<p>whenever vc(t) is less than or equal to zero. The duty cycle will beD= 1 whenever vc(t) is greater than or 
</p>
<p>equal to VM. If, over a given switching period, vsaw(t) varies linearly with t, then for 0::; vc(t)::; VM the 
</p>
<p>duty cycle d will be a linear function of v c&middot; Hence, we can write 
</p>
<p>d(t) = v/t) c 0 &lt; ( ) &lt; V V M 10f _ Vc t _ M (7.170) 
</p>
<p>VM .................................. . 
</p>
<p>0 
</p>
<p>0(1)1 
</p>
<p>I I I [. 
0 dT, Ts 
</p>
<p>Fig. 7.64 Waveforms of the circuit of Fig. 7.63. </p>
<p/>
</div>
<div class="page"><p/>
<p>7.6 Modeling the Pulse-Width Modulator 255 
</p>
<p>Fig. 7.65 Pulse-width modulator block diagram. 
</p>
<p>1 
VM 
</p>
<p>Pulse-width 
modulator 
</p>
<p>This equation is the input-output characteristic of the pulse-width modulator [2,11]. 
</p>
<p>To be consistent with the perturbed-and-linearized converter models of the previous sections, 
</p>
<p>we can perturb Eq. (7.170). Let 
</p>
<p>vc&lt;t) = vc + vc(t) 
</p>
<p>d(t) = D + d(t) 
</p>
<p>Insertion ofEq. (7.171) into Eq. (7.170) leads to 
</p>
<p>(7.171) 
</p>
<p>(7.172) 
</p>
<p>A block diagram representing Eq. (7 .172) is illustrated in Fig. 7 .65. The pulse-width modulator has lin-
</p>
<p>ear gain l!V M' By equating like terms on both sides of Eq. (7 .172), one obtains 
</p>
<p>(7.173) 
</p>
<p>So the quiescent value of the duty cycle is determined in practice by Vc. 
The pulse-width modulator model of Fig. 7.65 is sufficiently accurate for nearly all applica-
</p>
<p>tions. However, it should be pointed out that pulse-width modulators also introduce sampling of the 
waveform. Although the analog input signal v c(t) is a continuous function of time, there can be only one 
discrete value of the duty cycle during every switching period. Therefore, the pulse-width modulator 
samples the waveform, with sampling rate equal to the switching frequency fs. Hence, a more accurate 
modulator block diagram is as in Fig. 7.66 [10]. In practice, this sampling restricts the useful frequencies 
of the ac variations to values much less than the switching frequency. The designer must ensure that the 
bandwidth of the control system be sufficiently less than the Nyquist rate fs/2. 
</p>
<p>Significant high-frequency variations in the control signal v/t) can also alter the behavior of the 
</p>
<p>pulse-width modulator. A common example is when vc(t) contains switching ripple, introduced by the 
</p>
<p>feedback loop. This phenomenon has been analyzed by several authors [10,19], and effects of inductor 
</p>
<p>current ripple on the transfer functions of current-programmed converters are investigated in Chapter 12. 
But it is generally best to avoid the case where vc(t) contains significant components at the switching fre-
</p>
<p>quency or higher, since the pulse-width modulators of such systems exhibit poor noise immunity. </p>
<p/>
</div>
<div class="page"><p/>
<p>256 AC Equivalent Circuit Modeling 
</p>
<p>1 
VM 
</p>
<p>Sampler 
-_# d 
~ o--+---1.,~ 
</p>
<p>Pulse-width modulator 
:. ................................................................ J 
</p>
<p>Fig. 7.66 A more accurate pulse-width modulator model, including sampling. 
</p>
<p>7.7 
</p>
<p>1. 
</p>
<p>SUMMARY OF KEY POINTS 
</p>
<p>The CCM converter analytical techniques of Chapters 2 and 3 can be extended to predict converter ac 
</p>
<p>behavior. The key step is to average the converter waveforms over one switching period. This removes the 
</p>
<p>switching harmonics, thereby exposing directly the desired de and low-frequency ac components of the 
</p>
<p>waveforms. In particular, expressions for the averaged inductor voltages, capacitor currents, and converter 
</p>
<p>input current are usually found. 
</p>
<p>2. Since switching converters are nonlinear systems, it is desirable to construct small-signallinearized mod-
</p>
<p>els. This is accomplished by perturbing and linearizing the averaged model about a quiescent operating 
</p>
<p>point. 
</p>
<p>3. Ac equivalent circuits can be constructed, in the same manner used in Chapter 3 to construct de equivalent 
</p>
<p>circuits. If desired, the ac equivalent circuits may be refined to account for the effects of converter losses 
</p>
<p>and other nonidealities. 
</p>
<p>4. The state-space averaging method of Section 7.3 is essentially the same as the basic approach of Section 
</p>
<p>7 .2, except that the formality of the state-space network description is used. The general results are listed 
</p>
<p>in Section 7.3.2. 
</p>
<p>5. The circuit averaging technique also yields equivalent results, but the derivation involves manipulation of 
</p>
<p>circuits rather than equations. Switching elements are replaced by dependent voltage and current sources, 
</p>
<p>whose waveforms are defined to be identical to the switch waveforms of the actual circuit. This leads to a 
</p>
<p>circuit having a time-invariant topology. The waveforms are then averaged to remove the switching ripple, 
</p>
<p>and perturbed and linearized about a quiescent operating point to obtain a small-signal model. 
</p>
<p>6. When the switches are the only time-varying elements in the converter, then circuit averaging affects only 
</p>
<p>the switch network. The converter model can then be derived by simply replacing the switch network with 
</p>
<p>its averaged model. De and small-signal ac models of several common CCM switch networks are listed in 
</p>
<p>Section 7.4.4. Conduction and switching losses can also be modeled using this approach. 
</p>
<p>7. The canonical circuit describes the basic properties shared by all de-de PWM converters operating in the 
</p>
<p>continuous conduction mode. At the heart of the model is the ideal 1 :M(D) transformer, introduced in 
</p>
<p>Chapter 3 to represent the basic de-de conversion function, and generalized here to include ac variations. 
</p>
<p>The converter reactive elements introduce an effective low-pass filter into the network. The model also 
</p>
<p>includes independent sources that represent the effect of duty cycle variations. The parameter values in the 
</p>
<p>canonical models of several basic converters are tabulated for easy reference. 
</p>
<p>8. The conventional pulse-width modulator circuit has linear gain, dependent on the slope of the sawtooth 
</p>
<p>waveform, or equivalently on its peak-to-peak magnitude. </p>
<p/>
</div>
<div class="page"><p/>
<p>References 257 
</p>
<p>REFERENCES 
</p>
<p>[1] R. D. MIDDLEBROOK and SLOBODAN CUK, "A General Unified Approach to Modeling Switching-Con-
</p>
<p>verter Power Stages," International Journal of Electronics, Vol. 42, No.6, pp. 521-550, June 1977. 
</p>
<p>[2] SLOBODAN CUK, "Modeling, Analysis, and Design of Switching Converters," Ph.D. thesis, California 
</p>
<p>Institute of Technology, November 1976. 
</p>
<p>[3] R. D. MIDDLEBROOK AND SLOBODAN CUK, "Modeling and Analysis Methods for De-to-De Switching 
</p>
<p>Converters," Proceedings of the IEEE International Semiconductor Power Converter Conference, 1977 
</p>
<p>Record, pp. 90-111, March 1977. Reprinted in Advances in Switched-Mode Power Conversion, Vol. 1, Irv-
</p>
<p>ine: Teslaco, 1983. 
</p>
<p>[4] G. W. WESTER and R. D. MIDDLEBROOK, "Low-Frequency Characterization of Switched De-De Convert-
</p>
<p>ers," IEEE Transactions an Aerospace and Electronic Systems, Vol. AES-9, pp. 376-385, May 1973. 
</p>
<p>[5] DANIEL M. MITCHELL, De-De Switching Regulator Analysis, New York: McGraw-Hill, 1988. 
</p>
<p>(6] SETH R. SANDERS and GEORGE C. VERGESE, "Synthesis of Averaged Circuit Models for Switched Power 
</p>
<p>Converters," IEEE Transactions on Circuits and Systems, Vol. 38, No.8, pp. 905-915, August 1991. 
</p>
<p>[7] P. T. KREIN, J. BENTSMAN, R. M. BASS, and B. C. LESIEUTRE, "On the Use of Averaging for the Analysis 
</p>
<p>of Power Electronic Systems," IEEE Transactions on Power Electronics, Vol. 5, No.2, pp. 182-190, April 
</p>
<p>1990. 
</p>
<p>[8] B. LEHMAN and R. M. BASS, "Switching Frequency Dependent Averaged Models for PWM DC-DC Con-
</p>
<p>verters," IEEE Transactions on Power Electronics, Vol. 11, No. 1, pp. 89-98, January 1996. 
</p>
<p>[9] R. M. BASS and J. SUN, "Averaging Under Large-Ripple Conditions," IEEE Power Electronics Specialists 
</p>
<p>Conference, 1998 Record, pp. 630-632, May 1998. 
</p>
<p>[10] ARTHUR R. BROWN and R. D. MIDDLEBROOK, "Sampled-Data Modeling of Switching Regulators," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1981 Record, pp. 349-369, June 1981. 
</p>
<p>[11] R. D. MIDDLEBROOK, "Predicting Modulator Phase Lag in PWM Converter Feedback Loops," Proceed-
</p>
<p>ings of the Eighth National Solid-State Power Conversion Conference (Powercon 8), April1981. 
</p>
<p>[12] A. K!SLOVSKI, R. REDL, AND N. SOKAL, Dynamic Analysis of Switching-Mode DC/DC Converters, New 
</p>
<p>York: Van Nostrand Reinhold, 1994. 
</p>
<p>[13] R. TYMERSKI and V. VORPERIAN, "Generation, Classification and Analysis of Switched-Mode DC-to-DC 
</p>
<p>Converters by the Use of Converter Cells," Proceedings of the 1986 International Telecommunications 
</p>
<p>Energy Conference (INTELEC'86), pp. 181-195, October 1986. 
</p>
<p>[14] V. VORPERIAN, R. TYMERSKI, and F. C. LEE, "Equivalent Circuit Models for Resonant and PWM 
</p>
<p>Switches," IEEE Transactions on Power Electronics, Vol. 4, No.2, pp. 205-214, April1989. 
</p>
<p>[15] V. VORPERIAN, "Simplified Analysis of PWM Converters Using the Model of the PWM Switch: Parts I 
</p>
<p>and II," IEEE Transactions on Aerospace and Electronic Systems, Vol. AES-26, pp. 490-505, May 1990. 
</p>
<p>[16] S. FREELAND and R. D. MIDDLEBROOK, "A Unified Analysis of Converters with Resonant Switches," 
</p>
<p>IEEE Power Electronics Specialists Conference, 1987 Record, pp. 20-30. </p>
<p/>
</div>
<div class="page"><p/>
<p>258 AC Equivalent Circuit Modeling 
</p>
<p>[17] ARTHUR WITULSKI and ROBERT ERICKSON, "Extension of State-Space Averaging to Resonant Switches 
</p>
<p>-and Beyond," IEEE Transactions on Power Electronics, Vol. 5, No. 1, pp. 98-109, January 1990. 
</p>
<p>[18] D. MAKSIMOVIC and S. CUK, "A Unified Analysis of PWM Converters in Discontinuous Modes," IEEE 
</p>
<p>Transactions on Power Electronics, Vol. 6, No.3, pp. 476-490, July 1991. 
</p>
<p>[19] D. J. SHORTT and F. C. LEE, "Extensions of the Discrete-Average Models for Converter Power Stages," 
</p>
<p>IEEE Power Electronics Specialists Conference, 1983 Record, pp. 23-37, June 1983. 
</p>
<p>[20] 0. AL-NASEEM and R.W. ERICKSON, "Prediction of Switching Loss Variations by Averaged Switch Mod-
</p>
<p>eling," IEEE Applied Power Electronics Conference, 2000 Record, pp. 242-248, February 2000. 
</p>
<p>PROBLEMS 
</p>
<p>7.1 An ideal boost converter operates in the continuous conduction mode. 
</p>
<p>(a) Determine the nonlinear averaged equations of this converter. 
</p>
<p>(b) Now construct a small-signal ac model. Let 
</p>
<p>(vg{t)) Ts = Vg + vg{t) 
</p>
<p>d(t) = D + J(t) 
(i(t))T =I+i(t) 
</p>
<p>s 
</p>
<p>(v{tl)r =V+v(t) 
s 
</p>
<p>where V8, D, I, and V are steady-state de values; v8(t) and d(t) are small ac variations in the power and 
control inputs; and i(t) and O(t) are the resulting small ac variations in the inductor current and output 
</p>
<p>voltage, respectively. Show that the following model results: 
</p>
<p>Large-signal de components 
</p>
<p>Small-signal ac components 
</p>
<p>O=-D'V + vg 
</p>
<p>O=D'I -* 
</p>
<p>L d~~) =- D'v(t) + V J(t) + v8(t) 
</p>
<p>c dv(t) = D'i(t)- I d(t)- v(t) 
dt R 
</p>
<p>7.2 Construct an equivalent circuit that corresponds to the boost converter small-signal ac equations derived 
</p>
<p>in Problem 7.1 (b). 
</p>
<p>7.3 Manipulate your boost converter equivalent circuit of Problem 7.2 into canonical form. Explain each 
</p>
<p>step in your derivation. Verify that the elements in your canonical model agree with Table 7 .1. 
</p>
<p>7.4 The ideal current-fed bridge converter of Fig. 2.31 operates in the continuous conduction mode. 
</p>
<p>(a) Determine the nonlinear averaged equations of this converter. 
</p>
<p>(b) Perturb and linearize these equations, to determine the small-signal ac equations of the con-
</p>
<p>verter. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 259 
</p>
<p>+ 
</p>
<p>R v(t) 
</p>
<p>Fig. 7.67 Inverse SEPIC. Problem 7.7. 
</p>
<p>(c) Construct a small-signal ac equivalent circuit model for this converter. 
</p>
<p>7.5 Construct a complete small-signal ac equivalent circuit model for the fly back converter shown in Fig. 
</p>
<p>7 .18, operating in continuous conduction mode. The transformer contains magnetizing inductance L, 
</p>
<p>referred to the primary. In addition, the transformer exhibits significant core loss, which can be modeled 
</p>
<p>by a resistor Rc in parallel with the primary winding. All other elements are ideal. You may use any valid 
</p>
<p>method to solve this problem. Your model should correctly predict variations in igCt). 
</p>
<p>7.6 Modeling the Cuk converter. You may use any valid method to solve this problem. 
</p>
<p>(a) Derive the small-signal dynamic equations that model the ideal Cuk converter. 
</p>
<p>(b) Construct a complete small-signal equivalent circuit model for the Cuk converter. 
</p>
<p>7.7 Modeling the inverse-SEPIC. You may use any valid method to solve this problem. 
</p>
<p>(a) Derive the small-signal dynamic equations that model the converter shown in Fig. 7.67. 
</p>
<p>(b) Construct a complete small-signal equivalent circuit model for the inverse-SEPIC. 
</p>
<p>7.8 Consider the nonideal buck converter of Fig. 7.68. The input voltage source vgCt) has internal resistance 
</p>
<p>R8 &bull; Other component nonidealities may be neglected. 
</p>
<p>(a) Using the state-space averaging method, determine the small-signal ac equations that describe 
</p>
<p>variations in i, v, and i8, which occur owing to variations in the transistor duty cycled and input 
voltage v8&bull; 
</p>
<p>(b) Construct an ac equivalent circuit model corresponding to your equations of part (a). 
</p>
<p>(c) Solve your model to determine an expression for the small-signal control-to-output transfer 
</p>
<p>function. 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>R v(t) 
</p>
<p>Fig. 7.68 Nonideal buck converter, Problem 7.8. 
</p>
<p>7.9 Use the circuit-averaging technique to derive the de and small-signal ac equivalent circuit of the buck 
</p>
<p>converter with input filter, illustrated in Fig. 2.32. All elements are ideal. </p>
<p/>
</div>
<div class="page"><p/>
<p>260 AC Equivalent Circuit Modeling 
</p>
<p>(a) 
</p>
<p>2 
</p>
<p>(b) L 
</p>
<p>+ 
</p>
<p>R v(t) 
</p>
<p>Fig. 7.69 . Bridge inverter, Problem 7.11: (a) circuit, (b) large-signal averaged model. 
</p>
<p>7.10 A flyback converter operates in the continuous conduction mode; The MOSFET switch has on-resis-
</p>
<p>tance Ron' and the secondary-side diode has a constant forward voltage drop V0 . The fly back transformer 
</p>
<p>has primary winding resistance RP and secondary winding resistance R8 &bull; 
</p>
<p>(a) Derive the small-signal ac equations for this converter. 
</p>
<p>(b) Derive a complete small-signal ac equivalent circuit model, which is valid in the continuous con-
</p>
<p>duction mode and which correctly models the above losses, as well as the converter input and 
</p>
<p>output ports. 
</p>
<p>7.11 Circuit averaging of the bridge inverter circuit of Fig. 7.69(a). 
</p>
<p>(a) Show that the converter of Fig. 7.69(a) can be written in the electrically identical form shown in 
</p>
<p>Fig. 7.69(b). Sketch the waveforms i1(t) and v1(t). 
</p>
<p>(b) Use the circuit-averaging method to derive a large-signal averaged model for this converter. 
</p>
<p>(c) Perturb and linearize your circuit model of part (b), to obtain a single equivalent circuit that 
</p>
<p>models de and small-signal ac signals in the bridge inverter. 
</p>
<p>7.12 Use the circuit averaging method to derive an equivalent circuit that models de and small-signal ac sig-
</p>
<p>nals in the buck-boost converter. You may assume that the converter operates in the continuous conduc-
</p>
<p>tion mode, and that all elements are ideal. 
</p>
<p>(a) Give a time-invariant electrically identical circuit, in which the switching elements are replaced 
</p>
<p>by equivalent voltage and current sources. Define the waveforms of the sources. 
</p>
<p>(b) Derive a large-signal averaged model for this converter. 
</p>
<p>(c) Perturb and linearize your circuit model of part (b), to obtain a single equivalent circuit that 
</p>
<p>models de and small-signal ac signals in the buck-boost converter. 
</p>
<p>7.13 The two-output flyback converter of Fig. 7.70(a) operates in the continuous conduction mode. It may be 
</p>
<p>assumed that the converter is lossless. 
</p>
<p>(a) Derive a small-signal ac equivalent circuit for this converter. 
</p>
<p>(b) Show that the small-signar ac equivalent circuit for this two-output converter can be written in 
</p>
<p>the generalized canonical form of Fig. 7.70(b). Give analytical expressions for the generators 
</p>
<p>e(s) andj(s). 
</p>
<p>7.14 A pulse-width modulator circuit is constructed in which the sawtooth-wave generator is replaced by a 
</p>
<p>triangle-wave generator, as illustrated in Fig. 7.7l(a). The triangle waveform is illustrated in Fig. 
</p>
<p>7.71(b). </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 261 
</p>
<p>(a) 
</p>
<p>ip + 
</p>
<p>L 
v1(t) 
</p>
<p>vgCt) + -
+ 
</p>
<p>-I v2(t) 
</p>
<p>(b) e(s)d(s) 
</p>
<p>+ 
</p>
<p>Fig. 7.70 Two-output ftyback converter, Problem 7.13: (a) converter circuit, (b) small-signal ac 
</p>
<p>equivalent circuit. 
</p>
<p>Fig. 7.71 Pulse-width 
</p>
<p>modulator, Problem 7.14. 
</p>
<p>(a) ....--------., 
</p>
<p>(b) 
</p>
<p>Triangle 
</p>
<p>wave 
</p>
<p>generator 
</p>
<p>Analog 
input 
</p>
<p>Comparator 
</p>
<p>b(t) 
</p>
<p>PWM 
waveform </p>
<p/>
</div>
<div class="page"><p/>
<p>262 AC Equivalent Circuit Modeling 
</p>
<p>(a) Determine the converter switching frequency, in Hz. 
</p>
<p>(b) Determine the gain d(t)lv c(t) for this circuit. 
</p>
<p>(c) Over what range ofvc is your answer to (b) valid? 
</p>
<p>7.15 Use the averaged switch modeling technique to derive an ac equivalent circuit model for the buck-boost 
</p>
<p>converter of Fig. 7.31: 
</p>
<p>(a) Replace the switches in Fig. 7.31 with the averaged switch model given in Fig. 7.50(c). 
</p>
<p>(b) Compare your result with the model given in Fig. 7.16(b). Show that the two models predict the 
</p>
<p>same small-signalline-to-output transferfunction Gv8(s) = V!v8&bull; 
</p>
<p>7.16 Modify the CCM de and small-signal ac averaged switch models of Fig. 7.50, to account for MOSFET 
</p>
<p>on-resistance Ron and diode forward voltage drop V 0 . 
</p>
<p>7.17 Use the averaged switch modeling technique to derive a de and ac equivalent circuit model for the fly-
</p>
<p>back converter of Fig. 7.18. You can neglect all losses and the transformer leakage inductances. 
</p>
<p>(a) Define a switch network containing the transistor Q1 and the diode D1 as in Fig. 7.39(a). Derive 
</p>
<p>a large-signal averaged switch model of the switch network. The model should account for the 
</p>
<p>transformer turns ratio n. 
</p>
<p>(b) Perturb and linearize the model you derived in part (a) to obtain the de and ac small-signal aver-
</p>
<p>aged switch model. Verify that for n = 1 your model reduces to the model shown in Fig. 7.39(d). 
</p>
<p>(c) Using the averaged switch model you derived in part (b), sketch a complete de and small-signal 
</p>
<p>ac model of the fly back converter. Solve the model for the steady-state conversion ratio M(D) = 
V/V8&bull; 
</p>
<p>(d) The averaged switch models you derived in parts (a) and (b) could be used in other converters 
</p>
<p>having an isolation transformer. Which ones? 
</p>
<p>7.18 In the flyback converter of Fig. 7.18, the transistor on-resistance is Ron' and the diode forward voltage 
</p>
<p>drop is V 0 . Other losses and the transformer leakage inductances can be neglected. Derive a de and 
small-signal ac averaged switch model for the switch network containing the transistor Q 1 and the diode 
</p>
<p>D1. The model should account for the on-resistance Ron' the diode forward voltage drop V0 , and the 
</p>
<p>transformer turns ratio n. 
</p>
<p>7.19 In the boost converter of Fig. 7.72(a), the v1(t) and iit) waveforms of Fig. 7.72(b) are observed. During 
</p>
<p>the transistor turn-on transition, a reverse current flows through the diode which removes the diode 
</p>
<p>stored charge. As illustrated in Fig. 7.72(b), the reverse current spike has area- Q, and duration t,. The 
inductor winding has resistance RL" You may neglect all losses other than the switching loss due to the 
</p>
<p>diode stored charge and the conduction loss due to the inductor winding resistance. 
</p>
<p>(a) Derive an averaged switch model for the boost switch network in Fig. 7.72(a). 
</p>
<p>(b) Use your result of part (a) to sketch a de equivalent circuit model for the boost converter. 
</p>
<p>(c) The diode stored charge can be expressed as a function of the current / 1 as: 
</p>
<p>while the reverse recovery timet, is approximately constant. Given V8 = 100 V, D = 0.5,fs = 100kHz, 
kq = 100 nC/A 112, t, = 100 ns, RL = 0.1 Q, use a de sweep simulation to plot the converter efficiency as a 
function of the load current /LOAD in the range: 
</p>
<p>1 A-5,/LOAD-5, lOA </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 263 
</p>
<p>t&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;1 
</p>
<p>(a) 
: : 
</p>
<p>+ + 
</p>
<p>v(t) 
</p>
<p>(b) 
</p>
<p>------- T, 
</p>
<p>Area - Q, 
</p>
<p>Fig. 7.72 Boost converter and waveforms illustrating reverse recovery of the diode. Averaged switch 
</p>
<p>modeling in this converter is addressed in Problem 7.19. </p>
<p/>
</div>
<div class="page"><p/>
<p>8 
Converter Transfer Functions 
</p>
<p>The engineering design process is comprised of several major steps: 
</p>
<p>1. Specifications and other design goals are defined. 
</p>
<p>2. A circuit is proposed. This is a creative process that draws on the physical insight and experience of the 
</p>
<p>engineer. 
</p>
<p>3. The circuit is modeled. The converter power stage is modeled as described in Chapter 7. Components and 
</p>
<p>other portions of the system are modeled as appropriate, often with vendor-supplied data. 
</p>
<p>4. Design-oriented analysis of the circuit is performed. This involves development of equations that allow 
</p>
<p>element values to be chosen such that specifications and design goals are met. In addition, it may be neces-
</p>
<p>sary for the engineer to gain additional understanding and physical insight into the circuit behavior, so that 
</p>
<p>the design can be improved by adding elements to the circuit or by changing circuit connections. 
</p>
<p>5. Model verification. Predictions of the model are compared to a laboratory prototype, under nominal oper-
</p>
<p>ating conditions. The model is refined as necessary, so that the model predictions agree with laboratory 
</p>
<p>measurements. 
</p>
<p>6. Worst-case analysis (or other reliability and production yield analysis) of the circuit is performed. This 
</p>
<p>involves quantitative evaluation of the model performance, to judge whether specifications are met under 
</p>
<p>all conditions. Computer simulation is well-suited to this task. 
</p>
<p>7. Iteration. The above steps are repeated to improve the design until the worst-case behavior meets specifi-
</p>
<p>cations, or until the reliability and production yield are acceptably high. 
</p>
<p>This chapter covers techniques of design-oriented analysis, measurement of experimental transfer func-
</p>
<p>tions, and computer simulation, as needed in steps 4, 5, and 6. 
</p>
<p>Sections 8.1 to 8.3 discuss techniques for analysis and construction of the Bode plots of the con-
</p>
<p>verter transfer functions, input impedance, and output impedance predicted by the equivalent circuit </p>
<p/>
</div>
<div class="page"><p/>
<p>266 Converter Transfer Functions 
</p>
<p>L 
Output 
</p>
<p>Line + 
input 
</p>
<p>vgCs) v(s) R zou/s) --
! 
</p>
<p>d(s) I Control input 
Fig. 8.1 Small-signal equivalent circuit model of the buck-boost converter, as derived in Chapter 7. 
</p>
<p>models of Chapter 7. For example, the small-signal equivalent circuit model of the buckcboost converter 
</p>
<p>is illustrated in Fig. 7.17(c). This model is reproduced in Fig. 8.1, with the important inputs and terminal 
</p>
<p>imped~nces identified. The line-to-output transfer function GvgCs) is found by setting duty cycle varia-
</p>
<p>tions d(s) to zero, and then solving for the transfer function from vg(s) to v(s): 
</p>
<p>(8.1) 
</p>
<p>This transfer function describes how variations or disturbances in the applied input voltage vgCt) lead to 
</p>
<p>disturbances in the output voltage v(t). It is important in design of an output voltage regulator. For exam-
</p>
<p>ple, in an off-line power supply, the converter input voltage vgCt) contains undesired even harmonics of 
</p>
<p>the ac power line voltage. The transfer function GvgCs) is used to determine the effect of these harmonics 
</p>
<p>on the converter output voltage v(t). 
</p>
<p>The control-to-output transfer function Gvis) is found by setting the inp~t voltage variations 
vgCs) to zero, and then solving the equivalent circuit model for v(s) as a function of d(s): 
</p>
<p>(8.2) 
</p>
<p>This transfer function describes how control input variations d(s) influence the output voltage v(s). In an 
</p>
<p>output voltage regulator system, Gvis) is a key component of the loop gain and has a significant effect on 
</p>
<p>regulator performance. 
</p>
<p>The output impedance Zou/s) is found under the conditions that vgCs) and d(s) variations are set 
</p>
<p>to zero. Zou/s) describes how variations in the load current affect the output voltage. This quantity is also 
</p>
<p>important in voltage regulator design. It may be appropriate to define Zm11(s) either including or not 
</p>
<p>including the load resistance R. 
</p>
<p>The converter input impedance Z;11(s) plays a significant role when an electromagnetic interfer-
</p>
<p>ence (EMI) filter is added at the converter power input. The relative magnitudes of Z;11 and the EMI filter 
</p>
<p>output impedance influence whether the EMl filter disrupts the transfer function Gvis). Design of input 
</p>
<p>EMI filters is the subject of Chapter 10. 
</p>
<p>An objective of this chapter is the construction of Bode plots of the important transfer functions 
</p>
<p>and terminal impedances of switching converters. For example, Fig. 8.2 illustrates the magnitude and 
</p>
<p>phase plots of Gvis) for the buck-boost converter model of Fig. 8.1. Rules for construction of magnitude 
</p>
<p>and phase asymptotes are reviewed in Section 8.1, including two types of features that often appear in </p>
<p/>
</div>
<div class="page"><p/>
<p>8.1 Review of Bode Plots 267 
</p>
<p>o&middot; 
</p>
<p>-90' 
</p>
<p>-180' 
</p>
<p>10!, -270' 
+-----+-----+-------1____;::~---------+ -270' 
</p>
<p>1kHz 10kHz 100kHz 1 MHz 
</p>
<p>f 
Fig. 8.2 Bode plot of control-to-output transfer function predicted by the model of Fig. 8.1, with analytical 
expressions for the important features. 
</p>
<p>converter transfer functions: resonances and right half-plane zeroes. Bode diagrams of the small-signal 
</p>
<p>transfer functions of the buck-boost converter are derived in detail in Section 8.2, and the transfer func-
</p>
<p>tions of the basic buck, boost, and buck-boost converters are tabulated. The physical origins of the right 
</p>
<p>half-plane zero are also described. 
</p>
<p>A difficulty usually encountered in circuit analysis (step 5 of the above list) is the complexity of 
</p>
<p>the circuit model: practical circuits may contains hundreds of elements, and hence their analysis may 
</p>
<p>leads to complicated derivations, intractable equations, and lots of algebra mistakes. Design-oriented 
</p>
<p>analysis[!] is a collection of tools and techniques that can alleviate these problems. Some tools for 
</p>
<p>approaching the design of a complicated converter system are described in this chapter. Writing the 
</p>
<p>transfer functions in normalized form directly exposes the important features of the response. Analytical 
</p>
<p>expressions for these features, as well as for the asymptotes, lead to simple equations that are useful in 
</p>
<p>design. We!lcseparated roots of transfer function polynomials can be approximated in a simple way. Sec-
</p>
<p>tion 8.3 describes a graphical method for constructing Bode plots of transfer functions and impedances, 
</p>
<p>essentially by inspection. This method can: (1) reduce the amount of algebra and associated algebra mis-
</p>
<p>takes; (2) lead to greater insight into circuit behavior, which can be applied to design the circuit; and 
</p>
<p>(3) lead to the insight necessary to make suitable approximations that render the equations tractable. 
</p>
<p>Experimental measurement of transfer functions and impedances (needed in step 4, model veri-
</p>
<p>fication) is discussed in Section 8.5. Use of computer simulation to plot converter transfer functions (as 
</p>
<p>needed in step 6, worst-case analysis) is covered in Appendix B. 
</p>
<p>8.1 REVIEW OF BODE PLOTS 
</p>
<p>A Bode plot is a plot of the magnitude and phase of a transfer function or other complex-valued quantity, 
</p>
<p>vs. frequency. Magnitude in decibels, and phase in degrees, are plotted vs. frequency, using semilogarith-
</p>
<p>mic axes. The magnitude plot is effectively a log-log plot, since the magnitude is expressed in decibels 
</p>
<p>and the frequency axis is logarithmic. 
</p>
<p>The magnitude of a dimensionless quantity G can be expressed in decibels as follows: </p>
<p/>
</div>
<div class="page"><p/>
<p>268 Converter Transfer Functions 
</p>
<p>II G lids= 20 log w(ll G II) (8.3) Table 8.1 Expressing magnitudes in decibels 
</p>
<p>Decibel values of some simple magnitudes are 
</p>
<p>listed in Table 8.1. Care must be used when the 
</p>
<p>magnitude is not dimensionless. Since it is not 
</p>
<p>proper to take the logarithm of a quantity having 
</p>
<p>dimensions, the magnitude must first be normal-
</p>
<p>ized. For example, to express the magnitude of 
</p>
<p>an impedance Z in decibels, we should normal-
</p>
<p>ize by dividing by a base impedance Rbase: 
</p>
<p>(8.4) 
</p>
<p>Actual magnitude 
</p>
<p>1/2 
</p>
<p>1 
</p>
<p>2 
</p>
<p>5 = 10/2 
</p>
<p>10 
</p>
<p>1000 = 103 
</p>
<p>Magnitude in dB 
</p>
<p>-6dB 
</p>
<p>OdB 
</p>
<p>6dB 
</p>
<p>20 dB- 6 dB= 14 dB 
</p>
<p>20dB 
</p>
<p>3&middot;20 dB= 60 dB 
</p>
<p>The value of Rbase is arbitrary, but we need to tell others what value we have used. So if II Z II is 5 Q, and 
we choose Rbase = 10 Q, then we can say that II Z /Ids= 20 log10(5 Q/lOQ) =- 6dB with respect to 10 Q. 
A common choice is Rbase = lQ; decibel impedances expressed with Rbase = 1 Q are said to be expressed 
in dBQ. So 5 Q is equivalent to 14 dBQ. Current switching harmonics at the input port of a converter are 
</p>
<p>often expressed in dBJLA, or dB using a base current of 1 JLA: 60 dBJLA is equivalent to 1000 JLA, or 
1 rnA. 
</p>
<p>The magnitude Bode plots of functions equal to powers off are linear. For example, suppose 
</p>
<p>that the magnitude of a dimensionless quantity G(j) is 
</p>
<p>(!)" 11&deg;11= To (8.5) 
</p>
<p>where fo and n are constants. The magnitude in decibels is 
</p>
<p>(8.6) 
</p>
<p>This equation is plotted in Fig. 8.3, for several values of n. The magnitudes have value 1 ~ 0 dB at fre-
</p>
<p>quency f = f0&bull; They are linear functions of log10(j). The slope is the change in 1/ G /Ids arising from a unit 
change in log 10(j); a unit increase in log10(j) corresponds to a factor of 10, or decade, increase inf From 
</p>
<p>Eq. (8.6), a decade increase infleads to an increase in II G /Ids of 20n dB. Hence, the slope is 20n dB per 
decade. Equivalently, we can say that the slope is 20n log10(2)"' 6n dB per octave, where an octave is a 
</p>
<p>factor of 2 change in frequency. In practice, the magnitudes of most frequency-dependent functions can 
</p>
<p>usually be approximated over a limited range of frequencies by functions of the form (8.5); over this 
</p>
<p>range of frequencies, the magnitude Bode plot is approximately linear with slope 20n dB/decade. 
</p>
<p>A simple transfer function whose magnitude is of the form (8.5) is the pole at the origin: 
</p>
<p>G(s) =-1-
</p>
<p>( ojo) 
(8.7) 
</p>
<p>The magnitude is </p>
<p/>
</div>
<div class="page"><p/>
<p>8.1 Review of Bode Plots 269 
</p>
<p>O.!fo fo lOfo f 
log scale 
</p>
<p>Fig. 8.3 Magnitude Bode plots of functions which vary as f" are linear, with slope n dB per decade. 
</p>
<p>II G(jcu) II= II L~ II= ( ~o) (8.8) 
</p>
<p>If we define!= wl2n andf0 = oorJ2n, then Eq. (8.8) becomes 
</p>
<p>(8.9) 
</p>
<p>which is of the form of Eq. (8.5) with n = -1. As illustrated in Fig. 8.3, the magnitude Bode plot of the 
</p>
<p>pole at the origin (8.7) has a -20 dB per decade slope, and passes through 0 dB at frequency f = f 0. 
</p>
<p>8.1.1 Single Pole Response 
</p>
<p>Consider the simple R-C low-pass filter illustrated in Fig. 8.4. 
</p>
<p>The transfer function is given by the voltage divider ratio 
</p>
<p>1 
G(s) = v2(s) = sC 
</p>
<p>vt(s) ..l_ + R 
sC 
</p>
<p>(8.1 0) 
</p>
<p>This transfer function is a ratio of voltages, and hence is 
</p>
<p>dimensionless. By multiplying the numerator and denomina-
</p>
<p>tor by sC, we can express the transfer function as a rational 
</p>
<p>fraction: 
</p>
<p>G(s)=~ 1 ~ 
1 +sRC 
</p>
<p>R 
</p>
<p>+ 
</p>
<p>c 
</p>
<p>Fig. 8.4 Simple R-C low-pass filter 
</p>
<p>example. 
</p>
<p>(8.11) </p>
<p/>
</div>
<div class="page"><p/>
<p>270 Converter Transfer Functions 
</p>
<p>The transfer function now coincides with the following standard normalized form for a single pole: 
</p>
<p>G(s)=-1-
</p>
<p>( 1 + ~0) 
(8.12) 
</p>
<p>The parameter w0 = 2nj0 is found by equating the coefficients of sin the denominators ofEqs. (8.11) and 
(8.12). The result is 
</p>
<p>Wo =_j_ 
RC 
</p>
<p>(8.13) 
</p>
<p>Since R and Care real positive quantities, w0 is also real and positive. The denominator of Eq. (8.12) 
contains a root at s = -w0, and hence G(s) contains a real pole in the left half of the complex plane. 
</p>
<p>To find the magnitude and phase of the transfer function, 
</p>
<p>we let s = jw, where j is the square root of -1. We then find the mag- Im( G(jw)) 
G(jw) nitude and phase of the resulting complex-valued function. With s = 
</p>
<p>jw, Eq. (8.12) becomes 
</p>
<p>G(jw) = ( 1 ) 
l+}JQ. 
</p>
<p>Wo 
</p>
<p>(8.14) 
</p>
<p>The complex-valued G(jw) is illustrated in Fig. 8.5, for one value of 
</p>
<p>w. The magnitude is 
</p>
<p>II G(jw) II= J [ Re (G(jw)) ] 2 + [ Im (G(jw)) ] 2 
1 (8.15) 
</p>
<p>Here, we have assumed that w0 is real. In decibels, the magnitude is 
</p>
<p>Re(G(jw)) 
</p>
<p>Fig. 8.5 Magnitude and phase of 
</p>
<p>the complex-valued function G(}W). 
</p>
<p>(8.16) 
</p>
<p>The easy way to sketch the magnitude Bode plot of G is to investigate the asymptotic behavior for large 
</p>
<p>and small frequency. 
</p>
<p>For small frequency, w ~ w0 andf ~f 0 , it is true that 
</p>
<p>(8.17) 
</p>
<p>The (w/w0f term of Eq. (8.15) is therefore much smaller than 1, and hence Eq. (8.15) becomes 
</p>
<p>II G(jw) II~ Jr = 1 (8.18) 
</p>
<p>In decibels, the magnitude is approximately </p>
<p/>
</div>
<div class="page"><p/>
<p>8.1 Review of Bode Plots 271 
</p>
<p>Fig. 8.6 Magnitude asymptotes 
for the single real pole transfer 
function. 
</p>
<p>II G(jro) llctB 
</p>
<p>OdB 0 dB +---..;;,.;;;;;;,... ____ ....,...__ 
</p>
<p>-20dB 
</p>
<p>-40dB 
-20 dB/decade 
</p>
<p>(ff' 
</p>
<p>--60dB+------+-----i------+---------i 
</p>
<p>O.lfo fo lOfo f 
</p>
<p>~ G(jw) ~dB"' OdB (8.19) 
</p>
<p>Thus, as illustrated in Fig. 8.6, at low frequency II G(jro) llctB is asymptotic to 0 dB. 
At high frequency, ro :$ ro0 and f :$ f 0&bull; In this case, it is true that 
</p>
<p>(8.20) 
</p>
<p>We can then say that 
</p>
<p>(8.21) 
</p>
<p>Hence, Eq. (8.15) now becomes 
</p>
<p>(!)-1 ~G(jw)ll"' m fo (8.22) 
This expression coincides with Eq. (8.5), with n = -1. So at high frequency, II G(jro) lldB has slope -20 dB 
per decade, as illustrated in Fig. 8.6. Thus, the asymptotes of II G(jro) II are equal to 1 at low frequency, 
and (f!f0t 1 at high frequency. The asymptotes intersect atf0. The actual magnitude tends toward these 
asymptotes at very low frequency and very high frequency. In the vicinity of the comer frequency f0, the 
actual curve deviates somewhat from the asymptotes. 
</p>
<p>The deviation of the exact curve from the asymptotes can be found by simply evaluating 
Eq. (8.15). At the comer frequency f= f0, Eq. (8.15) becomes 
</p>
<p>1 
</p>
<p>12 (8.23) 
</p>
<p>In decibels, the magnitude is 
</p>
<p>~ G(jw0) II dB = - 20 log 10 ( J 1 + ( ~~) 2 ) "' - 3 dB (8.24) 
So the actual curve deviates from the asymptotes by -3 dB at the comer frequency, as illustrated in 
</p>
<p>Fig. 8.7. Similar arguments show that the actual curve deviates from the asymptotes by -1 dB atf=fof2 </p>
<p/>
</div>
<div class="page"><p/>
<p>272 Converter Transfer Functions 
</p>
<p>II G(jw) llctB 
</p>
<p>Fig. 8.7 Deviation of the actual curve from 
the asymptotes, real pole. 
</p>
<p>o dB i-7"";;~~::::::---,l&middot;::: .. :::::::::I 3 dB 
! .... ..:+!dB 
</p>
<p>fo j .... t 
-lOdB 
</p>
<p>2fo 
</p>
<p>-20dB -20 dB/decade 
</p>
<p>-30dB +----~~~+------~-1 
</p>
<p>f 
and atf= 2/0. 
</p>
<p>The phase of G(jw) is 
</p>
<p>LG(jw) = tan- 1 (Im(GUw))) 
Re(GUw)) 
</p>
<p>(8.25) 
</p>
<p>Insertion of the real and imaginary parts ofEq. (8.14) into Eq. (8.25) leads to 
</p>
<p>LG(jw) =- tan- 1 ( :
0
</p>
<p>) (8.26) 
</p>
<p>This function is plotted in Fig. 8.8. It tends to 0&deg; at low frequency, and to -90&deg; at high frequency. At the 
comer frequency f = / 0, the phase is -45". 
</p>
<p>Since the high-frequency and low-frequency phase asymptotes do not intersect, we need a third 
asymptote to approximate the phase in the vicinity of the comer frequency f0&bull; One way to do this is illus-
</p>
<p>Fig. 8.8 Exact phase 
</p>
<p>plot, single real pole. 
</p>
<p>L.G(jw) 
00 ............. oo asymptote 
</p>
<p>-15&deg; 
</p>
<p>-30&deg; 
</p>
<p>-450 
</p>
<p>-60&deg; 
</p>
<p>-75&deg; 
</p>
<p>-90&deg; -1--'---'-................... '-i---'--'---'-'-........,_,+-__,__,_..__,_u....u.+-.......o:;;::::::.a-~ 
</p>
<p>0.01/0 O.Ifo fo !Ofo 100!0 
</p>
<p>f </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 8.9 One choice for 
</p>
<p>the midfrequency phase 
</p>
<p>asymptote, which cor-
</p>
<p>rectly predicts the actual 
</p>
<p>slope at f = f0. 
</p>
<p>L..G(jw) 
</p>
<p>8.1 Review of Bode Plots 273 
</p>
<p>-30' 
</p>
<p>-45' 
</p>
<p>-60' 
</p>
<p>-75' 
</p>
<p>-90' +---'--'-~.L.LW+-_.._-'--'-'-'-'-'-'+--'--'-~ ........ f-......;;;=-~ 
</p>
<p>0.01/0 0.1/0 fo fb = 4.81/0 100/0 
</p>
<p>f 
</p>
<p>trated in Fig. 8.9, where the slope of the asymptote is chosen to be identical to the slope of the actual 
</p>
<p>curve atf=f0. It can be shown that, with this choice, the asymptote intersection frequencies fa andfb are 
</p>
<p>given by 
</p>
<p>fa= foe-nf2"' 411 
</p>
<p>fi, = foenf2"' 4.81 fo 
</p>
<p>A simpler choice, which better approximates the actual curve, is 
</p>
<p>(8.27) 
</p>
<p>(8.28) 
</p>
<p>This asymptote is compared to the actual curve in Fig. 8.10. The pole causes the phase to change over a 
</p>
<p>frequency span of approximately two decades, centered at the comer frequency. The slope of the asymp-
</p>
<p>tote in this frequency span is -45' per decade. At the break frequencies fa andfb, the actual phase devi-
ates from the asymptotes by tan-1(0.1) = 5.7'. 
</p>
<p>The magnitude and phase asymptotes for the single-pole response are summarized in Fig. 8.11. 
</p>
<p>It is good practice to consistently express single-pole transfer functions in the normalized form 
</p>
<p>of Eq. (8.12). Both terms in the denominator of Eq. (8.12) are dimensionless, and the coefficient of s0 is 
</p>
<p>unity. Equation (8.12) is easy to interpret, because of its normalized form. At low frequencies, where the 
</p>
<p>(s/w0) term is small in magnitude, the transfer function is approximately equal to 1. At high frequencies, 
</p>
<p>where the (s/w0) term has magnitude much greater than 1, the transfer function is approximately (s/w0t 1. 
This leads to a magnitude of (jlfot 1&bull; The comer frequency is f0 = wof2n. So the transfer function is writ-
ten directly in terms of its salient features, that is, its asymptotes and its comer frequency. </p>
<p/>
</div>
<div class="page"><p/>
<p>274 Converter Transfer Functions 
</p>
<p>LG(jw) 
</p>
<p>-Is&middot; 
</p>
<p>-30. 
</p>
<p>-45. -45&middot;----
: ....... ... 
</p>
<p>-6o&middot; \ &middot;&middot; .. 
&middot; ..... 
</p>
<p>-75. -----.....__ __ _ 
</p>
<p>-90. -+----'--'--'--'-'--'-'-'+----'---'--'--'-'U...U.+---'---'---''--'-'--'--'-"l-....;;;:::z:::,.,_"""'"' 
</p>
<p>O.OIJ0 O.IJ0 fo 100/0 
</p>
<p>f 
Fig. 8.10 A simpler choice for the midfrequency phase asymptote, which better approximates the curve over the 
entire frequency range. 
</p>
<p>II G(jw) llctB 
OdB 
</p>
<p>:&middot;:::&middot;&middot;:::::::::J3dB 
</p>
<p>l _____ __+1 dB 
fo i ----, 
</p>
<p>2fo 
</p>
<p>-20 dB/decade 
</p>
<p>-45"/decade 
</p>
<p>-4s&middot;---, 
</p>
<p>fo 
</p>
<p>-9o&middot; 
</p>
<p>Fig. 8.11 Summary of the magnitude and phase Bode plot for the single real pole. </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 8.12 Summary of the 
</p>
<p>magnitude and phase Bode plot 
</p>
<p>for the single real zero. 
</p>
<p>II GUro) llcta 
</p>
<p>8.1.2 Single Zero Response 
</p>
<p>OdB 
</p>
<p>8.1 Rt&lt;View of Bode Plots 275 
</p>
<p>+20 dB/decade 
</p>
<p>+90' 
</p>
<p>A single zero response contains a root in the numerator of the transfer function, and can be written in the 
</p>
<p>following normalized form: 
</p>
<p>G(s) = (t + L) 
COo 
</p>
<p>(8.29) 
</p>
<p>This transfer function has magnitude 
</p>
<p>(8.30) 
</p>
<p>At low frequency,f &lt;!0 = roJ2rc, the transfer function magnitude tends to 1 ~ 0 dB. At high frequency, 
f &raquo; f0, the transfer function magnitude tends to iflfo). As illustrated in Fig. 8.12, the high-frequency 
asymptote has slope +20 dB/decade. 
</p>
<p>The phase is given by 
</p>
<p>LGUro) = tan- 1 ( :
0
</p>
<p>) 
(8.31) 
</p>
<p>With the exception of a minus sign, the phase is identical to Eq. (8.26). Hence, suitable asymptotes are as 
</p>
<p>illustrated in Fig. 8.12. The phase tends to 0' at low frequency, and to +90' at high frequency. Over the 
</p>
<p>intervalfoflO &lt;f &lt; 10f0, the phase asymptote has a slope of +45'/decade. </p>
<p/>
</div>
<div class="page"><p/>
<p>276 Converter Transfer Functions 
</p>
<p>Fig. 8.13 Summary of the 
</p>
<p>magnitude and phase Bode 
</p>
<p>plot for the real RHP zero. 
</p>
<p>II G(jffi) "dB 
</p>
<p>8.1.3 Right Half-Plane Zero 
</p>
<p>+20 dB/decade 
</p>
<p>2fo 
</p>
<p>_o_dB ___ -r==---v.f:. -~~;:_;~:: 
</p>
<p>-90" 
</p>
<p>Right half-plane zeroes are often encountered in the small-signal transfer functions of switching convert-
ers. These terms have the following normalized form: 
</p>
<p>(8.32) 
</p>
<p>The root of Eq. (8.32) is positive, and hence lies in the right half of the complex s-plane. The right half-
plane zero is also sometimes called a nonminimum phase zero. Its normalized form, Eq. (8.32), resem-
bles the normalized form of the (left half-plane) zero ofEq. (8.29), with the exception of a minus sign in 
the coefficient of s. The minus sign causes a phase reversal at high frequency. 
</p>
<p>The transfer function has magnitude 
</p>
<p>(8.33) 
</p>
<p>This expression is identical to Eq. (8.30). Hence, it is impossible to distinguish a right half-plane zero 
from a left half-plane zero by the magnitude alone. The phase is given by 
</p>
<p>(8.34) 
</p>
<p>This coincides with the expression for the phase of the single pole, Eq. (8.26). So the right half-plane 
zero exhibits the magnitude response of the left half-plane zero, but the phase response of the pole. Mag-
nitude and phase asymptotes are summarized in Fig. 8.13. </p>
<p/>
</div>
<div class="page"><p/>
<p>8.1 Review of Bode Plots 277 
</p>
<p>Fig. 8.14 Inversion of the fre-
</p>
<p>quency axis: summary of the 
</p>
<p>magnitude and phase Bode plots 
</p>
<p>for the inverted real pole. 
</p>
<p>8.1.4 Frequency Inversion 
</p>
<p>II G(jro) llcts 
</p>
<p>L.G(jw) 
+90' 
</p>
<p>3dBJ:::::::::&middot;&middot;:::&middot;! 
1dBL.... r 
</p>
<p>r&middot;&middot;&middot;
1 
</p>
<p>1o 
</p>
<p>0.5/0 
</p>
<p>+20 dB/decade 
</p>
<p>-45'/decade 
</p>
<p>+45' &middot;&middot;&middot;, 
</p>
<p>fo 
</p>
<p>OdB 
</p>
<p>0' 
</p>
<p>lOfo 
</p>
<p>Two other forms arise, from inversion of the frequency axis. The inverted pole has the transfer function 
</p>
<p>G(s)=-( - 1 -) 
1 ffio +-y 
</p>
<p>(8.35) 
</p>
<p>As illustrated in Fig. 8.14, the inverted pole has a high-frequency gain of 1, and a low frequency asymp-
</p>
<p>tote having a + 20 dB/decade slope. This form is useful for describing the gain of high-pass filters, and of 
other transfer functions where it is desired to emphasize the high frequency gain, with attenuation of low 
frequencies. Equation (8.35) is equivalent to 
</p>
<p>{ Jo) 
G(s)=-( -) 
</p>
<p>1 +..L 
ffio 
</p>
<p>However, Eq. (8.35) more directly emphasizes that the high frequency gain is 1. 
The inverted zero has the form 
</p>
<p>G(s) = ( 1 + ~ 0 ) 
</p>
<p>(8.36) 
</p>
<p>(8.37) 
</p>
<p>As illustrated in Fig. 8.15, the inverted zero has a high-frequency gain asymptote equal to 1, and a low-
</p>
<p>frequency asymptote having a slope equal to-20 dB/decade. An example of the use of this type of trans-</p>
<p/>
</div>
<div class="page"><p/>
<p>278 Converter Transfer Functions 
</p>
<p>II G(jw) llctB 
-20 dB/decade 
</p>
<p>O.Sfo 
</p>
<p>ldB L_ i 
r-----Fig. 8.15 Inversion of the fre-
</p>
<p>quency axis: summary of the 
</p>
<p>magnitude and phase Bode plot 
</p>
<p>for the inverted real zero. 
</p>
<p>3 dB 1::::::::: __ :::"'---: i --=~.....-::-.::::_ _ _:::__0 =dB=--
</p>
<p>fer function is the proportional-plus-integral controller, discussed in connection with feedback loop 
</p>
<p>design in the next chapter. Equation (8.37) is equivalent to 
</p>
<p>(1 + _L) 
G(s)=~ 
</p>
<p>( Dio) 
(8.38) 
</p>
<p>However, Eq. (8.37) is the preferred form when it is desired to emphasize the value of the high-frequency 
</p>
<p>gain asymptote. 
</p>
<p>The use of frequency inversion is illustrated by example in the next section. 
</p>
<p>8.1.5 Combinations 
</p>
<p>The Bode diagram of a transfer function containing several pole, zero, and gain terms, can be constructed 
</p>
<p>by simple addition. At any given frequency, the magnitude (in decibels) of the composite transfer func-
</p>
<p>tion is equal to the sum of the decibel magnitudes of the individual terms. Likewise, at a given frequency 
</p>
<p>the phase of the composite transfer function is equal to the sum of the phases of the individual terms. 
</p>
<p>For example, suppose that we have already constructed the Bode diagrams of two complex-val-
</p>
<p>ued functions of w, G1(w) and Giw). These functions have magnitudes R1(w) and Riw), and phases 
81(w) and 8iw), respectively. It is desired to construct the Bode diagram of the product G3(w) = 
G1(w)G2(w). Let Giw) have magnitude R3(w), and phase 83(w). To find this magnitude and phase, we 
</p>
<p>can express G1(w), Giw), and G3(w) in polar form: </p>
<p/>
</div>
<div class="page"><p/>
<p>8.1 Review of Bode Plots 279 
</p>
<p>G1(w) = R1(w) ei8 tCwl 
G2(w) = R2(w) ei82Cwl (8.39) 
G3(w) = R3(w) ei83Cwl 
</p>
<p>The product G3(w) can then be expressed as 
</p>
<p>(8.40) 
</p>
<p>Simplification leads to 
</p>
<p>(8.41) 
</p>
<p>Hence, the composite phase is 
</p>
<p>(8.42) 
</p>
<p>The total magnitude is 
</p>
<p>(8.43) 
</p>
<p>When expressed in decibels, Eq. (8.43) becomes 
</p>
<p>(8.44) 
</p>
<p>So the composite phase is the sum of the individual phases, and when expressed in decibels, the compos-
</p>
<p>ite magnitude is the sum of the individual magnitudes. The composite magnitude slope, in dB per 
</p>
<p>decade, is therefore also the sum of the individual slopes in dB per decade. 
</p>
<p>II Gil 
40dB 
</p>
<p>20 dB 
</p>
<p>OdB 
</p>
<p>-20dB 
</p>
<p>--40 dB 
</p>
<p>-60dB 
</p>
<p>II Gil 
</p>
<p>OdB 
</p>
<p>!1 
100Hz 
</p>
<p>-20 dB/decade 
</p>
<p>L ::. ;;:~, 'j 2 ,~,'-: ~~,{~: . --~ dB/~'~'. 
-45"/decade &middot;&middot;&middot;... &middot;&middot; .. 
</p>
<p>&middot;&middot;... &middot;&middot;&middot;&middot;&middot;..... &middot;&middot;&middot;&middot; ... . 
&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;1----&middot;--&middot;&middot;&middot;&middot;--&middot;--------&middot;&middot;&middot;&middot;&middot;:::-.... ,j .......... .-::: ... &middot;&middot; 
</p>
<p>-90"/decade 10f2 
</p>
<p>lOft 
</p>
<p>1kHz 
</p>
<p>20kHz 
</p>
<p>-45" /decade 
</p>
<p>LG 
</p>
<p>+------f----------+------t-------+------"i----+ -180" 
</p>
<p>1Hz 10Hz 100Hz I kHz 10kHz 100kHz 
</p>
<p>f 
</p>
<p>Fig. 8.16 Construction of magnitude and phase asymptotes for the transfer function of Eq.(8.45). Dashed line; </p>
<p/>
</div>
<div class="page"><p/>
<p>280 Converter Transfer Functions 
</p>
<p>For example, consider construction of the Bode plot of the following transfer function: 
</p>
<p>(8.45) 
</p>
<p>where G0 = 40 ~ 32 dB,/1 = W/2n = 100 Hz,j2 = Wi2n = 2 kHz. This transfer function contains three 
terms: the gain G0, and the poles at frequenciesf1 and/2&bull; The asymptotes for each of these terms are illus-
trated in Fig. 8.16. The gain G0 is a positive real number, and therefore contributes zero phase shift with 
the gain 32 dB. The poles at 100Hz and 2kHz each contribute asymptotes as in Fig. 8.11. 
</p>
<p>At frequencies less than 100Hz, the G0 term contributes a gain magnitude of 32 dB, while the 
two poles each contribute magnitude asymptotes of 0 dB. So the low-frequency composite magnitude 
asymptote is 32 dB + 0 dB+ 0 dB= 32 dB. For frequencies between 100Hz and 2kHz, the G0 gain 
again contributes 32 dB, and the pole at 2 kHz continues to contribute a 0 dB magnitude asymptote. 
However, the pole at 100Hz now contributes a magnitude asymptote that decreases with a -20 dB per 
decade slope. The composite magnitude asymptote therefore also decreases with a -20 dB per decade 
slope, as illustrated in Fig. 8.16, For frequencies greater than 2kHz, the poles at 100Hz and 2kHz each 
contribute decreasing asymptotes having slopes of -20 dB/decade. The composite asymptote therefore 
</p>
<p>decreases with a slope of -20 dB/decade -20 dB/decade= -40 dB/decade, as illustrated. 
</p>
<p>The composite phase asymptote is also constructed in Fig. 8.16. Below 10Hz, all terms con-
</p>
<p>tribute 0' asymptotes. For frequencies betweenfllO =10Hz, andfz/10 =200Hz, the pole atf1 contrib-
utes a decreasing phase asymptote having a slope of -45'/decade. Between 200Hz and 10/1 = 1 kHz, 
both poles contribute decreasing asymptotes with -45'/decade slopes; the composite slope is therefore 
-90'/decade. Between 1kHz and 10/2 =20kHz, the pole at/1 contributes a constant -90' phase asymp-
tote, while the pole atf2 contributes a decreasing asymptote with -45' /decade slope. The composite slope 
is then -45'/decade. For frequencies greater than 20kHz, both poles contribute constant -90' asymp-
totes, leading to a composite phase asymptote of -180'. 
</p>
<p>As a second example, con-
</p>
<p>sider the transfer function A(s) rep-
</p>
<p>resented by the magnitude and 
</p>
<p>phase asymptotes of Fig. 8.17. Let 
</p>
<p>us write the transfer function that 
</p>
<p>corresponds to these asymptotes. 
</p>
<p>The de asymptote is A0. At comer 
</p>
<p>II All 
</p>
<p>LA 
</p>
<p>0' 
</p>
<p>10/1 / 2 /10 
</p>
<p>+45'/dec 
</p>
<p>0' 
</p>
<p>f 1 /10 lOfz 
</p>
<p>frequency /p the asymptote slope 
increases from 0 dB/decade to +20 
</p>
<p>dB/decade. Hence, there must be a 
</p>
<p>zero at frequency / 1&bull; At frequency 
</p>
<p>/ 2, the asymptote slope decreases 
</p>
<p>from +20 dB/decade to 0 dB/ 
</p>
<p>decade. Therefore the transfer func-
</p>
<p>Fig. 8.17 Magnitude and phase asymptotes of example transfer 
function A(s). 
</p>
<p>tion contains a pole at frequency / 2&bull; 
</p>
<p>So we can express the transfer function as 
</p>
<p>(8.46) </p>
<p/>
</div>
<div class="page"><p/>
<p>8.1 Review of Bode Plots 281 
</p>
<p>where ffi 1 and ffi2 are equal to 2nf1 and 2nf2, respectively. 
</p>
<p>We can use Eq. (8.46) to derive analytical expressions for the asymptotes. For f &lt;fp and letting 
</p>
<p>s = jffi, we can see that the (s/ffi1) and (s/ffi2) terms each have magnitude less than 1. The asymptote is 
</p>
<p>derived by neglecting these terms. Hence, the low-frequency magnitude asymptote is 
</p>
<p>(8.47) 
</p>
<p>Forf1 &lt;f &lt;f2, the numerator term (s/ffi 1) has magnitude greater than 1, while the denominator term (s/ffi2) 
</p>
<p>has magnitude less than 1. The asymptote is derived by neglecting the smaller terms: 
</p>
<p>-A II~Ljrn_A JQ__A j_ 
- 0 1 - 0 (!)I - 0 fi (8.48) 
</p>
<p>This is the expression for the midfrequency magnitude asymptote of A(s). For f&gt; f2, the (s/ffi1) and (s/ffi2) 
</p>
<p>terms each have magnitude greater than 1. The expression for the high-frequency asymptote is therefore: 
</p>
<p>A (1+~1) -A II~Ljrn_A Ulz_A h. 
o(/+~z) - o~~~ II . - owl- o fi 
</p>
<p>s=)W 2 S=]W 
</p>
<p>(8.49) 
</p>
<p>We can conclude that the high-frequency gain is 
</p>
<p>(8.50) 
</p>
<p>Thus, we can derive analytical expressions for the asymptotes. 
</p>
<p>The transfer function A(s) can also be written in a second form, using inverted poles and zeroes. 
</p>
<p>Suppose that A(s) represents the transfer function of a high-frequency amplifier, whose de gain is not 
</p>
<p>important. We are then interested in expressing A(s) directly in terms of the high-frequency gain A=. We 
</p>
<p>can view the transfer function as having an inverted pole at frequency f2, which introduces attenuation at 
frequencies less thanf2. In addition, there is an inverted zero atf= f 1. So A(s) could also be written 
</p>
<p>(8.51) 
</p>
<p>It can be verified that Eqs. (8.51) and (8.46) are equivalent. </p>
<p/>
</div>
<div class="page"><p/>
<p>282 Converter Transfer Functions 
</p>
<p>8.1.6 Quadratic Pole Response: Resonance L 
</p>
<p>+ 
</p>
<p>c R 
</p>
<p>Consider next the transfer function G(s) of the two-pole 
</p>
<p>low-pass filter of Fig. 8.i8. The buck converter contains 
</p>
<p>a filter of this type. When manipulated into canonical 
</p>
<p>form, the models of the boost and buck-boost also con-
</p>
<p>tain similar filters. One can show that the transfer func-
</p>
<p>tion of this network is 
Fig. 8.18 Two-pole low-pass filter example. 
</p>
<p>(8.52) 
</p>
<p>This transfer function contains a second-order denominator polynomial, and is of the form 
</p>
<p>(8.53) 
</p>
<p>with a 1 = UR and ~ = LC. 
To construct the Bode plot of this transfer function, we might try to factor the denominator into 
</p>
<p>its two roots: 
</p>
<p>(8.54) 
</p>
<p>Use of the quadratic formula leads to the following expressions for the roots: 
</p>
<p>(8.55) 
</p>
<p>s2 = -- 1+ 1--al[ Maz] 2az a~ (8.56) 
</p>
<p>If 4a2 :::;; a 12, then the roots are real. Each real pole then exhibits a Bode diagram as derived in 
</p>
<p>Section 8.1.1, and the composite Bode diagram can be constructed as described in Section 8.1.5 (but a 
</p>
<p>better approach is described in Section 8.1.7). 
</p>
<p>If 4a2 &gt; a12, then the roots (8.55) and (8.56) are complex. In Section 8.1.1, the assumption was 
</p>
<p>made that ro0 is real; hence, the results of that section cannot be applied to this case. We need to do some 
additional work, to determine the magnitude and phase for the case when the roots are complex. 
</p>
<p>The transfer functions of Eqs. (8.52) and (8.53) can be written in the following standard nor-
</p>
<p>malized form: 
</p>
<p>G(s) = 1 2 
1 + 2~ L + (L) 
</p>
<p>Wo Wo 
</p>
<p>(8.57) 
</p>
<p>If the coefficients a1 and az are real and positive, then the parameters 16 and ro0 are also real and positive. 
The parameter ro0 is again the angular comer frequency, and we can define fo = ro0/2n. The parameter 16 is </p>
<p/>
</div>
<div class="page"><p/>
<p>8.1 Review of Bode Plots 283 
</p>
<p>called the damping factor: s controls the shape of the transfer function in the vicinity off= f 0. An alter-
native standard normalized form is 
</p>
<p>where 
</p>
<p>G(s)- 1 
-1+-s-+(_&sect;_)2 
</p>
<p>Qwo Wo 
</p>
<p>- 1 
Q- 2s 
</p>
<p>(8.58) 
</p>
<p>(8.59) 
</p>
<p>The parameter Q is called the quality factor of the circuit, and is a measure of the dissipation in the sys-
tem. A more general definition of Q, for sinusoidal excitation of a passive element or network, is 
</p>
<p>2 (peak stored energy) 
</p>
<p>Q = n (energy dissipated per cycle) 
(8.60) 
</p>
<p>For a second-order passive system, Eqs. (8.59) and (8.60) are equivalent. We will see that the Q-factor 
</p>
<p>has a very simple interpretation in the magnitude Bode diagrams of second-order transfer functions. 
</p>
<p>Analytical expressions for the parameters Q and w0 can be found by equating like powers of s in 
the original transfer function, Eq. (8.52), and in the normalized form, Eq. (8.58). The result is 
</p>
<p>Wo 1 
fo = 2n = 2n/LC 
</p>
<p>Q-R rc - v "'[ 
</p>
<p>The roots s 1 and s2 of Eqs. (8.55) and (8.56) are real when Q::::; 0.5, and are complex when Q &gt; 0.5. 
The magnitude of G is 
</p>
<p>II G(jw) II= ---r=:=(1=_=( w=) 2
1 ~)2 +=1=(=w=)2 
</p>
<p>w0 Q2 CD0 
</p>
<p>Asymptotes of II G II are illustrated in Fig. 8.19. At low frequencies, (w/w0) ~ 1, and hence 
</p>
<p>II G 11--7 1 for w &laquo; w0 
</p>
<p>II G(jw) llcts 
</p>
<p>0 dB 
OdB 
</p>
<p>-20 dB (ff 
-40dB 
</p>
<p>-40 dB/decade 
</p>
<p>-60dB 
</p>
<p>O.lfo fo 10f0 f 
</p>
<p>Fig. 8.19 Magnitude asymptotes for the two-pole transfer function. 
</p>
<p>(8.61) 
</p>
<p>(8.62) 
</p>
<p>(8.63) </p>
<p/>
</div>
<div class="page"><p/>
<p>284 Converter Transfer Functions 
</p>
<p>At high frequencies where (ffi/ffi0) ~ 1, the (ffi/ffi0)4 term 11 G 11 
</p>
<p>dominates the expression inside the radical of Eq. (8.62). 
</p>
<p>Hence, the high-frequency asymptote is _o_dB_==----4: 
</p>
<p>(8.64) 
</p>
<p>This expression coincides with Eq. (8.5), with n = -2. 
</p>
<p>Therefore, the high-frequency asymptote has slope -40 dB/ 
</p>
<p>decade. The asymptotes intersect at f = f0, and are indepen-
dent of Q. 
</p>
<p>The parameter Q affects the deviation of the actual 
</p>
<p>curve from the asymptotes, in the neighborhood of the cor-
</p>
<p>Fig. 8.20 Important features of the magni-
</p>
<p>tude Bode plot, for the two-pole transfer 
</p>
<p>function. 
</p>
<p>ner frequency f0&bull; The exact magnitude at/= fo is found by substitution of ffi = ffio into Eq. (8.62): 
</p>
<p>(8.65) 
</p>
<p>So the exact transfer function has magnitude Q at the comer frequency f 0&bull; In decibels, Eq. (8.65) is 
</p>
<p>(8.66) 
</p>
<p>So if, for example, Q = 2 =&gt; 6 dB, then the actual curve deviates from the asymptotes by 6 dB at the cor-
ner frequency f = f0. Salient features of the magnitude Bode plot of the second-order &middot;transfer function are 
summarized in Fig. 8.20. 
</p>
<p>The phase of G is 
</p>
<p>LG(jw) =- tan- 1 (8.67) 
</p>
<p>The phase tends too&middot; at low frequency, and to -180&bull; at high frequency. At/= f 0, the phase is -90&middot;. As 
illustrated in Fig. 8.21, increasing the value of Q causes a sharper phase change between the o&middot; and 
</p>
<p>-180&bull; asymptotes. We again need a midfrequency asymptote, to approximate the phase transition in the 
</p>
<p>Increasing Q 
</p>
<p>Fig. 8.21 Phase plot, second-order poles. LG -90&deg; 
</p>
<p>Increasing Q causes a sharper phase change. 
</p>
<p>-180&deg; -1-----~-1----.::::==-~ 
0.1 10 
</p>
<p>fifo </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 8.22 One choice for the midfrequency 
</p>
<p>phase asymptote of the two-pole response, 
</p>
<p>which correctly predicts the actual slope at 
</p>
<p>f=fo&middot; 
</p>
<p>Fig. 8.23 A simpler choice for the 
midfrequency phase asymptote, which 
</p>
<p>better approximates the curve over the 
</p>
<p>entire frequency range and is consistent 
</p>
<p>with the asymptote used for real poles. 
</p>
<p>8.1 Review of Bode Plots 285 
</p>
<p>oo f~ 
0" &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;\\ 
</p>
<p>L.G 
</p>
<p>-90&deg; 
</p>
<p>-180&deg;4---------------~----+---------~ 
</p>
<p>0.1 10 
</p>
<p>fifo 
</p>
<p>oo 
</p>
<p>L.G 
</p>
<p>-90&deg; 
</p>
<p>-180&deg; -l-------~1----....:P~-~ 
</p>
<p>0.1 10 
</p>
<p>fifo 
</p>
<p>vicinity of the comer frequency f 0, as illustrated in Fig. 8.22. As in the case of the real single pole, we 
could choose the slope of this asymptote to be identical to the slope of the actual curve atf = f 0&bull; It can be 
shown that this choice leads to the following asymptote break frequencies: 
</p>
<p>J.=(enl2phfo 
1 
</p>
<p>.fb = (ent2)zo fo 
</p>
<p>A better choice, which is consistent with the approximation (8.28) used for the real single pole, is 
</p>
<p>fa = w- 112Q fo 
.fb = 10112Q fo 
</p>
<p>(8.68) 
</p>
<p>(8.69) 
</p>
<p>With this choice, the midfrequency asymptote has slope -180Q degrees per decade. The phase asymp-
totes are summarized in Fig. 8.23. With Q = 0.5, the phase changes from o&middot; to -180. over a frequency 
span of approximately two decades, centered at the comer frequency f 0&bull; Increasing the Q causes this fre-
quency span to decrease rapidly. 
</p>
<p>Second-order response magnitude and phase curves are plotted in Figs. 8.24 and 8.25. </p>
<p/>
</div>
<div class="page"><p/>
<p>286 Converter Transfer Functions 
</p>
<p>Fig. 8.24 Exact magnitude curves, two-
</p>
<p>pole response, for several values of Q. 
</p>
<p>Fig. 8.25 Exact phase curves, two-pole 
</p>
<p>response, for several values of Q. 
</p>
<p>II Gilds 
</p>
<p>LG 
</p>
<p>&middot;---&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;r&middot;&middot;&middot;&middot;&middot;--&middot;--------
</p>
<p>10 dB +--+--+-+-+-+11-i-+-\\-----+---l 
</p>
<p>........... j ......... ! ... g;~:.[. 
i :Q=l 
</p>
<p>........... 1Q&middot;;;;;fi'"'f" 
&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-~&middot;&middot;&middot;&middot;&middot;&middot;&middot; . 
</p>
<p>0.3 0.5 0.7 2 3 
</p>
<p>fifo 
</p>
<p>-135&deg; +----i--i!--i!-+!-i!'-i-i! !H!-l\1--\-~~-+--+-*i'-i-if-i-'1 
</p>
<p>-1800 ~:_::::_::::_::::.j_r_::::~J_:1l~-.j_t.j_tg~_;_1LI- .. _ .. -= ... ==i .. &middot;t==&middot; ~~~~ 
0.1 1 
</p>
<p>fifo 
</p>
<p>10 </p>
<p/>
</div>
<div class="page"><p/>
<p>8.1 Review of Bode Plots 287 
</p>
<p>8.1.7 The Low-Q Approximation 
</p>
<p>As mentioned in Section 8.1.6, when the roots of second-order denominator polynomial of Eq. (8.53) are 
</p>
<p>real, then we can factor the denominator, and construct the Bode diagram using the asymptotes for real 
</p>
<p>poles. We would then use the following normalized form: 
</p>
<p>(8.70) 
</p>
<p>This is a particularly desirable approach when the comer frequencies w1 and w2 are well separated in 
value. 
</p>
<p>The difficulty in this procedure lies in the complexity of the quadratic formula used to find the 
</p>
<p>corner frequencies. Expressing the corner frequencies w1 and w2 in terms of the circuit elements R, L, C, 
etc., invariably leads to complicated and unilluminating expressions, especially when the circuit contains 
</p>
<p>many elements. Even in the case of the simple circuit of Fig. 8.18, whose transfer function is given by 
</p>
<p>Eq. (8.52), the conventional quadratic formula leads to the following complicated formula for the corner 
</p>
<p>frequencies: 
</p>
<p>(8.71) 
</p>
<p>This equation yields essentially no insight regarding how the corner frequencies depend on the element 
</p>
<p>values. For example, it can be shown that when the comer frequencies are well separated in value, they 
</p>
<p>can be expressed with high accuracy by the much simpler relations 
</p>
<p>(1) _ R Ol _ 1 t-y;, 2- RC (8.72) 
</p>
<p>In this case, w1 is essentially independent of the value of C, and w2 is essentially independent of L, yet 
Eq. (8.71) apparently predicts that both corner frequencies are dependent on all element values. The sim-
</p>
<p>ple expressions of Eq. (8.72) are far preferable to Eq. (8.71), and can be easily derived using the low-Q 
</p>
<p>approximation [2]. 
</p>
<p>Let us assume that the transfer function has been expressed in the standard normalized form of 
</p>
<p>Eq. (8.58), reproduced below: 
</p>
<p>G(s)- 1 &middot; 
- 1 + _s_ + (_s__)2 
</p>
<p>QOlo Olo 
</p>
<p>(8.73) 
</p>
<p>For Q :&lt;::; 0.5, let us use the quadratic formula to write the real roots of the denominator polynomial of 
</p>
<p>Eq. (8.73) as 
</p>
<p>(8.74) 
</p>
<p>(8.75) </p>
<p/>
</div>
<div class="page"><p/>
<p>288 Converter Transfer Functions 
</p>
<p>F(Q) 
</p>
<p>0.75 
</p>
<p>Fig. 8.26 F(Q) vs. Q, as given by 
Eq. (8.77). The approximation F(Q) "" 1 is 
within 10% of the exact value for Q &lt; 3. 
</p>
<p>0.5 &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>0.25 
</p>
<p>0 
0 0.1 0.2 0.3 0.4 0.5 
</p>
<p>Q 
</p>
<p>The comer frequency w2 can be expressed 
</p>
<p>(8.76) 
</p>
<p>where F(Q) is defined as [2]: 
</p>
<p>F(Q) =-! ( 1 + J 1 - 4Q2 ) (8.77) 
</p>
<p>Note that, when Q ~ 0.5, then 4Q2 ~ 1 and F(Q) is approximately equal to 1. We then obtain 
</p>
<p>Wz""~ forQ~-! (8.78) 
</p>
<p>The function F(Q) is plotted in Fig. 8.26. It can be seen that F(Q) approaches 1 very rapidly as Q 
decreases below 0.5. 
</p>
<p>To derive a similar approximation for WI' we can multiply and divide Eq. (8.74) by F(Q), 
Eq. (8.77). Upon simplification of the numerator, we obtain 
</p>
<p>(8.79) 
</p>
<p>Again, F(Q) tends to 1 for small Q. Hence, w1 can be approximated as 
</p>
<p>(8.80) 
</p>
<p>Magnitude asymptotes for the low-Q case are summarized in Fig. 8.27. For Q &lt; 0.5, the two 
poles at w0 split into real poles. One real pole occurs at comer frequency w1 &lt; w0, while the other occurs 
at corner frequency w2 &gt; w0&bull; The corner frequencies are easily approximated, using Eqs. (8.78) and 
(8.80). 
</p>
<p>For the filter circuit of Fig. 8.18, the parameters Q and w0 are given by Eq. (8.61). For the case 
when Q ~ 0.5, we can derive the following analytical expressions for the comer frequencies, using 
Eqs. (8.78) and (8.80): </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 8.27 Magnitude asymptotes predicted 
</p>
<p>by the low-Q approximation. Real poles occur 
</p>
<p>at frequencies QJ0 andfrJQ. 
</p>
<p>II G llcts 
</p>
<p>OdB 
</p>
<p>8.1 Review of Bode Plots 289 
</p>
<p>(8.81) 
</p>
<p>So the low-Q approximation allows us to derive simple design-oriented analytical expressions for the 
</p>
<p>comer frequencies. 
</p>
<p>8.1.8 Approximate Roots of an Arbitrary-Degree Polynomial 
</p>
<p>The low-Q approximation can be generalized, to find approximate analytical expressions for the roots of 
</p>
<p>the n'"-order polynomial 
</p>
<p>(8.82) 
</p>
<p>It is desired to factor the polynomial P(s) into the form 
</p>
<p>(8.83) 
</p>
<p>In a real circuit, the coefficients al' ... ,an are real, while the time constants "tp ... , "tn may be either real or 
</p>
<p>complex. Very often, some or all of the time constants are well separated in value, and depend in a very 
</p>
<p>simple way on the circuit element values. In such cases, simple approximate analytical expressions for 
</p>
<p>the time constants can be derived. 
</p>
<p>The time constants Tp ... , "tn can be related to the original coefficients al' ... , an by multiplying 
</p>
<p>out Eq. (8.83). The result is 
</p>
<p>a I = 1: I + 1:2 + &bull; &bull;. + 1:, 
</p>
<p>a2 = 1:1(1:2 + &middot;&middot;&middot; + 1:,) + 1:2(1:3 + &middot;&middot;&middot; + 1:,) + &middot;&middot;&middot; 
</p>
<p>a3 = 1:11:z(1:3 + &middot;&middot;&middot; + 1:,) + 1:z1:3(1:4 + &middot;&middot;&middot; + 1:,) + &middot;&middot;&middot; (8.84) 
</p>
<p>General solution of this system of equations amounts to exact factoring of the arbitrary degree polyno-
</p>
<p>mial, a hopeless task. Nonetheless, Eq. (8.84) does suggest a way to approximate the roots. 
</p>
<p>Suppose that all of the time constants 1:1' ... , "tn are real and well separated in value. We can fur-
</p>
<p>ther assume, without loss of generality, that the time constants are arranged in decreasing order of magni-</p>
<p/>
</div>
<div class="page"><p/>
<p>290 Converter Transfer Functions 
</p>
<p>tude: 
</p>
<p>(8.85) 
</p>
<p>When the inequalities of Eq. (8.85) are satisfied, then the expressions for a" ... , an of Eq. (8.84) are each 
</p>
<p>dominated by their first terms: 
</p>
<p>a1 "''t1 
</p>
<p>Gz"' 't1't2 
</p>
<p>a3 "''t1'tz't3 
</p>
<p>These expressions can now be solved for the time constants, with the result 
</p>
<p>Hence, if 
</p>
<p>then the polynomial P(s) given by Eq. (8.82) has the approximate factorization 
</p>
<p>(8.86) 
</p>
<p>(8.87) 
</p>
<p>(8.88) 
</p>
<p>(8.89) 
</p>
<p>Note that if the original coefficients in Eq. (8.82) are simple functions of the circuit elements, then the 
</p>
<p>approximate roots given by Eq. (8.89) are similar simple functions of the circuit elements. So approxi-
</p>
<p>mate analytical expressions for the roots can be obtained. Numerical values are substituted into 
</p>
<p>Eq. (8.88) to justify the approximation. 
</p>
<p>In the case where two of the roots are not well separated, then one of the inequalities of 
</p>
<p>Eq. (8.88) is violated. We can then leave the corresponding terms in quadratic form. For example, sup-
</p>
<p>pose that inequality k is not satisfied: 
</p>
<p>(8.90) 
</p>
<p>Then an approximate factorization is </p>
<p/>
</div>
<div class="page"><p/>
<p>8.1 Review of Bode Plots 291 
</p>
<p>( ) ( 
a2 ) ( ak ak+ 1 2) ( an ) P(s)"' 1+a1 s 1+-s &middot;&middot;&middot; 1+--s +--s &middot;&middot;&middot; 1+--s 
ai ak-1 ak-1 an-i 
</p>
<p>(8.91) 
</p>
<p>The conditions for accuracy of this approximation are 
</p>
<p>(8.92) 
</p>
<p>Complex conjugate roots can be approximated in this manner. 
</p>
<p>When the first inequality ofEq. (8.88) is violated, that is, 
</p>
<p>(8.93) 
</p>
<p>then the first two roots should be left in quadratic form: 
</p>
<p>(8.94) 
</p>
<p>This approximation is justified provided that 
</p>
<p>(8.95) 
</p>
<p>If none of the above approximations is justified, then there are three or more roots that are close in mag-
</p>
<p>nitude. One must then resort to cubic or higher-order forms. 
</p>
<p>As an example, consider the damped EMI filter illustrated in Fig. 8.28. Filters such as this are 
</p>
<p>typically placed at the power input of a converter, to attenuate the switching harmonics present in the 
</p>
<p>converter input current. By circuit analysis, on can show that this filter exhibits the following transfer 
</p>
<p>function: 
</p>
<p>L +L 
i (s) 1 +s-1--2 
</p>
<p>G(s)=-8 -= R 
ic(s) 1 Li + L2 2L C 3 LIL2C 
</p>
<p>+s--R-+s I +s -R-
</p>
<p>(8.96) 
</p>
<p>This transfer function contains a third-order denominator, with the following coefficients: 
</p>
<p>Converter 
c 
</p>
<p>Fig. 8.28 Input EMI filter example. </p>
<p/>
</div>
<div class="page"><p/>
<p>292 Converter Transfer Functions 
</p>
<p>L1 +Lz 
a1=-R-
</p>
<p>a2=L1C 
</p>
<p>L 1L2C 
a3=-R-
</p>
<p>(8.97) 
</p>
<p>It is desired to factor the denominator, to obtain analytical expressions for the poles. The correct way to 
do this depends on the numerical values of R, L" L2, and C. When the roots are real and well separated, 
then Eq. (8.89) predicts that the denominator can be factored as follows: 
</p>
<p>( 1 + s L1; Lz) ( 1 + sRC L 1 ~IL 2 ) ( 1 + s ~z) (8.98) 
</p>
<p>According to Eq. (8.88), this approximation is justified provided that 
</p>
<p>(8.99) 
</p>
<p>These inequalities cannot be satisfied unless L1 ~ L2. When L1 ~ L2, then Eq. (8.99) can be further sim-
</p>
<p>plified to 
</p>
<p>!:J_~ RC~ L2 
R R 
</p>
<p>The approximate factorization, Eq. (8.98), can then be further simplified to 
</p>
<p>(8.100) 
</p>
<p>(8.101) 
</p>
<p>Thus, in this case the transfer function contains three well separated real poles. Equations (8.98) and 
</p>
<p>(8.101) represent approximate analytical factorizations of the denominator of Eq. (8.96). Although 
</p>
<p>numerical values must be substituted into Eqs. (8.99) or (8.100) to justify the approximation, we can 
</p>
<p>nonetheless express Eqs. (8.98) and (8.101) as analytical functions of L1, ~. R, and C. Equations (8.98) 
and (8.101) are design-oriented, because they yield insight into how the element values can be chosen 
</p>
<p>such that given specified pole frequencies are obtained. 
</p>
<p>When the second inequality of Eq. (8.99) is violated, 
</p>
<p>(8.102) 
</p>
<p>then the second and third roots should be left in quadratic form: 
</p>
<p>( 1 +s L 1 ; L2 ) ( 1 + sRC L 
1 
~ 1 L
</p>
<p>2 
+ s2 L diL2 C) (8.103) 
</p>
<p>This expression follows from Eq. (8.91), with k = 2. Equation (8.92) predicts that this approximation is 
justified provided that </p>
<p/>
</div>
<div class="page"><p/>
<p>8.2 Analysis of Converter Transfer Functions 293 
</p>
<p>Ll +L2 ~ RC-L_l_ ~ LdiL2 RC (8.104) 
R L 1 +L2 L 1 +L2 
</p>
<p>In application ofEq. (8.92), we take a0 to be equal to 1. The inequalities of Eq. (8.104) can be simplified 
to obtain 
</p>
<p>L 
and J! ~Rc (8.105) 
</p>
<p>Note that it is no longer required that RC ~ Lz!R. Equation (8.105) implies that factorization (8.103) can 
be further simplified to 
</p>
<p>( 1 + s ~ 1 ) ( 1 + sRC + s2L2C) (8.106) 
</p>
<p>Thus, for this case, the transfer function contains a low-frequency pole that is well separated from a high-
frequency quadratic pole pair. Again, the factored result (8.106) is expressed as an analytical function of 
the element values, and consequently is design-oriented. 
</p>
<p>In the case where the first inequality ofEq. (8.99) is violated: 
</p>
<p>Ll +L2 :f;&gt; RC_L_l_ ~ L2 
R L 1 +L2 R 
</p>
<p>(8.107) 
</p>
<p>then the first and second roots should be left in quadratic form: 
</p>
<p>(8.108) 
</p>
<p>This expression follows directly from Eq. (8.94). Equation (8.95) predicts that this approximation is jus-
tified provided that 
</p>
<p>that is, 
</p>
<p>L 
and RC~ i 
</p>
<p>(8.109) 
</p>
<p>(8.110) 
</p>
<p>For this case, the transfer function contains a low-frequency quadratic pole pair that is well separated 
from a high-frequency real pole. If none of the above approximations are justified, then all three of the 
roots are similar in magnitude. We must then finq other means of dealing with the original cubic polyno-
mial. Design of input filters, including the filter of Fig. 8.28, is covered in Chapter 10. 
</p>
<p>8.2 ANALYSIS OF CONVERTER TRANSFER FUNCTIONS 
</p>
<p>Let us next derive analytical expressions for the poles, zeroes, and asymptote gains in the transfer func-
tions of the basic converters. </p>
<p/>
</div>
<div class="page"><p/>
<p>294 Converter Transfer Functions 
</p>
<p>+ 
</p>
<p>C v(s) R 
</p>
<p>Fig. 8.29 Buck-boost converter equivalent circuit derived in Section 7.2. 
</p>
<p>8.2.1 Example: Transfer Functions of the Buck-Boost Converter 
</p>
<p>The small-signal equivalent circuit model of the buck-boost converter is derived in Section 7.2, with the 
</p>
<p>result [Fig. 7.16(b)] repeated in Fig. 8.29. Let us derive and plot the control-to-output and line-to-output 
</p>
<p>transfer functions for this circuit. 
</p>
<p>The converter contains two independent ac inputs: the control input d(s) and the line input ilgCs). 
</p>
<p>The ac output voltage variations v(s) can be expressed as the superposition of terms arising from these 
</p>
<p>two inputs: 
</p>
<p>(8.111) 
</p>
<p>Hence, the transfer functions Gvj,s) and Gv/s) can be defined as 
</p>
<p>v(s) I v(s) I Gvf,s) = -,- and Gvg(s) = -;;---( ) 
d(s) _ vg s 
</p>
<p>vg&lt;s)=O d(s)=O 
</p>
<p>(8.112) 
</p>
<p>To find the line-to-output transfer function GvgCs), we set the d sources to zero as in Fig. 8.30(a). We can 
then push the vgCs) source and the inductor through the transformers, to obtain the circuit of Fig. 8.30(b). 
</p>
<p>The transfer function GvgCs) is found using the voltage divider formula: 
</p>
<p>(a) 1 :D D': 1 
</p>
<p>+ 
</p>
<p>c v(s) R 
</p>
<p>(b) 
+ 
</p>
<p>c v(s) R 
</p>
<p>Fig. 8.30 Manipulation of buck-boost equivalent circuit to find the line-to-output transfer function GvgCs): 
</p>
<p>(a) set d sources to zero; (b) push inductor and i/8 source through transformers. </p>
<p/>
</div>
<div class="page"><p/>
<p>8.2 Analysis of Converter Transfer Functions 295 
</p>
<p>v(s) I 
G,is) = v (s) . 
</p>
<p>g d(s)=O 
</p>
<p>We next expand the parallel combination, and express as a rational fraction: 
</p>
<p>G (s) = (- D) ( ~) 
vg D' sL ( R ) 
</p>
<p>D' 2 + 1 +sRC 
</p>
<p>(8.113) 
</p>
<p>(8.114) 
</p>
<p>We aren't done yet-the next step is to manipulate the expression into normalized form, such that the 
</p>
<p>coefficients of s0 in the numerator and denominator polynomials are equal to one. This can be accom-
</p>
<p>plished by dividing the numerator and denominator by R: 
</p>
<p>G ( )- v(s) I -(-12_) 1 
"8 s- v (s) . - D' 1 +s-L-+sz LC 
</p>
<p>g d(s)=O D'l R D'2 
</p>
<p>(8.115) 
</p>
<p>Thus, the line-to-output transfer function contains a de gain Ggo and a quadratic pole pair: 
</p>
<p>(8.116) 
</p>
<p>Analytical expressions for the salient features of the line-to-output transfer function are found by equat-
</p>
<p>ing like terms in Eqs. (8.115) and (8.116). The de gain is 
</p>
<p>G - D go--D' 
</p>
<p>By equating the coefficients of s2 in the denominators of Eqs. (8.115) and (8.116), we obtain 
</p>
<p>Hence, the angular comer frequency is 
</p>
<p>D' 
Olo = .;rc 
</p>
<p>By equating coefficients of sin the denominators of Eqs. (8.115) and (8.116), we obtain 
</p>
<p>Elimination of w0 using Eq. (8.119) and solution for Q leads to 
</p>
<p>(8.117) 
</p>
<p>(8.118) 
</p>
<p>(8.119) 
</p>
<p>(8.120) </p>
<p/>
</div>
<div class="page"><p/>
<p>296 Converter Transfer Functions 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>Id(s) c v(s) R 
</p>
<p>(b) + 
</p>
<p>c v(s) R 
</p>
<p>Fig. 8.31 Manipulation of buck-boost equivalent circuit to find the control-to-output transfer function Gwfs): 
</p>
<p>(a) set v8 source to zero; (b) push inductor and voltage source through transformer. 
</p>
<p>Q -D'R fC - vr (8.121) 
</p>
<p>Equations (8.117), (8.119), and (8.121) are the desired results in the analysis of the line-to-output trans-
</p>
<p>fer function. These expressions are useful not only in analysis situations, where it is desired to find 
</p>
<p>numerical values of the salient features G gO&bull; w0, and Q, but also in design situations, where it is desired to 
select numerical values for R, L, and C such that given values of the salient features are obtained. 
</p>
<p>Derivation of the control-to-output transfer function Gvis) is complicated by the presence in 
</p>
<p>Fig. 8.29 of three generators that depend on d(s). One good way to find Gvis) is to manipulate the cir-
</p>
<p>cuit model as in the derivation of the canonical model, Fig. 7.60. Another approach, used here, employs 
</p>
<p>the principle of superposition. First, &middot;we set the v8 source to zero. This shorts the input to the l:D _!rans-
former, and we are left with the circuit illustrated in Fig. 8.31(a). Next, we push the inductor and d volt-
</p>
<p>age source through the D':l transformer, as in Fig. 8.31(b). 
</p>
<p>Figure 8.31(b) contains a J-dependent voltage source and a J-dependent current source. The 
</p>
<p>transfer function Gvis) can therefore be expressed as a superposition of terms arising from these two 
</p>
<p>sources. When the current source is set to zero (i.e., open-circuited), the circuit of Fig. 8.32(a) is 
</p>
<p>obtained. The output v(s) can then be expressed as 
</p>
<p>v(s) -(- V8 -V) (Ru~) 
d(s) - D' .4_ + (R II _l_) 
</p>
<p>D'z sC 
</p>
<p>(8.122) 
</p>
<p>When the voltage source is set to zero (i.e., short-circuited), Fig. 8.3l(b) reduces to the circuit illustrated 
</p>
<p>in Fig. 8.32(b). The output v(s) can then be expressed as 
</p>
<p>~(s) =I (_g,_ II R II _l_) 
d(s) D'2 sC 
</p>
<p>(8.123) 
</p>
<p>The transfer function Gvis) is the sum ofEqs. (8.122) and (8.123): </p>
<p/>
</div>
<div class="page"><p/>
<p>8.2 Analysis of Converter Transfer Functions 297 
</p>
<p>(a) 
+ 
</p>
<p>V8 - V , c v(s) R Fig. 8.32 Solution of the model of Fig. --rr-d(s) 
8.32(b) by superposition: (a) current 
</p>
<p>source set to zero; (b) voltage source set 
</p>
<p>to zero. 
</p>
<p>(b) + 
</p>
<p>Id(s) c v(s) R 
</p>
<p>(. V8 -V) (RIIst) (sL 1) Gvis)= ---u- .4...+(R _L) +I D' 2 11RII sC (8.124) 
D'2 II sC 
</p>
<p>By algebraic manipulation, one can reduce this expression to 
</p>
<p>( 1-s Ll ) D' V -V 
v(s) I ( V8 - v) ( 8 ) G is)=-,- = ---u-
</p>
<p>v d(s) v (s)=O (1 + s___l,_ + s2LC) 
8 D' 2R&middot; D' 2 
</p>
<p>(8.125) 
</p>
<p>This equation is of the form 
</p>
<p>(8.126) 
</p>
<p>The denominators ofEq. (8.125) and (8.115) are identical, and hence Gvis) and Gvis) share the same m0 
and Q, given by Eqs. (8.119) and (8.121). The de gain is 
</p>
<p>(8.127) 
</p>
<p>The angular frequency of the zero is found by equating coefficients of s in the numerators of Eqs. (8.125) 
and (8.126). One obtains 
</p>
<p>(RHP) 
(8.128) 
</p>
<p>This zero lies in the right half-plane. Equations (8.127) and (8.128) have been simplified by use of the de 
relationships </p>
<p/>
</div>
<div class="page"><p/>
<p>298 Converter Transfer Functions 
</p>
<p>(8.129) 
</p>
<p>Equations (8.119), (8.121), (8.127), and (8.128) constitute the results of the analysis of the control-to-
</p>
<p>output transfer function: analytical expressions for the salient features w0, Q, G dO' and wz. These expres-
sions can be used to choose the element values such that given desired values of the salient features are 
</p>
<p>obtained. 
</p>
<p>Having found analytical expressions for the salient features of the transfer functions, we can 
</p>
<p>now plug in numerical values and construct the Bode plot. Suppose that we are given the following val-
</p>
<p>ues: 
</p>
<p>D=0.6 
</p>
<p>R= lOQ 
</p>
<p>vg = 30V 
L= 160J.!H 
</p>
<p>C= 160 J.!F 
</p>
<p>(8.130) 
</p>
<p>We can evaluate Eqs. (8.117), (8.119), (8.121), (8.127), and (8.128), to determine numerical values of the 
</p>
<p>salient features of the transfer functions. The results are: 
</p>
<p>I G gO I = g. = 1.5 =&gt; 3.5 dB 
I vi 
</p>
<p>I Gdo I= DD' = 187.5 V =&gt; 45.5 dBV 
</p>
<p>fr = Wo = ____Q'___ = 400 Hz 
0 2n 2n/LC 
</p>
<p>,(C 
Q=DRy L =4=&gt; 12dB 
</p>
<p>w D'zR 
h = 2~ = 2nDL = 2.65 kHz 
</p>
<p>(8.131) 
</p>
<p>The Bode plot of the magnitude and phase of Gvd is constructed in Fig. 8.33. The transfer function con-
</p>
<p>tains a de gain of 45.5 dBV, resonant poles at 400Hz having a Q of 4 =&gt; 12 dB, and a right half-plane 
zero at 2.65 kHz. The resonant poles contribute -180' to the high-frequency phase asymptote, while the 
</p>
<p>right half-plane zero contributes -90'. In addition, the inverting characteristic of the buck-boost con-
</p>
<p>verter leads to a 180' phase reversal, not included in Fig. 8.33. 
</p>
<p>The Bode plot of the magnitude and phase of the line-to-output transfer function Gvg is con-
</p>
<p>structed in Fig. 8.34. This transfer function contains the same resonant poles at 400 Hz, but is missing 
</p>
<p>the right half-plane zero. The de gain Ggo is equal to the conversion ratio M(D) of the converter. Again, 
</p>
<p>the 180' phase reversal, caused by the inverting characteristic of the buck-boost converter, is not included 
</p>
<p>in Fig. 8.34. </p>
<p/>
</div>
<div class="page"><p/>
<p>8.2 Analysis of Converter Transfer Functions 299 
</p>
<p>80dBV II Gvd II 
II Gvd II L Gvd 
</p>
<p>60dBV Gd0=187V 
=} 45.5 dBV 
</p>
<p>40dBV 
</p>
<p>20dBV 
w-t/2Q fo 
</p>
<p>00 300Hz 
OdBV 00 
</p>
<p>L. Gvd !, 110 
</p>
<p>-20dBV 260Hz -90&deg; 
</p>
<p>-40dBV 
10f, 
</p>
<p>-180&deg; 
</p>
<p>26kHz -270&deg; 
-270&deg; 
</p>
<p>10Hz 100Hz 1kHz 10kHz 100kHz 1 MHz 
</p>
<p>f 
</p>
<p>Fig. 8.33 Bode plot of the control-to-output transfer function Gvd' buck-boost converter example. Phase reversal 
</p>
<p>owing to output voltage inversion is not included. 
</p>
<p>-180&deg; ,_ _________ -+ -180&deg; 
</p>
<p>4-----t---------+------+------+ -270&deg; 
10kHz 100kHz 
</p>
<p>Fig. 8.34 Bode plot of the line-to-output transfer function Gvg' buck-boost converter example. Phase reversal 
</p>
<p>owing to output voltage reversal is not included. </p>
<p/>
</div>
<div class="page"><p/>
<p>300 Converter Transfer Functions 
</p>
<p>Table 8.2 Salient features of the small-signal CCM transfer functions of some basic de-de converters 
</p>
<p>Converter Ggo GdO Wo Q 
</p>
<p>Buck D v 1 Rjf 75 .fLE 
</p>
<p>Boost 1 v D' D'Rff 
D' D' .fLE 
</p>
<p>Buck-boost D v D' D'Rff -D' DD' .fLE 
</p>
<p>8.2.2 Transfer Functions of Some Basic CCM Converters 
</p>
<p>The salient features of the line-to-output and control-to-output transfer functions of the basic buck, 
</p>
<p>boost, and buck-boost converters are summarized in Table 8.2. In each case, the control-to-output trans-
</p>
<p>fer function is of the form 
</p>
<p>GvJ...s) = GdO ( ) 
1 + _s_ + (_&sect;_)2 
</p>
<p>Qwo Wo 
</p>
<p>(8.132) 
</p>
<p>and the line-to-output transfer function is of the form 
</p>
<p>(8.133) 
</p>
<p>The boost and buck-boost converters exhibit control-to-output transfer functions containing two poles 
</p>
<p>and a right half-plane zero. The buck converter GvgCs) exhibits two poles but no zero. The line-to-output 
</p>
<p>transfer functions of all three ideal converters contain two poles and no zeroes. 
</p>
<p>These results can be easily adapted to transformer-isolated versions of the buck, boost, and 
</p>
<p>buck-boost converters. The transformer has negligible effect on the transfer functions GvgCs) and Gvis), 
</p>
<p>other than introduction of a turns ratio. For example, when the transformer of the bridge topology is 
</p>
<p>driven symmetrically, its magnetizing inductance does not contribute dynamics to the converter small-
</p>
<p>signal transfer functions. Likewise, when the transformer magnetizing inductance of the forward con-
</p>
<p>verter is reset by the input voltage v8 , as in Fig. 6.23 or 6.28, then it also contributes negligible dynamics. 
</p>
<p>In all transformer-isolated converters based on the buck, boost, and buck-boost converters, the line-to-
</p>
<p>output transfer function Gv/s) should be multiplied by the transformer turns ratio; the transfer functions 
</p>
<p>(8.132) and (8.133) and the parameters listed in Table 8.2 can otherwise be directly applied. 
</p>
<p>8.2.3 Physical Origins of the Right Half-Plane Zero in Converters 
</p>
<p>Figure 8.35 contains a block diagram that illustrates the behavior of the right half-plane zero. At low fre-
</p>
<p>quencies, the gain (s/mz) has negligible magnitude, and hence uout "' uin' At high frequencies, where the </p>
<p/>
</div>
<div class="page"><p/>
<p>8.2 Analysis of Converter Transfer Functions 301 
</p>
<p>Fig. 8.35 Block diagram having a right half-plane 
</p>
<p>zero transfer function, as in Eq. (8.32), with w0 = (.1)2&bull; U;n(s) 
</p>
<p>magnitude of the gain (s/W2) is much greater than 1, uout"'- (siW 2)u;n&middot; The negative sign causes a phase 
</p>
<p>reversal at high frequency. The implication for the transient response is that the output initially tends in 
</p>
<p>the opposite direction of the final value. 
</p>
<p>We have seen that the control-to-output transfer functions of the boost and buck-boost convert-
</p>
<p>ers, Fig. 8.36, exhibit RHP zeroes. Typical transient response waveforms for a step change in duty cycle 
</p>
<p>are illustrated in Fig. 8.37. For this example, the converter initially operates in equilibrium, at d = 0.4 
</p>
<p>and d = 0.6. Equilibrium inductor current iL(t), diode current iv(t), and output voltage v(t) waveforms are 
</p>
<p>illustrated. The average diode current is 
</p>
<p>(8.134) 
</p>
<p>By capacitor charge balance, this average diode current is equal to the de load current when the converter 
</p>
<p>operates in equilibrium. At timet= fp the duty cycle is increased to 0.6. In consequence, d decreases to 
</p>
<p>0.4. The average diode current, given by Eq. (8.134), therefore decreases, and the output capacitor begins 
</p>
<p>to discharge. The output voltage magnitude initially decreases as illustrated. 
</p>
<p>(a) 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>(b) 
</p>
<p>iv(t) 
</p>
<p>2 + 
</p>
<p>iL(t) 
c R vg v 
</p>
<p>L 
</p>
<p>Fig. 8.36 Two basic converters whose CCM control-to-output transfer functions exhibit RHP zeroes: (a) boost, 
</p>
<p>(b) buck-boost. </p>
<p/>
</div>
<div class="page"><p/>
<p>302 Converter Transfer Functions 
</p>
<p>Fig. 8.37 Waveforms of the converters 
</p>
<p>of Fig. 8.36, for a step response in duty 
</p>
<p>cycle. The average diode current and out-
</p>
<p>put voltage initially decrease, as predicted 
</p>
<p>by the RHP zero. Eventually, the inductor 
</p>
<p>current increases, causing the average 
</p>
<p>diode current and the output voltage to 
</p>
<p>increase. 
</p>
<p>I v(t) I 
</p>
<p>! d = 0.4 ' d = 0.6 
~_______. 
</p>
<p>! 
</p>
<p>The increased duty cycle causes the inductor current to slowly increase, and hence the average 
</p>
<p>diode current eventually exceeds its original d = 0.4 equilibrium value. The output voltage eventually 
increases in magnitude, to the new equilibrium value corresponding to d = 0.6. 
</p>
<p>The presence of a right half-plane zero tends to destabilize wide-bandwidth feedback loops, 
</p>
<p>because during a transient the output initially changes in the wrong direction. The phase margin test for 
</p>
<p>feedback loop stability is discussed in the next chapter; when a RHP zero is present, it is difficult to 
</p>
<p>obtain an adequate phase margin in conventional single-loop feedback systems having wide bandwidth. 
</p>
<p>Prediction of the right half-plane zero, and the consequent explanation of why the feedback loops con-
</p>
<p>trolling CCM boost and buck-boost converters tend to oscillate, was one of the early successes of aver-
</p>
<p>aged converter modeling. 
</p>
<p>8.3 GRAPHICAL CONSTRUCTION OF IMPEDANCES AND TRANSFER FUNCTIONS 
</p>
<p>Often, we can draw approximate Bode diagrams by inspection, without large amounts of messy algebra 
</p>
<p>and the inevitable associated algebra mistakes. A great deal of insight can be gained into the operation of 
</p>
<p>the circuit using this method. It becomes clear which components dominate the circuit response at vari-
</p>
<p>ous frequencies, and so suitable approximations become obvious. Analytical expressions for the approx-
</p>
<p>imate corner frequencies and asymptotes can be obtained directly. Impedances and transfer functions of 
</p>
<p>quite complicated networks can be constructed. Thus insight can be gained, so that the design engineer </p>
<p/>
</div>
<div class="page"><p/>
<p>8.3 Graphical Construction of Impedances and Transfer Functions 303 
</p>
<p>can modify the circuit to obtain a desired frequency response. 
</p>
<p>The graphical construction method, also known as "doing algebra on the graph," involves use of 
</p>
<p>a few simple rules for combining the magnitude Bode plots of impedances and transfer functions. 
</p>
<p>8.3.1 Series Impedances: Addition of Asymptotes 
</p>
<p>A series connection represents the addition of impedances. If the Bode 
</p>
<p>diagrams of the individual impedance magnitudes are known, then the 
</p>
<p>asymptotes of the series combination are found by simply taking the 
</p>
<p>largest of the individual impedance asymptotes. In many cases, the 
</p>
<p>result is exact. In other cases, such as when the individual asymptotes 
</p>
<p>have the same slope, then the result is an approximation; nonetheless, 
</p>
<p>the accuracy of the approximation can be quite good. 
</p>
<p>Consider the series-connected R-C network of Fig. 8.38. It is 
</p>
<p>desired to construct the magnitude asymptotes of the total series imped-
</p>
<p>ance Z(s), where 
</p>
<p>Z(s) = R + _l__ 
sC 
</p>
<p>(8.135) 
</p>
<p>Fig. 8.38 Series R-C network 
</p>
<p>example. 
</p>
<p>Let us first sketch the magnitudes of the individual impedances. The 10 Q resistor has an impedance 
</p>
<p>magnitude of 10 Q =&gt; 20 dBQ. This value is independent of frequency, and is given in Fig. 8.39. The 
capacitor has an impedance magnitude of 1/wC. This quantity varies inversely with w, and hence its mag-
nitude Bode plot is a line with slope -20 dB/decade. The line passes through 1 Q =&gt; 0 dBQ at the angu-
lar frequency w where 
</p>
<p>wlc=lQ (8.136) 
</p>
<p>that is, at 
</p>
<p>())-~~~- 1 
- (1 Q)C- (1 Q)(l0-6 F) 
</p>
<p>106 rad/sec (8.137) 
</p>
<p>80dBQ lOkQ 
</p>
<p>60dBQ 1 kQ 
</p>
<p>40dBQ lOOQ 
</p>
<p>20dBQ lOQ 
</p>
<p>OdBQ lQ 
</p>
<p>-20dBQ 0.1 Q 
</p>
<p>100Hz 1kHz 10kHz 100kHz lMHz 
</p>
<p>Fig. 8.39 Impedance magnitudes of the individual elements in the network of Fig. 8.38. </p>
<p/>
</div>
<div class="page"><p/>
<p>304 Converter Transfer Functions 
</p>
<p>80dBQ 
liZ II 
</p>
<p>10kQ 
</p>
<p>60dBQ 1 kQ 
</p>
<p>40dBQ 100Q 
</p>
<p>20dBQ R ""r""'&middot;&middot;""&middot; ... -... ------'~--+ 10 Q 
Jo &middot;&middot; ... 
</p>
<p>znkc =16kHz&middot;&middot;&middot; ... &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; ..... (l)lC 
&middot;-... 
</p>
<p>OdBQ lQ 
</p>
<p>-ZOdBQ~-----~-------r-------+-------4 0.1 Q 
</p>
<p>1 MHz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>Fig. 8.40 Construction of the composite asymptotes of /1 Z //. The asymptotes of the series combination can be 
</p>
<p>approximated by simply selecting the larger of the individual resistor and capacitor asymptotes. 
</p>
<p>In tenus offrequency f, this occurs at 
</p>
<p>106 
f=.!&amp;..=-= 159kHz 
</p>
<p>2n 2n 
(8.138) 
</p>
<p>So the capacitor impedance magnitude is a line with slope -20 dB/dec, and which passes through 0 dBQ 
</p>
<p>at 159 kHz, as shown in Fig. 8.39. It should be noted that, for simplicity, the asymptotes in Fig. 8.39 
</p>
<p>have been labeled R and 1/ffiC. But to draw the Bode plot, we must actually plot dBQ; for example, 
</p>
<p>20 log10 (Ril Q) and 20 log10 ((1/ffiC)/1 Q). 
</p>
<p>Let us now construct the magnitude of Z(s), given by Eq. (8.135). The magnitude of Z can be 
</p>
<p>approximated as follows: 
</p>
<p>IIZ(jw) II= IIR + j~C ~ ~ {~ 
we 
</p>
<p>for R &raquo; 1/wC 
(8.139) 
</p>
<p>for R &laquo; 1/wC 
</p>
<p>The asymptotes of the series combination are simply the larger of the individual resistor and capacitor 
</p>
<p>asymptotes, as illustrated by the heavy lines in Fig. 8.40. For this example, these are in fact the exact 
</p>
<p>asymptotes of II Z 1/. In the limiting case of zero frequency (de), then the capacitor tends to an open cir-
cuit. The series combination is then dominated by the capacitor, and the exact function tends asymptoti-
</p>
<p>cally to the capacitor impedance magnitude. In the limiting case of infinite frequency, then the capacitor 
</p>
<p>tends to a short circuit, and the total impedance becomes simply R. So the Rand 1/ffiC lines are the exact 
</p>
<p>asymptotes for this example. 
</p>
<p>The comer frequency f0, where the asymptotes intersect, can now be easily deduced. At angular 
frequency ffi0 = 2nf0, the two asymptotes are equal in value: 
</p>
<p>(8.140) 
</p>
<p>Solution for ffi0 and/0 leads to: </p>
<p/>
</div>
<div class="page"><p/>
<p>8.3 Graphical Construction of Impedances and Transfer Functions 305 
</p>
<p>ro - _l_ - 1 105 rad/sec 
0 - RC- (10 Q)(l0-6 F) (8.141) 
</p>
<p>fo = ~~ = 2nkc =16kHz 
So if we can write analytical expressions for the asymptotes, then we can equate the expressions to find 
</p>
<p>analytical expressions for the comer frequencies where the asymptotes intersect. 
</p>
<p>The deviation of the exact curve from the asymptotes follows all of the usual rules. The slope of 
the asymptotes changes by +20 dB/decade at the comer frequency fo (i.e., from -20 dBQ/decade to 
0 dBQ/decade ), and hence there is a zero at f = f0. So the exact curve deviates from the asymptotes by 
+3 dBQ atf= f 0, and by +1 dBQ atf= 2f0 and atf= fof2. 
</p>
<p>8.3.2 Series Resonant Circuit Example 
</p>
<p>As a second example, let us construct the magnitude asymptotes 
</p>
<p>for the series R-L-C circuit of Fig. 8.41. The series impedance Z(s) is 
</p>
<p>Z(s) = R + sL+ sb (8.142) 
</p>
<p>The magnitudes of the individual resistor, inductor, and capacitor asymp-
</p>
<p>totes are plotted in Fig. 8.42, for the values 
</p>
<p>R=1ill 
</p>
<p>L= 1mH 
</p>
<p>C=0.1 j.lF 
</p>
<p>(8.143) 
</p>
<p>The series impedance Z(s) is dominated by the capacitor at low frequency, 
</p>
<p>by the resistor at mid frequencies, and by the inductor at high frequencies, 
</p>
<p>as illustrated by the bold line in Fig. 8.42. The impedance Z(s) contains a 
</p>
<p>Z(s) 
</p>
<p>--.. 
</p>
<p>Fig. 8.41 Series R-L-C 
network example. 
</p>
<p>zero at angular frequency ffip where the capacitor and resistor asymptotes intersect. By equating the 
expressions for the resistor and capacitor asymptotes, we can find ffi1: 
</p>
<p>Fig. 8.42 Graphical con-
</p>
<p>struction of II Z II of the series 
R-L-C network of Fig. 8.41, 
for the element values speci-
</p>
<p>fied by Eq. (8.143). 
</p>
<p>100dBQ 
</p>
<p>80dBQ 
</p>
<p>60dBQ 
</p>
<p>40dBQ 
</p>
<p>20dBQ 
</p>
<p>OdBQ 
</p>
<p>100Hz 1kHz 
</p>
<p>(8.144) 
</p>
<p>100kQ 
</p>
<p>10kQ 
</p>
<p>1 kQ 
</p>
<p>lOOQ 
</p>
<p>lOQ 
</p>
<p>1Q 
</p>
<p>10kHz 100kHz 1MHz </p>
<p/>
</div>
<div class="page"><p/>
<p>306 Converter Transfer Functions 
</p>
<p>lOOdBQ IIZII lOOkQ 
</p>
<p>80dBQ lOkQ 
</p>
<p>60dBQ 1 kQ 
</p>
<p>40dBQ IOOQ 
</p>
<p>20dBQ 
R .. &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>&middot;&middot;&middot;&middot;&middot;&middot;&middot;---------------&middot;-&middot;&middot;&middot;&middot;::-~~::::: ........................................... :::&middot;.&middot;&middot;&middot;;::&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;--
</p>
<p>... &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;(;;~&middot;&middot; (J)i~&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; ... 
OdBQ+-~----~------~--------4--==----4 
</p>
<p>&middot;-.. 
IOQ 
</p>
<p>1Q 
</p>
<p>100Hz 1kHz 10kHz 100kHz 1 MHz 
</p>
<p>Fig. 8.43 Graphical construction of impedance asymptotes for the series R-L-C network example, with R 
</p>
<p>decreased to 10 Q. 
</p>
<p>A second zero occurs at angular frequency w2, where the inductor and resistor asymptotes intersect. 
Upon equating the expressions for the resistor and inductor asymptotes at w2, we obtain the following: 
</p>
<p>(8.145) 
</p>
<p>So simple expressions for all important features of the magnitude Bode plot of Z(s) can be obtained 
</p>
<p>directly. It should be noted that Eqs. (8.144) and (8.145) are approximate, rather than exact, expressions 
</p>
<p>for the comer frequencies w1 and w2&bull; Equations (8.144) and (8.145) coincide with the results obtained 
via the low-Q approximation of Section 8.1.7. 
</p>
<p>Next, suppose that the value of R is decreased to 10 Q. As R is reduced in value, the approxi-
</p>
<p>mate comer frequencies w1 and w2 move closer together until, at R = 100 Q, they are both 100 krad/sec. 
Reducing R further in value causes the asymptotes to become independent of the value of R, as illustrated 
</p>
<p>in Fig. 8.43 for R = 10 Q. The II Z II asymptotes now switch directly from wL to 1/wC. 
So now there are two zeroes at w = w0. At comer frequency w0, the inductor and capacitor 
</p>
<p>asymptotes are equal in value. Hence, 
</p>
<p>Solution for the angular comer frequency w0 leads to 
</p>
<p>(!) __ 1_ 
0- .;rc 
</p>
<p>(8.146) 
</p>
<p>(8.147) 
</p>
<p>At w = w0, the inductor and capacitor impedances both have magnitude R0, called the characteristic 
impedance. 
</p>
<p>Since there are two zeroes at w = w0, there is a possibility that the two poles could be complex 
conjugates, and that peaking could occur in the vicinity of w = w0&bull; So let us investigate what the actual 
curve does at w = w0&bull; The actual value of the series impedance Z(jw0) is 
</p>
<p>(8.148) </p>
<p/>
</div>
<div class="page"><p/>
<p>8.3 Graphical Construction of Impedances and Transfer Functions 307 
</p>
<p>lOOdBQ lOOkQ 
</p>
<p>SOdBQ lOkQ 
</p>
<p>60dBQ 1 kQ 
</p>
<p>40dBQ lOOQ 
</p>
<p>20dBQ 10 Q 
</p>
<p>OdBQ lQ 
</p>
<p>100Hz l kHz 10kHz 100kHz lMHz 
</p>
<p>Fig. 8.44 Actual impedance magnitude (solid line) for the series resonant R-L-C example. The inductor and 
</p>
<p>capacitor impedances cancel out atf = f0, and hence Z(jm0) = R. 
</p>
<p>Substitution ofEq. (8.146) into Eq. (8.148) leads to 
</p>
<p>R 
Z(jm0) = R + jR0 + --!!- = R + }R0 - }R0 = R 
</p>
<p>J 
</p>
<p>(8.149) 
</p>
<p>At w = m0, the inductor and capacitor impedances are equal in magnitude but opposite in phase. Hence, 
they exactly cancel out in the series impedance, and we are left with Z(jm0) = R, as illustrated in 
Fig. 8.44. The actual curve in the vicinity of the resonance at w = w0 can deviate significantly from the 
asymptotes, because its value is determined by R rather than mL or 1/mC. 
</p>
<p>We know from Section 8.1.6 that the deviation of the actual curve from the asymptotes at m = 
m0 is equal to Q. From Fig. 8.44, one can see that 
</p>
<p>or, 
</p>
<p>Q- Ro -R 
</p>
<p>Equations (8.146) to (8.151) are exact results for the series resonant circuit. 
</p>
<p>(8.150) 
</p>
<p>(8.151) 
</p>
<p>The practice of adding asymptotes by simply selecting the larger asymptote can be applied to 
</p>
<p>transfer functions as well as impedances. For example, suppose that we have already constructed the 
</p>
<p>magnitude asymptotes of two transfer functions, G1 and G2, and we wish to find the asymptotes of G = 
</p>
<p>G1 + G2. At each frequency, the asymptote for G can be approximated by simply selecting the larger of 
the asymptotes for G1 and G2: 
</p>
<p>(8.152) 
</p>
<p>Corner frequencies can be found by equating expressions for asymptotes as illustrated in the preceding 
</p>
<p>examples. In the next chapter, we will see that this approach yields a simple and powerful method for 
</p>
<p>determining the closed-loop transfer functions of feedback systems. </p>
<p/>
</div>
<div class="page"><p/>
<p>308 Converter Transfer Functions 
</p>
<p>8.3.3 Parallel Impedances: Inverse Addition of Asymptotes 
</p>
<p>A parallel combination represents inverse addition of impedances: 
</p>
<p>(8.153) 
</p>
<p>If the asymptotes of the individual impedances 2 1, 22, ..&bull; , are known, then the asymptotes of the parallel 
</p>
<p>combination Zpar can be found by simply selecting the smallest individual impedance asymptote. This is 
</p>
<p>true because the smallest impedance will have the largest inverse, and will dominate the inverse sum. As 
</p>
<p>in the case of the series impedances, this procedure will often yield the exact asymptotes of Zpar" 
</p>
<p>Let us construct the magnitude asymptotes for the parallel 
</p>
<p>R-L-C network of Fig. 8.45, using the following element values: 
</p>
<p>R= lOQ 
</p>
<p>L= lmH 
</p>
<p>C=O.l ).LF 
</p>
<p>Z(s) 
</p>
<p>(8.154) --+ 
R L c 
</p>
<p>Impedance magnitudes of the individual elements are illustrated in Fig. 8.45 Parallel R-L-C network 
</p>
<p>Fig. 8.46. The asymptotes for the total parallel impedance Z are example. 
</p>
<p>approximated by simply selecting the smallest individual element 
</p>
<p>impedance, as shown by the heavy line in Fig. 8.46. So the parallel impedance is dominated by the 
</p>
<p>inductor at low frequency, by the resistor at mid frequencies, and by the capacitor at high frequency. 
</p>
<p>Approximate expressions for the angular comer frequencies are again found by equating asymptotes: 
</p>
<p>R 
R = w1L ==&gt; w1 = L 
R=-1- ==&gt; w =_L 
</p>
<p>w2C 2 RC 
</p>
<p>(8.155) 
at w = w2, 
</p>
<p>These expressions could have been obtained by conventional analysis, combined with the low-Q approx-
</p>
<p>imation of Section 8.1.7. 
</p>
<p>Fig. 8.46 Construction of 
the composite asymptotes of 
</p>
<p>II Z II. for the parallel R-L-C 
example. The asymptotes of 
the parallel combination can 
</p>
<p>be approximated by simply 
</p>
<p>selecting the smallest of the 
individual resistor, inductor, 
and capacitor asymptotes. 
</p>
<p>80dBQ &middot;&middot; ... 
&middot;&middot; .. 
_L&middot;&middot;&middot;&middot;&middot;&middot; .... 
</p>
<p>60dBQ we &middot;&middot; .. 
</p>
<p>40dBQ 
</p>
<p>20dBQ 
R 
</p>
<p>OdBQ 
</p>
<p>-20dBQ 
</p>
<p>100Hz 1kHz 
</p>
<p>&middot;&middot;&middot; .. &middot;&middot; .. &middot;&middot;&middot;. . .. -&middot;&middot;&middot;&middot;&middot;&middot; 
... -&middot;&middot; 
</p>
<p>.. -&middot;&middot; 
.. &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;wL 
</p>
<p>&middot;::."?:: ......... 
... -&middot;&middot;&middot;&middot;&middot; 
</p>
<p>.. &middot;&middot;&middot; &middot;&middot; ... ... &middot;&middot;&middot; &middot;&middot; .. 
</p>
<p>1/Z// 
</p>
<p>10kHz 100kHz 
</p>
<p>lOkQ 
..--&middot; 
</p>
<p>1 kQ 
</p>
<p>lOOQ 
</p>
<p>lOQ 
</p>
<p>lQ 
</p>
<p>0.1 Q 
</p>
<p>1 MHz </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 8.47 Graphical construc-
</p>
<p>tion of impedance asymptotes 
</p>
<p>for the parallel R-L--C example, 
</p>
<p>with R increased to 1 k.Q. 
</p>
<p>8.3 Graphical Construction of Impedances and Transfer Functions 309 
</p>
<p>80dBQ 10k.Q 
</p>
<p>60dBQ 1 kQ 
</p>
<p>40dBQ lOOQ 
</p>
<p>20dBQ 10Q 
</p>
<p>OdBQ 1Q 
</p>
<p>-20 dBQ +------+------+-------+-----+ 0.1 Q 
100Hz 1kHz 10kHz 100kHz 1 MHz 
</p>
<p>8.3.4 Parallel Resonant Circuit Example 
</p>
<p>Figure 8.47 illustrates what happens when the value of R in the parallel R-L--C network is increased to 
</p>
<p>1 kQ. The asymptotes for II Z II then become independent of R, and change directly from roL to 1/roC at 
angular frequency ro0. The corner frequency ro0 is now the frequency where the inductor and capacitor 
</p>
<p>asymptotes have equal value: 
</p>
<p>(8.156) 
</p>
<p>which implies that 
</p>
<p>(8.157) 
</p>
<p>At ro = ro0, the slope of the asymptotes of II Z II changes from +20 dB/decade to -20 dB/decade, and 
hence there are two poles. We should investigate whether peaking occurs, by determining the exact value 
</p>
<p>of II Z II at ro = ro0, as follows: 
</p>
<p>(8.158) 
</p>
<p>ZUm0)=RIIimoLII-.-1-= 1 1 1 
JOloC - + -- + jw C 
</p>
<p>R jmoL o 
</p>
<p>Substitution of Eq. (8.156) into (8.158) yields 
</p>
<p>(8.159) 
</p>
<p>So at ro = ro0, the impedances of the inductor and capacitor again cancel out, and we are left with 
</p>
<p>ZUro0) = R. The values of L and C determine the values of the asymptotes, but R determines the value of 
</p>
<p>the actual curve at ro = ro0. 
</p>
<p>The actual curve is illustrated in 8.48. The deviation of the actual curve from the asymptotes at 
</p>
<p>ro = ro0 is </p>
<p/>
</div>
<div class="page"><p/>
<p>310 Converter Transfer Functions 
</p>
<p>Fig. 8.48 Actual impedance 
</p>
<p>magnitude (solid line) for the 
</p>
<p>parallel R-L-C example. The 
</p>
<p>inductor and capacitor imped-
</p>
<p>ances cancel out at f = f0, and 
hence Z(jW0) = R. 
</p>
<p>80dBQ &middot;&middot; .. 
</p>
<p>60dBQ 
</p>
<p>40dBQ 
</p>
<p>20dBQ 
</p>
<p>OdBQ 
</p>
<p>&middot; ... 
&middot;&middot;&middot;&middot;&middot; .... 
</p>
<p>&middot;&middot;&middot; ... 
-&middot;&middot;&middot; . .. -&middot; 
</p>
<p>10kQ 
</p>
<p>1 kQ 
</p>
<p>lOOQ 
</p>
<p>10Q 
</p>
<p>1Q 
</p>
<p>-20dBQ ~-------r------~~------;-------~ 0.1 Q 
</p>
<p>1MHz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>I Q Ids= f R fctsQ -I Ro lctsQ (8.160) 
</p>
<p>or, 
</p>
<p>Q= :0 (8.161) 
</p>
<p>Equations (8.156) to (8.161) are exact results for the parallel resonant circuit. 
</p>
<p>The graphical construction method for impedance magnitudes is well known, and reactance 
</p>
<p>paper can be purchased commercially. As illustrated in Fig. 8.49, the magnitudes of the impedances of 
</p>
<p>various inductances, capacitances, and resistances are plotted on semilogarithmic axes. Asymptotes for 
</p>
<p>the impedances of R-L-C networks can be sketched directly on these axes, and numerical values of cor-
</p>
<p>ner frequencies can then be graphically determined. 
</p>
<p>SOdBQ 10kQ 
</p>
<p>60dBQ I kQ 
</p>
<p>40dBQ 100Q 
</p>
<p>20dBQ 10Q 
</p>
<p>OdBQ IQ 
</p>
<p>-20dBQ 100mQ 
</p>
<p>-40dBQ lOmQ 
</p>
<p>-60 dBQ P=---~~'""'----..f-"'"""-----i--=='"""-----+-="-""'------J- I mQ 
</p>
<p>10Hz 100Hz I kHz 10kHz 100kHz I MHz 
</p>
<p>Fig. 8.49 "Reactance paper": an aid for graphical construction of impedances, with the magnitudes of various 
</p>
<p>inductive, capacitive, and resistive impedances preplotted. </p>
<p/>
</div>
<div class="page"><p/>
<p>8.3 Graphical Construction of Impedances and Transfer Functions 311 
</p>
<p>(a) H(s) 
</p>
<p>~ 
</p>
<p>+ 
</p>
<p>c vz(s) R zout 
</p>
<p>...._,_...., 
z, ~ 
</p>
<p>(b) (c) 
</p>
<p>L 
</p>
<p>L c R zout zin c R - -
</p>
<p>Fig. 8.50 Two-pole low-pass filter based on voltage divider circuit: (a) transfer function H(s), (b) determination 
</p>
<p>of Zour&bull; by setting independent sources to zero, (c) determination of Zin(s). 
</p>
<p>8.3.5 Voltage Divider Transfer Functions: Division of Asymptotes 
</p>
<p>Usually, "we can express transfer functions in terms of impedances-for example, as the ratio of two 
impedances. If we can construct these impedances as described in the previous sections, then we can 
divide to construct the transfer function. In this section, construction of the transfer function H(s) of the 
two-pole R-L-C low-pass filter (Fig. 8.50) is discussed in detail. A filter of this form appears in the 
canonical model for two-pole converters, and the results of this section are applied in the converter exam-
ples of the next section. 
</p>
<p>The familiar voltage divider formula shows that the transfer function of this circuit can be 
</p>
<p>expressed as the ratio of impedances ~/Zin' where Zin = Z1 + ~ is the network input impedance: 
</p>
<p>(8.162) 
</p>
<p>For this example, Z1(s) = sL, and ~(s) is the parallel combination of Rand 1/sC. Hence, we can find the 
transfer function asymptotes by constructing the asymptotes of~ and of the series combination repre-
</p>
<p>sented by Zin&bull; and then dividing. Another approach, which is easier to apply in this example, is to multi-
ply the numerator and denominator of Eq. (8.162) by Z1: </p>
<p/>
</div>
<div class="page"><p/>
<p>312 Converter Transfer Functions 
</p>
<p>(b) 
</p>
<p>Fig. 8.51 Graphical construction of Hand Zout of 
</p>
<p>the voltage divider circuit: (a) output impedance 
</p>
<p>zout; (b) transfer function H. 
</p>
<p>(8.163) 
</p>
<p>where zout = Z1 II Z2 is the output impedance of the voltage divider. So another way to construct the volt-
age divider transfer function is to first construct the asymptotes for Z1 and for the parallel combination 
</p>
<p>represented by Zout' and then divide. This method is useful when the parallel combination Z1 II Z2 is eas-
ier to construct than the series combination Z1 + Z2&bull; It often gives a different approximate result, which 
may be more (or sometimes less) accurate than the result obtained using Z;n&middot; 
</p>
<p>The output impedance Zout in Fig. 8.50(b) is 
</p>
<p>ZoJs) = R II s~ II sL (8.164) 
</p>
<p>The impedance of the parallel R-L-C network is constructed in Section 8.3.3, and is illustrated in 
</p>
<p>Fig. 8.5l(a) for the high-Q case. 
</p>
<p>According to Eq. (8.163), the voltage divider transfer function magnitude is II H II = II Zout III 
II zl II. This quantity is constructed in Fig. 8.5l(b). For(!)&lt; Wo, the asymptote of II zout II coincides with 
II zl 1/: both are equal to wL. Hence, the ratio is II zout /Ill/ zl II= 1. For(!)&gt; Wo, the asymptote of II zout II is 
llwC, while II zl II is equal to wL. The ratio then becomes II zout /Ill/ zl II = llw2LC, and hence the high-
</p>
<p>1 
WC&middot;&middot;&middot;&middot; ... 
</p>
<p>.. &middot;&middot;&middot; 
</p>
<p>Fig. 8.52 Effect of increasing L on the output 
</p>
<p>impedance asymptotes, corner frequency, and 
</p>
<p>Q-factor. </p>
<p/>
</div>
<div class="page"><p/>
<p>8.4 Graphical Construction of Converter Transfer Functions 313 
</p>
<p>+ 
</p>
<p>I d(t) R v(t) 
</p>
<p>Fig. 8.53 Small-signal model of the buck converter, with input impedance Z;n(s) and output impedance Z0" 1(s) 
</p>
<p>explicitly defined. 
</p>
<p>frequency asymptote has a -40 dB/decade slope. At (J) = (J)o, II zout II has exact value R, while II zl II has 
exact value Ro. The ratio is then II H(jwo) II= II zout(jwo) IIIII Zl(jwo) II= R!Ro = Q. So the filter transfer 
function H has the same w0 and Q as the impedance Zour 
</p>
<p>It now becomes obvious how variations in element values affect the salient features of the trans-
</p>
<p>fer function and output impedance. For example, the effect of increasing Lis illustrated in Fig. 8.52. This 
</p>
<p>causes the angular resonant frequency w0 to be reduced, and also reduces the Q-factor. 
</p>
<p>8.4 GRAPHICAL CONSTRUCTION OF CONVERTER TRANSFER FUNCTIONS 
</p>
<p>The small-signal equivalent circuit model of the buck converter, derived in Chapter 7, is reproduced in 
</p>
<p>Fig. 8.53. Let us construct the transfer functions and terminal impedances of this converter, using the 
</p>
<p>graphical approach of the previous section. 
</p>
<p>The output impedance Zou/s) is found with the d(s) and vgCs) sources set to zero; the circuit of 
</p>
<p>Fig. 8.54(a) is then obtained. This model coincides with the parallel R-L--C circuit analyzed in Sections 
</p>
<p>8.3.3 and 8.3.4. As illustrated in Fig. 8.54(b), the output impedance is dominated by the inductor at low 
</p>
<p>frequency, and by the capacitor at high frequency. At the resonant frequency f0, given by 
</p>
<p>fr - 1 
0 - 2n./LC 
</p>
<p>(8.165) 
</p>
<p>the output impedance is equal to the load resistance R. The Q-factor of the circuit is equal to 
</p>
<p>(a) L (b) l &middot;&middot;&middot;&middot;&middot;&middot;&middot; ... we wL ..... 
</p>
<p>&middot;&bull;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; '"&lt; :::&middot;&middot;&middot;&middot;&middot; &middot;:r~=:::': 
fo 
</p>
<p>c R 
</p>
<p>Fig. 8.54 Construction of buck converter output impedance Zou/s): (a) circuit model; (b) impedance asymptotes. </p>
<p/>
</div>
<div class="page"><p/>
<p>314 Converter Transfer Functions 
</p>
<p>(a) L 
</p>
<p>c R 
</p>
<p>(b) 1 wL 
</p>
<p>'?~,I: : :,, :,,; ~ :::~ 
.... &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; fo &middot;&middot;&middot; ......... . 
</p>
<p>&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 2n~LC 
... &middot;&middot;&middot; VLL 
</p>
<p>&middot;&middot;&middot;. 
&middot;&middot;&middot;&middot;&middot; ... 
</p>
<p>where 
</p>
<p>Fig. 8.55 Construction of the input impedance 
</p>
<p>Z;11(s) for the buck converter: (a) circuit model; 
</p>
<p>(b) the individual resistor, inductor, and capacitor 
</p>
<p>impedance magnitudes; (c) construction of the 
</p>
<p>impedance magnitudes II Z1 II and II Z2 II; (d) con-
struction of II zout II; (e) final result II zin 11. 
</p>
<p>(d) 
</p>
<p>R 
D2 
</p>
<p>II zin II 
</p>
<p>(8.166) 
</p>
<p>(8.167) 
</p>
<p>Thus, the circuit is lightly damped (high Q) at light load, where the value of R is large. 
</p>
<p>The converter input impedance Z;n(s) is also found with the d(s) and vgCs) sources set to zero, as 
</p>
<p>illustrated in Fig. 8.55(a). The input impedance is referred to the primary side of the 1 :D transformer, and 
</p>
<p>is equal to 
</p>
<p>(8.168) 
</p>
<p>where </p>
<p/>
</div>
<div class="page"><p/>
<p>8.4 Graphical Construction of Converter Transfer Functions 315 
</p>
<p>Z 1(s) = sL (8.169) 
</p>
<p>and 
</p>
<p>Z2(s)=Ril sb (8.170) 
</p>
<p>We begin construction of the impedance asymptotes corresponding to Eqs. (8.168) to (8.170) by con-
</p>
<p>structing the individual resistor, capacitor, and inductor impedances as in Fig. 8.55(b). The impedances 
</p>
<p>in Fig. 8.55 are constructed for the case R &gt; R0. As illustrated in Fig. 8.55(c), II 2 1 II coincides with the 
inductor reactance wL. The impedance II Z2 II is asymptotic to resistance R at low frequencies, and to the 
capacitor reactance 1/wC at high frequency. The resistor and capacitor asymptotes intersect at comer fre-
</p>
<p>quency f 1, given by 
</p>
<p>j' __ 1_ 
JI- 2nRC 
</p>
<p>(8.171) 
</p>
<p>According to Eq. (8.168), the input impedance Z;n(s) is equal to the series combination of Z1(s) and ~(s), 
divided by the square of the turns ratio D. The asymptotes for the series combination [Z1(s) + Zz(s)] are 
found by selecting the larger of the II 2 1 II and II ~ II asymptotes. The II Z1 II and II ~ II asymptotes inter-
sect at frequency f0, given by Eq. (8.165). It can be seen from Fig. 8.55(c) that the series combination is 
dominated by~ for f &lt;f0, and by Z1 for f&gt; f0&bull; Upon scaling the [Z1(s) + ~(s)] asymptotes by the factor 
l/D2, the input impedance asymptotes of Fig. 8.55(e) are obtained. 
</p>
<p>The zeroes of Z;n(s), at frequency f0, have the same Q-factor as the poles of Z0 ut(s) [Eq. (8.166)]. 
One way to see that this is true is to note that the output impedance can be expressed as 
</p>
<p>(8.172) 
</p>
<p>Hence, we can relate Z0 u1(s) to Zin(s) as follows: 
</p>
<p>(8.173) 
</p>
<p>The impedances II zl II, II Zzll, and II zout II are illustrated in Fig. 8.55(d). At the resonant frequency f = fo, 
impedance 2 1 has magnitude R0 and impedance 22 has magnitude approximately equal to R0&bull; The output 
impedance Zout has magnitude R. Hence, Eq. (8.173) predicts that the input impedance has the magnitude 
</p>
<p>li z. ~,_LRoRo atf= ~" mU Dz R Jo (8.174) 
</p>
<p>Atf = f0, the asymptotes of the input impedance have magnitude R0/IY. The deviation from the asymp-
totes is therefore equal to Q = R!R0, as illustrated in Fig. 8.55(e). 
</p>
<p>The control-to-output transfer function Gvis) is found with the vgCs) source set to zero, as in 
Fig. 8.56(a). This circuit coincides with the voltage divider analyzed in Section 8.3.5. Hence, Gvis) can 
be expressed as 
</p>
<p>(8.175) </p>
<p/>
</div>
<div class="page"><p/>
<p>316 Converter Transfer Functions 
</p>
<p>Fig. 8.56 Construction of the control-to-output 
</p>
<p>transfer function Gvd(s) for the buck converter: 
(a) circuit model; (b) relevant impedance asymptotes; 
</p>
<p>(c) transfer function II Gvis) 11. 
</p>
<p>(b) (c) 
</p>
<p>(a) L 
</p>
<p>+ 
</p>
<p>R v(t) 
</p>
<p>The quantities II Zout II and II Z1 II are constructed in Fig. 8.56(b ). According to Eq. (8.175), we can con-
struct II Gvis) II by finding the ratio of II zout II and II Z1 II, and then scaling the result by vg. For J &lt; J0, 
II zout II and II Z1 II are both equal to wL and hence II zout IIIII Z1 II is equal to 1. As illustrated in Fig. 
8.56(c), the low-frequency asymptote of II Gvis) II has value vg. For!&gt; J0, II zout II has asymptote 1/wC, 
and II Z1 II is equal to wL. Hence, II zout IIIII Z1 II has asymptote llw2LC, and the high-frequency asymp-
tote of II Gvis) II is equal to V/w2LC. The Q-factor of the two poles at(_= f 0 is again equal to RIR0&bull; 
</p>
<p>The line-to-output transfer function Gv/s) is found with the d(s) sources set to zero, as in Fig. 
</p>
<p>8.57(a). This circuit contains the same voltage divider as in Fig. 8.56, and additionally contains the 1 :D 
</p>
<p>transformer. The transfer function GvgCs) can be expressed as 
</p>
<p>Fig. 8.57 The line-to-output transfer 
</p>
<p>function Gv8(s) for the buck converter: 
(a) circuit model; (b) magnitude asymp-
</p>
<p>totes. 
</p>
<p>(a) 
1 :D 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>v(t) </p>
<p/>
</div>
<div class="page"><p/>
<p>8.5 Measurement of AC Transfer Functions and Impedances 317 
</p>
<p>Network Analyzer 
</p>
<p>Injection sou rce Measured inJ&gt;uts Data 
</p>
<p>v: 0. Data bus 
Magnitude Frequency 
</p>
<p>1~1 I 17.3 dB I 
to computer 
</p>
<p>0 u 
o, ox oy 
</p>
<p>Output Input Input 
</p>
<p>!_~ -e-~ 
+ - + -
</p>
<p>I I 
- 134.7' 
</p>
<p>4 4 
vx 
</p>
<p>-!-
</p>
<p>Fig. 8.58 Key features and functions of a ne.twork analyzer: sinusoidal source of controllable amplitude and fre-
</p>
<p>quency, two inputs, and determination of relative magnitude and phase of the input components at the injection fre-
</p>
<p>quency. 
</p>
<p>(8.176) 
</p>
<p>This expression is similar to Eq. (8.175), except for the scaling factor of D. Therefore, the line-to-output 
</p>
<p>transfer function of Fig. 8.57(b) has the same shape as the control-to-output transfer function Gvd(s) . 
</p>
<p>8.5 MEASUREMENT OF AC TRANSFER FUNCTIONS AND IMPEDANCES 
</p>
<p>It is good engineering practice to measure the transfer functions of prototype converters and converter 
systems. Such an exercise can verify that the system has been correctly modeled and designed. Also, it is 
</p>
<p>often useful to characterize individual circuit elements through measurement of their terminal imped-
</p>
<p>ances. 
</p>
<p>Small-signal ac magnitude and phase measurements can be made using an instrument known as 
</p>
<p>a network analyzer, or frequency response analyzer. The key inputs and outputs of a basic network ana-
</p>
<p>lyzer are illustrated in Fig. 8.58. The network analyzer provides a sinusoidal output voltage v, of con-
trollable amplitude and frequency. This signal can be injected into the system to be measured, at any 
</p>
<p>desired location. The network analyzer also has two (or more) inputs, vx and vy. The return electrodes of 
v2, vy, and vx are internally connected to earth ground. The network analyzer performs the function of a 
narrowband tracking voltmeter: it measures the components of vx and vy at the injection frequency, and 
displays the magnitude and phase of the quantity il/vx. The narrowband tracking voltmeter feature is 
essential for switching converter measurements; otherwise, switching ripple and noise corrupt the 
</p>
<p>desired sinusoidal signals and make accurate measurements impossible [3]. Modern network analyzers 
</p>
<p>can automatically sweep the frequency of the injection source v, to generate magnitude and phase Bode 
plots of the transfer function V/vx. 
</p>
<p>A typical test setup for measuring the transfer function of an amplifier is illustrated in 
</p>
<p>Fig. 8.59. A potentiometer, connected between a de supply voltage V cc and ground, is used to bias the </p>
<p/>
</div>
<div class="page"><p/>
<p>318 Converter Transfer Functions 
</p>
<p>Injection source 
</p>
<p>v, v. 
Mttxn"iwde f ~ rrlf j U : Il CY 
</p>
<p>'0' 0' 
o, 
</p>
<p>Output 
</p>
<p>---o---1-
</p>
<p>DC 
blocking == 
c 
</p>
<p>DC 
bias 
</p>
<p>adju t 
</p>
<p>apacitor 
</p>
<p>Vee 
</p>
<p>&gt; 
</p>
<p>__ ...... 
</p>
<p>...--
</p>
<p>Fig. 8.59 Measurement of a transfer function. 
</p>
<p>Network Analyzer 
</p>
<p>Measured inJJUis 
</p>
<p>"&middot; v, 
'"~'"' /tlf/111 
</p>
<p>;:; 
0. 
</p>
<p>..: 
</p>
<p>- -
</p>
<p>1.1-
</p>
<p>G(s) 
</p>
<p>Device 
under test 
</p>
<p>1 
</p>
<p>0 
</p>
<p>" -6 
~ 
</p>
<p>Data 
</p>
<p>Duwbu.'' 
</p>
<p>I t. l I -4,7 dB I 
10 comp111er -
</p>
<p>L'!:-v, I -162.8' I 
</p>
<p>amplifier input to attain the correct quiescent operating point. The injection source voltage 02 is coupled 
</p>
<p>to the amplifier input terminals via a de blocking capacitor. This blocking capacitor prevents the injection 
</p>
<p>voltage source from upsetting the de bias. The network analyzer inputs vx and vy are connected to the 
input and output terminals of the amplifier. Hence, the measured transfer function is 
</p>
<p>Oy(s) = G(s) 
v)s) 
</p>
<p>(8.177) 
</p>
<p>Note that the blocking capacitance, bias potentiometer, and vz amplitude have no effect on the measured 
transfer function 
</p>
<p>An impedance 
</p>
<p>Z(s) = ~(s) 
t(s) 
</p>
<p>(8.178) 
</p>
<p>can be measured by treating the impedance as a transfer function from current to voltage. For example, 
</p>
<p>measurement of the output impedance of an amplifier is illustrated in Fig. 8.60. The quiescent operating 
</p>
<p>condition is again established by a potentiometer which biases the amplifier input. The injection source 
</p>
<p>vz is coupled to the amplifier output through a de blocking capacitor. The injection source voltage vz 
excites a cun&middot;ent lout in impedance z,. This current flows into the output of the amplifier, and excites a </p>
<p/>
</div>
<div class="page"><p/>
<p>8.5 Measurement of AC Transfer Functions and Impedances 319 
</p>
<p>DC 
bias 
</p>
<p>adjust 
</p>
<p>Device 
under test 
</p>
<p>0 
</p>
<p>G(s) ,8 ~ 
;;. 
</p>
<p>Voltage ___ ,, ------ , 
probe &middot;-----
</p>
<p>+ - + -
</p>
<p>Fig. 8.60 Measurement of the output impedance of a circuit. 
</p>
<p>voltage across the amplifier output impedance: 
</p>
<p>DC blocking 
capacitor 
</p>
<p>z,. 
</p>
<p>(8.179) 
</p>
<p>A cmTent probe is used to measure 1our The current probe produces a voltage proportional to 1uut; this 
</p>
<p>voltage is connected to the network analyzer input vx. A voltage probe is used to measure the amplifier 
output voltage vy. The network analyzer displays the transfer function v/vx, which is proportional to Zour 
Note that the value of Zs and the amplitude of v2 do not affect the measurement of Z0111&bull; 
</p>
<p>In power applications, it is sometimes necessary to measure impedances that are very small in 
</p>
<p>magnitude. Grounding problems[4] cause the test setup of Fig. 8.60 to fail in such cases. The reason is 
</p>
<p>illustrated in Fig. 8.61(a). Since the return connections of the injection source v2 and the analyzer input vy 
are both connected to earth ground, the injected current l0111 can return to the source through the return 
connections of either the injection source or the voltage probe. In practice, 1ow divides between the two 
</p>
<p>paths according to their relative impedances. Hence, a significant current (1 - k) l0111 flows through the 
return connection of the voltage probe. If the voltage probe return connection has some total contact and 
</p>
<p>wiring impedance Zprobe&bull; then the current induces a voltage drop (1- k)toutzprobe in the voltage probe wir-
</p>
<p>ing, as illustrated in Fig. 8.6l(a). Hence, the network analyzer does not correctly measure the voltage 
</p>
<p>drop across the impedance Z. If the internal ground connections of the network analyzer have negligible 
</p>
<p>impedance, then the network analyzer will display the following impedance: 
</p>
<p>(8.180) 
</p>
<p>Here, Zrz is the impedance of the injection source return connection. So to obtain an accurate measure-
</p>
<p>ment, the following condition must be satisfied: 
</p>
<p>II z II&raquo; II ( zpmbeiiZcz) II (8.181) </p>
<p/>
</div>
<div class="page"><p/>
<p>320 Converter Transfer Functions 
</p>
<p>(a) 
</p>
<p>Impedance 
under test 
</p>
<p>Z(s) 
</p>
<p>(1 - k) lout 
</p>
<p>Injection 
source 
return 
connection 
</p>
<p>Network Analyzer 
</p>
<p>r-:----,--~~j~~~~~:-~::~~~-----------1 
</p>
<p>! source ! 
</p>
<p>v, 1. 
I 
! 
1 
</p>
<p>}---------------------------------------------------! 
</p>
<p>'
j Measured 
</p>
<p>inputs 
</p>
<p>Voltage 
probe ----&lt; -_-:_~~~ &middot;' 
</p>
<p>! 
</p>
<p>(b) 
</p>
<p>Voltage ... &middot;&middot;&middot;&middot; 
probe .... &middot;&middot;&middot;&middot; 
</p>
<p>return 
connection 
</p>
<p>Impedance 
under test 
</p>
<p>Z(s) 
</p>
<p>0 
</p>
<p>Voltage 
pro be ----&lt; -:-~~~~ ) 
</p>
<p>Voltage 
probe .... &middot;&middot;&middot;&middot;&middot; 
</p>
<p>return 
connection 
</p>
<p>+ 
</p>
<p>+ . 
(1- k) iout zprobe 
</p>
<p>Injection 
source 
return 
connection 
</p>
<p>+ 
i 
j 
</p>
<p>I 
! 
i 
i 
</p>
<p>_____________________________________________________ j 
</p>
<p>Network Analyzer 
</p>
<p>r&middot;----------~~j~~~~~:-~-~:~~~--------- -
i Rsource 
' 
</p>
<p>! -: 
</p>
<p>r--"=~---~ 
~----------------_,t--------o + ' 
</p>
<p>vx I 
</p>
<p>ov 
i 
</p>
<p>I 
I 
</p>
<p>I 
+ 
</p>
<p>L ____________________________________________________ _ 
</p>
<p>Fig. 8.61 Measurement of a small impedance Z(s): (a) current flowing in the return connection of the voltage 
</p>
<p>probe induces a voltage drop that corrupts the measurement; (b) an improved experiment, incorporating isolation of 
</p>
<p>the injection source. </p>
<p/>
</div>
<div class="page"><p/>
<p>8.6 Summary of Key Points 321 
</p>
<p>A typical lower limit on II Z II is a few tens or hundreds of milliohms. 
An improved test setup for measurement of small impedances is illustrated in Fig. 8.6l(b). An 
</p>
<p>isolation transformer is inserted between the injection source and the de blocking capacitor. The return 
</p>
<p>connections of the voltage probe and injection source are no longer in parallel, and the injected current 
</p>
<p>iout must now return entirely through the injection source return connection. An added benefit is that the 
</p>
<p>transformer turns ratio n can be increased, to better match the injection source impedance to the imped-
</p>
<p>ance under test. Note that the impedances of the transformer, of the blocking capacitor, and of the probe 
</p>
<p>and injection source return connections, do not affect the measurement. Much smaller impedances can 
</p>
<p>therefore be measured using this improved approach. 
</p>
<p>8.6 SUMMARY OF KEY POINTS 
</p>
<p>1. The magnitude Bode diagrams of functions which vary as (j!f0)" have slopes equal to 20n dB per decade, 
</p>
<p>and pass through 0 dB at f = f0. 
</p>
<p>2. It is good practice to express transfer functions in normalized pole-zero form; this form directly exposes 
</p>
<p>expressions for the salient features of the response, that is, the corner frequencies, reference gain, etc. 
</p>
<p>3. The right half-plane zero exhibits the magnitude response of the left half-plane zero, but the phase 
</p>
<p>response of the pole. 
</p>
<p>4. Poles and zeroes can be expressed in frequency-inverted form, when it is desirable to refer the gain to a 
</p>
<p>high-frequency asymptote. 
</p>
<p>5. A two-pole response can be written in the standard normalized form ofEq. (8.58). When Q &gt; 0.5, the poles 
are complex conjugates. The magnitude response then exhibits peaking in the vicinity of the corner fre-
</p>
<p>quency, with an. exact value of Q at f = j 0. High Q also causes the phase to change sharply near the corner 
frequency. 
</p>
<p>6. When Q is less than 0.5, the two pole response can be plotted as two real poles. The low-Q approximation 
predicts that the two poles occur at frequencies j 0 ! Q and QJ0. These frequencies are within 10% of the 
exact values for Q :S 0.3. 
</p>
<p>7. The low-Q approximation can be extended to find approximate roots of an arbitrary degree polynomial. 
</p>
<p>Approximate analytical expressions for the salient features can be derived. Numerical values are used to 
</p>
<p>justify the approximations. 
</p>
<p>8. Salient features of the transfer functions of the buck, boost, and buck-boost converters are tabulated in 
</p>
<p>Section 8.2.2. The line-to-output transfer functions of these converters contain two poles. Their control-to-
</p>
<p>output transfer functions contain two poles, and may additionally contain a right half-plane zero. 
</p>
<p>9. Approximate magnitude asymptotes of impedances and transfer functions can be easily derived by graphi-
</p>
<p>cal construction. This approach is a useful supplement to conventional analysis, because it yields physical 
</p>
<p>insight into the circuit behavior, and because it exposes suitable approximations. Several examples, includ-
</p>
<p>ing the impedances of basic series and parallel resonant circuits and the transfer function H(s) of the volt-
</p>
<p>age divider circuit, are worked in Section 8.3. The input impedance, output impedance, and transfer 
</p>
<p>functions of the buck converter are constructed in Section 8.4, and physical origins of the asymptotes, cor-
</p>
<p>ner frequencies, and Q-factor are found. 
</p>
<p>10. Measurement of transfer functions and impedances using a network analyzer is discussed in Section 8.5. 
</p>
<p>Careful attention to ground connections is important when measuring small impedances. </p>
<p/>
</div>
<div class="page"><p/>
<p>322 Converter Transfer Functions 
</p>
<p>REFERENCES 
</p>
<p>[1] R.D. MIDDLEBROOK, "Low Entropy Expressions: The Key to Design-Oriented Analysis," IEEE Frontiers 
</p>
<p>in Education Conference, 1991 Proceedings, pp. 399-403, Sept. 1991. 
</p>
<p>[2] R. D. MIDDLEBROOK, "Methods of Design-Oriented Analysis: The Quadratic Equation Revisited," IEEE 
</p>
<p>Frontiers in Education Conference, 1992 Proceedings, pp. 95-102, Nov. 1991. 
</p>
<p>[3] F. BARZEGAR, S. CUK, and R. D. MIDDLEBROOK, "Using Small Computers to Model and Measure Magni-
</p>
<p>tude and Phase of Regulator Transfer Functions and Loop Gain," Proceedings of Powercon 8, April 1981. 
</p>
<p>Also in Advances in Switched-Mode Power Conversion, Irvine: Teslaco, Vol. 1, pp. 251-278, 1981. 
</p>
<p>[4] H. W. OTI, Noise Reduction Techniques in Electronic Systems, 2nd edit., New York: John Wiley &amp; Sons, 
</p>
<p>1988, Chapter 3. 
</p>
<p>PROBLEMS 
</p>
<p>8.1 Express the gains represented by the asymptotes of Figs. 8.62(a) to (c) in factored pole-zero form. You 
</p>
<p>may assume that all poles and zeroes have negative real parts. 
</p>
<p>(a) 
</p>
<p>+20 dB/decade -20 dB/decade 
</p>
<p>(b) 
</p>
<p>jl 
-20 dB/decade 
</p>
<p>-20 dB/decade 
</p>
<p>(c) 
</p>
<p>Fig. 8.62 Gain asymptotes for Problem 8.1. 
</p>
<p>8.2 Express the gains represented by the asymptotes of Figs. 8.63(a) to (c) in factored pole-zero form. You 
</p>
<p>may assume that all poles and zeroes have negative real parts. 
</p>
<p>8.3 Derive analytical expressions for the low-frequency asymptotes of the magnitude Bode plots shown in 
</p>
<p>Fig. 8.63(a) to (c). 
</p>
<p>8.4 Derive analytical expressions for the three magnitude asymptotes of Fig. 8.16. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 323 
</p>
<p>(a) (b) 
</p>
<p>-40 dB/decade 
</p>
<p>+20 dB/decade 
</p>
<p>(c) 
</p>
<p>-40 dB/decade 
</p>
<p>Q 
</p>
<p>Fig. 8.63 Gain asymptotes for Problems 8.2 and 8.3. 
</p>
<p>8.5 An experimentally measured transfer function. Figure 8.64 contains experimentally measured magni-
</p>
<p>tude and phase data for the gain function A(s) of a certain amplifier. The object of this problem is to find 
</p>
<p>an expression for A(s). Overlay asymptotes as appropriate on the magnitude and phase data, and hence 
</p>
<p>deduce numerical values for the gain asymptotes and corner frequencies of A(s). Your magnitude and 
</p>
<p>40dB 
</p>
<p>30dB 
</p>
<p>20 dB 
</p>
<p>10 dB 
----&middot;::::r.::::~:::GWl:n 
</p>
<p>&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-~------~---~---~--~-~-~-~ 
</p>
<p>OdB ' '. . ''" 
</p>
<p>:::::::::j::&middot;:::~:::;:&middot;:~::~&middot;~:l:~ ::::::::::1::::::[:::;: :~::~:~:l:[ fSKj::&middot;j&middot;::~::[&middot;[&middot;J:[ &middot;:::::&middot;:&middot;:l::&middot;:::["::l"::~::[&middot;~:l.[ ::.::::.::1&middot;:&middot; .:~:::l::&middot;[::~:~:l:[ 
-450 ............................................ &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;i&middot;&middot;&middot;&middot;&middot;&middot;f&middot;&middot;+ili &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;i&middot;&middot;&middot;&middot;&middot;&middot;f&middot;&middot;++-H+ &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;+&middot;&middot;+&middot;+++if 
</p>
<p>:::::::::;:::::r:::;:::;::[:;:;:: ::::::::::;::::::;:::;:::;::[:;:;:; ::::::::::;::::::::::;::::::;:r:;:;~:::::;:::;:::;::;:;:;:; ::::::::::r::::;:::;:::;::;:;:;:; -90&deg; 
</p>
<p>&middot;&middot;&middot;&middot;&middot;&middot; &middot;&middot;::::::::r.::T::r:r:n:n : ... ::::l::::::[:::!:::U:U:[ ::::::::::!::::J:'is:h:!:[ ::::::::::L ... :. .. : ... u.:.t: 
......... ,. ..... , ... , .. ~ ~~;.~ .. ::::::::j::::::[:::j:::U:h:l ::::.:::::j::::::[ ::j:::[::[:[:j:[ ::::::::::j:::::I:TfrffiK:&middot;::;:&middot;::::[:::j::f::[:[:j:[ 
</p>
<p>[:::J:::::J:tJ::.:[L[Ll]Ttin&middot;[[ ::J::::J:::J[:::.f:r[:rfr[~.I~ffi::l JJ[JJJ[][JJJ[f:::[i&sect; ~:f&sect;:f:iJ:f:J::.:~:~&sect;t~::.;~::;:j&middot;:.~rtm:t :::: 
10Hz 100Hz 1kHz lOkHz 100kHz 1 MHz 
</p>
<p>Fig. 8.64 Experimentally-measured magnitude and phase data, Problem 8.5. </p>
<p/>
</div>
<div class="page"><p/>
<p>324 Converter Transfer Functions 
</p>
<p>phase asymptotes must, of course, follow all of the rules: magnitude slopes must be multiples of &plusmn;20 dB 
</p>
<p>per decade, phase slopes for real poles must be multiples of &plusmn;45" per decade, etc. The phase and magni-
</p>
<p>tude asymptotes must be consistent with each other. 
</p>
<p>It is suggested that you start by guessing A(s) based on the magnitude data. Then construct the 
</p>
<p>phase asymptotes for your guess, and compare them with the given data. If there are discrepancies, then 
</p>
<p>modify your guess accordingly and redo your magnitude and phase asymptotes. You should turn in: (1) 
</p>
<p>your analytical expression for A(s ), with numerical values given, and (2) a copy of Fig. 8.64, with your 
</p>
<p>magnitude and phase asymptotes superimposed and with all break frequencies and slopes clearly 
</p>
<p>labeled. 
</p>
<p>8.6 An experimentally-measured impedance. Figure 8.65 contains experimentally measured magnitude and 
</p>
<p>phase data for the driving-point impedance Z(s) of a passive network. The object of this problem is the 
</p>
<p>find an expression for Z(s). Overlay asymptotes as appropriate on the magnitude and phase data, and 
</p>
<p>hence deduce numerical values for the salient features ofthe impedance function. You should turn in: (1) 
</p>
<p>your analytical expression for Z(s ), with numerical values given, and (2) a copy of Fig. 8.65, with your 
</p>
<p>magnitude and phase asymptotes superimposed and with all salient features and asymptote slopes 
</p>
<p>clearly labeled. 
</p>
<p>Fig. 8.65 Impedance magni-
</p>
<p>tude and phase data, Problem 
</p>
<p>8.6. 
</p>
<p>20dBQ 
</p>
<p>10dBQ 
</p>
<p>OdBQ 
</p>
<p>-10dBQ 
</p>
<p>:::::::::::::::: :&middot;&middot;::::: : 11 z11 ::r::;::;::;:r:;:r :::::::::r::~:::p::;:n:~ :::::::::;:::::;:::;:::r&middot;; .. ;:r;: 
........ f .... f ... f .. j::Pft :::;;::;:::::f:::;::p:;:n :::::::::;:::::j: .. ; .. :n::f:n: 
</p>
<p>. . . .. .. . :~:j:f ... :::::)(:' ...... 
:::::::::~:::::~:::~::]::~:~:~:! :::::::::j:::::f&middot;~::J:j:J:! :::/:;:::::J:::J:::~:J::~:!l: 
</p>
<p>. . ...... . . &middot;l~'"f: ........ 
. ::::::::!:::::!:::!::J::!:!:!&middot;!:::::::::j:::::!:::J::J::;:j:j:1:::::::::J:::::l:::l:::!:l::!:!l: 
</p>
<p>. . . . .. .. . .......... ,.-::: 
</p>
<p>:~:: :&middot;:~ .(:: .:&middot;[~::[&middot;~l::!~[:i&middot;[ ::: ~:::.~1.: :~~~: :~j~: l~~j. l~l.! ~ :::~~j~ ~~~:j:~~j~ ~~~.j~~t:! j~ 
45&deg; 
</p>
<p>:~:~~~~ :~[~ ~~~ :[~: :[~~ j::[ ~[:[ ~f :: ::.: :~.j: :~.:[~~&middot;l&middot; :j~.j:j.~ ~&middot;:: ~:.:: l~:&middot;:: j .. : j&middot;::[ ~ l::[ :il~ oo 
</p>
<p>.::~~:l::~::i:::J::j::vj:[ :::::::::~:::::J:::j:::[:j::[:[j: -450 
~ ... -.... ++~ ... f~ .. ,f~ . .;.~.H~&middot;H~ ... ~ .... ~ .. i~~..:~ .. ~:..:+&middot;H~+f~ ... -.... ~ . .;.-..... ~; .... ~; .. +++~f.H~. 
</p>
<p>:::::::::}:::::~:::~::;::nf~ :::::::::r:::r:::rn:J:J:~ :::::::::;:::::J:::;:::n:nJ: 
~~~~++M+~~-+~~~---+-+~~~ -90&deg; 
</p>
<p>10Hz 100Hz 1kHz 10kHz 
</p>
<p>8.7 In Section 7.2.9, the small-signal ac model of a nonideal flyback converter is derived, with the result 
</p>
<p>illustrated in Fig. 7.27. Construct a Bode plot of the magnitude and phase of the converter output 
</p>
<p>impedance Zout(s). Give both analytical expressions and numerical values for all important features in 
</p>
<p>your plot. Note: Z0 Js) includes the load resistance R. The element values are: D = 0.4, ri = 0.2, R = 6 Q, 
L = 600 /(H, c = 100 f!F, ROll = 5 Q. 
</p>
<p>8.8 For the nonideal flyback converter modeled in Section 7.2.9: 
</p>
<p>(a) Derive analytical expressions for the control-to-output and line-to-output transfer functions 
</p>
<p>GvJs) and Gv/s). Express your results in standard normalized form. 
</p>
<p>(b) Derive analytical expressions for the salient features of these transfer functions. 
</p>
<p>(c) Construct the magnitude and phase Bode plots of the control-to-output transfer function, using </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 325 
</p>
<p>the following values: n = 2, Vg = 48 V, D = 0.3, R = 5 Q, L = 250 JLH, C = 100 JLF, Ron = 1.2 Q. 
Label the numerical values of the constant asymptotes, all corner frequencies, the Q-factor, and 
</p>
<p>asymptote slopes. 
</p>
<p>8.9 Magnitude Bode diagram of an R-L--C filter circuit. For the filter circuit of Fig. 8.66, construct the Bode 
</p>
<p>plots for the magnitudes of the Thevenin-equivalent output impedance Zout and the transfer function H(s) 
</p>
<p>= vz!v1&bull; Plot your results on semilog graph paper. Give approximate analytical expressions and numeri-
cal values for the important corner frequencies and asymptotes. Do all of the elements significantly 
</p>
<p>affect Zout and H? . 
</p>
<p>R1 Ll 
</p>
<p>lOQ lOmH 
</p>
<p>+ 
</p>
<p>R3 zour 
vl +- vz 
</p>
<p>Rz 1 kQ 
</p>
<p>lOOQ 
</p>
<p>Fig. 8.66 Filter circuit of Problem 8.9. 
</p>
<p>8.10 Operational amplifier filter circuit. The op amp circuit shown in Fig. 8.67 is a practical realization of 
</p>
<p>what is known as a PID controller, and is sometimes used to modify the loop gain of feedback circuits to 
</p>
<p>improve their performance. Using semilog graph paper, sketch the Bode diagram of the magnitude of the 
</p>
<p>transfer function v2(s)/v1(s) of the circuit shown. Label all corner frequencies, flat asymptote gains, and 
</p>
<p>asymptote slopes, as appropriate, giving both analytical expressions and numerical values. You may 
</p>
<p>assume that the op amp is ideal. 
</p>
<p>+ 
</p>
<p>Fig. 8.67 Op-amp PID controller circuit, Problem 8.10. 
</p>
<p>8.11 Phase asymptotes. Construct the phase asymptotes for the transfer function v2(s)/v1(s) of Problem 8.10. 
</p>
<p>Label all break frequencies, flat asymptotes, and asymptote slopes. 
</p>
<p>8.12 Construct the Bode diagram for the magnitude of the output impedance Zout of the network shown in Fig. 
</p>
<p>8.68. Give suitable analytical expressions for each asymptote, corner frequency, and Q-factor, as appro-
</p>
<p>priate. Justify any approximations that you use. 
</p>
<p>The component values are: 
</p>
<p>L1 =100 JLH 
</p>
<p>c1 = woo JLF 
R1 =5Q 
</p>
<p>L2 = 16mH 
C2 = 10 JLF 
R2 =50 Q </p>
<p/>
</div>
<div class="page"><p/>
<p>326 Converter Transfer Functions 
</p>
<p>Fig. 8.68 Filter network of Problem 8.12. 
</p>
<p>8.13 The two section input filter in the circuit of Fig. 8.69 should be designed such that its output impedance 
</p>
<p>Zoudv = 0 meets certain input filter design criteria, and hence it is desirable to construct the Bode plot 
</p>
<p>forth~ magnitude of z,.. Although this filter contains six reactive elements, II z, II can nonetheless be con-
structed in a relatively straightforward manner using graphical construction techniques. The element val-
</p>
<p>ues are: 
</p>
<p>L1 =32 mH 
</p>
<p>~ = 400 ttH 
</p>
<p>L:J = 800 ttH 
L4 = 1 ttH 
</p>
<p>C1 = 32 ttF 
</p>
<p>C2 = 6.8 ttF 
R1 = lOQ 
R2 = 1 Q 
</p>
<p>(a) Construct II Z,. II using the "algebra on the graph" method. Give simple approximate analytical 
expressions for all asymptotes and corner frequencies. 
</p>
<p>(b) It is desired that II Z,. II be approximately equal to 5 Qat 500Hz and 2.5 Q at 1 kHz. Suggest a 
simple way to accomplish this by changing the value of one component. 
</p>
<p>Ll L:J 
</p>
<p>Fig. 8.69 Input filter circuit of Problem 8.13. 
</p>
<p>z,. --
</p>
<p>8.14 Construct the Bode plot of the magnitude of the output impedance of the filter illustrated in Fig. 
</p>
<p>Fig. 8.70. Give approximate analytical expressions for each corner frequency. No credit will be given 
</p>
<p>for computer-generated plots. 
</p>
<p>8.15 A certain open-loop buck-boost converter contains an input filter. Its small-signal ac model is shown in 
</p>
<p>Fig. 8.71, and the element values are specified below. Construct the Bode plot for the magnitude of the 
</p>
<p>converter output impedance II Z0" 1(s) 11. Label the values of all important corner frequencies and asymp-
totes. 
</p>
<p>D=0.6 
</p>
<p>R=6Q 
</p>
<p>C = 0.33 ttF 
</p>
<p>L=25 ttH 
</p>
<p>L1= 150 ttH 
</p>
<p>C1= 16 ttF 
</p>
<p>Cb= 2200 ttF 
</p>
<p>R1= 1 Q </p>
<p/>
</div>
<div class="page"><p/>
<p>28V + 
</p>
<p>Fig. 8.70 
</p>
<p>Rl 
!Q 
</p>
<p>Lz 
</p>
<p>5mH 
</p>
<p>Input filter circuit of Problem 8.14. 
</p>
<p>L 
</p>
<p>Problems 327 
</p>
<p>CJ Cs 
zout 
</p>
<p>100 JlF 1 JlF 
</p>
<p>c R 
zout(s) 
</p>
<p>Fig. 8.71 Small-signal model of a buck-boost converter with input filter, Problem 8.15. 
</p>
<p>8.16 The small-signal equations of the Watkins-Johnson converter operating in continuous conduction mode 
</p>
<p>are: 
</p>
<p>L d~~) =- Dv(t) + (2Vg- V)d(t) + (D- D')v g(t) 
</p>
<p>C d~~) = Di(t)- fi~) 
</p>
<p>i gCt) = (D- D')i(t) + 2/d(t) 
</p>
<p>(a) Derive analytical expressions for the line-to-output transfer function Gv8(s) and the control-to-
</p>
<p>output transfer function Gvis). 
</p>
<p>(b) Derive analytical expressions for the salient features (de gains, corner frequencies, and Q-fac-
</p>
<p>tors) of the transfer functions Gv8(s) and Gvjs). Express your results as functions of V8 , D, R, L, 
</p>
<p>and C. 
</p>
<p>(c) The converter operates at V8 = 28 V, D = 0.25, R = 28 Q, C = 100 /lF, L = 400 !lF. Sketch the 
Bode diagram of the magnitude and phase of Gvjs). Label salient features. 
</p>
<p>8.17 The element values in the buck converter of Fig. 7.68 are: 
</p>
<p>V8 = 12ov 
R= lOQ 
</p>
<p>L= 550 /lH 
</p>
<p>D=0.6 
</p>
<p>R8 =2Q 
</p>
<p>C= 100 /lF 
</p>
<p>(a) Determine an analytical expression for the control-to-output transfer function GvgCs) of this con-
</p>
<p>verter. 
</p>
<p>(b) Find analytical expressions for the salient features of Gv8(s). 
</p>
<p>(c) Construct magnitude and phase asymptotes for Gvg&middot; Label the numerical values of all slopes and </p>
<p/>
</div>
<div class="page"><p/>
<p>328 Converter Transfer Functions 
</p>
<p>other important features. 
</p>
<p>8.18 Loss mechanisms in capacitors, such as dielectric loss and contact and foil resistance, can be modeled 
</p>
<p>electrically using an equivalent series resistance ( esr). Capacitors whose dielectric materials exhibit a 
</p>
<p>high dielectric constant, such as electrolytic capacitors, tantalum capacitors, and some types of multi-
</p>
<p>layer ceramic capacitors, typically exhibit relatively high esr. 
</p>
<p>A buck converter contains a 1.6 mH inductor, and operates with a quiescent duty cycle of 0.5. Its 
</p>
<p>output capacitor can be modeled as a 16 JIF capacitor in series with a 0.2 Q esr. The load resistance is 
</p>
<p>10 D. The converter operates in continuous conduction mode. The quiescent input voltage is Vg = 120 V. 
(a) Determine an analytical expression for the control-to-output transfer function GvgCs) of this con-
</p>
<p>verter. 
</p>
<p>(b) Find analytical expressions for the salient features of GvgCs). 
</p>
<p>(c) Construct magnitude and phase asymptotes for Gvg&middot; Label the numerical values of all slopes and 
</p>
<p>other important features. 
</p>
<p>8.19 The LCC resonant inverter circuit contains the following transfer function: 
</p>
<p>(a) When C1 is sufficiently large, this transfer function can be expressed as an inverted pole and a 
</p>
<p>quadratic pole pair. Derive analytical expressions for the corner frequencies and Q-factor in this 
</p>
<p>case, and sketch typical magnitude asymptotes. Determine analytical conditions for validity of 
</p>
<p>your approximation. 
</p>
<p>(b) When C2 is sufficiently large, the transfer function can be also expressed as an inverted pole and 
</p>
<p>a quadratic pole pair. Derive analytical expressions for the corner frequencies and Q-factor in 
</p>
<p>this case, and sketch typical magnitude asymptotes. Determine analytical conditions for validity 
</p>
<p>of your approximation in this case. 
</p>
<p>(c) When C1 = C2 and when the quadratic poles have sufficiently high Q, then the transfer function 
</p>
<p>can again be expressed as an inverted pole and a quadratic pole pair. Derive analytical expres-
</p>
<p>sions for the corner frequencies and Q-factor in this case, and sketch typical magnitude asymp-
</p>
<p>totes. Determine analytical conditions for validity of your approximation in this case. 
</p>
<p>8.20 A two-section L-C filter has the following transfer function: 
</p>
<p>The element values are: 
</p>
<p>R=50mQ 
</p>
<p>c1 = 680 JIF 
L1 = 500 JIH 
</p>
<p>c2 = 4.7 JIF 
L2 =50 JIH 
</p>
<p>(a) Factor G(s) into approximate real and quadratic poles, as appropriate. Give analytical expres-
</p>
<p>sions for the salient features. Justify your approximation using the numerical element values. 
</p>
<p>(b) Construct the magnitude and phase asymptotes of G(s). 
</p>
<p>(c) It is desired to reduce the Q to 2, without significantly changing the corner frequencies or other 
features of the response. It is possible to do this by changing only two element values. Specify 
</p>
<p>how to accomplish this. 
</p>
<p>8.21 The boost converter of Fig. 8. 72 operates in the continuous conduction mode, with quiescent duty cycle </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 329 
</p>
<p>D = 0.6. On semi-log axes, construct the magnitude and phase Bode plots of 
(a) the control-to-output transfer function Gvis), 
</p>
<p>(b) the line-to-output transfer function Gv8(s), 
</p>
<p>(c) the output impedance zout(s), and 
</p>
<p>(d) the input impedance Z;n(s). 
</p>
<p>On each plot, label the corner frequencies and asymptotes. 
</p>
<p>Fig. 8.72 Boost converter of 
</p>
<p>Problem 8.21. 
</p>
<p>Boost converter 
r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;L"&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;1 
</p>
<p>+ 
</p>
<p>v R 
12 Q 
</p>
<p>8.22 The forward converter of Fig. 8.73 operates in the continuous conduction mode, with the quiescent val-
</p>
<p>ues V8 = 380 V and V = 28 V. The transformer turns ratio is n/n3 = 4.5. On semi-log axes, construct the 
magnitude and phase Bode plots of 
</p>
<p>(a) the control-to-output transfer function Gvis), and 
</p>
<p>(b) the line-to-output transfer function Gv8(s). 
</p>
<p>On each plot, label the corner frequencies and asymptotes. Hint: other than introduction of the turns 
</p>
<p>ratio n/n3, the transformer does not significantly affect the small-signal behavior of the forward con-
</p>
<p>verter. 
</p>
<p>nl nl L 
</p>
<p>+ 
</p>
<p>R v(t) 
7Q 
</p>
<p>vg(t) + -
</p>
<p>J, =150kHz 
</p>
<p>d Fig. 8.73 Forward converter of Problem 8.22. 
</p>
<p>8.23 The boost converter of Fig. 8.74 operates in the continuous conduction mode, with the following quies-
</p>
<p>cent values: V8 = 120 V, V = 300 V. It is desired to control the converter input current waveform, and 
</p>
<p>hence it is necessary to determine the small-signal transfer function </p>
<p/>
</div>
<div class="page"><p/>
<p>330 Converter Transfer Functions 
</p>
<p>(a) Derive an analytical expression for G;/s). Express all poles and zeroes in normalized standard 
</p>
<p>form, and give analytical expressions for the corner frequencies, Q-factor, and de gain. 
</p>
<p>(b) On semi-log axes, construct the Bode plot for the magnitude and phase of GJs). 
</p>
<p>Fig. 8. 7 4 Boost converter of 
</p>
<p>Problem 8.23. 
</p>
<p>f.= 100kHz 
&middot;' 
</p>
<p>+ 
</p>
<p>v R 
</p>
<p>120Q 
</p>
<p>8.24 The buck-boost converter of Fig. 8.75 operates in the continuous conduction mode, with the following 
</p>
<p>quiescent values: Vg = 48 V, V = -24 V. On semi-log axes, construct the magnitude and phase Bode plots 
of: 
</p>
<p>(a) the control-to-output transfer function Gvis), and 
</p>
<p>(b) the output impedance Z0 .,1(s). 
</p>
<p>On each plot, label the corner frequencies and asymptotes as appropriate. 
</p>
<p>Fig. 8.75 Buck-boost converter 
</p>
<p>of Problem 8.24. R 
5Q 
</p>
<p>+ 
</p>
<p>v </p>
<p/>
</div>
<div class="page"><p/>
<p>9 
Controller Design 
</p>
<p>9.1 INTRODUCTION 
</p>
<p>In all switching converters, the output voltage v(t) is a function of the input line voltage v /t), the duty 
</p>
<p>cycle d(t), and the load current i100it), as well as the converter circuit element values. In a de-de con-
</p>
<p>verter application, it is desired to obtain a constant output voltage v(t) = V, in spite of disturbances in v /t) 
</p>
<p>and itoait), and in spite of variations in the converter circuit element values. The sources of these distur-
</p>
<p>bances and variations are many, and a typical situation is illustrated in Fig. 9.1. The input voltage v/t) of 
</p>
<p>an off-line power supply may typically contain periodic variations at the second harmonic of the ac 
</p>
<p>power system frequency (100Hz or 120Hz), produced by a rectifier circuit. The magnitude ofv/t) may 
</p>
<p>also vary when neighboring power system loads are switched on or off. The load current itoait) may con-
</p>
<p>tain variations of significant amplitude, and a typical power supply specification is that the output voltage 
</p>
<p>must remain within a specified range (for example, 3.3 V &plusmn; 0.05 V) when the load current takes a step 
</p>
<p>change from, for example, full rated load current to 50% of the rated current, and vice versa. The values 
</p>
<p>of the circuit elements are constructed to a certain tolerance, and so in high-volume manufacturing of a 
</p>
<p>converter, converters are constructed whose output voltages lie in some distribution. It is desired that 
</p>
<p>essentially all of this distribution fall within the specified range; however, this is not practical to achieve 
</p>
<p>without the use of negative feedback. Similar considerations apply to inverter applications, except that 
</p>
<p>the output voltage is ac. 
</p>
<p>So we cannot expect to simply set the de-de converter duty cycle to a single value, and obtain a 
</p>
<p>given constant output voltage under all conditions. The idea behind the use of negative feedback is to 
</p>
<p>build a circuit that automatically adjusts the duty cycle as necessary, to obtain the desired output voltage 
</p>
<p>with high accuracy, regardless of disturbances in v/t) or i100it) or variations in component values. This is </p>
<p/>
</div>
<div class="page"><p/>
<p>332 Controller Design 
</p>
<p>(a) Switching converter Load 
</p>
<p>r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;-&middot;&middot;&middot;&middot;--------------&middot;&middot;---&middot;&middot;&middot;&middot;i 
.-----~-- ~,_~-+~-, 
</p>
<p>v(t) 
</p>
<p>t .&bull;&bull;&bull;&bull;.&bull;...&bull;.....................&bull;&bull;&bull;....&bull;&bull;............&bull;&bull;...&bull;&bull;&bull;&bull;.......... .! 
</p>
<p>o(t)L ~ o(t) 
</p>
<p>LU_L/ 
tfl's Ts t 
</p>
<p>(b) Switching converter 
</p>
<p>v(t) = f(v8 , itoad' d) 
vgU) 
</p>
<p>...::;.::::..._--1~ } Disturbances v(t) ~oatlt) 
d(t) 
</p>
<p>} Control input 
</p>
<p>Fig. 9.1 The output voltage of a typical switching converter is a function of the line input voltage v 8, the duty cycle 
d, and the load current i1oad: (a) open-loop buck converter; (b) functional diagram illustrating dependence ofv on the 
independent quantities v 8, d, and itood' 
</p>
<p>a useful thing to do whenever there are variations and unknowns that otherwise prevent the system from 
attaining the desired performance. 
</p>
<p>A block diagram of a feedback system is shown in Fig. 9.2. The output voltage v(t) is measured, 
</p>
<p>using a "sensor" with gain H(s). In a de voltage regulator or dc-ac inverter, the sensor circuit is usually a 
voltage divider, comprised of precision resistors. The sensor output signal H(s)v(s) is compared with a 
reference input voltage vrefs). The objective is to make H(s)v(s) equal to vrej.s), so that v(s) accurately 
follows v ref.s) regardless of disturbances or component variations in the compensator, pulse-width modu-
lator, gate driver, or converter power stage. 
</p>
<p>The difference between the reference input vrej.s) and the sensor output H(s)v(s) is called the 
</p>
<p>error signal v.(s). If the feedback system works perfectly, then v,.j.s) = H(s)v(s), and hence the error sig-
nal is zero. In practice, the error signal is usually nonzero but nonetheless small. Obtaining a small error 
</p>
<p>is one of the objectives in adding a compensator network G/s) as shown in Fig. 9.2. Note that the output 
</p>
<p>voltage v(s) is equal to the error signal v.(s), multiplied by the gains of the compensator, pulse-width 
</p>
<p>modulator, and converter power stage. If the compensator gain G/s) is large enough in magnitude, then a 
small error signal can produce the required output voltage v(t) = V for a de regulator (Q: how should H 
and vre1then be chosen?). So a large compensator gain leads to a small error, and therefore the output fol-
lows the reference input with good accuracy. This is the key idea behind feedback systems. 
</p>
<p>The averaged small-signal converter models derived in Chapter 7 are used in the following sec-
</p>
<p>tions to find the effects of feedback on the small-signal transfer functions of the regulator. The loop gain 
T(s) is defined as the product of the small-signal gains in the forward and feedback paths of the feedback </p>
<p/>
</div>
<div class="page"><p/>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Power 
input 
</p>
<p>Transistor 
gate driver 
</p>
<p>Switching converter Load 
</p>
<p>9.1 Introduction 333 
</p>
<p>1.....--r-----' 
</p>
<p>Sensor 
gain 
</p>
<p>Reference 
input vref 
</p>
<p>Switching converter 
</p>
<p>vg(t) 
v(t) = f( v g' iload' d) 
</p>
<p>iloait) 
} Disturbances 
</p>
<p>v(t) 
</p>
<p>d(t) 
} Control input 
</p>
<p>Fig. 9.2 Feedback loop for regulation of the output voltage: (a) buck converter, with feedback loop block diagram; 
</p>
<p>(b) functional block diagram of the feedback system. 
</p>
<p>loop. It is found that the transfer function from a disturbance to the output is multiplied by the factor 
</p>
<p>1/(1 + T(s)). Hence, when the loop gain Tis large in magnitude, then the influence of disturbances on the 
output voltage is small. A large loop gain also causes the output voltage v(s) to be nearly equal to 
</p>
<p>v,e/s)/H(s), with very little dependence on the gains in the forward path of the feedback loop. So the 
</p>
<p>loop gain magnitude II T II is a measure of how well the feedback system works. All of these gains can be 
easily constructed using the algebra-on-the-graph method; this allows easy evaluation of important 
</p>
<p>closed-loop performance measures, such as the output voltage ripple resulting from 120Hz rectification 
</p>
<p>ripple in v/t) or the closed-loop output impedance. 
</p>
<p>Stability is another important issue in feedback systems. Adding a feedback loop can cause an 
</p>
<p>otherwise well-behaved circuit to exhibit oscillations, ringing and overshoot, and other undesirable 
</p>
<p>behavior. An in-depth treatment of stability is beyond the scope of this book; however, the simple phase 
</p>
<p>margin criterion for assessing stability is used here. When the phase margin of the loop gain Tis positive, 
</p>
<p>then the feedback system is stable. Moreover, increasing the phase margin causes the system transient 
</p>
<p>response to be better behaved, with less overshoot and ringing. The relation between phase margin and 
</p>
<p>closed-loop response is quantified in Section 9.4. 
</p>
<p>An example is given in Section 9.5, in which a compensator network is designed for a de regu-</p>
<p/>
</div>
<div class="page"><p/>
<p>334 Controller Design 
</p>
<p>lator system. The compensator network is designed to attain adequate phase margin and good rejection 
</p>
<p>of expected disturbances. Lead compensators and P-D controllers are used to improve the phase margin 
</p>
<p>and extend the bandwidth of the feedback loop. This leads to better rejection of high-frequency distur-
</p>
<p>bances. Lag compensators and P-I controllers are used to increase the low-frequency loop gain. This 
</p>
<p>leads to better rejection of low-frequency disturbances and very small steady-state error. More compli-
</p>
<p>cated compensators can achieve the advantages of both approaches. 
</p>
<p>Injection methods for experimental measurement of loop gain are introduced in Section 9.6. 
</p>
<p>The use of voltage or current injection solves the problem of establishing the correct quiescent operating 
</p>
<p>point in high-gain systems. Conditions for obtaining an accurate measurement are exposed. The injection 
</p>
<p>method also allows measurement of the loop gains of unstable systems. 
</p>
<p>9.2 EFFECT OF NEGATIVE FEEDBACK ON THE 
</p>
<p>NETWORK TRANSFER FUNCTIONS 
</p>
<p>We have seen how to derive the small-signal ac transfer functions of a switching converter. For example, 
</p>
<p>the equivalent circuit model of the buck converter can be written as in Fig. 9.3. This equivalent circuit 
</p>
<p>contains three independent inputs: the control input variations J, the power input voltage variations Og, 
and the load current variations iload&middot; The output voltage variation 0 can therefore be expressed as a linear 
</p>
<p>combination of the three independent inputs, as follows: 
</p>
<p>(9.1) 
</p>
<p>where 
</p>
<p>G - v(s) I 
vis)- d(s) o,=o 
</p>
<p>i load= 0 
</p>
<p>converter control-to-output transfer function (9.la) 
</p>
<p>converter line-to-output transfer function (9.lb) 
</p>
<p>converter output impedance (9.lc) 
</p>
<p>The Bode diagrams of these quantities are constructed in Chapter 8. Equation (9 .1) describes how distur-
</p>
<p>e(s)d(s) 
</p>
<p>+ 
</p>
<p>O(s) R 
</p>
<p>Fig. 9.3 Small-signal converter model, which represents variations in v8 , d, and itoad&middot; </p>
<p/>
</div>
<div class="page"><p/>
<p>9.2 Effect of Negative Feedback on the Network Transfer Functions 335 
</p>
<p>bances vg and itoad propagate to the output v, through the transfer function GvgCs) and the output imped-
</p>
<p>ance Z0 Js). If the disturbances v8 and itoad are known to have some maximum worst-case amplitude, 
</p>
<p>then Eq. (9.1) can be used to compute the resulting worst-case open-loop variation in v. 
</p>
<p>As described previously, the feedback loop of Fig. 9.2 can be used to reduce the influences of vg 
</p>
<p>and i1oad on the output v. To analyze this system, let us perturb and linearize its averaged signals about 
</p>
<p>their quiescent operating points. Both the power stage and the control block diagram are perturbed and 
</p>
<p>linearized: 
</p>
<p>v,efJl = v,ef + o rePl 
ve(t) = ve + 0 ,(t) 
</p>
<p>etc. 
</p>
<p>(9.2) 
</p>
<p>In a de regulator system, the reference input is constant, so v,eft) = 0. In a switching amplifier or dc-ac 
inverter, the reference input may contain an ac variation. In Fig. 9.4(a), the converter model of Fig. 9.3 is 
</p>
<p>combined with the perturbed and linearized control circuit block diagram. This is equivalent to the 
</p>
<p>reduced block diagram of Fig. 9.4(b), in which the converter model has been replaced by blocks repre-
</p>
<p>senting Eq. (9.1). 
</p>
<p>Solution of Fig. 9.4(b) for the output voltage variation v yields 
</p>
<p>which can be written in the form 
</p>
<p>with 
</p>
<p>A A 1 T A G,g &bull; Zout 
V = V ref 7[ 1 + T + V g 1 + T- ltoad 1 + T 
</p>
<p>T(s) = H(s)Gc(s)GvJs)IV M ="loop gain" 
</p>
<p>(9.3) 
</p>
<p>(9.4) 
</p>
<p>Equation (9.4) is a general result. The loop gain T(s) is defined in general as the product of the gains 
</p>
<p>around the forward and feedback paths of the loop. This equation shows how the addition of a feedback 
</p>
<p>loop modifies the transfer functions and performance of the system, as described in detail below. 
</p>
<p>9.2.1 Feedback Reduces the Transfer Functions from 
</p>
<p>Disturbances to the Output 
</p>
<p>The transfer function from vg to v in the open-loop buck converter of Fig. 9.3 is Gvg(s), as given in Eq. 
</p>
<p>(9.1). When feedback is added, this transfer function becomes 
</p>
<p>v(s) I - G,g(s) 
v g(s) orero - 1 + T(s) 
</p>
<p>itoad::O 
</p>
<p>(9.5) 
</p>
<p>from Eq. (9.4). So this transfer function is reduced via feedback by the factor 11(1 + T(s)). If the loop 
gain T(s) is large in magnitude, then the reduction can be substantial. Hence, the output voltage variation 
</p>
<p>v resulting from a given v 8 variation is attenuated by the feedback loop. </p>
<p/>
</div>
<div class="page"><p/>
<p>336 Controller Design 
</p>
<p>(a) 
</p>
<p>e(s)d(s) 
</p>
<p>Compensator 
</p>
<p>H(s)v(s) 
</p>
<p>(b) 
</p>
<p>H(s)v(s) 
</p>
<p>d(s) 
</p>
<p>Pulse-width 
modulator 
</p>
<p>gain 
</p>
<p>gain 
</p>
<p>+ 
</p>
<p>v(s) R 
</p>
<p>iloais) Loa_d ~urrent 
vanatwn 
</p>
<p>Fig. 9.4 Voltage regulator system small-signal model: (a) with converter equivalent circuit; (b) complete block 
</p>
<p>diagram. </p>
<p/>
</div>
<div class="page"><p/>
<p>9.3 Construction of the Important Quantities 11( 1 + T) and Tl( 1 + T) and the Closed-Loop Transfer Functions 337 
</p>
<p>Equation (9.4) also predicts that the converter output impedance is reduced, from Zou/s) to 
</p>
<p>(9.6) 
</p>
<p>So the feedback loop also reduces the converter output impedance by a factor of 11(1 + T(s)), and the 
influence of load current variations on the output voltage is reduced. 
</p>
<p>9.2.2 Feedback Causes the Transfer Function from the 
Reference Input to the Output to be Insensitive to 
</p>
<p>Variations in the Gains in the Forward Path of the Loop 
</p>
<p>According to Eq. (9.4), the closed-loop transfer function from vref to vis 
</p>
<p>v(s) I _ ~1~ __]J!)_ 
v re/s) :g=O - H(s) 1 + T(s) 
</p>
<p>1 load=O 
</p>
<p>(9.7) 
</p>
<p>If the loop gain is large in magnitude, that is, II T II &raquo; 1, then (1 + n "'T and T/(1 + n "'TIT= 1. The 
transfer function then becomes 
</p>
<p>v(s) - 1 
V re/s)- H(s) 
</p>
<p>(9.8) 
</p>
<p>which is independent of G/s), V M' and Gvis). So provided that the loop gain is large in magnitude, then 
</p>
<p>variations in G/s), V M' and Gvis) have negligible effect on the output voltage. Of course, in the de regu-
</p>
<p>lator application, vref is constant and vref = 0. But Eq. (9.8) applies equally well to the de values. For 
example, if the system is linear, then we can write 
</p>
<p>(9.9) 
</p>
<p>So to make the de output voltage V accurately follow the de reference Vref' we need only ensure that the 
</p>
<p>de sensor gain H(O) and de reference Vref are well-known and accurate, and that T(O) is large. Precision 
</p>
<p>resistors are normally used to realize H, but components with tightly-controlled values need not be used 
</p>
<p>in Gc, the pulse-width modulator, or the power stage. The sensitivity of the output voltage to the gains in 
</p>
<p>the forward path is reduced, while the sensitivity of v to the feedback gain Hand the reference input v ref 
is increased. 
</p>
<p>9.3 CONSTRUCTION OF THE IMPORTANT QUANTITIES 1/(1 + D AND 
T/(1 + D AND THE CLOSED-LOOP TRANSFER FUNCTIONS 
</p>
<p>The transfer functions in Eqs. (9.4) to (9.9) can be easily constructed using the algebra-on-the-graph 
</p>
<p>method [4]. Let us assume that we have analyzed the blocks in our feedback system, and have plotted the 
</p>
<p>Bode diagram of II T(s) 11. To use a concrete example, suppose that the result is given in Fig. 9.5, for 
which T(s) is </p>
<p/>
</div>
<div class="page"><p/>
<p>338 Controller Design 
</p>
<p>80dB 
</p>
<p>II Til 
60dB I To lcts 
</p>
<p>40dB 
</p>
<p>20dB 
</p>
<p>OdB 
</p>
<p>-20dB Crossover 
frequency 
</p>
<p>-40dB ~------~r--------+------~-r------~~----~~ 
</p>
<p>1Hz 10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
Fig. 9.5 Magnitude of the loop gain example, Eq. (9.10). 
</p>
<p>( 1 + ..l...) 
T(s) = T0 w, 
</p>
<p>(1+-s +(-s )2)(1+-L) Qwp1. wpt Wpz 
(9.10) 
</p>
<p>This example appears somewhat complicated. But the loop gains of practical voltage regulators are often 
</p>
<p>even more complex, and may contain four, five, or more poles. Evaluation of Eqs. (9.5) to (9.7), to deter-
</p>
<p>mine the closed-loop transfer functions, requires quite a bit of work. The loop gain T must be added to 1, 
</p>
<p>and the resulting numerator and denominator must be refactored. Using this approach, it is difficult to 
</p>
<p>obtain physical insight into the relationship between the closed-loop transfer functions and the loop gain. 
</p>
<p>In consequence, design of the feedback loop to meet specifications is difficult. 
</p>
<p>Using the algebra-on-the-graph method, the closed-loop transfer functions can be constructed 
</p>
<p>by inspection, and hence the relation between these transfer functions and the loop gain becomes obvi-
</p>
<p>ous. Let us first investigate how to plot II T/(1 + T) 11. It can be seen from Fig. 9.5 that there is a frequency 
fc, called the "crossover frequency," where II T II = 1. At frequencies less than fc, II T II &gt; 1; indeed, 
II T II ~ 1 for f ~ fc. Hence, at low frequency, ( 1 + T) "' T, and T/( 1 + T) "' TIT= 1. At frequencies greater 
thanfc, II T II&lt; 1, and II T II ~ 1 for J~ fc. So at high frequency, (1 + T)"' 1 and T/(1 + T)"' Til = T. So 
we have 
</p>
<p>T I 1 
1+T"'\r 
</p>
<p>for II T II &raquo; 1 
</p>
<p>for II T II &laquo; 1 
</p>
<p>(9.11) 
</p>
<p>The asymptotes corresponding to Eq. (9.11) are relatively easy to construct. The low-frequency asymp-
</p>
<p>tote, for f &lt;fc, is 1 or 0 dB. The high-frequency asymptotes, for f&gt; fc, follow T. The result is shown in 
Fig. 9.6. 
</p>
<p>So at low frequency, where II T II is large, the reference-to-output transfer function is 
</p>
<p>O(s) 1 T(s) 1 
0 "/s) = H(s) 1 + T(s) "'H(s) 
</p>
<p>(9.12) </p>
<p/>
</div>
<div class="page"><p/>
<p>9.3 Construction of the Important Quantities II( I + T) and Tl( 1 + T) and the Closed-Loop Transfer Functions 339 
</p>
<p>80 dB 
</p>
<p>60dB 
</p>
<p>40dB fp1 II Til 
</p>
<p>20dB 
</p>
<p>0 dB 
</p>
<p>-20dB Ill ~T II 
-40 dB 
</p>
<p>1Hz 10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
Fig. 9.6 Graphical construction of the asymptotes of II T/(1 + T) 11. Exact curves are omitted. 
</p>
<p>This is the desired behavior, and the feedback loop works well at frequencies where II T II is large. At high 
frequency (j::'P JJ where II T II is small, the reference-to-output transfer function is 
</p>
<p>(9.13) 
</p>
<p>This is not the desired behavior; in fact, this is the gain with the feedback connection removed (H-+ 0). 
</p>
<p>At high frequencies, the feedback loop is unable to reject the disturbance because the bandwidth ofT is 
</p>
<p>limited. The reference-to-output transfer function can be constructed on the graph by multiplying the 
</p>
<p>T/(1 + T) asymptotes of Fig. 9.6 by 1/H. 
We can plot the asymptotes of \111(1 + T) \1 using similar arguments. At low frequencies where 
</p>
<p>II T II ::'9 1, then (1 + T) "'T, and hence 11(1 + T)"' liT. At high frequencies where II T II &lt; 1, then (1 + T) 
"' 1 and 11(1 + T) "' 1. So we have 
</p>
<p>for~ T II&raquo; 1 
</p>
<p>for II T ll.,g;:: 1 
</p>
<p>The asymptotes for the T(s) example of Fig. 9.5 are plotted in Fig. 9. 7. 
</p>
<p>At low frequencies where II T II is large, the disturbance transfer function from vg to vis 
</p>
<p>(9.14) 
</p>
<p>(9.15) 
</p>
<p>Again, GvgCs) is the original transfer function, with no feedback. The closed-loop transfer function has 
</p>
<p>magnitude reduced by the factor 1111 T 11. So if, for example, we want to reduce this transfer function by a 
factor of 20 at 120Hz, then we need a loop gain II T II of at least 20 ==} 26 dB at 120Hz. The disturbance 
transfer function from v 8 to v can be constructed on the graph, by multiplying the asymptotes of Fig. 9. 7 
</p>
<p>by the asymptotes for GvgCs). 
</p>
<p>Similar arguments apply to the output impedance. The closed-loop output impedance at low fre-</p>
<p/>
</div>
<div class="page"><p/>
<p>340 Controller Design 
</p>
<p>80dB 
</p>
<p>60dB I To lcts 
</p>
<p>40dB II Til 
</p>
<p>20dB 
</p>
<p>- 20 dB/decade 
OdB 
</p>
<p>-20dB - 40 dB/decade 
</p>
<p>-40dB 
</p>
<p>LlTII -I To lcts 
-60dB 
</p>
<p>-SOdB~------~~-------+--------~--------~--------4 
</p>
<p>I Hz 10Hz 100Hz I kHz lOkHz 100kHz 
</p>
<p>f 
Fig. 9.7 Graphical construction of II 1/(1 + n II. 
</p>
<p>quencies is 
</p>
<p>(9.16) 
</p>
<p>The output impedance is also reduced in magnitude by a factor of 1111 T II at frequencies below the cross-
over frequency. 
</p>
<p>At high frequencies if&gt; f) where II T II is small, then 11(1 + T) "" I, and 
</p>
<p>(9.17) 
</p>
<p>This is the same as the original disturbance transfer function and output impedance. So the feedback loop 
</p>
<p>has essentially no effect on the disturbance transfer functions at frequencies above the crossover fre-
</p>
<p>quency. 
</p>
<p>9.4 STABILITY 
</p>
<p>It is well known that adding a feedback loop can cause an otherwise stable system to become unstable. 
</p>
<p>Even though the transfer functions of the original converter, Eq. (9.1), as well as of the loop gain T(s), 
</p>
<p>contain no right half-plane poles, it is possible for the closed-loop transfer functions of Eq. (9.4) to con-
</p>
<p>tain right half-plane poles. The feedback loop then fails to regulate the system at the desired quiescent 
</p>
<p>operating point, and oscillations are usually observed. It is important to avoid this situation. And even 
</p>
<p>when the feedback system is stable, it is possible for the transient response to exhibit undesirable ringing </p>
<p/>
</div>
<div class="page"><p/>
<p>9.4 Stability 341 
</p>
<p>and overshoot. The stability problem is discussed in this section, and a method for ensuring that the feed-
</p>
<p>back system is stable and well-behaved is explained. 
</p>
<p>When feedback destabilizes the system, the denominator (I + T(s)) terms in Eq. (9.4) contain 
roots in the right half-plane (i.e., with positive real parts). If T(s) is a rational fraction, that is, the ratio 
</p>
<p>N(s)/D(s) of two polynomial functions N(s) and D(s), then we can write 
</p>
<p>N(s) 
</p>
<p>T(s) D(s) N(s) 
</p>
<p>1 + T(s) = 1 N(s) = N(s) + D(s) 
+ D(s) 
</p>
<p>1 l D(s) 
1 + T(s) = 1 N(s) = N(s) + D(s) 
</p>
<p>+ D(s) 
</p>
<p>(9.18) 
</p>
<p>So T(s)/(1 + T(s)) and ll(l+T(s)) contain the same poles, given by the roots of the polynomial 
</p>
<p>(N(s) + D(s)). A brute-force test for stability is to evaluate (N(s) + D(s)), and factor the result to see 
</p>
<p>whether any of the roots have positive real parts. However, for all but very simple loop gains, this 
</p>
<p>involves a great deal of work. A simpler method is given by the Nyquist stability theorem, in which the 
</p>
<p>number of right half-plane roots of (N(s) + D(s)) can be determined by testing T(s) [1,2]. This theorem is 
</p>
<p>not discussed here. However, a special case of the theorem known as the phase margin test is sufficient 
</p>
<p>for designing most voltage regulators, and is discussed in this section. 
</p>
<p>9.4.1 The Phase Margin Test 
</p>
<p>The crossover frequency fc is defined as the frequency where the magnitude of the loop gain is unity: 
</p>
<p>II T(J2nfc) II= 1 ~ 0 dB (9.19) 
</p>
<p>60dB 
</p>
<p>II Til 
II Til LT 
</p>
<p>20dB 
</p>
<p>LT o&middot; 
</p>
<p>-20dB 
</p>
<p>-40 dB ------------------------------------&middot;&middot;&middot; ---------&middot;&middot;&middot;--&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;J~": ............................................. . -180" 
</p>
<p>-270" 
</p>
<p>1Hz 10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
Fig. 9.8 Magnitude and phase of the loop gain of a stable system. The phase margin &lt;flm is positive. </p>
<p/>
</div>
<div class="page"><p/>
<p>342 Controller Design 
</p>
<p>60dB 
</p>
<p>II Til 
II Til LT 
</p>
<p>40dB 
</p>
<p>20dB 
</p>
<p>LT 
OdB o&middot; 
</p>
<p>-20dB -90' 
</p>
<p>-40dB -180' 
</p>
<p>-270' 
</p>
<p>1Hz 10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
</p>
<p>Fig. 9.9 Magnitude and phase of the loop gain of an unstable system. The phase margin (jlm is negative. 
</p>
<p>To compute the phase margin (jl111 , the phase of the loop gain Tis evaluated at the crossover frequency, 
</p>
<p>and 180" is added. Hence, 
</p>
<p>&lt;Jlm = 180' + L. r(j2nfc) (9.20) 
</p>
<p>If there is exactly one crossover frequency, and if the loop gain T(s) contains no right half-plane poles, 
</p>
<p>then the quantities 11(1 + T) and T/(1 + T) contain no right half-plane poles when the phase margin 
defined in Eq. (9.20) is positive. Thus, using a simple test on T(s), we can determine the stability of 
</p>
<p>T/(1 + T) and 11(1 + T). This is an easy-to-use design tool-we simple ensure that the phase of Tis 
</p>
<p>greater than -180" at the crossover frequency. 
</p>
<p>When there are multiple crossover frequencies, the phase margin test may be ambiguous. Also, 
</p>
<p>when T contains right half-plane poles (i.e., the original open-loop system is unstable), then the phase 
</p>
<p>margin test cannot be used. In either case, the more general Nyquist stability theorem must be employed. 
</p>
<p>The loop gain of a typical stable system is shown in Fig. 9.8. It can be seen that 
</p>
<p>LT(j2nfc) = -112". Hence, (jlm = 180"- 112" = +68". Since the phase margin is positive, T/(1 + T) and 
</p>
<p>11(1 + T) contain no right half-plane poles, and the feedback system is stable. 
</p>
<p>The loop gain of an unstable system is sketched in Fig. 9.9. For this example, 
</p>
<p>LT(j2nfc) = -230". The phase margin is (jlm = 180"- 230" =-50". The negative phase margin implies that 
</p>
<p>Tl(l + T) and 11( 1 + T) each contain at least one right half-plane pole. 
</p>
<p>9.4.2 The Relationship Between Phase Margin and Closed-Loop Damping Factor 
</p>
<p>How much phase margin is necessary? Is a worst-case phase margin of 1" satisfactory? Of course, good 
</p>
<p>designs should have adequate design margins, but there is another important reason why additional phase 
</p>
<p>margin is needed. A small phase margin (in T) causes the closed-loop transfer functions T/(1 + T) and 
</p>
<p>11(1 + T) to exhibit resonant poles with high Q in the vicinity of the crossover frequency. The system 
</p>
<p>transient response exhibits overshoot and ringing. As the phase margin is reduced these characteristics </p>
<p/>
</div>
<div class="page"><p/>
<p>9.4 Stability 343 
</p>
<p>40dB 
</p>
<p>II Til L.T 
</p>
<p>20dB 
</p>
<p>OdB 
</p>
<p>-20dB 
</p>
<p>-40dB o&middot; 
</p>
<p>L.T -90' 
-90' 
</p>
<p>&lt;pm 
</p>
<p>+-------+----~---___,f------+--------+ -270' 
</p>
<p>f 
Fig. 9.10 Magnitude and phase asymptotes for the loop gain T of Eq. (9.21). 
</p>
<p>become worse (higher Q, longer ringing) until, for &lt;pm ::; 0', the system becomes unstable. 
Let us consider a loop gain T(s) which is well-approximated, in the vicinity of the crossover fre-
</p>
<p>quency, by the following function: 
</p>
<p>(9.21) 
</p>
<p>Magnitude and phase asymptotes are plotted in Fig. 9.1 0. This function is a good approximation near the 
</p>
<p>crossover frequency for many common loop gains, in which II T II approaches unity gain with a 
-20 dB/decade slope, with an additional pole at frequency f2 = w2/2n. Any additional poles and zeroes 
are assumed to be sufficiently far above or below the crossover frequency, such that they have negligible 
</p>
<p>effect on the syst~JTI transfer functions near the crossover frequency. 
</p>
<p>Note that, as j 2 --+ co, the phase margin &lt;flm approaches 90'. As j 2 --+ 0, &lt;pm --+ 0'. So as j 2 is 
</p>
<p>reduced, the phase margin is also reduced. Let's investigate how this affects the closed-loop response via 
</p>
<p>T/(1 + T). We can write 
</p>
<p>T(s) 1 1 
1 + T(s) = 1 + 1 = 1 s s 2 
</p>
<p>T(s) + Wo + WoW2 
</p>
<p>(9.22) 
</p>
<p>using Eq. (9.21). By putting this into the standard normalized quadratic form, one obtains 
</p>
<p>T(s) 
</p>
<p>1 + T(s) (9.23) 
</p>
<p>where </p>
<p/>
</div>
<div class="page"><p/>
<p>344 Controller Design 
</p>
<p>40dB II Til fo 
7 
</p>
<p>Fig. 9.11 Construction of 
20dB 
</p>
<p>magnitude asymptotes of the 
</p>
<p>closed-loop transfer function OdB 
</p>
<p>Ill~ T II T/(1 + 1), for the low-Q case. 
-20dB 
</p>
<p>-40dB 
- 40 dB/decade 
</p>
<p>f 
</p>
<p>So the closed-loop response contains quadratic poles atfc, the geometric mean off0 and/2 . These poles 
</p>
<p>have a low Q-factor whenf0 &laquo; / 2. In this case, we can use the low-Q approximation to estimate their fre-
quencies: 
</p>
<p>(9.24) 
</p>
<p>Magnitude asymptotes are plotted in Fig. 9.11 for this case. It can be seen that these asymptotes conform 
</p>
<p>to the rules of Section 9.3 for constructing T/(1 + T) by the algebra-on-the-graph method. 
Next consider the high-Q case. When the pole frequency / 2 is reduced, reducing the phase mar-
</p>
<p>gin, then the Q-factor given by Eq. (9.23) is increased. For Q &gt; 0.5, resonant poles occur at frequency fc&middot; 
The magnitude Bode plot for the casef2 &lt;!0 is given in Fig. 9.12. The frequency fc continues to be the 
geometric mean of/2 andf0, andfc now coincides with the crossover (unity-gain) frequency of the II T II 
asymptotes. The exact value of the closed-loop gain T/(1 + T) at frequency fc is equal to Q = folfc&middot; As 
shown in Fig. 9.12, this is identical to the value of the low-frequency -20 dB/decade asymptote (/0/f), 
</p>
<p>evaluated at frequency fc&middot; It can be seen that the Q-factor becomes very large as the pole frequency f 2 is 
</p>
<p>reduced. 
</p>
<p>The asymptotes of Fig. 9.12 also follow the algebra-on-the-graph rules of Section 9.3, but the 
</p>
<p>deviation of the exact curve from the asymptotes is not predicted by the algebra-on-the-graph method. 
</p>
<p>60dB fo 
</p>
<p>II Til 7 
40dB 
</p>
<p>Fig. 9.12 Construction of - 20 dB/decade 
magnitude asymptotes of the 
</p>
<p>20dB closed-loop transfer function 
</p>
<p>Tl( 1 + T), for the high-Q case. 
OdB 
</p>
<p>-20dB 
L~rll 
</p>
<p>&middot;&middot;&middot;&middot;... Q = fo/.fc 
+----------==;:...._----&raquo;.:" .............. :&middot;:.-.of ....................................... .. 
</p>
<p>fc=W fo t 
- 40 dB/decade 
</p>
<p>-40dB 
</p>
<p>f </p>
<p/>
</div>
<div class="page"><p/>
<p>9.4 Stability 345 
</p>
<p>20dB 
</p>
<p>Q 
</p>
<p>15 dB 
</p>
<p>lOdB 
</p>
<p>\ 
~ 
</p>
<p>5 dB 
</p>
<p>OdB 
</p>
<p>-5 dB 
</p>
<p>-lOdB 
</p>
<p>-15 dB 
</p>
<p>~ 
~~ 
</p>
<p>Q=l=*OdB 
1
</p>
<p>+-..........._ 
</p>
<p>~ cp = 52&deg; m 
Q 0.5 =* 6 dB 
</p>
<p>f' 
</p>
<p>""' 
cp = 76&deg; 
</p>
<p>m 
</p>
<p>\ 
\ 
</p>
<p>-20dB 
oo 100 20&deg; 30&deg; 40&deg; 50&deg; 60&deg; 70&deg; 80&deg; goo 
</p>
<p>&lt;pm 
</p>
<p>Fig. 9.13 Relationship between loop-gain phase margin (jl"' and closed-loop peaking factor Q. 
</p>
<p>These two poles with Q-factor appear in both T/(1 + T) and 1/(1 + T). We need an easy way to predict the 
Q-factor. We can obtain such a relationship by finding the frequency at which the magnitude of T is 
</p>
<p>exactly equal to unity. We then evaluate the exact phase of Tat this frequency, and compute the phase 
</p>
<p>margin. This phase margin is a function of the ratiof0/f2, or Q2. We can then solve to find Q as a function 
of the phase margin. The result is 
</p>
<p>(9.25) 
</p>
<p>This function is plotted in Fig. 9.13, with Q expressed in dB. It can be seen that obtaining real poles 
(Q &lt; 0.5) requires a phase margin of at least 76&deg;. To obtain Q = 1, a phase margin of 52" is needed. The 
system with a phase margin of 1&deg; exhibits a closed-loop response with very high Q! With a small phase 
</p>
<p>margin, T(jw) is very nearly equal to -1 in the vicinity of the crossover frequency. The denominator 
</p>
<p>(1 + T) then becomes very small, causing the closed-loop transfer functions to exhibit a peaked response 
at frequencies near. the crossover frequency fc&middot; 
</p>
<p>Figure 9.13 is the result for the simple loop gain defined by Eq. (9.21). However, this loop gain 
</p>
<p>is a good approximation for many other loop gains that are encountered in practice, in which II T II 
approaches unity gain with a -20 dB/decade slope, with an additional pole at frequency j2&bull; If all other 
</p>
<p>poles and zeroes of T(s) are sufficiently far above or below the crossover frequency, then they have negli-
</p>
<p>gible effect on the system transfer functions near the crossover frequency, and Fig. 9.13 gives a good 
</p>
<p>approximation for the relationship between &lt;pm and Q. 
Another common case is the one in which II T II approaches unity gain with a -40 dB/decade 
</p>
<p>slope, with an additional zero at frequency j2&bull; As j2 is increased, the phase margin is decreased and Q is 
</p>
<p>increased. It can be shown that the relation between &lt;pm and Q is exactly the same, Eq. (9.25). 
</p>
<p>A case where Fig. 9.13 fails is when the loop gain T(s) three or more poles at or near the cross-</p>
<p/>
</div>
<div class="page"><p/>
<p>346 Controller Design 
</p>
<p>over frequency. The closed-loop response then also contains three or more poles near the crossover fre-
</p>
<p>quency, and these poles cannot be completely characterized by a single Q-factor. Additional work is 
</p>
<p>required to find the behavior of the exact Tl(l + D and 11(1 + D near the crossover frequency, but none-
theless it can be said that a small phase margin leads to a peaked closed-loop response. 
</p>
<p>9.4.3 Transient Response vs. Damping Factor 
</p>
<p>One can solve for the unit-step response of the T/(1 + D transfer function, by multiplying Eq. (9.23) by 
lis and then taking the inverse Laplace transform. The result for Q &gt; 0.5 is 
</p>
<p>(9.26) 
</p>
<p>For Q &lt; 0.5, the result is 
</p>
<p>(9.27) 
</p>
<p>with 
</p>
<p>These equations are plotted in Fig. 9.14 for various values of Q. 
According to Eq. (9.23), when f2 &gt; 4f0, the Q-factor is less than 0.5, and the closed-loop 
</p>
<p>2 
</p>
<p>O(t) 
</p>
<p>1.5 
</p>
<p>0.5 
</p>
<p>0 
</p>
<p>0 5 10 15 
</p>
<p>Wet, radians 
</p>
<p>Fig. 9.14 Unit-step response of the second-order system, Eqs. (9.26) and (9.27), for various values of Q. </p>
<p/>
</div>
<div class="page"><p/>
<p>9.5 Regulator Design 347 
</p>
<p>response contains a low-frequency and a high-frequency real pole. The transient response in this case, 
</p>
<p>Eq. (9.27), contains decaying-exponential functions of time, of the form 
</p>
<p>Ae(pole)t (9.28) 
</p>
<p>This is called the "overdamped" case. With very low Q, the low-frequency pole leads to a slow step 
response. 
</p>
<p>Forf2 = 4f0, the Q-factor is equal to 0.5. The closed-loop response contains two real poles at fre-
quency 2f0. This is called the "critically damped" case. The transient response is faster than in the over-
</p>
<p>damped case, because the lowest-frequency pole is at a higher frequency. This is the fastest response that 
</p>
<p>does not exhibit overshoot. At uv = n radians (t = 1/2f), the voltage has reached 82% of its final value. 
At W} = 2n radians (t = 1/f), the voltage has reached 98.6% of its final value. 
</p>
<p>For f 2 &lt; 4f0, the Q-factor is greater than 0.5. The closed-loop response contains complex poles, 
and the transient response exhibits sinusoidal-type waveforms with decaying amplitude, Eq. (9.26). The 
</p>
<p>rise time of the step response is faster than in the critically-damped case, but the waveforms exhibit over-
</p>
<p>shoot. The peak value of v(t) is 
</p>
<p>peak v(t) = 1 + e-n 1V4Q2 - 1 (9.29) 
</p>
<p>This is called the "underdamped" case. A Q-factor of 1leads to an overshoot of 16.3%, while a Q-factor 
</p>
<p>of 2leads to a 44.4% overshoot. Large Q-factors lead to overshoots approaching 100%. 
</p>
<p>The exact transient response of the feedback loop may differ from the plots of Fig. 9.14, 
</p>
<p>because of additional poles and zeroes in T, and because of differences in initial conditions. Nonetheless, 
</p>
<p>Fig. 9.14 illustrates how high-Q poles lead to overshoot and ringing. In most power applications, over-
</p>
<p>shoot is unacceptable. For example, in a 3.3 V computer power supply, the voltage must not be allowed 
</p>
<p>to overshoot to 5 or 6 volts when the supply is turned on-this would likely destroy all of the integrated 
</p>
<p>circuits in the computer! So the Q-factor must be sufficiently low, often 0.5 or less, corresponding to a 
</p>
<p>phase margin of at least 76&deg;. 
</p>
<p>9.5 REGULATOR DESIGN 
</p>
<p>Let's now consider how to design a regulator system, to meet specifications or design goals regarding 
</p>
<p>rejection of disturbances, transient response, and stability. Typical de regulator designs are defined using 
</p>
<p>specifications such as the following: 
</p>
<p>1. Effect of load current variations on the output voltage regulation. The output voltage must remain within a 
</p>
<p>specified range when the load current varies in a prescribed way. This amounts to a limit on the maximum 
</p>
<p>magnitude of the closed-loop output impedance of Eq. (9.6), repeated below 
</p>
<p>(9.30) 
</p>
<p>If, over some frequency range, the open-loop output impedance Zout has magnitude that exceeds the limit, 
</p>
<p>then the loop gain T must be sufficiently large in magnitude over the same frequency range, such that the 
</p>
<p>magnitude of the closed-loop output impedance given in Eq. (9.30) is less than the given limit. 
</p>
<p>2. Effect of input voltage variations (for example, at the second harmonic of the ac line frequency) on the out-
</p>
<p>put voltage regulation. Specific maximum limits are usually placed on the amplitude of variations in the </p>
<p/>
</div>
<div class="page"><p/>
<p>348 Controller Design 
</p>
<p>output voltage at the second harmonic of the ac line frequency (120Hz or 100Hz). If we know the magni-
</p>
<p>tude of the rectification voltage ripple which appears at the converter input (as 08 ), then we can calculate 
</p>
<p>the resulting output voltage ripple (in v) using the closed loop line-to-output transfer function of Eq. (9.5), 
</p>
<p>repeated below 
</p>
<p>v(s) I - Gvg(s) 
Og(s) vrero -1+T(s) 
</p>
<p>itoad= 0 
</p>
<p>(9.31) 
</p>
<p>The output voltage ripple can be reduced by increasing the magnitude of the loop gain at the ripple fre-
</p>
<p>quency. In a typical good design, II T II is 20 dB or more at 120 Hz, so that the transfer function of Eq. 
(9.31) is at least an order of magnitude smaller than the open-loop line-to-output transfer function II Gvg 11. 
</p>
<p>3. Transient response time. When a specified large disturbance occurs, such as a large step change in load 
</p>
<p>current or input voltage, the output voltage may undergo a transient. During this transient, the output volt-
</p>
<p>age typically deviates from its specified allowable range. Eventually, the feedback loop operates to return 
</p>
<p>the output voltage within tolerance. The time required to do so is the transient response time; typically, the 
</p>
<p>response time can be shortened by increasing the feedback loop crossover frequency. 
</p>
<p>4. Overshoot and ringing. As discussed in Section 9.4.3, the amount of overshoot and ringing allowed in the 
</p>
<p>transient response may be limited. Such a specification implies that the phase margin must be sufficiently 
</p>
<p>large. 
</p>
<p>Each of these requirements imposes constraints on the loop gain T(s). Therefore, the design of the con-
</p>
<p>trol system involves modifying the loop gain. As illustrated in Fig. 9.2, a compensator network is added 
</p>
<p>for this purpose. Several well-known strategies for design of the compensator transfer function G/s) are 
</p>
<p>discussed below. 
</p>
<p>9.5.1 Lead (PD) compensator 
</p>
<p>This type of compensator transfer function is used to improve the phase margin. A zero is added to the 
</p>
<p>loop gain, at a frequency fz sufficiently far below the crossover frequency fc, such that the phase margin 
of T(s) is increased by the desired amount. The lead compensator is also called a proportional-plus-
</p>
<p>derivative, or PD, controller-at high frequencies, the zero causes the compensator to differentiate the 
</p>
<p>error signal. It often finds application in systems originally containing a two-pole response. By use of 
</p>
<p>this type of compensator, the bandwidth of the feedback loop (i.e., the crossover frequency f) can be 
</p>
<p>Fig. 9.15 Magnitude and phase asymptotes 
</p>
<p>of the P D compensator transfer function G c of 
</p>
<p>Eq. (9.32). 
</p>
<p>II Gcll 
</p>
<p>0' 
</p>
<p>L. Gc 
</p>
<p>GcO 
</p>
<p>fp 
</p>
<p>fc =JfzJ;, 
</p>
<p>f/10 10fz 
</p>
<p>f </p>
<p/>
</div>
<div class="page"><p/>
<p>Maximum 900 
</p>
<p>phase lead 
</p>
<p>Fig. 9.16 Maximum 
phase lead 8 vs. fre-
</p>
<p>quency ratio f/f, for the 
lead compensator. 
</p>
<p>45&deg; 
</p>
<p>extended while maintaining an acceptable phase margin. 
</p>
<p>9.5 Regulator Design 349 
</p>
<p>10 100 1000 
</p>
<p>A side effect of the zero is that it causes the compensator gain to increase with frequency, with a 
</p>
<p>+20 dB/decade slope. So steps must be taken to ensure that II T II remains equal to unity at the desired 
crossover frequency. Also, since the gain of any practical amplifier must tend to zero at high frequency, 
</p>
<p>the compensator transfer function GJs) must contain high frequency poles. These poles also have the 
</p>
<p>beneficial effect of attenuating high-frequency noise. Of particular concern are the switching frequency 
</p>
<p>harmonics present in the output voltage and feedback signals. If the compensator gain at the switching 
</p>
<p>frequency is too great, then these switching harmonics are amplified by the compensator, and can disrupt 
</p>
<p>the operation of the pulse-width modulator (see Section 7.6). So the compensator network should contain 
</p>
<p>poles at a frequency less than the switching frequency. These considerations typically restrict the cross-
</p>
<p>over frequency fc to be less than approximately 10% of the converter switching frequency fs&middot; In addition, 
</p>
<p>the circuit designer must take care not to exceed the gain-bandwidth limits of available operational 
</p>
<p>amplifiers. 
</p>
<p>The transfer function of the lead compensator therefore contains a low-frequency zero and sev-
</p>
<p>eral high-frequency poles. A simplified example containing a single high-frequency pole is given in Eq. 
</p>
<p>(9.32) and illustrated in Fig. 9.15. 
</p>
<p>(9.32) 
</p>
<p>The maximum phase occurs at a frequency fCJ!max given by the geometrical mean of the pole and zero fre-
</p>
<p>quencies: 
</p>
<p>(9.33) 
</p>
<p>To obtain the maximum improvement in phase margin, we should design our compensator so that the 
</p>
<p>frequency fCJ!max coincides with the loop gain crossover frequency J; .. The value of the phase at this fre-
quency can be shown to be </p>
<p/>
</div>
<div class="page"><p/>
<p>350 Controller Design 
</p>
<p>60dB 
</p>
<p>To 
</p>
<p>40dB II Til TOG cO 
II Til LT 
</p>
<p>20dB 
Compensated gain 
</p>
<p>OdB .............................................................................. fz ......... . 
</p>
<p>-20dB 1 
o&middot; """"""''""- i.~es 
</p>
<p>Original phase asymptotes 
</p>
<p>LT 
-40dB 
</p>
<p>-90' 
</p>
<p>+----~-----+----------+-----+ -270' 
</p>
<p>f 
</p>
<p>Fig. 9.17 Compensation of a loop gain containing two poles, using a lead (PD) compensator. The phase margin 'Pm 
is impmved. 
</p>
<p>This equation is plotted in Fig. 9 .16. Equation (9 .34) can be inverted to obtain 
</p>
<p>.{p 1+sin(e) 
</p>
<p>~z= 1-sin(e) 
</p>
<p>(9.34) 
</p>
<p>(9.35) 
</p>
<p>where e = LG/fcpmox). Equations (9.34) and (9.32) imply that, to optimally obtain a compensator phase 
lead of e at frequency fc, the pole and zero frequencies should be chosen as follows: 
</p>
<p>fz=fc 
1-sin(e) 
</p>
<p>1+sin(e) 
(9.36) 
</p>
<p>.{p=fc 
1+sin(e) 
</p>
<p>1-sin(e) 
</p>
<p>When it is desired to avoid changing the crossover frequency, the magnitude of the compensator 
gain is chosen to be unity at the loop gain crossover frequency fc&middot; This requires that G cO be chosen 
according to the following formula: 
</p>
<p>(9.37) 
</p>
<p>It can be seen that G cO is less than unity, and therefore the lead compensator reduces the de gain of the </p>
<p/>
</div>
<div class="page"><p/>
<p>9.5 Regulator Design 351 
</p>
<p>feedback loop. Other choices of Gco can be selected when it is desired to shift the crossover frequency fc; 
</p>
<p>for example, increasing the value of G co causes the crossover frequency to increase. If the frequencies fp 
</p>
<p>and.fz are chosen as in Eq. (9.36), thenfq&gt;max of Eq. (9.32) will coincide with the new crossover frequency 
</p>
<p>fc&middot; 
The Bode diagram of a typical loop gain T(s) containing two poles is illustrated in Fig. 9.17. 
</p>
<p>The phase margin of the original T(s) is small, since the crossover frequency fc is substantially greater 
</p>
<p>than the pole frequency fo- The result of adding a lead compensator is also illustrated. The lead compen-
</p>
<p>sator of this example is designed to maintain the same crossover frequency but improve the phase mar-
</p>
<p>gin. 
</p>
<p>9.5.2 Lag (P[) Compensator 
</p>
<p>This type of compensator is used to increase the low-frequency loop gain, such that the output is better 
</p>
<p>regulated at de and at frequencies well below the loop crossover frequency. As given in Eq. (9.38) and 
</p>
<p>illustrated in Fig. 9.18, an inverted zero is added to the loop gain, at frequency k 
</p>
<p>G/s) = c""( 1 + ~L) (9.38) 
</p>
<p>If fL is sufficiently lower than the loop crossover frequency fc, then the phase margin is unchanged. This 
</p>
<p>type of compensator is also called a proportional-plus-integral, or PI, controller-at low frequencies, the 
</p>
<p>inverted zero causes the compensator to integrate the error signal. 
</p>
<p>To the extent that the compensator gain can be made arbitrarily large at de, the de loop gain T(O) 
</p>
<p>becomes arbitrarily large. This causes the de component of the error signal to approach zero. In conse-
</p>
<p>quence, the steady-state' output voltage is perfectly regulated, and the disturbance-to-output transfer 
</p>
<p>functions approach zero at de. Such behavior is easily obtained in practice, with the compensator of Eq. 
</p>
<p>(9 .38) realized using a conventional operational amplifier. 
</p>
<p>Although the PI compensator is useful in nearly all types of feedback systems, it is an espe-
</p>
<p>cially simple and effective approach for systems originally containing a single pole. For the example of 
</p>
<p>Fig. 9.19, the original uncompensated loop gain is of the form 
</p>
<p>Fig. 9.18 Magnitude and phase asymptotes 
</p>
<p>of the PI compensator transfer function G c of 
Eq. (9.38). 
</p>
<p>LGC 
</p>
<p>-90&deg; 
</p>
<p>fL/10 
</p>
<p>Gc= 
</p>
<p>fL 
</p>
<p>lOfL 00 
</p>
<p>f </p>
<p/>
</div>
<div class="page"><p/>
<p>352 Controller Design 
</p>
<p>40dB 
II Til 
</p>
<p>20dB 
</p>
<p>OdB 
</p>
<p>-20dB 90' 
</p>
<p>LTU 
-40 dB +---...::.....--~==~=,~ o&middot; 
</p>
<p>lQjL 
</p>
<p>t--~---""~--___;;;;;-.;;,___---+-----t -90' 
</p>
<p>---~--~------------------------------------ --------------------------------------~-~~~----J--~-~------------------------ -180' 
</p>
<p>1Hz 10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
Fig. 9.19 Compensation of a loop gain containing a single pole, using a lag (P[) compensator. The loop gain 
</p>
<p>magnitude is increased. 
</p>
<p>T 
T(s)=--"0-
</p>
<p>u ( 1 + uio) 
(9.39) 
</p>
<p>The compensator transfer function of Eq. (9.38) is used, so that the compensated loop gain is 
</p>
<p>T(s) = Tu(s)GJs). Magnitude and phase asymptotes of T(s) are also illustrated in Fig. 9.19. The compen-
</p>
<p>sator high-frequency gain Gc= is chosen to obtain the desired crossover frequency fc&middot; If we approximate 
</p>
<p>the compensated loop gain by its high-frequency asymptote, then at high frequencies we can write 
</p>
<p>II T ~ ~ TuoGc= 
</p>
<p>(i) 
(9.40) 
</p>
<p>At the crossover frequency f = fc, the loop gain has unity magnitude. Equation (9.40) predicts that the 
crossover frequency is 
</p>
<p>(9.41) 
</p>
<p>Hence, to obtain a desired crossover frequency fc, we should choose the compensator gain Gc= as fol-
lows: 
</p>
<p>(9.42) 
</p>
<p>The comer frequency fL is then chosen to be sufficiently less thanfc, such that an adequate phase margin 
</p>
<p>is maintained. 
</p>
<p>Magnitude asymptotes of the quantity 11(1 + T(s)) are constructed in Fig. 9.20. At frequencies </p>
<p/>
</div>
<div class="page"><p/>
<p>9.5 Regulator Design 353 
</p>
<p>40dB 
</p>
<p>20dB 
</p>
<p>II Til 
</p>
<p>~" 
OdB &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>-20 dB 
</p>
<p>-40dB 
</p>
<p>1Hz 10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
Fig. 9.20 Construction of 1111(1 + n II for the PI-compensated example of Fig. 9.19. 
</p>
<p>less thanfv the PI compensator improves the rejection of disturbances. At de, where the magnitude of Gc 
</p>
<p>approaches infinity, the magnitude of 1/(1 + n tends to zero. Hence, the closed-loop disturbance-to-out-
put transfer functions, such as Eqs. (9.30) and (9.31), tend to zero at de. 
</p>
<p>9.5.3 Combined (P/D) Compensator 
</p>
<p>The advantages of the lead and lag compensators can be combined, to obtain both wide bandwidth and 
</p>
<p>zero steady-state error. At low frequencies, the compensator integrates the error signal, leading to large 
</p>
<p>low-frequency loop gain and accurate regulation of the low-frequency components of the output voltage. 
</p>
<p>At high frequency (in the vicinity of the crossover frequency), the compensator introduces phase lead 
</p>
<p>into the loop gain, improving the phase margin. Such a compensator is sometimes called a PID control-
</p>
<p>ler. 
</p>
<p>40 dB 
</p>
<p>II Cell 
20dB 
</p>
<p>OdB 
</p>
<p>-20dB 90' 
</p>
<p>-40dB 0' 
</p>
<p>-90' 
</p>
<p>-180' 
</p>
<p>f 
Fig. 9.21 Magnitude and phase asymptotes ofthe combined (PID) compensator transfer function Gc ofEq. (9.43). </p>
<p/>
</div>
<div class="page"><p/>
<p>354 Controller Design 
</p>
<p>A typical Bode diagram of a practical version of this compensator is illustrated in Fig. 9 .21. The 
</p>
<p>compensator has transfer function 
</p>
<p>(9.43) 
</p>
<p>The inverted zero at frequency JL functions in the same manner as the PI compensator. The zero at fre-
quency fz adds phase lead in the vicinity of the crossover frequency, as in the PD compensator. The high-
frequency poles at frequenciesfP 1 and.t;,2 must be present in practical compensators, to cause the gain to 
</p>
<p>roll off at high frequencies and to prevent the switching ripple from disrupting the operation of the pulse-
</p>
<p>width modulator. The loop gain crossover frequency fc is chosen to be greater thanfL andfz, but less than 
</p>
<p>.t;,l andfp2' 
</p>
<p>9.5.4 Design Example 
</p>
<p>To illustrate the design of PI and PD compensators, let us consider the design of a combined PID com-
</p>
<p>pensator for the de-de buck converter system of Fig. 9.22. The input voltage vgCt) for this system has 
</p>
<p>nominal value 28 V. It is desired to supply a regulated 15 V to a 5 A load. The load is modeled here with 
</p>
<p>a 3 Q resistor. An accurate 5 V reference is available. 
</p>
<p>The first step is to select the feedback gain H(s). The gain His chosen such that the regulator 
</p>
<p>produces a regulated 15 V de output. Let us assume that we will succeed in designing a good feedback 
</p>
<p>system, which causes the output voltage to accurately follow the reference voltage. This is accomplished 
</p>
<p>via a large loop gain T, which leads to a small error voltage: ve"' 0. Hence, Hv"' vref So we should choose 
</p>
<p>H- V,,t - _2__ -1 - v - 15-3 
</p>
<p>The quiescent duty cycle is given by the steady-state solution of the converter: 
</p>
<p>Transistor 
gate driver 
</p>
<p>Fig. 9.22 Design example. 
</p>
<p>L 
</p>
<p>50~-tH 
</p>
<p>!,=100kHz 
</p>
<p>v(t) R 
3Q 
</p>
<p>Sensor 
gain 
</p>
<p>L---,----l 
</p>
<p>(9.44) </p>
<p/>
</div>
<div class="page"><p/>
<p>Compensator 
</p>
<p>H(s) v(s) 
</p>
<p>H-l -3 
</p>
<p>d(s) 
</p>
<p>Fig. 9.23 System small-signal ac model, design example. 
</p>
<p>D- .X_ -li- 0 536 - V
8
</p>
<p>- 2s- &middot; 
</p>
<p>9.5 Regulator Design 355 
</p>
<p>+ 
</p>
<p>v(s) R 
</p>
<p>(9.45) 
</p>
<p>The quiescent value of the control voltage, Vc, must satisfy Eq. (7 .173). Hence, 
</p>
<p>(9.46) 
</p>
<p>Thus, the quiescent conditions of the system are known. It remains to design the compensator gain Gc(s). 
</p>
<p>A small-signal ac model ofthe regulator system is illustrated in Fig. 9.23. The buck converter ac 
</p>
<p>model is represented in canonical form. Disturbances in the input voltage and in the load current are 
</p>
<p>modeled. For generality, reference voltage variations vrefare included in the diagram; in a de voltage reg-
</p>
<p>ulator, these variations are normally zero. 
</p>
<p>The open-loop converter transfer functions are discussed in the previous chapters. The open-
</p>
<p>loop control-to-output transfer function is 
</p>
<p>(9.47) 
</p>
<p>The open-loop control-to-output transfer function contains two poles, and can be written in the following 
</p>
<p>normalized form: </p>
<p/>
</div>
<div class="page"><p/>
<p>356 Controller Design 
</p>
<p>60dBV 
</p>
<p>II Gvd II 
40dBV 
</p>
<p>20dBV 
</p>
<p>LGvd 
OdBV r-----~------------------~ 
</p>
<p>10-I/ZQo fo =900Hz 
o&middot; 
</p>
<p>-20dBV -90' 
</p>
<p>-40 dBV ----------------------------------------------------------
</p>
<p>10 I/2Qo fo = 1.1 kHz 
-270' 
</p>
<p>I Hz 10Hz 100Hz I kHz lOkHz 100kHz 
</p>
<p>f 
Fig. 9.24 Converter small-signal control-to-output transfer function Gvd&bull; design example. 
</p>
<p>(9.48) 
</p>
<p>By equating like coefficients in Eqs. (9.47) and (9.48), one finds that the de gain, comer frequency, and 
</p>
<p>Q-factor are given by 
</p>
<p>Gdo=~=28 V 
</p>
<p>fr_Wo_ 1-1kHz 
0 - 2n - 2n.fLE -
</p>
<p>(9.49) 
</p>
<p>Qo = R If= 9.5 =&gt; 19.5 dB 
In practice, parasitic loss elements, such as the capacitor equivalent series resistance (esr), would cause a 
</p>
<p>lower Q-factor to be observed. Figure 9.24 contains a Bode diagram of Gvis). 
</p>
<p>The open-loop line-to-output transfer function is 
</p>
<p>(9.50) 
</p>
<p>This transfer function contains the same poles as in Gvis), and can be written in the normalized form 
</p>
<p>(9.51) 
</p>
<p>with Ggo =D. The open-loop output impedance of the buck converter is 
</p>
<p>(9.52) </p>
<p/>
</div>
<div class="page"><p/>
<p>9.5 Regulator Design 357 
</p>
<p>1 (s) Load current 
load variation 
</p>
<p>~--------------------------------------- ---------
</p>
<p>vgCs) I 
ac line 
variation 
</p>
<p>v(s) 
</p>
<p>Converter power stage 
</p>
<p>Fig. 9.25 System block diagram, design example. 
</p>
<p>Use of these equations to represent the converter in block-diagram form leads to the complete system 
</p>
<p>block diagram of Fig. 9.25. The loop gain of the system is 
</p>
<p>(9.53) 
</p>
<p>Substitution of Eq. (9.48) into (9.53) leads to 
</p>
<p>T(s) = G/s)H(s) V 1 
</p>
<p>VM D (l + _s + (Llz) 
QoC.Oo C.Oo 
</p>
<p>(9.54) 
</p>
<p>40dB 
</p>
<p>II Tu II 
20 dB 
</p>
<p>Tuo 2.33 =} 7.4 dB 
</p>
<p>OdB ......................................................... . 
</p>
<p>-20dB 
[ 
</p>
<p>-40dB 
10-2Q fo =900Hz 
</p>
<p>0' 
</p>
<p>-90' 
</p>
<p>................................................................................. P:..,--------t -180' 
[ 
</p>
<p>102Q fo = 1.1 kHz 
+-------t-----+------1-------+------J. -270' 
</p>
<p>1Hz 10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
Fig. 9.26 Uncompensated loop gain Tu, design example. </p>
<p/>
</div>
<div class="page"><p/>
<p>358 Controller Design 
</p>
<p>40dB 
</p>
<p>II Gcll 
</p>
<p>fc 
II Gcll 20dB 
</p>
<p>OdB .......................................................................... fz ......... =m; ........................... . 
</p>
<p>-20 dB 90&deg; 
</p>
<p>-90' 
</p>
<p>-180' 
</p>
<p>I Hz lOHz lOOHz I kHz lOkHz 100kHz 
</p>
<p>f 
Fig. 9.27 PD compensator transfer function G," design example. 
</p>
<p>The closed-loop disturbance-to-output transfer functions are given by Eqs. (9.5) and (9.6). 
</p>
<p>The uncompensated loop gain T"(s), with unity compensator gain, is sketched in Fig. 9.26. With 
</p>
<p>Gc(s) = 1, Eq. (9.54) can be written 
</p>
<p>where the de gain is 
</p>
<p>Tuo = /!l = 2.33 =&gt; 7.4 dB 
M 
</p>
<p>(9.55) 
</p>
<p>(9.56) 
</p>
<p>The uncompensated loop gain has a crossover frequency of approximately 1.8 kHz, with a phase margin 
</p>
<p>of less than five degrees. 
</p>
<p>Let us design a compensator, to attain a crossover frequency of fc = 5 kHz, or one twentieth of 
</p>
<p>the switching frequency. From Fig. 9.26, the uncompensated loop gain has a magnitude at 5 kHz of 
</p>
<p>approximately Tuo ifolfY = 0.093 =&gt; -20.6 dB. So to obtain unity loop gain at 5 kHz, our compensator 
</p>
<p>should have a 5 kHz gain of +20.6 dB. In addition, the compensator should improve the phase margin, 
</p>
<p>since the phase of the uncompensated loop gain is nearly -180&deg; at 5 kHz. So a lead (PD) compensator is 
</p>
<p>needed. Let us (somewhat arbitrarily) choose to design for a phase margin of 52&deg;. According to Fig. 9.13, 
</p>
<p>this choice leads to closed-loop poles having a Q-factor of 1. The unit step response, Fig. 9.14, then 
</p>
<p>exhibits a peak overshoot of 16%. Evaluation of Eq. (9.36), with.fc =5kHz and 8 = 52&deg;, leads to the fol-
</p>
<p>lowing compensator pole and zero frequencies: 
</p>
<p>fz =(5kHz) 
</p>
<p>JP =(5kHz) 
</p>
<p>1 -sin (52&deg;) = 1.7 kHz 
1 +sin (52&deg;) 
</p>
<p>1 +sin (52o) = 14 5 kH 
1 -sin (52&deg;) &middot; z 
</p>
<p>(9.57) 
</p>
<p>To obtain a compensator gain of 20.6 dB=&gt; 10.7 at 5kHz, the low-frequency compensator gain must be </p>
<p/>
</div>
<div class="page"><p/>
<p>9.5 Regulator Design 359 
</p>
<p>40dB 
</p>
<p>L.T II Til II T II T0 = 8.6 =&gt; 18.7 dB 
20 dB r-------------..&pound;..---1~-'-
</p>
<p>OdB &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>-20dB 
</p>
<p>0' 
~OdB }-----~-----==~-- o&middot; 
</p>
<p>L.T 170Hz 
</p>
<p>-90' 
</p>
<p>-180' 
</p>
<p>+------+-------t-------.........,f--------+--------+ -270' 
I Hz lOHz lOOHz I kHz 10kHz 100kHz 
</p>
<p>f 
Fig. 9.28 The compensated loop gain ofEq. (9.59). 
</p>
<p>G = (1&pound;) 2 _l_ fT = 3 7 =&gt; 11 3 dB 
dl fo Tuo V fp . . (9.58) 
</p>
<p>A Bode diagram of the PD compensator magnitude and phase is sketched in Fig. 9.27. 
</p>
<p>With this PD controller, the loop gain becomes 
</p>
<p>( 1 + ~,) 
(9.59) 
</p>
<p>The compensated loop gain is sketched in Fig. 9.28. It can be seen that the phase of T(s) is approximately 
</p>
<p>equal to 52' over the frequency range of 1.4 kHz to 17 kHz. Hence variations in component values, 
</p>
<p>which cause the crossover frequency to deviate somewhat from 5 kHz, should have little impact on the 
</p>
<p>phase margin. In addition, it can be seen from Fig. 9.28 that the loop gain has a de magnitude of T,,0Gco 
==} 18.7 dB. 
</p>
<p>Asymptotes of the quantity 11( 1 + D are constructed in Fig. 9.29. This quantity has a de asymp-
tote of -18.7 dB. Therefore, at frequencies less than 1kHz, the feedback loop attenuates output voltage 
</p>
<p>disturbances by 18.7 dB. For example, suppose that the input voltage vgCt) contains a 100Hz variation of 
</p>
<p>amplitude 1 V. With no feedback loop, this disturbance would propagate to the output according to the 
</p>
<p>open-loop transfer function GvgCs), given in Eq. (9.51). At 100Hz, this transfer function has a gain essen-
</p>
<p>tially equal to the de asymptote D = 0.536. Therefore, with no feedback loop, a 100 Hz variation of 
amplitude 0.536 V would be observed at the output. In the presence of feedback, the closed-loop line-to-
</p>
<p>output transfer function of Eq. (9.5) is obtained; for our example, this attenuates the 100Hz variation by 
</p>
<p>an additional factor of 18.7 dB==} 8.6. The 100Hz output voltage variation now has magnitude 0.536/8.6 
</p>
<p>= 0.062 V. 
The low-frequency regulation can be further improved by addition of an inverted zero, as dis-
</p>
<p>cussed in Section 9.5.2. A PID controller, as in Section 9.5.3, is then obtained. The compensator transfer </p>
<p/>
</div>
<div class="page"><p/>
<p>360 Controller Design 
</p>
<p>I Hz 10Hz 100Hz I kHz 10kHz IOO kHz 
</p>
<p>f 
Fig. 9.29 Construction of 1111(1 + 7) II for the PD-compensated design example of Fig. 9.28. 
</p>
<p>function becomes 
</p>
<p>(9.60) 
</p>
<p>The Bode diagram of this compensator gain is illustrated in Fig. 9.30. The pole and zero frequenciesf: 
</p>
<p>andfP are unchanged, and are given by Eq. (9.57). The midband gain Gem is chosen to be the same as the 
</p>
<p>previous Gco&bull; Eq. (9.58). Hence, for frequencies greater than fv the magnitude of the loop gain is 
</p>
<p>40 dB 
</p>
<p>II Gcll 
20dB 
</p>
<p>OdB .... fz ................................................. . 
</p>
<p>-20dB 90&deg; 
</p>
<p>-40dB 
fp/10 
</p>
<p>L. G c - 90&deg; 90&deg; /decade 
+--"----';;.::...-=:p"""~fz 110 
</p>
<p>fL/10 
</p>
<p>00 
</p>
<p>-90&deg; 
</p>
<p>-180&deg; 
</p>
<p>I Hz 10Hz 100Hz I kHz 10kHz 100kHz 
</p>
<p>f 
Fig. 9.30 PID compensator transfer function, Eq. (9.60). </p>
<p/>
</div>
<div class="page"><p/>
<p>9.5 Regulator Design 361 
</p>
<p>60dB 
</p>
<p>40dB 
</p>
<p>20dB 
</p>
<p>OdB 
</p>
<p>-20dB 
</p>
<p>-40dB 
</p>
<p>-60dB 
</p>
<p>~OdB~------~--------~--------r--------+------~ 
</p>
<p>1Hz 10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
</p>
<p>Fig. 9.31 Construction of II T II and 1111(1 + 7) II with the P/D-compensator of Fig. 9.30. 
</p>
<p>unchanged by the inverted zero. The loop continues to exhibit a crossover frequency of 5 kHz. 
</p>
<p>So that the inverted zero does not significantly degrade the phase margin, let us (somewhat arbi-
</p>
<p>trarily) choose A to be one-tenth of the crossover frequency, or 500 Hz. The inverted zero will then 
increase the loop gain at frequencies below 500Hz, improving the low-frequency regulation of the out-
</p>
<p>put voltage. The loop gain of Fig. 9.31 is obtained. The magnitude of the quantity 11(1 + D is also con-
structed. It can be seen that the inverted zero at 500Hz causes the magnitude of 11(1 + T) at 100Hz to be 
reduced by a factor of approximately (100 Hz)/(500 Hz) = 115. The total attenuation of 11(1 + D at 
100Hz is -32.7dB. A 1 V, 100Hz variation in vgCt) would now induce a 12 mV variation in v(t). Further 
</p>
<p>improvements could be obtained by increasing A; however, this would require redesign of the PD portion 
of the compensator to maintain an adequate phase margin. 
</p>
<p>The line-to-output transfer function is constructed in Fig. 9.32. Both the open-loop transfer 
</p>
<p>function GvgCs), Eq. (9.51), and the closed-loop transfer function GvgCs)/(1 + T(s)), are constructed using 
the algebra-on-the-graph method. The two transfer functions coincide at frequencies greater than the 
</p>
<p>crossover frequency. At frequencies less than the crossover frequency fc, the closed-loop transfer func-
</p>
<p>tion is reduced by a factor of T(s). It can be seen that the poles of GvgCs) are cancelled by zeroes of 
</p>
<p>11(1 + n. Hence the closed-loop line-to-output transfer function is approximately 
</p>
<p>G.g(s) D 1 
</p>
<p>(1 +T(s))- TuoGcm (1 + ~L)(1 + ~,)(1 + ~J 
(9.61) 
</p>
<p>So the algebra-on-the-graph method allows simple approximate disturbance-to-output closed-loop trans-
</p>
<p>fer functions to be written. Armed with such an analytical expression, the system designer can easily 
</p>
<p>compute the output disturbances, and can gain the insight required to shape the loop gain T(s) such that 
</p>
<p>system specifications are met. Computer simulations can then be used to judge whether the specifications 
</p>
<p>are met under all operating conditions, and over expected ranges of component parameter values. Results 
</p>
<p>of computer simulations of the design example described in this section can be found in Appendix B, 
</p>
<p>Section B.2.2. </p>
<p/>
</div>
<div class="page"><p/>
<p>362 Controller Design 
</p>
<p>II :g II 
20dB 
</p>
<p>OdB 
</p>
<p>-20dB 
Open-loop II Gv8 II 
</p>
<p>-40dB 
</p>
<p>-60dB 
</p>
<p>-80dB 
Closed-loop Ill ~vgT I 
</p>
<p>-100dB 
</p>
<p>1Hz 10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
Fig. 9.32 Comparison of open-loop line-to-output transfer function Gvg and closed-loop line-to-output transfer 
</p>
<p>function ofEq. (9.61). 
</p>
<p>9.6 MEASUREMENT OF LOOP GAINS 
</p>
<p>It is good engineering practice to measure the loop gains of prototype feedback systems. The objective of 
</p>
<p>such an exercise is to verify that the system has been correctly modeled. If so, then provided that a good 
</p>
<p>controller design has been implemented, then the system behavior will meet expectations regarding tran-
</p>
<p>sient overshoot (and phase margin), rejection of disturbances, de output voltage regulation, etc. Unfortu-
</p>
<p>nately, there are reasons why practical system prototypes are likely to differ from theoretical models. 
</p>
<p>Phenomena may occur that were not accounted for in the original model, and that significantly influence 
</p>
<p>the system behavior. Noise and electromagnetic interference (EMI) can be present, which cause the sys-
</p>
<p>tem transfer functions to deviate in unexpected ways. 
</p>
<p>So let us consider the measurement of the loop gain T(s) of the feedback system of Fig. 9.33. 
</p>
<p>Block 1 
</p>
<p>v.(s) 
</p>
<p>A 
</p>
<p>I + 
I 
I 
I 
I 
I 
</p>
<p>i vxCs) 
I 
I 
I 
I 
I 
I 
I -
</p>
<p>Block2 
</p>
<p>t ............................... .: 
</p>
<p>Fig. 9.33 It is desired to determine the loop gain T(s) experimentally, by making measurements at point A. </p>
<p/>
</div>
<div class="page"><p/>
<p>9.6 Measurement of Loop Gains 363 
</p>
<p>Block 1 Block 2 
de bias 
</p>
<p>+ 
t .&bull;..&bull;.&bull;.&bull;..&bull;.&bull;.&bull;.&bull;....&bull;...&bull;...&bull;&bull;..&bull;......&bull;.&bull;..&bull;....&bull;...&bull;. .l 
</p>
<p>Fig. 9.34 Measurement of loop gain by breaking the loop. 
</p>
<p>We will make measurements at some point A, where two blocks of the network are connected electri-
</p>
<p>cally. In Fig. 9.33, the output port of block 1 is represented by a Thevenin-equivalent network, composed 
</p>
<p>of the dependent voltage source G 10 e and output impedance Z1. Block 1 is loaded by the input impedance 
</p>
<p>Z2 of block 2. The remainder of the feedback system is represented by a block diagram as shown. The 
</p>
<p>loop gain of the system is 
</p>
<p>(9.62) 
</p>
<p>Measurement of this loop gain presents several challenges not present in other frequency response mea-
</p>
<p>surements. 
</p>
<p>In principle, one could break the loop at point A, and attempt to measure T(s) using the transfer 
</p>
<p>function measurement method of the previous chapter. As illustrated in Fig. 9.34, a de supply voltage 
</p>
<p>V cc and potentiometer would be used, to establish a de bias in the voltage v x' such that all of the elements 
</p>
<p>of the network operate at the correct quiescent point. Ac voltage variations in vz(t) are coupled into the 
</p>
<p>injection point via a de blocking capacitor. Any other independent ac inputs to the system are disabled. A 
</p>
<p>network analyzer is used to measure the relative magnitudes and phases of the ac components of the volt-
</p>
<p>ages vyCt) and vx(t): 
</p>
<p>(9.63) 
</p>
<p>The measured gain Tm(s) differs from the actual gain T(s) because, by breaking the connection 
</p>
<p>between blocks 1 and 2 at the measurement point, we have removed the loading of block 2 on block 1. 
</p>
<p>Solution of Fig. 9.34 for the measured gain T m(s) leads to 
</p>
<p>Equations (9.62) and (9.64) can be combined to express Tm(s) in terms of T(s): 
</p>
<p>Tm(s) = T(s) (1 + 21 (s)) 
Z2(s) 
</p>
<p>(9.64) 
</p>
<p>(9.65) </p>
<p/>
</div>
<div class="page"><p/>
<p>364 Controller Design 
</p>
<p>Hence, 
</p>
<p>(9.66) 
</p>
<p>So to obtain an accurate measurement, we need to find an injection point where loading is negligible over 
</p>
<p>the range of frequencies to be measured. 
</p>
<p>Other difficulties are encountered when using the method of Fig. 9.34. The most serious prob-
</p>
<p>lem is adjustment of the de bias using a potentiometer. The de loop gain is typically very large, especially 
</p>
<p>when a PI controller is used. A small change in the de component of v)t) can therefore lead to very large 
</p>
<p>changes in the de biases of some elements in the system. So it is difficult to establish the correct de con-
</p>
<p>ditions in the circuit. The de gains may drift during the experiment, making the problem even worse, and 
</p>
<p>saturation of the error amplifier is a common complaint. Also, we have seen that the gains of the con-
</p>
<p>verter can be a function of the quiescent operating point; significant deviation from the correct operating 
</p>
<p>point can cause the measured gain to differ from the loop gain of actual operating conditions. 
</p>
<p>9.6.1 Voltage Injection 
</p>
<p>An approach that avoids the de biasing problem [3] is illustrated in Fig. 9.35. The voltage source vit) is 
</p>
<p>injected between blocks 1 and 2, without breaking the feedback loop. Ac variations in vit) again excite 
</p>
<p>variations in the. feedback system, but de bias conditions are determined by the circuit. Indeed, if vit) 
</p>
<p>contains no de component, then the biasing circuits of the system itself establish the quiescent operating 
</p>
<p>point. Hence, the loop gain measurement is made at the actual system operating point. 
</p>
<p>The injection source is modeled in Fig. 9.35 by a Thevenin equivalent network, containing an 
</p>
<p>independent voltage source with source impedance Zs(s). The magnitudes of vz and Zs are irrelevant in 
</p>
<p>the determination of the loop gain. However, the injection of vz does disrupt the loading of block 2 on 
</p>
<p>block 1. Hence, a suitable injection point must be found, where the loading effect is negligible. 
</p>
<p>To measure the loop gain by voltage injection, we connect a network analyzer to measure the 
</p>
<p>transfer function from vx to vy' The system independent ac inputs are set to zero, and the network ana-
lyzer sweeps the injection voltage i'/t) over the intended frequency range. The measured gain is 
</p>
<p>(9.67) 
</p>
<p>Fig. 9.35 Measurement of loop gain by voltage injection. </p>
<p/>
</div>
<div class="page"><p/>
<p>9.6 Measurement of Loop Gains 365 
</p>
<p>Let us solve Fig. 9.35, to compare the measured gain TJs) with the actual loop gain T(s) given by (9.62). 
</p>
<p>The error signal is 
</p>
<p>v _(s) =- H(s)G2(s)v xCs) (9.68) 
</p>
<p>The voltage vy can be written 
</p>
<p>(9.69) 
</p>
<p>where l(s)Z1(s) is the voltage drop across the source impedance Z1&bull; Substitution of Eq. (9.68) into (9.69) 
</p>
<p>leads to 
</p>
<p>(9.70) 
</p>
<p>But l(s) is 
</p>
<p>&middot;c ) v xCs) 
l s =--
</p>
<p>Zz(S) 
(9.71) 
</p>
<p>Therefore, Eq. (9.70) becomes 
</p>
<p>(9.72) 
</p>
<p>Substitution of Eq. (9.72) into (9.67) leads to the following expression for the measured gain TJs): 
</p>
<p>(9.73) 
</p>
<p>Equations (9.62) and (9.73) can be combined to determine the measured gain Tv(s) in terms of the actual 
</p>
<p>loop gain T(s): 
</p>
<p>T (s) = T(s) (1 + Zt(s)) + Zt(s) 
v Z2(s) Z2(s) 
</p>
<p>(9.74) 
</p>
<p>Thus, TJs) can be expressed as the sum of two terms. The first term is proportional to the actual loop 
</p>
<p>gain T(s), and is approximately equal to T(s) whenever II Z1 II &lt; II Z2 11. The second term is not propor-
tional to T(s), and limits the minimum T(s) that can be measured with the voltage injection technique. If 
</p>
<p>Z/Z2 is much smaller in magnitude than T(s), then the second term can be ignored, and TJs)"' T(s). At 
</p>
<p>frequencies where T(s) is smaller in magnitude than Z1/Z2, the measured data must be discarded. Thus, 
</p>
<p>T/s) "'T(s) (9.75) 
</p>
<p>provided 
</p>
<p>and </p>
<p/>
</div>
<div class="page"><p/>
<p>366 Controller Design 
</p>
<p>Block 1 Block2 
&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;------------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>Fig. 9.36 Voltage injection example. I+ 
+ 
</p>
<p>v)s) 500.Q 
</p>
<p>+ &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>(ii) ~ T(s) II~ ~ ~~~~~ ~ 
</p>
<p>Again, note that the value of the injection source impedance Zs is irrelevant. 
As an example, consider voltage injection at the output of an operational amplifier, having a 
</p>
<p>50 .Q output impedance, which drives a 500 .Q effective load. The system in the &yen;icinity of the injection 
point is illustrated in Fig. 9.36. So Z1(s) =50 .Q and Z2(s) = 500 .Q. The ratio Z/Zz is 0.1, or -20 dB. Let 
us further suppose that the actual loop gain T(s) contains poles at 10Hz and 100kHz, with a de gain of 
80 dB. The actual loop gain magnitude is illustrated in Fig. 9.37. 
</p>
<p>Voltage injection would result in measurement of Tv(s) given in Eq. (9.74). Note that 
</p>
<p>( 
Z1(s)) 
</p>
<p>1 + Zz(s) = 1.1 =&gt; 0.83 dB (9.76) 
</p>
<p>Hence, for large II T II, the measured II Tv II deviates from the actual loop gain by less than 1 dB. However, 
at high frequency where II T II is less than -20 dB, the measured gain differs significantly. Apparently, 
</p>
<p>100dB 
</p>
<p>80dB 
</p>
<p>60dB 
</p>
<p>40dB 
</p>
<p>20dB 
</p>
<p>OdB .............. 11 ~~ 11~-20dB ...................................................... . 
</p>
<p>-20dB r-----~~----~------------------------~~---
</p>
<p>~OdB,_------~~-------r--------+--------+~~--~~ 
</p>
<p>10Hz 100Hz 1kHz 10kHz 100kHz 1MHz 
</p>
<p>f 
Fig. 9.37 Comparison of measured loop gain Tv and actual loop gain T, voltage injection example. The measured 
gain deviates at high frequency. </p>
<p/>
</div>
<div class="page"><p/>
<p>9.6 Measurement of Loop Gains 367 
</p>
<p>TJs) contains two high-frequency zeroes that are not present in T(s). Depending on the Q-factor of these 
</p>
<p>zeroes, the phase of Tv at the crossover frequency could be influenced. To ensure that the phase margin is 
</p>
<p>correctly measured, it is important that Z1/Z2 be sufficiently small in magnitude. 
</p>
<p>9.6.2 Current Injection 
</p>
<p>The results of the preceding paragraphs can also be obtained in dual form, where the loop gain is mea-
</p>
<p>sured by current injection [3]. As illustrated in Fig. 9.38, we can model block 1 and the analyzer injection 
</p>
<p>source by their Norton equivalents, and use current probes to measure ix and iy. The gain measured by 
current injection is 
</p>
<p>(9.77) 
</p>
<p>It can be shown that 
</p>
<p>(9.78) 
</p>
<p>Hence, 
</p>
<p>T;(s) ~ T(s) provided 
</p>
<p>(i) II Z2(s) II&laquo; II Z 1(s) II&middot; and (9.79) 
</p>
<p>(ii) II T(s) II ~ II ~~i~~ II 
</p>
<p>So to obtain an accurate measurement of the loop gain by current injection, we must find a point in the 
</p>
<p>network where block 2 has sufficiently small input impedance. Again, note that the injection source 
</p>
<p>impedance Zs does not affect the measurement. In fact, we can realize iz by use of a Thevenin-equivalent 
</p>
<p>source, as illustrated in Fig. 9.39. The network analyzer injection source is represented by voltage source 
</p>
<p>Fig. 9.38 Measurement of loop gain by current injection. </p>
<p/>
</div>
<div class="page"><p/>
<p>368 Controller Design 
</p>
<p>Fig. 9.39 Current injection using Thevenin-equivalent source. 
</p>
<p>..... &pound;""')f-s)----}~~z-(-s)--tx .... ~-s) ..... 
cb 
</p>
<p>02 and output resistance R,. A series capacitor, Cb, is inserted to avoid disrupting the de bias at the injec-
tion point. 
</p>
<p>9.6.3 Measurement of Unstable Systems 
</p>
<p>When the prototype feedback system is unstable, we are even more eager to measure the loop gain-to 
</p>
<p>find out what went wrong. But measurements cannot be made while the system oscillates. We need to 
</p>
<p>stabilize the system, yet measure the original unstable loop gain. It is possible to do this by recognizing 
</p>
<p>that the injection source impedance Zs does not influence the measured loop gain [3]. As illustrated in 
</p>
<p>Fig. 9.40, we can even add additional resistance Rext' effectively increasing the source impedance Zs. The 
</p>
<p>measured loop gain TJs) is unaffected. 
</p>
<p>Adding series impedance generally lowers the loop gain of a system, leading to a lower cross-
</p>
<p>over frequency and a more positive phase margin. Hence, it is usually possible to add a resistor Rext that 
</p>
<p>is sufficiently large to stabilize the system. The gain Tv(s), Eq. (9.67), continues to be approximately 
equal to the original unstable loop gain, according to Eq. (9.75). To avoid disturbing the de bias condi-
</p>
<p>tions, it may be necessary to bypass Rext with inductor Lexr If the inductance value is sufficiently large, 
</p>
<p>then it will not influence the stability of the modified system. 
</p>
<p>Block 1 
+ 
</p>
<p>Block2 
</p>
<p>Fig. 9.40 Measurement of an unstable loop gain by voltage injection. </p>
<p/>
</div>
<div class="page"><p/>
<p>9. 7 Summary of Key Points 369 
</p>
<p>9.7 SUMMARY OF KEY POINTS 
</p>
<p>1. Negative feedback causes the system output to closely follow the reference input, according to the gain 
</p>
<p>l!H(s). The influence on the output ofdisturbances and variation of gains in the forward path is reduced. 
</p>
<p>2. The loop gain T(s) is equal to the products of the gains in the forward and feedback paths. The loop gain is 
</p>
<p>a measure of how well the feedback system works: a large loop gain leads to better regulation of the out-
</p>
<p>put. The crossover frequency fc is the frequency at which the loop gain T has unity magnitude, and is a 
</p>
<p>measure of the bandwidth of the control system. 
</p>
<p>3. The introduction of feedback causes the transfer functions from disturbances to the output to be multiplied 
</p>
<p>by the factor 11(1 + T(s)). At frequencies where Tis large in magnitude (i.e., below the crossover fre-
</p>
<p>quency), this factor is approximately equal to l!T(s). Hence, the influence of low-frequency disturbances 
</p>
<p>on the output is reduced by a factor of l!T(s). At frequencies where Tis small in magnitude (i.e., above the 
</p>
<p>crossover frequency), the factor is approximately equal to 1. The feedback loop then has no effect. Closed-
</p>
<p>loop disturbance-to-output transfer functions, such as the line-to-output transfer function or the output 
</p>
<p>impedance, can easily be constructed using the algebra-on-the-graph method. 
</p>
<p>4. Stability can be assessed using the phase margin test. The phase of T is evaluated at the crossover fre-
</p>
<p>quency, and the stability of the important closed-loop quantities T/(1 + T) and l/(1 +Dis then deduced. 
</p>
<p>Inadequate phase margin leads to ringing and overshoot in the system transient response, and peaking in 
</p>
<p>the closed-loop transfer functions. 
</p>
<p>5. Compensators are added in the forward paths of feedback loops to shape the loop gain, such that desired 
</p>
<p>performance is obtained. Lead compensators, or PD controllers, are added to improve the phase margin 
</p>
<p>and extend the control system bandwidth. PI controllers are used to increase the low-frequency loop gain, 
</p>
<p>to improve the rejection of low-frequency disturbances and reduce the steady-state error. 
</p>
<p>6. Loop gains can be experimentally measured by use of voltage or current injection. This approach avoids 
</p>
<p>the problem of establishing the correct quiescent operating conditions in the system, a common difficulty 
</p>
<p>in systems having a large de loop gain. An injection point must be found where interstage loading is not 
</p>
<p>significant. Unstable loop gains can also be measured. 
</p>
<p>REFERENCES 
</p>
<p>[1] B. Kuo, Automatic Control Systems, New York: Prentice-Hall, Inc. 
</p>
<p>[2] J. D' Azzo and C. HOUPIS, Linear Control System Analysis and Design: Conventional and Modern, New 
</p>
<p>York: McGraw-Hill, 1995. 
</p>
<p>[3] R. D. MIDDLEBROOK, "Measurement of Loop Gain in Feedback Systems," International Journal of Elec-
</p>
<p>tronics, Vol. 38, No.4, pp. 485-512, 1975. 
</p>
<p>[4] R. D. MIDDLEBROOK, "Design-Oriented Analysis of Feedback Amplifiers," Proceedings National Elec-
</p>
<p>tronics Conference, Vol. XX, October 1964, pp. 234-238. 
</p>
<p>PROBLEMS 
</p>
<p>9.1 Derive both forms ofEq. (9.25). 
</p>
<p>9.2 The flyback converter system of Fig. 9.41 contains a feedback loop for regulation of the main output 
</p>
<p>voltage v1. An auxiliary output produces voltage v2&bull; The de input voltage v8 lies in the range 280 V ~ v8 ~ 
</p>
<p>380 V. The compensator network has transfer function </p>
<p/>
</div>
<div class="page"><p/>
<p>370 Controller Design 
</p>
<p>where Gcoo = 0.05, andf1 = C.0/21t =400Hz. 
</p>
<p>(a) What is the steady-state value of the error voltage v .(t)? Explain your reasoning. 
</p>
<p>(b) Determine the steady-state value of the main output voltage v1&bull; 
</p>
<p>(c) Estimate the steady-state value of the auxiliary output voltage v2&bull; 
</p>
<p>Fig. 9.41 Flyback 
</p>
<p>converter system of 
</p>
<p>Problem 9.2. 
</p>
<p>+ 
</p>
<p>Isolated 
transistor 
</p>
<p>gate driver 
</p>
<p>H(s) = 0.2 
</p>
<p>Reference 
input v,f= 3 V 
</p>
<p>9.3 In the boost converter system of Fig. 9.42, all elements are ideal. The compensator has gain 
</p>
<p>Gc(s) = 250/s. 
</p>
<p>Fig. 9.42 Boost converter 
</p>
<p>system of Problem 9.3. 
</p>
<p>Boost converter 
;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-~ . . . L . 
~ ~ ....---;-----' 
</p>
<p>Compensator 
v 
</p>
<p>Reference ref 
input 5 V 
</p>
<p>(a) Construct the Bode plot of the loop gain T(s) magnitude and phase. Label values of all comer 
frequencies and Q-factors, as appropriate. 
</p>
<p>(b) Determine the crossover frequency and phase margin. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 371 
</p>
<p>(c) Construct the Bode diagram of the magnitude of 11(1 + 7), using the algebra-on-the-graph 
method. Label values of all corner frequencies and Q-factors, as appropriate. 
</p>
<p>(d) Construct the Bode diagram of the magnitude of the closed-loop line-to-output transferfunction. 
</p>
<p>Label values of all corner frequencies and Q-factors, as appropriate. 
</p>
<p>9.4 A certain inverter system has the following loop gain 
</p>
<p>(1+-L) 
T(s) = T0 w, 
</p>
<p>( 1 + ~I)( 1 + ~2 )( 1 + ~3) 
</p>
<p>and the following open-loop line-to-output transfer function 
</p>
<p>where 
</p>
<p>T0 = 100 
w2 = 1000 rad/sec 
</p>
<p>w, = 4000 rad/ sec 
</p>
<p>ffi 1 = 500 radlsec 
W 3 = 24000 rad/sec 
ego= o.5 
</p>
<p>The gain of the feedback connection is H(s) = 0.1. 
(a) Sketch the magnitude and phase asymptotes of the loop gain T(s). Determine numerical values 
</p>
<p>of the crossover frequency in Hz and phase margin in degrees. 
</p>
<p>(b) Construct the magnitude asymptotes of the closed-loop line-to-output transfer function. Label 
</p>
<p>important features. 
</p>
<p>(c) Construct the magnitude asymptotes ofthe closed-loop transfer function from the reference volt-
</p>
<p>age to the output voltage. Label important features. 
</p>
<p>9.5 The forward converter system of Fig. 9.43(a) is constructed with the element values shown. The quies-
</p>
<p>cent value of the input voltage is Vg = 380 V. The transformer has turns ratio n/n3 = 4.5. The duty cycle 
produced by the pulse-width modulator is restricted to the range 0 s d(t) s 0.5. Within this range, d(t) 
</p>
<p>follows the control voltage vc&lt;t) according to 
</p>
<p>with VM=3 V. 
</p>
<p>d(t) = 1 vJt) 
2 VM 
</p>
<p>(a) Determine the quiescent values of: the duty cycleD, the output voltage V, and the control voltage 
</p>
<p>vc. 
(b) The op-amp circuit and feedback connection can be modeled using the block diagram illustrated 
</p>
<p>in Fig. 9.43(b), with H(s) = R/(R1 + R2). Determine the transfer functions Gc(s) and G/s). 
(c) Sketch a block diagram which models the small-signal ac variations of the complete system, and 
</p>
<p>determine the transfer function of each block. Hint: the transformer magnetizing inductance has 
</p>
<p>negligible influence on the converter dynamics, and can be ignored. The small-signal models of 
</p>
<p>the forward and buck converters are similar. 
</p>
<p>(d) Construct a Bode plot of the loop gain magnitude and phase. What is the crossover frequency? 
</p>
<p>What is the phase margin? 
</p>
<p>(e) Construct the Bode plot of the closed-loop line-to-output transfer function magnitude </p>
<p/>
</div>
<div class="page"><p/>
<p>372 Controller Design 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Isolated 
transistor 
</p>
<p>gate driver 
</p>
<p>nl : nt : n3 L 
</p>
<p>rn:v 
!, =!50 kHz 
</p>
<p>R3 
</p>
<p>H(s) 
</p>
<p>GJs) 
</p>
<p>+ 
</p>
<p>R v(t) 
7Q 
</p>
<p>":" 
</p>
<p>Rt 
</p>
<p>81.8kQ 
</p>
<p>R2 
</p>
<p>18.2 kQ 
</p>
<p>Fig. 9.43 Forward converter system of Problem 9.5: (a) system diagram, (b) modeling the op amp cir-
</p>
<p>cuit using a block diagram. 
</p>
<p>Label important features. What is the gain at 120 Hz? At what frequency do disturbances in v g have the 
</p>
<p>greatest influence on the output voltage? 
</p>
<p>9.6 In the voltage regulator system of Fig. 9.43, described in Problem 9.5, the input voltage vgCt) contains a 
</p>
<p>120Hz variation of peak amplitude 10 V. 
</p>
<p>(a) What is the amplitude of the resulting 120 Hz variation in v(t)? 
</p>
<p>(b) Modify the compensator network such that the 120 Hz output voltage variation has peak ampli-
</p>
<p>tude less than 25 mV. Your modification should leave the de output voltage unchanged, and 
</p>
<p>should result in a crossover frequency no greater than 10 kHz. 
</p>
<p>9.7 Design of a boost converter with current feedback and a PI compensator. In some applications, it is 
</p>
<p>desired to control the converter input terminal current waveform. The boost converter system of Fig. 
</p>
<p>9.44 contains a feedback loop which causes the converter input current igCt) to be proportional to a refer-
</p>
<p>ence voltage v,ejt). The feedback connection is a current sense circuit having gain H(s) = 0.2 volts per 
ampere. A conventional pulse width modulator circuit (Fig. 7.63) is employed, having a sawtooth wave-</p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 373 
</p>
<p>Reference 
input vref 
</p>
<p>Fig. 9.44 Boost converter system with current feedback, Problem 9.7. 
</p>
<p>form with peak-peak amplitude of V M = 3 V. The quiescent values of the inputs are: V8 = 120 V, 
</p>
<p>Vref = 2 V. All elements are ideal. 
(a) Determine the quiescent values D, V, and /8&bull; 
</p>
<p>(b) Determine the small-signal transfer function 
</p>
<p>(c) Sketch the magnitude and phase asymptotes of the uncompensated (Gc(s) = 1) loop gain. 
(d) It is desired to obtain a loop gain magnitude of at least 35 dB at 120 Hz, while maintaining a 
</p>
<p>phase margin of at least 72'. The crossover frequency should be no greater thanh/10 = 10kHz. 
Design a PI compensator that accomplishes this. Sketch the magnitude and phase asymptotes of 
</p>
<p>the resulting loop gain, and label important features. 
</p>
<p>(e) For your design of part (d), sketch the magnitude of the closed-loop transfer function 
</p>
<p>Label important features. 
</p>
<p>9.8 Design of a buck regulator to meet closed-loop output impedance specifications. The buck converter 
</p>
<p>with control system illustrated inFig. 9.45 is to be designed to meet the following specifications. The 
</p>
<p>closed-loop output impedance should be less than 0.2 Q over the entire frequency range 0 to 20kHz. To 
ensure that the transient response is well-behaved, the poles of the closed-loop transfer functions, in the 
</p>
<p>vicinity of the crossover frequency, should have Q-factors no greater than unity. The quiescent load cur-
</p>
<p>rent I LOAD can vary from 5 A to 50 A, and the above specifications must be met for every value of I LOAD 
</p>
<p>in this range. For simplicity, you may assume that the input voltage vg does not vary. The loop gain 
</p>
<p>crossover frequency fc may be chosen to be no greater thanf,/10, or 10kHz. You may also assume that 
</p>
<p>all elements are ideal. The pulse-width modulator circuit obeys Eq. (7.173). 
</p>
<p>(a) What is the intended de output voltage V? Over what range does the effective load resistance 
</p>
<p>RLOAD vary? </p>
<p/>
</div>
<div class="page"><p/>
<p>374 Controller Design 
</p>
<p>Transistor 
gate driver 
</p>
<p>L 
</p>
<p>!, =100kHz 
</p>
<p>Fig. 9.45 Buck regulator system, Problem 9.8. 
</p>
<p>+ 
iload 
</p>
<p>Hv 
</p>
<p>(b) Construct the magnitude asymptotes of the open-loop output impedance Z0u1(s). Over what 
</p>
<p>range of frequencies is the output impedance specification not met? Hence, deduce how large the 
</p>
<p>minimum loop gain T(s) must be in magnitude, such that the closed-loop output impedance 
</p>
<p>meets the specification. Choose a suitable crossover frequency fc. 
</p>
<p>(c) Design a compensator network Gc(s) such that all specifications are met. Additionally, the de 
</p>
<p>loop gain T(s) should be at least 20 dB. Specify the following: 
</p>
<p>(i) Your choice for the transfer function GJs) 
</p>
<p>(ii) The worst-case closed-loop Q 
</p>
<p>(iii) Bode plots of the loop gain T(s) and the closed-loop output impedance, for load cur-
</p>
<p>rents of 5 A and 50 A. What effect does variation of RwAD have on the closed-loop 
</p>
<p>behavior of your design? 
</p>
<p>(d) Design a circuit using resistors, capacitors, and an op amp to realize your compensator transfer 
</p>
<p>function Gc(s). 
</p>
<p>9.9 Design of a buck-boost voltage regulator. The buck-boost converter of Fig. 9.46 operates in the continu-
</p>
<p>ous conduction mode, with the element values shown. The nominal input voltage is V8 = 48 V, and it is 
desired to regulate the output voltage at -15 V. Design the best compensator that you can, which has 
</p>
<p>high crossover frequency (but no greater than 10% of the switching frequency), large loop gain over the 
</p>
<p>bandwidth of the feedback loop, and phase margin of at least 52&deg;. 
</p>
<p>Fig. 9.46 Buck-boost 
</p>
<p>voltage regulator system, 
</p>
<p>Problem 9.9. Transistor 
gate driver 
</p>
<p>!, =200kHz 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>Hv </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 375 
</p>
<p>(a) Specify the required value of H. Sketch Bode plots of the uncompensated loop gain magnitude 
</p>
<p>and phase, as well as the magnitude and phase of your proposed compensator transfer function 
</p>
<p>Gc(s). Label the important features of your plots. 
</p>
<p>(b) Construct Bode diagrams of the magnitude and phase of your compensated loop gain T(s), and 
</p>
<p>also of the magnitude of the quantities Tl( 1 + D and l/(1 + D. 
</p>
<p>(c) Discuss your design. What prevents you from further increasing the crossover frequency? How 
</p>
<p>large is the loop gain at 120Hz? Can you obtain more loop gain at 120Hz? 
</p>
<p>9.10 The loop gain of a certain feedback system is measured, using voltage injection at a point in the forward 
</p>
<p>path of the loop as illustrated in Fig. 9.47(a). The data in Fig. 9.47(b) is obtained. What is T(s)? Specify 
</p>
<p>T(s) in factored pole-zero form, and give numerical values for all important features. Over what range of 
</p>
<p>frequencies does the measurement give valid results? 
</p>
<p>(a) 
+ ;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>+ 
</p>
<p>v,(s) 10kQ 2nF 
</p>
<p>(b) 60dB -
II T, II 
</p>
<p>40dB 
</p>
<p>20dB 
</p>
<p>OdB 
</p>
<p>-20dB 
</p>
<p>-
__/\ 
</p>
<p>\ 
~ 
</p>
<p>"' 1/ - v -
LT, 90' -
</p>
<p>0' 
</p>
<p>-90' 
</p>
<p>( 
</p>
<p>- \ ) 
\~ 
</p>
<p>v 
</p>
<p>-ISO' -
lOOHz I kHz lOkHz 100kHz IMHz 
</p>
<p>f 
</p>
<p>Fig. 9.47 Experimental measurement of loop gain, Problem 9.10: (a) measurement via voltage injec-
</p>
<p>tion, (b) measured data. </p>
<p/>
</div>
<div class="page"><p/>
<p>10 
Input Filter Design 
</p>
<p>10.1 INTRODUCTION 
</p>
<p>10.1.1 Conducted EMI 
</p>
<p>It is nearly always required that a filter be added at the power input of a switching converter. By attenuat-
</p>
<p>ing the switching harmonics that are present in the converter input current waveform, the input filter 
</p>
<p>allows compliance with regulations that limit conducted electromagnetic interference (EMI). The input 
</p>
<p>filter can also protect the converter and its load from transients that appear in the input voltage vgCt). 
</p>
<p>thereby improving the system reliability. 
</p>
<p>A simple buck converter example is illustrated in Fig. 10.1. The converter injects the pulsating 
</p>
<p>current igCt) of Fig. lO.l(b) into the power source vg(t). The Fourier series of ig(t) contains harmonics at 
</p>
<p>multiples of the switching frequency fs, as follows: 
</p>
<p>(a) (b) 
</p>
<p>L 
ig(t) 
</p>
<p>+ 
</p>
<p>2 
</p>
<p>c v R 
</p>
<p>0 
0 
</p>
<p>0 DTS T, 
</p>
<p>Fig. 10.1 Buck converter example: (a) circuit of power stage, (b) pulsating input current waveform. </p>
<p/>
</div>
<div class="page"><p/>
<p>378 Input Filter Design 
</p>
<p>(b) 
</p>
<p>Input filter 
: ..............&bull;&bull;&bull;............... J 
</p>
<p>-
</p>
<p>0 
0 
</p>
<p>igCt) -
</p>
<p>L 
</p>
<p>+ 
</p>
<p>2 
</p>
<p>c v R 
</p>
<p>-
i;n(t) 
</p>
<p>0 
</p>
<p>Fig. 10.2 Addition of a simple L-C low-pass filter to the power input terminals of the buck converter: (a) circuit, 
(b) input current waveforms. 
</p>
<p>(10.1) 
</p>
<p>In practice, the magnitudes of the higher-order harmonics can also be significantly affected by the cur-
rent spike caused by diode reverse recovery, and also by the finite slopes of the switching transitions. The 
</p>
<p>large high-frequency current harmonics of igCt) can interfere with television and radio reception, and can 
disrupt the operation of nearby electronic equipment. In consequence, regulations and standards exist 
that limit the amplitudes of the harmonic currents injected by a switching converter into its power source 
[1-8]. As an example, if the de inductor current i of Fig. 10.2 has a magnitude of several Amperes, then 
the fundamental component (n = 1) has an rms amplitude in the vicinity of one Ampere. Regulations may 
require attenuation of this current to a value typically in the range 10 p,A to 100 p,A. 
</p>
<p>To meet limits on conducted EMI, it is necessary to add an input filter to the converter. Figure 
</p>
<p>10.2 illustrates a simple single-section L-C low-pass filter, added to the input of the converter of Fig. 
10.1. This filter attenuates the current harmonics produced by the switching converter, and thereby 
smooths the current waveform drawn from the power source. If the filter has transfer function 
H(s) = i;,/ig, then the input current Fourier series becomes 
</p>
<p>i;11(t) = H(O)DI + k~I ~ H(kjw) ~ 'f:t sin ( knD) cos ( kwt + LH(kjw)) (10.2) 
</p>
<p>In other words, the amplitude of each current harmonic at angular frequency kro is attenuated by the filter 
transfer function at the harmonic frequency, II H(kjro) Jl. Typical requirements effectively limit the current 
harmonics to have amplitudes less than 100 p,A, and hence input filters are often required to attenuate the 
current amplitudes by 80 dB or more. 
</p>
<p>To improve the reliability of the system, input filters are sometimes required to operate nor-
mally when transients or periodic disturbances are applied to the power input. Such conducted suscepti-
bility specifications force the designer to damp the input filter resonances, so that input disturbances do 
not excite excessive currents or voltages within the filter or converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>10.1 Introduction 379 
</p>
<p>(a) Converter model 
r&middot;----------------------------------------------------------------------------z:-----------------------1 
</p>
<p>+ 
</p>
<p>c R 
</p>
<p>i_ _______________________________________________ t&middot;=--------------------------------------------------J 
</p>
<p>d 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>c R 
</p>
<p>!_ ___________________________________ _! i_ _______________________________________________ t&middot;=--------------------------------------------------J 
</p>
<p>d 
</p>
<p>Fig. 10.3 Small-signal equivalent circuit models of the buck converter: (a) basic converter model, (b) with addition 
</p>
<p>of input filter. 
</p>
<p>10.1.2 The Input Filter Design Problem 
</p>
<p>The situation faced by the design engineer is typically as follows. A switching regulator has 
</p>
<p>been designed, which meets performance specifications. The regulator was properly designed as dis-
</p>
<p>cussed in Chapter 9, using a small-signal model of the converter power stage such as the equivalent cir-
</p>
<p>cuit of Fig. 10.3(a). In consequence, the transient response is well damped and sufficiently fast, with 
</p>
<p>adequate phase margin at all expected operating points. The output impedance is sufficiently small over a 
</p>
<p>wide frequency range. The line-to-output transfer function GvgCs), or audiosusceptibility, is sufficiently 
</p>
<p>small, so that the output voltage remains regulated in spite of variations in vgCt). 
Having developed a good design that meets the above goals regarding dynamic response, the 
</p>
<p>problem of conducted EMI is then addressed. A low-pass filter having attenuation sufficient to meet con-
</p>
<p>ducted EMI specifications is constructed and added to the converter input. A new problem then arises: 
</p>
<p>the input filter changes the dynamics of the converter. The transient response is modified, and the control 
</p>
<p>system may even become unstable. The output impedance may become large over some frequency range, 
</p>
<p>possibly exhibiting resonances. The audiosusceptibility may be degraded. 
</p>
<p>The problem is that the input filter affects the dynamics of the converter, often in a manner that 
</p>
<p>degrades regulator performance. For example, when a single-section L-C input filter is added to a buck 
</p>
<p>converter as in Fig. 10.2(a), the small-signal equivalent circuit model is modified as shown in Fig. 
</p>
<p>10.3(b). The input filter elements affect all transfer functions of the converter, including the control-to-</p>
<p/>
</div>
<div class="page"><p/>
<p>380 Input Filter Design 
</p>
<p>Fig. 10.4 Control-to-out-
put transfer functions pre-
dicted by the equivalent 
circuit models of Fig. 10.3. 
Dashed lines: without input 
filter [Fig. 10.3(a)]. Solid 
lines: with input filter [Fig. 
10.3(b)]. 
</p>
<p>40dBV 
</p>
<p>II Gvdll 
3o dBvr---1_1 a_.d_ll'""""'"&middot; 
</p>
<p>20dBV 
</p>
<p>lOdBV 
</p>
<p>L Gvd 
OdBVt---.....,..::;:, 
</p>
<p>-------------------~ 
</p>
<p>-lOdBV 
</p>
<p>100Hz 1kHz 
</p>
<p>f 
</p>
<p>o&middot; 
</p>
<p>'\\ ... 
</p>
<p>~------------------ -180" 
</p>
<p>-360" 
</p>
<p>output transfer function G.is), the line-to-output transfer function Gv/s), and the converter output 
impedance Zout(s). Moreover, the influence of the input filter on these transfer functions can be quite 
severe. 
</p>
<p>As ari illustration, let's examine how the control-to-output transfer function G.is) of the buck 
converter of Fig. 10.1 is altered when a simple L-C input filter is added as in Fig. 10.2. For this example, 
the element values are chosen to be: D = 0.5, L = 100 JlH, C = 100 JlF, R = 3 Q, L1= 330 JlH, C1= 470 JlF. 
Figure 10.4 contains the Bode plot of the magnitude and phase of the control-to-output transfer function 
Gvd(s). The dashed lines are the magnitude and phase before the input filter was added, generated by 
solution of the model of Fig. 10.3(a). The complex poles of the converter output filter cause the phase to 
approach- 180" at high frequency. Usually, this is the model used to design the regulator feedback loop 
and to evaluate the phase margin (see Chapter 9). The solid lines of Fig. 10.4 show the magnitude and 
phase after addition of the input filter, generated by solution of the model of Fig. 10 .3(b ). The magnitude 
exhibits a "glitch" at the resonant frequency of the input filter, and an additional- 360" of phase shift is 
introduced into the phase. It can be shown that G.is) now contains an additional complex pole pair and 
a complex right half-plane zero pair, associated with the input filter dynamics. If the crossover frequency 
of the regulator feedback loop is near to or greater than the resonant frequency of the input filter, then the 
loop phase margin will become negative and instability will result. Such behavior is typical; conse-
quently, input filters are notorious for destabilizing switching regulator systems. 
</p>
<p>This chapter shows how to mitigate the stability problem, by introducing damping into the input 
filter and by designing the input filter such that its output impedance is sufficiently small [9-21]. The 
result of these measures is that the effect of the input filter on the control-to-output transfer function 
becomes negligible, and hence the converter dynamics are much better behaved. Although analysis of the 
fourth-order system of Fig. 10.3(b) is potentially quite complex, the approach used here simplifies the 
problem through use of impedance inequalities involving the converter input impedance and the filter 
output impedance [9 ,10]. These inequalities are based on Middlebrook's extra element theorem of 
Appendix C. This approach allows the engineer to gain the insight needed to effectively design the input 
filter. Optimization of the damping networks of input filters, and design of multiple-section filters, is also 
discussed. </p>
<p/>
</div>
<div class="page"><p/>
<p>10.2 Effect of an Input Filter on Converter Transfer Functions 381 
</p>
<p>---- H(s)---,.. 
</p>
<p>Input 
filter 
</p>
<p>Converter 
</p>
<p>Fig. 10.5 Addition of an input filter to a switching voltage regulator system. 
</p>
<p>10.2 EFFECT OF AN INPUT FILTER ON CONVERTER TRANSFER FUNCTIONS 
</p>
<p>The control-to-output transfer function Gvd(s) is defined as follows: 
</p>
<p>G ( ) _ v(s) I d s - A 
v d(s) v (s)-0 
</p>
<p>g -
</p>
<p>(10.3) 
</p>
<p>The control-to-output transfer functions of basic CCM converters with no input filters are listed in Sec-
</p>
<p>tion 8.2.2. 
</p>
<p>Addition of an input filter to a switching regulator leads to the system illustrated in Fig. 10.5. To 
</p>
<p>determine the cont~ol-to-output transfer function in the presence of the input filter, we set vgCs) to zero 
</p>
<p>and solve for v(s)ld(s) according to Eq. (10.3). The input filter can then be represented simply by its out-
</p>
<p>put impedance Z0 (s) as illustrated in Fig. 10.6. Thus, the input filter can be treated as an extra element 
</p>
<p>having impedance Z0 (s). In Appendix C, Section C.4.3, Middlebrook's extra element theorem is 
</p>
<p>employed to determine how addition of the input filter modifies the control-to~output transfer function. It 
is found that the modified control-to-output transfer function can be expressed as follows [9]: 
</p>
<p>(10.4) 
</p>
<p>Converter 
</p>
<p>Fig. 10.6 Determination of the control-to-output transfer Z0 (s) 
</p>
<p>function Gvis) for the system of Fig. 10.5. </p>
<p/>
</div>
<div class="page"><p/>
<p>382 Input Filter Design 
</p>
<p>Table 10.1 Input filter design criteria for basic converters 
</p>
<p>Converter ZJs) 
</p>
<p>Buck 
</p>
<p>Boost 
</p>
<p>Buck-boost 
</p>
<p>where 
</p>
<p>R ( 1 +s-Jt + s 2Lc) 
D 2 ( 1 +sRC) 
</p>
<p>Ze(s) 
</p>
<p>sL 
Dz 
</p>
<p>sL 
</p>
<p>sL 
Dz 
</p>
<p>(10.5) 
</p>
<p>is the original control-to-output transfer function with no input filter. The quantity Zv(s) is equal to the 
</p>
<p>converter input impedance Z;(s) under the condition that d(s) is equal to zero: 
</p>
<p>(10.6) 
</p>
<p>The quantity ZN(s) is equal to the converter input impedance Z;(s) under the condition that the feedback 
</p>
<p>controller of Fig. 10.5 operates ideally; in other words, the controller varies d(s) as necessary to maintain 
</p>
<p>v(s) equal to zero: 
</p>
<p>ZN(s) = Z;(s) lv(s)-&bull;0 
null 
</p>
<p>(10.7) 
</p>
<p>In terms of the canonical circuit model parameters described in Section 7.5, ZN(s) can be shown to be 
</p>
<p>(10.8) 
</p>
<p>Expressions for ZN(s) and Zv(s) for the basic buck, boost, and buck-boost converters are listed in Table 
</p>
<p>10.1. 
</p>
<p>10.2.1 Discussion 
</p>
<p>Equation (10.4) relates the power stage control-to-output transfer function Gvis) to the output imped-
</p>
<p>ance Z0 (s) of the input filter, and also to the quantities ZN(s) and Zv(s) measured at the power input port 
</p>
<p>of the converter. The quantity Zv(s) coincides with the open-loop input impedance of the converter. 
</p>
<p>As described above, the quantity ZN(s) is equal to the input port impedance of the converter </p>
<p/>
</div>
<div class="page"><p/>
<p>(a) 
</p>
<p>(b) 
</p>
<p>10.2 Effect of an Input Filter on Converter Transfer Functions 383 
</p>
<p>Closed-loop 
</p>
<p>(i/t)) T, r&middot;&middot;&middot;&middot;~q!tf:l.f!.~ .. r.e.s.f!!f:l!f!! .... ] 
r---~---+-, r-~--+~' 
</p>
<p>: ........................................... : 
</p>
<p>Quiescent 
operating 
</p>
<p>point 
</p>
<p>v R 
</p>
<p>Fig. 10.7 Power input port characteristics of an ideal switching voltage regulator: (a) equivalent circuit model, 
</p>
<p>including dependent power sink, (b) constant power characteristic of input port. 
</p>
<p>power stage, under the conditions that d(s) is varied as necessary to null v(s) to zero. This is, in fact, the 
</p>
<p>function performed by an ideal controller: it varies the duty cycle as necessary to maintain zero error of 
</p>
<p>the output voltage. Therefore, ZN(s) coincides with the impedance that would be measured at the con-
</p>
<p>verter power input terminals, if an ideal feedback loop perfectly regulated the converter output voltage. 
</p>
<p>Of course, Eq. (10.4) is valid in general, regardless of whether a control system is present. 
</p>
<p>Figure 10.7 illustrates the large-signal behavior of a feedback loop that perfectly regulates the 
</p>
<p>converter output voltage. Regardless of the applied input voltage vgCt), the output voltage is maintained 
equal to the desired value V. The load power is therefore constant, and equal to Ptoad = V 2/R. In the ideal-
</p>
<p>ized case of a lossless converter, the power flowing into the converter input terminals will also be equal to 
</p>
<p>Ptoad&bull; regardless of the value of v gCt). Hence, the power input terminal of the converter obeys the equation 
</p>
<p>(10.9) 
</p>
<p>This characteristic is illustrated in Fig. 10.7(b), and is represented in Fig. 10.7(a) by the dependent power 
</p>
<p>sink symbol. The properties of power sources and power sinks are discussed in detail in Chapter 11. 
</p>
<p>Figure 10.7(b) also illustrates linearization of the constant input power characteristic, about a 
</p>
<p>quiescent operating point. The resulting line has negative slope; therefore, the incremental (small signal) 
</p>
<p>input resistance of the ideal voltage regulator is negative. For example, increasing the voltage ( v gCt) )T, </p>
<p/>
</div>
<div class="page"><p/>
<p>384 Input Filter Design 
</p>
<p>causes the current ( ig(t) &gt;r, to decrease, such that the power remains constant. This incremental resistance 
has the value [9,14]: 
</p>
<p>R 
- Mz 
</p>
<p>(10.10) 
</p>
<p>where R is the output load resistance, and M is the conversion ratio V/Vg. For each of the converters listed 
</p>
<p>in Table 10.1, the de asymptote of ZN(s) coincides with the negative incremental resistance given by the 
</p>
<p>equation above. 
</p>
<p>Practical control systems exhibit a limited bandwidth, determined by the crossover frequency fc 
</p>
<p>of the feedback loop. Therefore, we would expect the closed-loop regulator input impedance to be 
</p>
<p>approximately equal to ZJs) at low frequency (j &lt; fc) where the loop gain is large and the regulator 
works well. At frequencies above the bandwidth of the regulator (j ~ fc), we expect the converter input 
</p>
<p>impedance to follow the open-loop value Zv(s). For closed-loop conditions, it can be shown that the reg-
</p>
<p>ulator input impedance Z;(s) is, in fact, described by the following equation: 
</p>
<p>1 1 T(s) 1 1 --= ----- + -----
ZJs) ZN(s) 1 + T(s) Z 0 (s) 1 + T(s) 
</p>
<p>(10.11) 
</p>
<p>where T(s) is the controller loop gain. Thus, the regulator input impedance follows the negative resis-
</p>
<p>tance of ZN(s) at low frequency where the magnitude of the loop gain is large [and hence T/(1 + n"' 1, 
1/(1 + n "'0], and reverts to the (positive) open-loop impedance Zv(s) at high frequency where II T II is 
small [i.e., where T/(1 + D "'0, 1/(1 + D"' 1]. 
</p>
<p>When an undamped or lightly damped input filter is connected to the regulator input port, the 
</p>
<p>input filter can interact with the negative resistance characteristic of ZN to form a negative resistance 
</p>
<p>oscillator. This further explains why addition of an input filter tends to lead to instabilities. 
</p>
<p>10.2.2 Impedance Inequalities 
</p>
<p>Equation (10.4) reveals that addition of the input filter causes the control-to-output transfer function to be 
</p>
<p>modified by the factor 
</p>
<p>(1 
+ Z0 (S)) 
</p>
<p>Z0 (s) 
</p>
<p>called the correction factor. When the following inequalities are satisfied, 
</p>
<p>II Zo II~ II ZN II&middot; and 
IIZall ~liZ oil 
</p>
<p>(10.12) 
</p>
<p>(10.13) 
</p>
<p>then the correction factor has a magnitude of approximately unity, and the input filter does not substan-
</p>
<p>tially alter the control-to-output transfer function [9,10]. These inequalities limit the maximum allowable 
output impedance of the input filter, and constitute useful filter design criteria. One can sketch the Bode 
</p>
<p>plots of II ZN(jw) II and II ZD(jw) II, and compare with the Bode plot of II Z0 (jffi) 11. This allows the engineer 
to gain the insight necessary to design an input filter that satisfies Eq. (10.13). </p>
<p/>
</div>
<div class="page"><p/>
<p>10.3 Buck Converter Example 385 
</p>
<p>A similar analysis shows that the converter output impedance is not substantially affected by the 
</p>
<p>input filter when the following inequalities are satisfied: 
</p>
<p>II zo II&laquo; II z, II&middot; anct 
IIZall &laquo; IIZDII 
</p>
<p>(10.14) 
</p>
<p>where Z0 (s) is again as given in Table 10.1. The quantity Ze(s) is equal to the converter input impedance 
</p>
<p>Zi(s) under the conditions that the converter output is shorted: 
</p>
<p>(10.15) 
</p>
<p>Expressions for Z/s) for basic converters are also listed in Table 10.1. 
</p>
<p>Similar impedance inequalities can be derived for the case of current-programmed converters 
</p>
<p>[12,13], or converters operating in the discontinuous conduction mode. In [12], impedance inequalities 
</p>
<p>nearly identical to the above equations were shown to guarantee that the input filter does not degrade 
</p>
<p>transient response and stability in the current-programmed case. Feedforward of the converter input volt-
</p>
<p>age was suggested in [16]. 
</p>
<p>10.3 BUCK CONVERTER EXAMPLE 
</p>
<p>Let us again consider the example of a simple buck converter with L-C input filter, as illustrated in Fig. 
</p>
<p>10.8(a). Upon replacing the converter with its small-signal model, we obtain the equivalent circuit of Fig. 
</p>
<p>10.8(b). Let's evaluate Eq. (10.4) for this example, to find how the input filter modifies the control-to-
</p>
<p>output transfer function of the converter. 
</p>
<p>10.3.1 Effect of Undamped Input Filter 
</p>
<p>The quantities ZN(s) and Z0 (s) can be read from Table 10.1, or can be derived using Eqs. (10.6) and 
</p>
<p>(10.7) as further described in Appendix C. The quantity Z0 (s) is given by Eq. (10.6). Upon setting d(s) to 
</p>
<p>zero, the converter small signal model reduces to the circuit of Fig. 10.9(a). It can be seen that Z0 (s) is 
</p>
<p>equal to the input impedance of the R-L-C filter, divided by the square of the turns ratio: 
</p>
<p>(10.16) 
</p>
<p>Construction of asymptotes for this impedance is treated in Section 8.4, with the results for the numerical 
</p>
<p>values of this example given in Fig. 10.10. The load resistance dominates the impedance at low fre-
</p>
<p>quency, leading to a de asymptote of RID2 = 12 Q. For the high-Q case shown, II Z0 (jw) II follows the 
output capacitor asymptote, reflected through the square of the effective turns ratio, at intermediate fre-
</p>
<p>quencies. A series resonance occurs at the output filter resonant frequency f 0 , given by 
</p>
<p>f- 1 
Jo- 2n..rLC 
</p>
<p>(10.17) 
</p>
<p>For the element values listed in Fig. l0.8(a), the resonant frequency is fo = 1.6 kHz. The values of the 
asymptotes at the resonant frequency f0 are given by the characteristic impedance R0 , referred to the </p>
<p/>
</div>
<div class="page"><p/>
<p>386 Input Filter Design 
</p>
<p>(a) Input filter Converter 
~--&middot;&middot;&middot;&middot;&middot;&middot;i;:&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;: 
</p>
<p>r---~ ~~-+--~~ 
</p>
<p>:&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;--&middot;&middot;&middot;&middot;&middot;&middot;--&middot;&middot;&middot;&middot;&middot;---&middot;&middot;&middot;&middot;&middot;--&middot;&middot;&middot;&middot;-&middot;--&middot;&middot;&middot;&middot;&middot;--&middot;&middot;&middot;&middot;: 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>R 
v 
</p>
<p>470 !!F 100 !!F 3Q 
</p>
<p>&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&bull;&bull;&bull;t&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;' 
</p>
<p>D = 0.5 
(b) 
</p>
<p>Input filter Converter model 
r&middot;&middot;------------i;&middot;----------------1 r&middot;-------------------------------------------------------------------------------------------------------1 
</p>
<p>~.-+-----_,--,----. 
</p>
<p>+ 
</p>
<p>l r 
c R 
</p>
<p>100 !!F 3Q 
</p>
<p>!_ ___________________________________ _! L _______________________________________________ f _____________________________________________________ J 
d 
</p>
<p>Fig. 10.8 Buck converter example: (a) converter circuit, (b) small-signal model. 
</p>
<p>(a) r&middot;&middot;------------------------~--;--;&middot;-----------------------&pound;-----------------r:-----------------------1 
</p>
<p>+ 
</p>
<p>c R 
</p>
<p>(b) r-&middot;----------------------------------------------------------r-=&middot;a&middot;----i&middot;----------------------~ 
</p>
<p>! null ! 
~------~-+---r----~ 
</p>
<p>+ + 
</p>
<p>vtest 
v -+0 
</p>
<p>s null c R 
</p>
<p>L__ _____________________________________________ r=&middot;-------------------------------------------------j 
</p>
<p>d 
</p>
<p>Fig. 10.9 Determination of the quantities ZN(s) and Z0 (s) for the circuit of Fig. 10.8(b): (a) determination of 
</p>
<p>Z0 (s), (b) determination of ZN(s). </p>
<p/>
</div>
<div class="page"><p/>
<p>10.3 Buck Converter Example 387 
</p>
<p>40dBQ 
</p>
<p>30dBQ 4 = 12 Q II ZD II 
D 
</p>
<p>20 dBQ 1--=-----........,js;:::-----+----:::J""":::;:_- II ZN II 
</p>
<p>!OdBQ .:::::.::::.&middot;::.r~ ~:~r = t = 3 ~ 9.5 dB 
OdBQ+-----~~--~~~~----~~~~~~~ 
</p>
<p>100 Hz I kHz 10 kHz 
</p>
<p>f 
Fig. 10.10 Construction of II ZN(jw) II and II Z0 (jw) II, buck converter example. 
</p>
<p>transformer primary: 
</p>
<p>(10.18) 
</p>
<p>For the element values given in Fig. lO.S(a), this expression is equal to 4 .Q. The Q-factor is given by 
</p>
<p>Q=..K.=R fi: 
R0 V L 
</p>
<p>(10.19) 
</p>
<p>This expression yields a numerical value of Q = 3. The value of II Z0 (jro) II at the resonant frequency 
1.6 kHz is therefore equal to (4 Q)/(3) = 1.33 Q. At high frequency, II Z0 (jro) II follows the reflected 
inductor asymptote. 
</p>
<p>The quantity ZN(s) is given by Eq. (10.7). This impedance is equal to the converter input imped-
</p>
<p>ance Z/s), under the conditions that d(s) is varied to maintain the output voltage v(s) at zero. Figure 
</p>
<p>10.9(b) illustrates the derivation of an expression for ZN(s). A test current source z1eJs) is injected at the 
converter input port. The impedance ZN(s) can be viewed as the transfer function from ttesis) to v1ejs): 
</p>
<p>Z ( ) _ o,e,,(s) I 
N S - &bull; 
</p>
<p>l tesls) o~o 
null 
</p>
<p>(10.20) 
</p>
<p>The null condition v(s) ;;;;u 0 greatly simplifies analysis of the circuit of Fig. 1 0.9(b ). Since the voltage 
v(s) is zero, the currents through the capacitor and load impedances are also zero. This further implies 
</p>
<p>that the inductor current l(s) and transformer winding currents are zero, and hence the voltage across the 
</p>
<p>inductor is also zero. Finally, the voltage O,(s), equal to the output voltage plus the inductor voltage, is 
</p>
<p>zero. 
</p>
<p>Since the currents in the windings of the transformer model are zero, the current itesis) is equal 
</p>
<p>to the independent source current Jd(s): 
</p>
<p>(10.21) 
</p>
<p>Because O,(s) is equal to zero, the voltage applied to the secondary of the transformer model is equal to 
</p>
<p>the independent source voltage- Vi(s). Upon dividing by the turns ratio D, we obtain v1esrCs): </p>
<p/>
</div>
<div class="page"><p/>
<p>388 Input Filter Design 
</p>
<p>Fig~ 10.11 Determination of the filter output impedance Z0 (s). 
</p>
<p>(10.22) 
</p>
<p>Insertion of Eqs. (10.21) and (10.22) into Eq. (10.20) leads to the following result: 
</p>
<p>(10.23) 
</p>
<p>The steady-state relationship I= DV/R has been used to simplify the above result. This equation coin-
cides with the expression listed in Table 10.1. The Bode diagram of II ZJjw) II is constructed in Fig. 
10.10; this plot coincides with the de asymptote of II Zv(jW) 11. 
</p>
<p>Next, let us construct the Bode diagram of the filter output impedance Z0 (s). When the indepen-
dent source v gCs) is set to zero, the input filter network reduces to the circuit of Fig. 10.11. It can be seen 
that ZJs) is given by the parallel combination of the inductor L1 and the capacitor Ci 
</p>
<p>Zo(s) = sL tii-c1 
s t 
</p>
<p>(10.24) 
</p>
<p>Construction of the Bode diagram of this parallel resonant circuit is discussed in Section 8.3.4. As illus-
</p>
<p>trated in Fig. 10.12, the magnitude II Z0 (jW) II is dominated by the inductor impedance at low frequency, 
and by the capacitor impedance at high frequency. The inductor and capacitor asymptotes intersect at the 
filter resonant frequency: 
</p>
<p>Fig. 10.12 Magnitude plot of the output 
</p>
<p>impedance of the input filter of Fig. 10.11. 
</p>
<p>Since the filter is not damped, the Q-factor is 
very large. 
</p>
<p>40dB.Q 
</p>
<p>30 dB.Q 
</p>
<p>20 dB.Q 
</p>
<p>10 dB.Q 
</p>
<p>0 dB.Q 
</p>
<p>-lOdB.Q 
</p>
<p>lOOHz 
</p>
<p>&middot; &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; Rot= j!i!; = 0.84 Q 
1 
</p>
<p>wet 
</p>
<p>f 
I kHz </p>
<p/>
</div>
<div class="page"><p/>
<p>10.3 Buck Converter Example 389 
</p>
<p>40dBQ 
</p>
<p>30dBQ 
</p>
<p>IOdBQ 
</p>
<p>OdBQ 
</p>
<p>-!OdBQ 
</p>
<p>-20dBQ+-----~~~~~~~----~~~~~~~ 
</p>
<p>100Hz I kHz 10kHz 
</p>
<p>f 
</p>
<p>Fig. 10.13 Impedance design criteria II Z,/Joo) II and II Z0 Uoo) II from Fig. 10.10, with the filter output impedance 
II Z0 Uoo) II of Fig. 10.12 superimposed. The design criteria of Eq. (10.13) are not satisfied at the input filter reso-
nance. 
</p>
<p>(10.25) 
</p>
<p>For the given values, the input filter resonant frequency is ft = 400 Hz. This filter has characteristic 
impedance 
</p>
<p>(10.26) 
</p>
<p>equal to 0.84 Q. Since the input filter is undamped, its Q-factor is ideally infinite. In practice, parasitic 
</p>
<p>elements such as inductor loss and capacitor equivalent series resistance limit the value of Qf' Nonethe-
less, the impedance II ZaCjw) II is very large in the vicinity of the filter resonant frequency ft&middot; 
</p>
<p>The Bode plot of the filter output impedance II Z0 (jffi) II is overlaid on the II ZJ.jw) II and 
II ZD(jw) II plots in Fig. 10.13, for the element values listed in Fig. 10.8(a). We can now determine 
whether the impedance inequalities (10.13) are satisfied. Note the design-oriented nature of Fig. 10.13: 
</p>
<p>since analytical expressions are given for each impedance asymptote, the designer can easily adjust the 
</p>
<p>component values to satisfy Eq. (10.13). For example, the values of L1and C1should be chosen to ensure 
</p>
<p>that the asymptotes of II Z0 (jffi) II lie below the worst-case value of R/D2, as well as the other asymptotes 
of II ZD(jw) 11. . 
</p>
<p>It should also be apparent that it is a bad idea to choose the input and output filter resonant fre-
</p>
<p>quencies fo and ft to be equal, because it would then be more difficult to satisfy the inequalities of Eq. 
(10.13). Instead, the resonant frequenciesf0 and.ftshould be well separated in value. 
</p>
<p>Since the input filter is undamped, it is impossible to satisfy the impedance inequalities (10.13) 
</p>
<p>in the vicinity of the input filter resonant frequency ft&middot; Regardless of the choice of element values, the 
input filter changes the control-to-output transfer function Gvis) in the vicinity of frequency ft&middot; Figures 
10.14 and 10.15 illustrate the resulting correction factor [Eq. (10.12)] and the modified control-to-output 
</p>
<p>transfer function [Eq. (10.4)], respectively. At frequencies well below the input filter resonant frequency, 
</p>
<p>impedance inequalities (10.13) are well satisfied. The correction factor tends to the value l.L0&deg;, and the </p>
<p/>
</div>
<div class="page"><p/>
<p>390 Input Filter Design 
</p>
<p>lOdB 
</p>
<p>OdB-1-------
</p>
<p>-lOdB 
</p>
<p>o&middot; 
</p>
<p>f.--,-~-~~"----======~--------+- 360" 
100Hz 1kHz 10kHz 
</p>
<p>f 
Fig. 10.14 Magnitude of the correction factor, Eq. (10.12), for the buck converter example of Fig. 10.8. 
</p>
<p>II Gvd II 40 dBV 
30dBV.,__I_I G_vd_l_l = 
</p>
<p>20dBV 
</p>
<p>lOdBV 
</p>
<p>L Gvd 
0 dBVt----=.:--:;:---------------&bull;&bull;&bull; 
</p>
<p>.... ,,, 
'&bull; 
</p>
<p>&middot;----------------- - 180" 
</p>
<p>o&middot; 
</p>
<p>-lOdBV 
</p>
<p>-360" 
</p>
<p>100Hz 1kHz 
</p>
<p>f 
</p>
<p>Fig. 10.15 Effect of the undamped input filter on the control-to-output transfer function of the buck converter 
</p>
<p>example. Dashed lines: without input filter. Solid lines: with undamped input filter. 
</p>
<p>control-to-output transfer function Gv~(s) is essentially unchanged. In the vicinity of the resonant fre-
</p>
<p>quency if&middot; the correction factor contains a pair of complex poles, and also a pair of right half-plane com-
plex zeroes. These cause a "glitch" in the magnitude plot of the correction factor, and they contribute 
</p>
<p>360&deg; of lag to the phase of the correction factor. The glitch and its phase lag can be seen in the Bode plot 
</p>
<p>of Gvis). At high frequency, the correction factor tends to a value of approximately lL- 360&deg;; conse-
</p>
<p>quently, the high-frequency magnitude of Gvd is unchanged. However, when the- 360&deg; contributed by 
</p>
<p>the correction factor is added to the- 180&deg; contributed at high frequency by the two poles of the original 
</p>
<p>Gvd(s), a high-frequency phase asymptote of- 540&deg; is obtained. If the crossover frequency of the con-
</p>
<p>verter feedback loop is placed near to or greater than the input filter resonant frequency if. then a negative </p>
<p/>
</div>
<div class="page"><p/>
<p>10.3 Buck Converter Example 391 
</p>
<p>phase margin is inevitable. This explains why addition of an input filter often leads to instabilities and 
</p>
<p>oscillations in switching regulators. 
</p>
<p>10.3.2 Damping the Input Filter 
</p>
<p>Let's damp the resonance of the input filter, so that impedance inequalities (10.13) are satisfied at all fre-
</p>
<p>quencies. 
</p>
<p>One approach to damping the filter is to add resistor R1in parallel with capacitor C1as illustrated 
</p>
<p>in Fig. 10.16(a). The output impedance of this network is identical to the parallel resonant impedance 
</p>
<p>analyzed in Section 8.3.4. The maximum value of the output impedance occurs at the resonant frequency 
</p>
<p>fr. and is equal in value to the resistance R1. Hence, to satisfy impedance inequalities (10.13), we should 
choose R1 to be much less than the II ZN(jw) II and II ZD(jw) II asymptotes. The condition R1 &lt; II ZN(jw) II 
can be expressed as: 
</p>
<p>(10.27) 
</p>
<p>Unfortunately, this raises a new problem: the power dissipation in Rf" The de input voltage Vg is applied 
</p>
<p>across resistor R1, and therefore R1 dissipates power equal to V~IR 1 . Equation (10.27) implies that this 
power loss is greater than the load power! Therefore, the circuit of Fig. 10.16(a) is not a practical solu-
</p>
<p>tion. 
</p>
<p>One solution to the power loss problem is to place R1 in parallel with L1 as illustrated in Fig. 
</p>
<p>10.16(b). The value of Rr in Fig. 10.16(b) is also chosen according to Eq. (10.27). Since the de voltage 
</p>
<p>across inductor L1 is zero, there is now no de power loss in resistor R1. The problem with this circuit is 
</p>
<p>that its transfer function contains a high-frequency zero. Addition of Rr degrades the slope of the high-
</p>
<p>frequency asymptote, from- 40 dB/decade to- 20 dB/decade. The circuit of Fig. 10.16(b) is effectively 
</p>
<p>a single-pole R-C low-pass filter, with no attenuation provided by inductor Lf" 
</p>
<p>One practical solution is illustrated in Fig. 10.17 [10]. De blocking capacitor Cb is added in 
</p>
<p>series with resistor Rr Since no de current can flow through resistor R1, its de power loss is eliminated. 
</p>
<p>The value of Cb is chosen to be very large such that, at the filter resonant frequency fr. the impedance of 
the RrCb branch is dominated by resistor R1. When Cb is sufficiently large, then the output impedance of 
</p>
<p>this network reduces to the output impedances of the filters of Fig. 10.16. The impedance asymptotes for 
</p>
<p>the case of large Cb are illustrated in Fig. 10.17(b). 
</p>
<p>(a) (b) 
Rf 
</p>
<p>Lf c:-J 0 
0 I 
</p>
<p>cf Rf 
</p>
<p>C
1 T 
</p>
<p>0 
</p>
<p>0 
</p>
<p>~------------------~----0 
</p>
<p>Fig. 10.16 Two attempts to damp the input filter: (a) addition of damping resistance Rf across Cf, (b) addition ol 
</p>
<p>damping resistance Rf in parallel with Lf" </p>
<p/>
</div>
<div class="page"><p/>
<p>392 Input Filter Design 
</p>
<p>(a) (b) 
</p>
<p>CJI 
o---------------~----=r=~ __ c_b~o 
</p>
<p>Fig. 10.17 A practical method to damping the input filter, including damping resistance Rr and de blocking 
</p>
<p>capacitor Cb: (a) circuit, (b) output impedance asymptotes. 
</p>
<p>40dBQ 
</p>
<p>30dBQ 
IIZ0 II 
</p>
<p>12Q 
20 dBQ r-----.._j,~---+---~:;..._-11 ZN II 
</p>
<p>!OdBQ .. :.::.:::::.::r~ ~-~ ..... Rol D" 
OdBQ 
</p>
<p>-10 dBQ 
</p>
<p>-20dBi2+-----~~~~~~~----~~~~~~~ 
</p>
<p>100Hz I kHz 10kHz 
</p>
<p>f 
Fig. 10.18 Impedance design criteria II ZN(jw) II and II ZD(jw) II from Fig. 10.1 0, with the filter output impedance 
II Z0 (jW) II of Fig. 10.17(b) superimposed. The design criteria of Eq. (10.13) are well satisfied. 
</p>
<p>The low-frequency asymptotes of II ZN(jw) II and II ZD(jw) II in Fig. 10.10 are equal to 
RJD2 = 12 Q. The choice Rf = 1 Q therefore satisfies impedance inequalities (10.13) very well. The 
choice Cb = 4700 p,F leads to 112nftCb = 0.084 Q, which is much smaller than Rf' The resulting magni-
tude II Z0 (jW) II is compared with II ZN(jw) II and II ZD(jw) II in Fig. 10.18. It can be seen that the chosen 
values of R1and Cb lead to adequate damping, and impedance inequalities (10.13) are now well satisfied. 
</p>
<p>Figure 10.19 illustrates how addition of the damped input filter modifies the magnitude and 
</p>
<p>phase of the control-to-output transfer function. There is now very little change in Gvis), and we would 
</p>
<p>expect that the performance of the converter feedback loop is unaffected by the input filter. 
</p>
<p>10.4 DESIGN OF A DAMPED INPUT FILTER 
</p>
<p>As illustrated by the example of the previous section, design of an input filter requires not only that the 
</p>
<p>filter impedance asymptotes satisfy impedance inequalities, but also that the filter be adequately damped. 
</p>
<p>Damping of the input filter is also necessary to prevent transients and disturbances in v gCt) from exciting 
</p>
<p>filter resonances. Other design constraints include attaining the desired filter attenuation, and minimizing </p>
<p/>
</div>
<div class="page"><p/>
<p>10.4 Design of a Damped Input Filter 393 
</p>
<p>40dBV 
</p>
<p>II Gvdll. 
II Gvd II 
</p>
<p>L Gvd 
</p>
<p>30dBV 
</p>
<p>20dBV 
Fig. 10.19 Effect of the 
damped input filter on the 
</p>
<p>lOdBV 
control-to-output transfer 
function of the buck converter L Gvd 
example. Dashed lines: with- OdBV ------------- o&middot; 
out input filter. Solid lines: 
with damped input filter. -lOdBV 
</p>
<p>-90" 
</p>
<p>.1----~---~ .......... --~--=:::===,j. -180" 
100Hz I kHz lOkHz 
</p>
<p>f 
</p>
<p>the size of the reactive elements. Although a large number of classical filter design techniques are well 
</p>
<p>known, these techniques do not address the problems of limiting the maximum output impedance and 
</p>
<p>damping filter resonances. 
</p>
<p>The value of the blocking capacitor Cb used to damp the input filter in Section 10.3.2 is ten 
times larger than the value of Cf' and hence its size and cost are of practical concern. Optimization of an 
</p>
<p>input filter design therefore includes minimization of the size of the elements used in the damping net-
</p>
<p>works. 
</p>
<p>Several practical approaches to damping the single-section L-C low-pass filter are illustrated in 
Fig. 10.20 [10,11,17]. Figure 10.20(a) contains the RrCb damping branch considered in the previous 
section. In Fig: .10.20(b), the damping resistor R1 is placed in parallel with the filter inductor L1, and a 
high-frequency blocking inductor Lb is placed in series with Rf" Inductor Lb causes the filter transfer 
function to roll off with a high-frequency slope of- 40 dB/decade. In Fig. 10.20(c), the damping resistor 
</p>
<p>R1 is placed in series with the filter inductor L1, and the de current is bypassed by inductor Lb. In each 
case, it is desired to obtain a given amount of damping [i.e., to cause the peak value of the filter output 
impedance to be no greater than a given value that satisfies the impedance inequalities (10.13)], while 
minimizing the value of Cb or Lb. This problem can be formulated in an alternate but equivalent form: for 
a given choice of Cb or Lb, find the value of R1 that minimizes the peak output impedance [10]. The solu-
tions to this optimization problem, for the three filter networks of Fig. 21, are summarized in this section. 
</p>
<p>In each case, the quantities R01 and.tjare defined by Eqs. (10.25) and (10.26). 
Consider the filter of Fig. 10.20(b), with fixed values of L1, c1, and Lb. Figure 10.21 contains 
</p>
<p>Bode plots of the filter output impedance II Z0 (jw) II for several values of damping resistance Rf" For the 
limiting case R1 = oo, the circuit reduces to the original undamped filter with infinite Q1. In the limiting 
case R1= 0, the filter is also undamped, but the resonant frequency is increased because Lb becomes con-
nected in parallel with L1. Between these two extremes, there must exist an optimum value of R1 that 
causes the peak filter output impedance to be minimized. It can be shown [ 10 ,17] that all magnitude plots 
must pass through a common point, and therefore the optimum attains its peak at this point. This fact has 
been used to derive the design equations of optimally-damped L-C filter sections. </p>
<p/>
</div>
<div class="page"><p/>
<p>394 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>(c) 
</p>
<p>IIZoll 
Rof 
</p>
<p>Input Filter Design 
</p>
<p>30dB 
</p>
<p>20dB 
</p>
<p>10 dB 
</p>
<p>0 dB 
</p>
<p>-10 dB 
</p>
<p>-20 dB 
</p>
<p>-30 dB 
</p>
<p>Original undamped 
filter (Q f = =) '--... 
</p>
<p>. II I 1. I 
Suboptlma dampmg 
(Qf= SQopt) ---::... 
</p>
<p>I I I 
'I Optimal damping 
</p>
<p>f-(Qopt = 0.93) 
/v~ 
</p>
<p>l&amp;~ 
/ 
</p>
<p>~ 
v y '/ ;::::~ v / - v 
</p>
<p>/ 
0.1 
</p>
<p>~\ 
</p>
<p>+ 
</p>
<p>+ 
</p>
<p>+ 
</p>
<p>Fig. 10.20 Several practical approaches to damping 
</p>
<p>the single-section input filter: (a) RrCb parallel 
</p>
<p>damping, (b) Rf-Lb parallel damping, (c) RrLb series 
</p>
<p>damping. 
</p>
<p>Undamped 
~ter(Q 1 = 0) 
</p>
<p>'IS I . I ld . 
uboptlmal ampmg r- (Q =0.2Q0 1 ) 
</p>
<p>~ \ 
Fig. 10.21 Comparison of 
</p>
<p>output impedance curves for 
</p>
<p>optimal parallel RrLb damping 
</p>
<p>with undamped and several 
</p>
<p>suboptimal designs. For this 
</p>
<p>example, n = Lh/L = 0.516 
v " ~ ~ 
</p>
<p>~--- 1'-o..., 
</p>
<p>10 
</p>
<p>f 
To </p>
<p/>
</div>
<div class="page"><p/>
<p>10.4 Design of a Damped Input Filter 395 
</p>
<p>10.4.1 RrCb Parallel Damping 
</p>
<p>Optimization of the filter network of Fig. 10.20(a) and Section 10.3.2 was described in [10]. The high-
</p>
<p>frequency attenuation of this filter is not affected by the choice of Cb, and the high-frequency asymptote 
</p>
<p>is identical to that of the original undamped filter. The sole tradeoff in design of the damping elements 
</p>
<p>for this filter is in the size of the blocking capacitor cb vs. the damping achieved. 
For this filter, let us define the quantity n as the ratio of the blocking capacitance C b to the filter 
</p>
<p>capacitance ci 
</p>
<p>n= cb 
Cr 
</p>
<p>For the optimum design, the peak filter output impedance occurs at the frequency 
</p>
<p>The value of the peak output impedance for the optimum design is 
</p>
<p>II II _ j 2( 2 + n) zo mm-ROf n 
</p>
<p>The value of damping resistance that leads to optimum damping is described by 
</p>
<p>( 2 + n )( 4 + 3n) 
</p>
<p>2n 2 (4+n) 
</p>
<p>The above equations allow choice of the damping values R1and Cb. 
</p>
<p>(10.28) 
</p>
<p>(10.29) 
</p>
<p>(10.30) 
</p>
<p>(10.31) 
</p>
<p>For example, let's redesign the damping network of Section 10.3.2, to achieve the same peak 
</p>
<p>output impedance \1 Z0 (jW) llmm = 1 Q, while minimizing the value of the blocking capacitance C b&middot; From 
Section 10.3.2, the other parameter values are R01 = 0.84 Q, C1= 470 JlF, and 0= 330 JlH. First, we solve 
Eq. (10.30) to find the required value of n: 
</p>
<p>(10.32) 
</p>
<p>Evaluation of this expression with the given numerical values leads to n = 2.5. The blocking capacitor is 
therefore required to have a value of nC1= 1200 flF. This is one-quarter of the value employed in Section 
</p>
<p>10.3.2. The value of R1 is then found by evaluation ofEq. (10.31), leading to 
</p>
<p>( 2 + n )( 4 + 3n) 
</p>
<p>2n 2(4+n) 
=0.67 Q (10.33) 
</p>
<p>The output impedance of this filter design is compared with the output impedances of the original 
</p>
<p>undamped filter of Section 10.3.1, and of the suboptimal design of Section 10.3.2, in Fig. 10.22. It can be </p>
<p/>
</div>
<div class="page"><p/>
<p>396 Input Filter Design 
</p>
<p>20dBQ 
</p>
<p>10dBQ 
</p>
<p>OdBQ 
</p>
<p>-10dBQ 
</p>
<p>-20dBQ 
</p>
<p>-30dBQ+-----~~~~~~~----~~--~~~~ 
</p>
<p>100Hz 1 kHz 10kHz 
</p>
<p>f 
</p>
<p>Fig. 10.22 Comparison of the output impedances of the design with optimal parallel RrCb damping, the subopti-
</p>
<p>mal design of Section 10.3.2, and the original undamped filter. 
</p>
<p>seen that the optimally damped filter does indeed achieve the desired peak output impedance of 1 Q, at 
</p>
<p>the slightly lower peak frequency given by Eq. (10.29) 
</p>
<p>The RrCb parallel damping approach finds significant application in de--de converters. Since a 
</p>
<p>series resistor is placed in series with Cb, Cb can be realized using capacitor types having substantial 
</p>
<p>equivalent series resistance, such as electrolytic and tantalum types. However, in some applications, the 
</p>
<p>RrLb approaches of the next subsections can lead to smaller designs. Also, the large blocking capacitor 
</p>
<p>value may be undesirable in applications having an ac input. 
</p>
<p>10.4.2 RrLb Parallel Damping 
</p>
<p>Figure 10.20(b) illustrates the placement of damping resistor R1 in parallel with inductor Lr Inductor Lb 
</p>
<p>causes the filter to exhibit a two-pole attenuation characteristic at high frequency. To allow R1 to damp the 
</p>
<p>filter, inductor Lb should have an impedance magnitude that is sufficiently smaller than R1at the filter res-
</p>
<p>onant frequency~&middot; Optimization of this damping network is described in [ 17]. 
</p>
<p>With this approach, inductor Lb can be physically much smaller than Lr Since R1 is typically 
</p>
<p>much greater than the de resistance of Lf' essentially none of the de current flows through Lb. Further-
</p>
<p>more, R1 could be realized as the equivalent series resistance of Lb at the filter resonant frequency~&middot; 
</p>
<p>Hence, this is a very simple, low-cost approach to damping the input filter. 
</p>
<p>The disadvantage of this approach is the fact that the high-frequency attenuation of the filter is 
</p>
<p>degraded: the high-frequency asymptote of the filter transfer function is increased from llm2LF1 to 
llm2(L111Lb)Cr Furthermore, since the need for damping limits the maximum value of Lb, significant loss 
</p>
<p>of high-frequency attenuation is unavoidable. To compensate, the value of L1 must be increased. There-
</p>
<p>fore, a tradeoff occurs between damping and degradation of high-frequency attenuation, as illustrated in 
</p>
<p>Fig. 10.23. For example, limiting the degradation of high-frequency attenuation to 6 dB leads to an opti-
</p>
<p>mum peak filter output impedance II Z0 llnun of J6 times the original characteristic impedance R01. Addi-
tional damping leads to further degradation of the high-frequency attenuation. 
</p>
<p>The optimally damped design (i.e., the choice of R1 that minimizes the peak output impedance </p>
<p/>
</div>
<div class="page"><p/>
<p>10.4 Design of a Damped Input Filter 397 
</p>
<p>30dB 
</p>
<p>~egradation of HF ~ 
Iter attenuation 1 
</p>
<p>20dB 
</p>
<p>"' "' I' Fig. 10.23 Performance attained via optimal 10 dB design procedure, parallel RrLb circuit of 
10.20(b). Optimum peak filter output imped-
</p>
<p>,.....v 
/ 
</p>
<p>/ 
</p>
<p>ance II Z0 llmm and increase of filter high-fre-
quency gain, vs. n = Lb/L. o dB 
</p>
<p>/ 
,/ 
</p>
<p>-IOdB 
</p>
<p>0.1 
</p>
<p>II Z0 II for a given choice of Lb) is described by the following equations: 
</p>
<p>where 
</p>
<p>n( 3 + 4n )( 1 + 2n) 
</p>
<p>2( 1 + 4n) 
</p>
<p>The peak filter output impedance occurs at frequency 
</p>
<p>and has the value 
</p>
<p>&bull; !, fT+2Il 
Jm = f V --z;z-
</p>
<p>" 
v 
,....... 
</p>
<p>The attenuation of the filter high-frequency asymptote is degraded by the factor 
</p>
<p>~-" 
</p>
<p>1111 
</p>
<p>v ~ z~mm 
/ 
</p>
<p>v Rof 
</p>
<p>--r---r-
</p>
<p>10 
</p>
<p>(10.34) 
</p>
<p>(10.35) 
</p>
<p>(10.36) 
</p>
<p>(10.37) 
</p>
<p>(10.38) 
</p>
<p>So, given an undamped LrC1 filter having comer frequency ft. and characteristic impedance R01, and 
given a requirement for the maximum allowable output impedance II Z0 llmm' one can solve Eq. (10.37) 
for the required value of n. One can then determine the required numerical values of Lb and Rf" </p>
<p/>
</div>
<div class="page"><p/>
<p>398 Input Filter Design 
</p>
<p>10.4.3 RrLb Series Damping 
</p>
<p>Figure 10.20(c) illustrates the placement of damping resistor R1 in series with inductor Lf" Inductor Lb 
</p>
<p>provides a de bypass to avoid significant power dissipation in Rf" To allow R1 to damp the filter, inductor 
</p>
<p>Lb should have an impedance magnitude that is sufficiently greater than R1 at the filter resonant fre-
</p>
<p>quency. 
</p>
<p>Although this circuit is theoretically equivalent to the parallel damping RrLb case of Section 
</p>
<p>10.4.2, several differences are observed in practical designs. Both inductors must carry the full de cur-
</p>
<p>rent, and hence both have significant size. The filter high-frequency attenuation is not affected by the 
</p>
<p>choice of Lb, and the high-frequency asymptote is identical to that of the original undamped filter. The 
</p>
<p>tradeoff in design of this filter does not involve high-frequency attenuation; rather, the issue is damping 
</p>
<p>vs. bypass inductor size. 
</p>
<p>Design equations similar to those of the previous sections can be derived for this case. The opti-
</p>
<p>mum peak filter output impedance occurs at frequency 
</p>
<p>2+n 
</p>
<p>2( 1 + n) 
!,11 = Jj 
</p>
<p>and has the value 
</p>
<p>li Z II =R J2(1 +n)(2+n) 
o mm Of n 
</p>
<p>The value of damping resistance that leads to optimum damping is described by 
</p>
<p>2( 1 + n )( 4 + n) 
(2 + n)(4 + 3n) 
</p>
<p>(10.39) 
</p>
<p>(10.40) 
</p>
<p>(10.41) 
</p>
<p>For this case, the peak output impedance cannot be reduced below J2 ROJ via damping. None-
theless, it is possible to further reduce the filter output impedance by redesign of L1 and c1, to reduce the 
value of R0!" 
</p>
<p>10.4.4 Cascading Filter Sections 
</p>
<p>A cascade connection of multiple L-C filter sections can achieve a given high-frequency attenuation with 
</p>
<p>less volume and weight than a single-section L-C filter. The increased cutoff frequency of the multiple-
</p>
<p>section filter allows use of smaller inductance and capacitance values. Damping of each L-C section is 
</p>
<p>usually required, which implies that damping of each section should be optimized. Unfortunately, the 
</p>
<p>results of the previous sections are restricted to single-section filters. Interactions between cascaded L-C 
</p>
<p>sections can lead to additional resonances and increased filter output impedance. 
</p>
<p>It is nonetheless possible to design cascaded filter sections such that interaction between L-C 
</p>
<p>sections is negligible. In the approach described below, the filter output impedance is approximately 
</p>
<p>equal to the output impedance of the last section, and resonances caused by interactions between stages 
</p>
<p>are avoided. Although the resulting filter may not be "optimal" in any sense, insight can be gained that 
</p>
<p>allows intelligent design of multiple-section filters with economical damping of each section. </p>
<p/>
</div>
<div class="page"><p/>
<p>10.4 Design of a Damped Input Filter 399 
</p>
<p>Additional 
filter 
</p>
<p>section 
z a --
</p>
<p>Existing 
filter 
</p>
<p>Fig. 10.24 Addition of a filter section at the input of an existing filter. 
</p>
<p>Consider the addition of a filter section to the input of an existing filter, as in Fig. 10.24. Let us 
</p>
<p>assume that the existing filter has been correctly designed to meet the output impedance design criteria of 
</p>
<p>Eq. (10.13): under the conditions ZJs) = 0 and vgCs) = 0, II Z0 II is sufficiently small. It is desired to add a 
damped filter section that does not significantly increase II Z0 11. 
</p>
<p>Middlebrook's extra element theorem of Appendix C can again be invoked, to express how 
</p>
<p>addition of the filter section modifies Z0 (s): 
</p>
<p>( 1 + z.(s) ) 
ZNl(s) 
</p>
<p>(1D.42) 
</p>
<p>where 
</p>
<p>(10.43) 
</p>
<p>is the impedance at the input port of the existing filter, with its output port short-circuited. Note that, in 
</p>
<p>this particular case, nulling vtes/s) is the same as shorting the filter output port because the short-circuit 
current flows through the itest source. The quantity 
</p>
<p>Zm(s) = Zil(s) I&middot; ( )-0 
1 test 8 -
</p>
<p>(10.44) 
</p>
<p>is the impedance at the input port of the existing filter, with its output port open-circuited. Hence, the 
</p>
<p>additional filter section does not significantly alter Z0 provided that 
</p>
<p>! z. II ~II ZN1 ~ and 
!2 .11 ~11 2 m~ 
</p>
<p>(10.45) 
</p>
<p>Bode plots of the quantities Zm and Zm can be constructed either analytically or by computer simula-
tion, to obtain limits of za. When II za II satisfies Eq. (10.45), then the "correction factor" 
(1 + Z)Zm)l(l + Z)Zm) is approximately equal to 1, and the modified Z0 is approximately equal to the 
original Z0 &bull; 
</p>
<p>To satisfy the design criteria (10.45), it is advantageous to select the resonant frequencies of Za 
to differ from the resonant frequencies of Zm&middot; In other words, we should stagger-tune the filter sections. 
</p>
<p>This minimizes the interactions between filter sections, and can allow use of smaller reactive element 
</p>
<p>values. </p>
<p/>
</div>
<div class="page"><p/>
<p>400 Input Filter Design 
</p>
<p>'---------------------~-~-~~!-~~--=---------------_J ______________ ~=~~~~-~--~------------------' 
Fig. 10.25 Two-section input filter example, employing RrLb parallel damping in each section. 
</p>
<p>10.41.5 Example: 1\vo Stage Input Filter 
</p>
<p>As an example, let us consider the design of a two-stage filter using ~--Lb parallel damping in each sec-
</p>
<p>tion as illustrated in Fig. 10.25 [17]. It is desired to achieve the same attenuation as the single-section fil-
</p>
<p>ters designed in Sections 10.3.2 and 10.4.1, and to filter the input current of the same buck converter 
</p>
<p>example of Fig. 10.8. These filters exhibit an attenuation of 80 dB at 250kHz, and satisfy the design ine-
</p>
<p>qualities of Eq. (10.13) with the II ZN II and II ZD II impedances of Fig. 10.10. Hence, let's design the filter 
of Fig. 10.25 to attain 80 dB of attenuation at 250 kHz. 
</p>
<p>As described in the previous section and below, it is advantageous to stagger-tune the filter sec-
</p>
<p>tions so that interaction between filter sections is reduced. We will find that the cutoff frequency of filter 
</p>
<p>section 1 should be chosen to be smaller than the cutoff frequency of section 2. In consequence, the 
</p>
<p>attenuation of section 1 will be greater than that of section 2. Let us (somewhat arbitrarily) design to 
</p>
<p>obtain 45 dB of attenuation from section 1, and 35 dB of attenuation from section 2 (so that the total is 
</p>
<p>the specified 80 dB). Let us also select n1 = n2 = n = Lb!Lr = 0.5 for each section; as illustrated in Fig. 
10.23, this choice leads to a good compromise between damping of the filter resonance and degradation 
</p>
<p>of high frequency filter attenuation. Equation (10.38) and Fig. 10.23 predict that the RrLb damping net-
</p>
<p>work will degrade the high frequency attenuation by a factor of (1 + lin)= 3, or 9.5 dB. Hence, the sec-
tion 1 undamped resonant frequency Jj1 should be chosen to yield 45 dB + 9.5 dB = 54.5 dB =? 533 of 
attenuation at 250kHz. Since section 1 exhibits a two-pole(- 40 dB/decade) roll-off at high frequencies, 
</p>
<p>Jfl should be chosen as follows: 
</p>
<p>+ _ (250kHz) _ lO 8 kH 
Jf! - 1533 - . z (10.46) 
</p>
<p>Note that this frequency is well above the 1.6 kHz resonant frequency j 0 of the buck converter output fil-
</p>
<p>ter. Consequently, the output impedance II Z0 II can be as large as 3 Q, and still be well below the 
II ZN(jw) II and II ZD(jw) II plots of Fig. 10.10. 
</p>
<p>Solution of Eq. (10.37) for the required section 1 characteristic impedance that leads to a peak 
</p>
<p>output impedance of 3 Q with n = 0.5 leads to </p>
<p/>
</div>
<div class="page"><p/>
<p>10.4 Design of a Damped Input Filter 401 
</p>
<p>3 Q =2.12Q 
</p>
<p>J 2(0.5)( 1 + 2(0.5)) 
The filter inductance and capacitance values are therefore 
</p>
<p>R0/1 
L 1 = -2 + = 31.2 ~-tH 
</p>
<p>1!;11 
</p>
<p>C1 = 2 / R = 6.9 ~-tF 
7t /1 0/1 
</p>
<p>The section 1 damping network inductance is 
</p>
<p>The section 1 damping resistance is found from Eq. (10.34): 
</p>
<p>n( 3 + 4n )( 1 + 2n) 
= 1.9Q 
</p>
<p>2( 1 + 4n) 
</p>
<p>(10.47) 
</p>
<p>(10.48) 
</p>
<p>(10.49) 
</p>
<p>(10.50) 
</p>
<p>The peak output impedance will occur at the frequency given by Eq. (10.36), 15.3 kHz. The quantities 
</p>
<p>II ZNl(jro) II and II ZDI(jro) II for filter section 1 can now be constructed analytically or plotted by computer 
simulation. II ZNl(jro) II is the section 1 input impedance Z,1 with the output of section 1 shorted, and is 
given by the parallel combination of the sL1 and the (R 1 + sn1L1) branches. II ZDI(jro) II is the section 1 
input impedance z,1 with the output of section 1 open-circuited, and is given by the series combination of 
ZNl(s) with the capacitor impedance 1/sC1&bull; Figure 10.26 contains plots of II ZNl(jro) II and II ZDI(jro) II for 
filter section 1, generated using Spice. 
</p>
<p>One way to approach design of filter section 2 is as follows. To avoid significantly modifying 
</p>
<p>the overall filter output impedance Z0 , the section 2 output impedance II ZaUro) II must be sufficiently less 
than II ZNl(jro) II and II ZDI(jro) 11. It can be seen from Fig. 10.26 that, with respect to II ZDI(jro) II, this is 
most difficult to accomplish when the peak frequencies of sections I and 2 coincide. It is most difficult to 
</p>
<p>satisfy the II ZNl(jro) II design criterion when the peak frequency of sections 2 is lower than the peak fre-
quency of section 1. Therefore, the best choice is to stagger-tune the filter sections, with the resonant fre-
</p>
<p>quency of section l being lower than the peak frequency of section 2. This implies that section l will 
</p>
<p>produce more high-frequency attenuation than section 2. For this reason, we have chosen to achieve 
</p>
<p>45 dB of attenuation with section 1, and 35 dB of attenuation from section 2. 
</p>
<p>The section 2 undamped resonant frequency fn should be chosen in the same manner used in 
Eq. (10.46) for section 1. We have chosen to select n2 = n = Lb/Lf= 0.5 for section 2; this again means 
that the RrLb damping network will degrade the high frequency attenuation by a factor of (1 + 1/n) = 3, 
or 9.5 dB. Hence, the section 2 undamped resonant frequency !12 should be chosen to yield 35 dB + 9.5 
dB = 44.5 dB :=} 169 of attenuation at 250 kHz. Since section 2 exhibits a two-pole (- 40 dB/decade) 
roll-off at high frequencies,f12 should be chosen as follows: 
</p>
<p>J: - (250 kHz) 19.25 kHz 
f2- fi69 
</p>
<p>(10.51) 
</p>
<p>The output impedance of section 2 will peak at the frequency 27.2 kHz, as given by Eq. (10.36). Hence, 
</p>
<p>the peak frequencies of sections l and 2 differ by almost a factor of 2. </p>
<p/>
</div>
<div class="page"><p/>
<p>402 Input Filter Design 
</p>
<p>-~ N1zL 111 
I'. 
</p>
<p>20dBQ 
</p>
<p>~ 
v 
/ 
</p>
<p>IIZN0-V 7 
F' 
</p>
<p>OdBQ 
</p>
<p>v 
v~ 
</p>
<p>-
</p>
<p>v"' 
-20dBQ 
</p>
<p>-
</p>
<p>~::: 
NI K / -
</p>
<p>'\V 
</p>
<p>90" 
</p>
<p>45" 
</p>
<p>o&middot; I 1\ 
I \ 
</p>
<p>- I 
zm v 
</p>
<p>M 
</p>
<p>-45" 
</p>
<p>--90" 
1kHz 10kHz 
</p>
<p>v ~ 
v 
</p>
<p>/ 
'\ 
</p>
<p>'\ 
</p>
<p>II z" II 
~'--.. ....., 
</p>
<p>......... !'-.. 
</p>
<p>...-::::F= 
</p>
<p>LZa 
</p>
<p>1\ 
</p>
<p>I' 
</p>
<p>100kHz 1 MHz 
</p>
<p>Fig. 10.26 Bode plot of ZN1 and Zm for filter section 1. Also shown is the Bode plot for the output impedance Za 
</p>
<p>of filter section 2. 
</p>
<p>Figure 10.26 shows that, at 27.2 kHz, II ZDI(jw) II has a magnitude of roughly 3 dBQ, and that 
II ZNl(jw) II is approximately 7 dBQ. Hence, let us design section 2 to have a peak output impedance of 
0 dBQ ==} 1 Q. Solution of Eq. (10.37) for the required section 2 characteristic impedance leads to 
</p>
<p>The section 2 element values are therefore 
</p>
<p>lQ =0.71Q 
J 2(0.5)( 1 + 2(0.5)) 
</p>
<p>n( 3 + 4n )( 1 + 2n) 
=0.65 Q 
</p>
<p>2( 1 + 4n) 
</p>
<p>(10.52) 
</p>
<p>(10.53) 
</p>
<p>A Bode plot of the resulting Za is overlaid on Fig. 10.26. It can be seen that II Za(jw) II is less than, but 
very close to, II ZDI(jw) II between the peak frequencies of 15kHz and 27kHz. The impedance inequali-
ties (10.45) are satisfied somewhat better below 15 kHz, and are satisfied very well at high frequency. 
</p>
<p>The resulting filter output impedance II Z0 (jW) II is plotted in Fig. 10.27, for section 1 alone and 
for the complete cascaded two-section filter. It can be seen that the peak output impedance is approxi-</p>
<p/>
</div>
<div class="page"><p/>
<p>30dBQ 
</p>
<p>20dBQ 
</p>
<p>~ 
\ I 
</p>
<p>10dBQ 
</p>
<p>v 
OdBQ 
</p>
<p>/... 
-:::.&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>-10 dBQ 
</p>
<p>-20dBQ 
</p>
<p>1kHz 
</p>
<p>/ 
,/ 
</p>
<p>r; 
</p>
<p>/ ~ 
.. &middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>10.5 Summary of Key Points 403 
</p>
<p>VIIZvll 
I!L111 v 
</p>
<p>Cascaded 
sections 1 and 2 
</p>
<p>IIZoll 
... &middot;&middot;&middot;&middot;&middot;'"\' I .. &bull;&bull; .. Section 1 .. 
</p>
<p>'(:.alone / .. 
/ 
</p>
<p>... 
&middot;&middot;&middot;&middot;&middot; I' 
</p>
<p>' ~", 
</p>
<p>10kHz 100kHz 
</p>
<p>Fig. 10.27 Comparison of the impedance design criteria II Zt!Jw) II and 11 Z0 Uw) 11. Eq. (10.13), with the filter 
output impedance II Z0 UW) 11. Solid line: II Z0UW) II of cascaded design. Dashed line: II Z0 UW) II of section l alone. 
</p>
<p>mately 10 dBQ, or roughly 3 Q. The impedance design criteria (10.13) are also shown, and it can be seen 
</p>
<p>that the filter meets these design criteria. Note the absence of resonances in II Z0 (jW) 11. 
The effect of stage 2 on II Z0 (jW) II is very small above 40kHz [where inequalities (10.45) are 
</p>
<p>very well satisfied], and has moderate-to-small effect at lower frequencies. It is interesting that, above 
</p>
<p>approximately 12kHz, the addition of stage 2 actually decreases II Z0 (jW) 11. The reason for this can be 
seen from Fig. C.8 of Appendix C: when the phase difference between L.Za(jw) and LZm(jw) is not too 
</p>
<p>large(::; 90.), then the 11(1 + Z/Zm) term decreases the magnitude of the resulting II Z0 (jW) 11. As can be 
seen from the phase plot of Fig. 10.26, this is indeed what happens. So allowing II Za(jw) II to be similar 
in magnitude to II Zm(jW) II above 12kHz was an acceptable design choice. 
</p>
<p>The resulting filter transfer function is illustrated in Fig. 10.28. It can be seen that it does indeed 
</p>
<p>attain the goal of 80 dB attenuation at 250 kHz. 
</p>
<p>Figure 10.29 compares the single stage design of Section 10.4.1 to the two-stage design of this 
</p>
<p>section. Both designs attain 80 dB attenuation at 250 kHz, and both designs meet the impedance design 
</p>
<p>criteria of Eq. (10.13). However, the single-stage approach requires much larger filter elements. 
</p>
<p>10.5 SUMMARY OF KEY POINTS 
</p>
<p>1. Switching converters usually require input filters, to reduce conducted electromagnetic interference and 
</p>
<p>possibly also to meet requirements concerning conducted susceptibility. 
</p>
<p>2. Addition of an input filter to a converter alters the control-to-output and other transfer functions of the con-
</p>
<p>verter. Design of the converter control system must account for the effects of the input filter. 
</p>
<p>3. If the input filter is not damped, then it typically introduces complex poles and RHP zeroes into the con-
</p>
<p>verter control-to-output transfer function, at the resonant frequencies of the input filter. If these resonant 
</p>
<p>frequencies are lower than the crossover frequency of the controller loop gain, then the phase margin will 
</p>
<p>become negative and the regulator will be unstable. </p>
<p/>
</div>
<div class="page"><p/>
<p>404 Input Filter Design 
</p>
<p>20dB 
</p>
<p>IIHII 
OdB 
</p>
<p>-20dB 
</p>
<p>-40dB 
</p>
<p>-60dB 
</p>
<p>-80dB 
</p>
<p>-100 dB 
</p>
<p>-120 dB 
</p>
<p>1kHz 
</p>
<p>r'\. 
</p>
<p>10kHz 
</p>
<p>r-.. 
1\ 
</p>
<p>\ 
\ 
</p>
<p>-SO dB-
at 250kHz 
</p>
<p>100kHz 
f 
</p>
<p>Fig. 10.28 Input filter transfer function, cascaded two-section design. 
</p>
<p>(a) 
</p>
<p>(b) 
R2 
</p>
<p>0.65Q 
</p>
<p>1\ 
</p>
<p>' 
</p>
<p>1MHz 
</p>
<p>Fig. 10.29 Comparison of single-section (a) and two section (b) input filter designs. Both designs meet the design 
</p>
<p>criteria (10.13), and both exhibit 80 dB of attenuation at 250kHz. </p>
<p/>
</div>
<div class="page"><p/>
<p>References 405 
</p>
<p>4. The input filter can be designed so that it does not significantly change the converter control-to-output and 
</p>
<p>other transfer functions. Impedance inequalities (1 0.13) give simple design criteria that guarantee this. To 
</p>
<p>meet these design criteria. the resonances of the input filter must be sufficiently damped. 
</p>
<p>5. Optimization of the damping networks of single-section filters can yield significant savings in filter ele-
</p>
<p>ment size. Equations for optimizing three different filter sections are listed. 
</p>
<p>6. Substantial savings in filter element size can be realized via cascading filter sections. The design of nonin-
</p>
<p>teracting cascaded filter sections can be achieved by an approach similar to the original input filter design 
</p>
<p>method. Impedance inequalities ( 10.45) give design criteria that guarantee that interactions are not sub-
</p>
<p>stantial. 
</p>
<p>REFERENCES 
</p>
<p>[1] M. NAVE, Power Line Filter Design for Switched Mode Power Supplies, New York: Van Nostrand Rein-
</p>
<p>hold, 1991. 
</p>
<p>[2] Design Guide for Electromagnetic Interference (EM/) Reduction in Power Supplies, MIL-HDBK-241B, 
</p>
<p>U.S. Department of Defense, April 1 1981. 
</p>
<p>[3] C. MARSHAM, The Guide to the EMC Directive 891336/EEC, New York: IEEE Press, 1992. 
</p>
<p>[4] P. DEGAUQUE and J. HAMELIN, Electromagnetic Compatibility, Oxford: Oxford University Press, 1993. 
</p>
<p>[5] R. REDL, "Power Electronics and Electromagnetic Compatibility," IEEE Power Electronics Specialists 
</p>
<p>Conference, 1996 Record, pp. 15-21. 
</p>
<p>[6] P.R. WILLCOCK, J. A. FERREIRA, J.D. VANWYK, "An Experimental Approach to Investigate the Genera-
</p>
<p>tion and Propagation of Conducted EMI in Converters," IEEE Power Electronics Specialists Conference, 
</p>
<p>1998 Record, pp. 1140-1146. 
</p>
<p>[7] L. ROSSETTO, S. Buso and G. SPIAZZI, "Conducted EMI Issues in a 600W Single-Phase Boost PFC 
</p>
<p>Design," IEEE Transactions on Industry Applications, Vol. 36, No.2, pp. 578-585, March/April2000. 
</p>
<p>[8] F. Dos REIS, J. SEBASTIAN and J. UCEDA, "Determination of EMI Emissions in Power Factor Preregula-
</p>
<p>tors by Design," IEEE Power Electronics Specialists Conference, 1994 Record, pp. 1117-1126. 
</p>
<p>[9] R. D. MIDDLEBROOK, "Input Filter Considerations in Design and Application of Switching Regulators," 
</p>
<p>IEEE Industry Applications Society Annual Meeting, 1976 Record, pp. 366-382. 
</p>
<p>[10] R. D. MIDDLEBROOK, "Design Techniques for Preventing Input Filter Oscillations in Switched-Mode Reg-
</p>
<p>ulators," Proceedings of Powercon 5, pp. A3.1-A3.16, May 1978. 
</p>
<p>[11] T. PHELPS and W. TATE, "Optimizing Passive Input Filter Design," Proceedings of Powercon 6, pp. Gl.l-
</p>
<p>Gl.lO, May 1979. 
</p>
<p>[12] Y. JANG and R. ERICKSON, "Physical Origins of Input Filter Oscillations in Current Programmed Convert-
</p>
<p>ers," IEEE Transactions on Power Electronics, Vol7, No.4, pp. 725-733, October 1992. 
</p>
<p>[13] S. ERICH and W. POLIVKA, "Input Filter Design for Current-Programmed Regulators," IEEE Applied 
</p>
<p>Power Electronics Conference, 1990 Proceedings, pp. 781-791, March 1990. </p>
<p/>
</div>
<div class="page"><p/>
<p>406 Input Filter Design 
</p>
<p>[14] N. SOKAL, "System Oscillations Caused by Negative Input Resistance at the Power Input Port of a Switch-
</p>
<p>ing Mode Regulator, Amplifier, De/De Converter, or Dc/Ac Inverter," IEEE Power Electronics Specialists 
</p>
<p>Conference, 1973 Record, pp. 138-140. 
</p>
<p>[15] A. KISLOVSKI, R. REDL, and N. SOKAL, Dynamic Analysis of Switching-Mode De/De Converters, New 
</p>
<p>York: Van Nostrand Reinhold, Chapter 10, 1991. 
</p>
<p>[16] S. KELKAR and F. LEE, "A Novel Input Filter Compensation Scheme for Switching Regulators," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1982 Record, pp. 260-271. 
</p>
<p>[17] R. ERICKSON, "Optimal Single-Resistor Damping of Input Filters," IEEE Applied Power Electronics Con-
</p>
<p>ference, 1999 Proceedings, pp. 1073-1097, March 1999. 
</p>
<p>[18] M. FLOREZ-LIZARRAGA and A. F. WITULSKI, "Input Filter Design for Multiple-Module De Power Sys-
</p>
<p>tems," IEEE Transactions on Power Electronics, Vol11, No. 3, pp. 472-479, May 1996. 
</p>
<p>[19] V. VLATKOVIC, D. BOROJEVIC and F. LEE, "Input Filter Design for Power Factor Correction Circuits," 
</p>
<p>IEEE Transactions on Power Electronics, Volll, No.1, pp. 199-205, January 1996. 
</p>
<p>[20] F. YUAN, D. Y. CHEN, Y. Wu andY. CHEN, "A Procedure for Designing EMI Filters for Ac Line Applica-
</p>
<p>tions," IEEE Transactions on Power Electronics, Volll, No.1, pp. 170-181, January 1996. 
</p>
<p>[21] G. SPIAZZI and J. PO MILlO, "Interaction Between EMI Filter and Power Factor Preregulators with Average 
</p>
<p>Current Control: Analysis and Design Considerations," IEEE Transactions on Industrial Electronics, 
</p>
<p>Vol. 46, No. 3, pp. 577-584, June 1999. 
</p>
<p>PROBLEMS 
</p>
<p>10.1 It is required to design an input filter for the fiyback converter of Fig. 10.30. The maximum allowed 
</p>
<p>amplitude of switching harmonics of i;11(t) is 10 IJ.A rms. Calculate the required attenuation of the filter at 
</p>
<p>the switching frequency. 
</p>
<p>Input 
filter 
</p>
<p>n r v=o.3 
J L_j !,=200kHz 
</p>
<p>Fig. 10.30 Flyback converter, Problems 10.1, 10.4, 10.6, 10.8, and 10.10. 
</p>
<p>R 
</p>
<p>5Q 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>10.2 In the boost converter of Fig. 10.31, the input filter is designed so that the maximum amplitude of 
</p>
<p>switching harmonics of i;11(t) is not greater than 10 IJ.A rms. Find the required attenuation of the filter at 
</p>
<p>the switching frequency. 
</p>
<p>10.3 Derive the expressions for ZN and ZD in Table 10.1. </p>
<p/>
</div>
<div class="page"><p/>
<p>Input 
filter 
</p>
<p>L 
</p>
<p>11 r D=o.6 
J LJ .t; =200kHz 
</p>
<p>Fig. 10.31 Boost converter, Problems 10.2, 10.5, 10.7, and 10.9. 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>Problems 407 
</p>
<p>R 
12Q 
</p>
<p>10.4 The input filter for the flyback converter of Fig. 10.30 is designed using a single LrC1 section. The filter 
</p>
<p>is damped using a resistor R1 in series with a very large blocking capacitor Cb. 
</p>
<p>(a) Sketch a small-signal model of the flyback converter. Derive expressions for ZN(s) and Z0 (s) 
</p>
<p>using your model. Sketch the magnitude Bode plots of ZN and Z0 , and label all salient features. 
</p>
<p>(b) Design the input filter, i.e., select the values of Lf' c1, and R1, so that: (i) the filter attenuation at 
the switching frequency is at least 100 dB, and (ii) the magnitude of the filter output impedance 
</p>
<p>Z0 (s) satisfies the conditions II Zjjw) II&lt; 0.311 Z0 (jw) II, II Z0 (jW) II&lt; 0.311 Z~w) II, for all fre-
quencies. 
</p>
<p>(c) Use Spice simulations to verify that the filter designed in part (b) meets the specifications. 
</p>
<p>(d) Using Spice simulations, plot the converter control-to-output magnitude and phase responses 
</p>
<p>without the input filter, and with the filter designed in part (b). Comment on the changes intro-
</p>
<p>duced by the filter. 
</p>
<p>10.5 It is required to design the input filter for the boost converter of Fig. 10.31 using a single LrC1 section. 
</p>
<p>The filter is damped using a resistor R1in series with a very large blocking capacitor Cb. 
</p>
<p>(a) Sketch the magnitude Bode plots of ZN(s) and Z0 (s) for the boost converter, and label all salient 
</p>
<p>features. 
</p>
<p>(b) Design the input filter, i.e., select the values of L1, C1, and Rf, so that: (i) the filter attenuation at 
</p>
<p>the switching frequency is at least 80 dB, and (ii) the magnitude of the filter output impedance 
</p>
<p>Z0 (s) satisfies the conditions II Zjjw) II&lt; 0.211 Z0 (jw) 11. II Z0 (jW) II&lt; 0.211 ZN(jw) 11. for all fre-
quencies. 
</p>
<p>(c) Use Spice simulations to verify that the filter designed in part (b) meets the specifications. 
</p>
<p>(d) Using Spice simulations, plot the converter control-to-output magnitude and phase responses 
</p>
<p>without the input filter, and with the filter designed in part (b). Comment on the changes in the 
</p>
<p>control-to-output responses introduced by the filter. 
</p>
<p>10.6 Repeat the filter design of Problem 10.4 using the optimum filter damping approach described in Section 
</p>
<p>10.4.1. Find the values of L1, C1, R1, and Cb. 
</p>
<p>10.7 Repeat the filter design of Problem 10.5 using the optimum filter damping approach of Section 10.4.1. 
</p>
<p>Find the values of Lf' Cf' R1, and Cb. 
</p>
<p>10.8 Repeat the filter design of Problem 10.4 using the optimum RrLb parallel damping approach described 
</p>
<p>in Section 10.4.2. Find the values of L1, c1, R1, and Lb. 
</p>
<p>10.9 Repeat the filter design of Problem 10.5 using the optimum RrLb parallel damping approach described 
</p>
<p>in Section 10.4.2. Find the values of Lf' c1, R1, and Lb. </p>
<p/>
</div>
<div class="page"><p/>
<p>408 Input Filter Design 
</p>
<p>10.10 It is required to design the input filter for the flyback converter of Fig. 10.30 using two filter sections. 
</p>
<p>Each filter section is damped using a resistor in series with a blocking capacitor. 
</p>
<p>(a) Design the input filter, i.e., select values of all circuit parameters, so that (i) the filter attenuation 
</p>
<p>at the switching frequency is at least 100 dB, and (ii) the magnitude of the filter output imped-
</p>
<p>ance Z0 (s) satisfies the conditions II Z0 (jW) II&lt; 0.311 ZD(jw) II, II Z0 (jW) II&lt; 0.311 ZN(jw) II, for all 
frequencies. 
</p>
<p>(b) Use Spice simulations to verify that the filter designed in part (a) meets the specifications. 
</p>
<p>(c) Using Spice simulations, plot the converter control-to-output magnitude and phase responses 
</p>
<p>without the input filter, and with the filter designed in part (b). Comment on the changes intro-
</p>
<p>duced by the filter. </p>
<p/>
</div>
<div class="page"><p/>
<p>11 
AC and DC Equivalent Circuit 
</p>
<p>Modeling of the Discontinuous 
</p>
<p>Conduction Mode 
</p>
<p>So far, we have derived equivalent circuit models for de-de pulse-width modulation (PWM) converters 
</p>
<p>operating in the continuous conduction mode. As illustrated in Fig. 11.1, the basic de conversion prop-
</p>
<p>erty is modeled by an effective de transformer, having a turns ratio equal to the conversion ratio M(D). 
</p>
<p>This model predicts that the converter has a voltage-source output characteristic, such that the output 
</p>
<p>voltage is essentially independent of the load current or load resistance R. We have also seen how to 
</p>
<p>refine this model, to predict losses and efficiency, converter dynamics, and small-signal ac transfer func-
</p>
<p>tions. We found that the transfer functions of the buck converter contain two low-frequency poles, owing 
</p>
<p>to the converter filter inductor and capacitor. The control-to-output transfer functions of the boost and 
</p>
<p>buck-boost converters additionally contain a right half-plane zero. Finally, we have seen how to utilize 
</p>
<p>these results in the design of converter control systems. 
</p>
<p>What are the basic de and small-signal ac equivalent circuits of converters operating in the dis-
</p>
<p>continuous conduction mode (DCM)? It was found in Chapter 5 that, in DCM, the output voltage 
</p>
<p>becomes load-dependent: the conversion ratio M(D, K) is a function of the dimensionless parameter 
</p>
<p>K = 2L/RTs, which in turn is a function of the load resistance R. So the converter no longer has a voltage-
</p>
<p>source output characteristic, and hence the de transformer model is less appropriate. In this chapter, the 
</p>
<p>averaged switch modeling [1-8] approach is employed, to derive equivalent circuits of the DCM switch 
</p>
<p>network. 
</p>
<p>In Section 11.1, it is shown that the loss-free resistor model [9-11] is the averaged switch model 
</p>
<p>of the DCM switch network. This equivalent circuit represents the steady-state and large-signal dynamic 
</p>
<p>characteristics of the DCM switch network, in a clear and simple manner. In the discontinuous conduc-
</p>
<p>tion mode, the average transistor voltage and current obey Ohm's law, and hence the transistor is mod-
</p>
<p>eled by an effective resistor Re. The average diode voltage and current obey a power source 
</p>
<p>characteristic, with power equal to the power effectively dissipated in Re. Therefore, the diode is modeled 
</p>
<p>with a dependent power source. </p>
<p/>
</div>
<div class="page"><p/>
<p>410 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>DC AC 
</p>
<p>1 :M(D) 
</p>
<p>+ + 
</p>
<p>CCM Vg R V v(s) R 
</p>
<p>DCM 
</p>
<p>r&middot;&middot;-------------------1 r&middot;&middot;----------------------------------------------------------------------------------1 
</p>
<p>vg u&middot; ? or ' : "''{]! ' i g - I 
! : 
: - ' 
</p>
<p>,_ ____________________ J ' !--. ----' 
[_ ___________________________________________________________________________________ _] 
</p>
<p>R 
</p>
<p>Fig. 11.1 The objective of this chapter is the derivation of large-signal de and small-signal ac equivalent circuit 
models for converters operating in the discontinuous conduction mode. 
</p>
<p>Since most converters operate in discontinuous conduction mode at some operating points, 
</p>
<p>small-signal ac DCM models are needed, to prove that the control systems of such converters are cor-
</p>
<p>rectly designed. In Section 11.2, a small-signal model of the DCM switch network is derived by linear-
</p>
<p>ization of the loss-free resistor model. The transfer functions of DCM converters are quite different from 
</p>
<p>their respective CCM transfer functions. The basic DCM buck, boost, and buck-boost converters essen-
</p>
<p>tially exhibit simple single-pole transfer functions [12, 13], in which the second pole and the RHP zero 
</p>
<p>(in the case of boost and buck-boost converters) are at high frequencies. So the basic converters operating 
</p>
<p>in DCM are easy to control; for this reason, converters are sometimes purposely operated in DCM for all 
</p>
<p>loads. The transfer functions of higher order converters such as the DCM Cuk or SEPIC are considerably 
</p>
<p>more complicated; but again, one pole is shifted to high frequency, where it has negligible practical 
</p>
<p>effect. This chapter concludes, in Section 11.3, with a discussion of a more detailed analysis used to pre-
</p>
<p>dict high-frequency dynamics of DCM converters. The more detailed analysis predicts that the high-fre-
</p>
<p>quency pole of DCM converters occurs at frequencies near or exceeding the switching frequency [2-6]. 
</p>
<p>The RHP zero, in the case of DCM buck-boost and boost converters, also occurs at high frequencies. 
</p>
<p>This is why, in practice, the high-frequency dynamics can usually be neglected in DCM. 
</p>
<p>11.1 DCMAVERAGED SWITCH MODEL 
</p>
<p>Consider the buck-boost convet:ter of Fig. 11.2. Let us follow the averaged switch modeling approach of 
</p>
<p>Section 7 .4, to derive an equivalent circuit that models the averaged terminal waveforms of the switch 
</p>
<p>network. The general two-switch network and its terminal quantities v1(t), i1(t), vz(t), and i2(t) are defined 
as illustrated in Fig. 11.2, consistent with Fig. 7 .39(a). The inductor and switch network voltage and cur-
</p>
<p>rent waveforms are illustrated in Fig. 11.3, for DCM operation. 
</p>
<p>The inductor current is equal to zero at the beginning of each switching period. During the first 
</p>
<p>subinterval, while the transistor conducts, the inductor current increases with a slope of v gCt)IL. At the </p>
<p/>
</div>
<div class="page"><p/>
<p>11.1 DCM Averaged Switch Model 411 
</p>
<p>Switch network 
.----llil-+f'..,'''''''''''''''''''''''''''''''''.-'''_---+-, ........ i2_~-----. 
</p>
<p>+ 
</p>
<p>+ C R 
+ 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>Fig. 11.2 Buck-boost converter example, with switch network terminal quantities identified. 
</p>
<p>end of the first subinterval, the inductor current iL(t) attains the peak value given by 
</p>
<p>(11.1) 
</p>
<p>During the second subinterval, while the diode conducts, the inductor current decreases with a slope 
</p>
<p>equal to v(t)IL. The second subinterval ends when the diode becomes reverse-biased, at time 
</p>
<p>t = (di + d2)Ts. The inductor current then remains at zero for the balance of the switching period. The 
inductor voltage is zero during the third subinterval. 
</p>
<p>A DCM averaged switch model can be derived with reference to the waveforms of Fig. 11.3. 
</p>
<p>Following the approach of Section 7.4.2, let us find the average values of the switch network terminal 
</p>
<p>waveforms vI (t), v2(t), i I (t), and iit) in terms of the converter state variables (inductor currents and 
</p>
<p>capacitor voltages), the input voltage vgCt), and the subinterval lengths d1 and d2&bull; 
</p>
<p>The average switch network input voltage (vi(t))I:,' or the average transistor voltage, is found by 
</p>
<p>averaging the vI (t) waveform of Fig. 11.3: 
</p>
<p>Use of the identity d3(t) = 1 - di (t)- d2(t) yields 
</p>
<p>Similar analysis leads to the following expression for the average diode voltage: 
</p>
<p>( v2(t)) T, = d 1(t)( ( vg(t)) T,- ( v(t)) T,) + d2(t)&middot;0 + d 3(t)(- ( v(t)) T,) 
</p>
<p>= d 1(tl( vg(t)) T,- ( 1 - d 2(t) )(v(t)) T, 
</p>
<p>(11.2) 
</p>
<p>(11.3) 
</p>
<p>( 11.4) 
</p>
<p>The average switch network input current (ii(t))T, is found by integrating the ii(t) waveform of Fig. 11.3 
</p>
<p>over one switching period: </p>
<p/>
</div>
<div class="page"><p/>
<p>412 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>i2(1) 
</p>
<p>0 
</p>
<p>v 
</p>
<p>ipk 
</p>
<p>(it(t))r l 
&middot; &middot;&middot;&middot;&middot;&middot;&middot; &middot;- &middot;&middot;&middot;-----~-- ~---&middot;&middot;&middot;&middot;&middot;-- -~--
</p>
<p>(v1(t))r 
&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull; J ............ . ......... . 
</p>
<p>0 
</p>
<p>ipk Area q2 1 
</p>
<p>(i2(1))r l 
&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-~ -- -- &middot;&middot;&middot;&middot; &middot;~- - -&middot; &middot; &middot;--&middot; &middot;&middot;&middot;r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; .. f&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>Fig. 11.3 Inductor and switch network 
</p>
<p>voltage and current waveforms. 
</p>
<p>( 11.5) 
</p>
<p>The integral q1 is equal to the area under the i1(t) wave-
</p>
<p>form during the first subinterval. This area is easily eval-
</p>
<p>uated using the triangle area formula: 
</p>
<p>(11.6) 
</p>
<p>Substitution of Eqs. (11.1) and (11.6) into Eq. (11.5) 
</p>
<p>gives: 
</p>
<p>(11.7) 
</p>
<p>Note that (i1(t))Ts is not equal to d1(iL(t))Ts" Since the 
</p>
<p>inductor current ripple is not small, it is necessary to 
</p>
<p>sketch the actual input current waveform, including the 
</p>
<p>large switching ripple, and then correctly compute the 
</p>
<p>average as in Eqs. (11.5) to ( 11.7). 
</p>
<p>The average diode current (ilt))Ts is found in a manner 
</p>
<p>similar to that used above for (i1(t))Ts: 
</p>
<p>(11.8) 
</p>
<p>The integral q2 is equal to the area under the ilt) wave-
</p>
<p>form during the second subinterval. This area is evalu-
</p>
<p>ated using the triangle area formula: 
</p>
<p>(11.9) 
</p>
<p>Substitution of Eqs. (11.1) and (11.9) into Eq. (11.8) 
</p>
<p>leads to: 
</p>
<p>(11.10) 
</p>
<p>Equations (11.3), (11.4), (11.7) and (11.10) constitute 
</p>
<p>the averaged terminal equations of the switch network in 
</p>
<p>the DCM buck-boost converter. In these equations, it 
</p>
<p>remains to express the subinterval length d2 in terms of 
</p>
<p>the switch duty cycle d1 = d, and the converter averaged 
</p>
<p>waveforms. One approach to finding the subinterval 
</p>
<p>length d2 is by solving the inductor current waveform. In 
</p>
<p>the buck-boost converter, the diode switches off when 
</p>
<p>the inductor current reaches zero, at the end of the sec-</p>
<p/>
</div>
<div class="page"><p/>
<p>11.1 DCM Averaged Switch Model 413 
</p>
<p>ond subinterval. As a result, iL(T,) = iL(O) = 0. There is no net change in inductor current over one com-
plete switching period, and no net volt-seconds are applied to the inductor over any complete switching 
</p>
<p>period that starts at the time when the transistor is turned on. Therefore, the average inductor voltage 
</p>
<p>computed over this period is zero, 
</p>
<p>(11.11) 
</p>
<p>even when the converter is not in equilibrium. This equation can be used to find the length of the second 
</p>
<p>subinterval: 
</p>
<p>(11.12) 
</p>
<p>Substitution ofEq. (11.12) into Eqs. (11.3), (11.4), (11.7) and (11.10), allows us to obtain simple expres-
</p>
<p>sions for the averaged terminal waveforms of the switch network in the discontinuous conduction mode: 
</p>
<p>(11.13) 
</p>
<p>(11.14) 
</p>
<p>(11.15) 
</p>
<p>(11.16) 
</p>
<p>Let us next construct an equivalent circuit corresponding to the averaged switch network equations 
</p>
<p>(11.15) and (11.16). The switch network input port is modeled by Eq. (11.15). This equation states that 
</p>
<p>the average input current (i1(t))r, is proportional to the applied input voltage (v1(t))r,. In other words, the 
low-frequency components of the switch network input port obey Ohm's law: 
</p>
<p>(11.17) 
</p>
<p>where the effective resistance Re is 
</p>
<p>(11.18) 
</p>
<p>An equivalent circuit is illustrated in Fig. 11.4. During the first subinterval, the slope of the input current 
</p>
<p>waveform i1(t) is proportional to the input voltage (vgCt))Ts = (v1(t))Ts' as illustrated in Fig. 11.3. As a 
result, the peak current ipk' the total charge ql' and the average input current (i1(t))r,.' are also proportional 
</p>
<p>to (v 1(t))r,. Of course, there is no physical resistor inside the converter. Indeed, if the converter elements 
</p>
<p>are ideal, then no heat is generated inside the converter. Rather, the power apparently consumed by Re is 
</p>
<p>transferred to the switch network output port. </p>
<p/>
</div>
<div class="page"><p/>
<p>414 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>Fig. 11.4 Equivalent circuit that models the 
average waveforms of the switch input (transistor) 
port. 
</p>
<p>+ 
</p>
<p>The switch network output (diode) port is modeled by Eq. (11.16), or 
</p>
<p>(11.19) 
</p>
<p>Note that (v1(t))\!Re is the average power (p(t))T, apparently consumed by the effective resistor Rid1). 
Equation (11.19) states that this power flows out of the switch network output port. So the switch net-
</p>
<p>work consumes no net power-its average input and output powers are equal. 
</p>
<p>Equation ( 11.19) can also be derived by consideration of the inductor stored energy. During the 
</p>
<p>first subinterval, the inductor current increases from 0 to ipk' In the process, the inductor stores the fol-
</p>
<p>lowing energy: 
</p>
<p>(11.20) 
</p>
<p>Here, ipk has been expressed in terms of (v1(t))T, using Eqs. (11.1) and (11.13). This energy is transferred 
</p>
<p>from the source v8 , through the switch network input terminals (i.e., through the transistor), to the induc-
</p>
<p>tor. During the second subinterval, the inductor releases all of its stored energy through the switch net-
</p>
<p>work output terminals (i.e., through the diode), to the output. The average output power can therefore be 
</p>
<p>expressed as the energy transferred per cycle, divided by the switching period: 
</p>
<p>(11.21) 
</p>
<p>This power is transferred to the load, and hence 
</p>
<p>(11.22) 
</p>
<p>This result coincides with Eq. (11.19). 
</p>
<p>The average power (p(t))T, is independent of the load characteristics, and is determined solely 
</p>
<p>by the effective resistance Re and the applied switch network input terminal voltage or current. In other 
</p>
<p>words, the switch network output port behaves as a source of power, equal to the power apparently con-
</p>
<p>sumed by the effective resistance Re. This behavior is represented schematically by the dependent power 
</p>
<p>source symbol illustrated in Fig. 11.5. In any lossless two-port network, when the voltage and current at 
</p>
<p>one port are independent of the characteristics of the external network connected to the second port, then 
</p>
<p>the second port must exhibit a dependent power source characteristic [10]. This situation arises in anum-</p>
<p/>
</div>
<div class="page"><p/>
<p>11.1 DCM Averaged Switch Model 415 
</p>
<p>i(t) 
</p>
<p>(a) 
i(t) 
</p>
<p>(b) 
v(t)i(t) = p(t) 
</p>
<p>+ 
</p>
<p>p(t) v(t) v(t) 
</p>
<p>Fig. 11.5 The dependent power source: (a) schematic symbol, (b) i-v characteristic. 
</p>
<p>ber of common power-processing applications, including switch networks operating in the discontinuous 
</p>
<p>conduction mode. 
</p>
<p>The power source characteristic illustrated in Fig. ll.S(b) is symmetrical with respect to voltage 
</p>
<p>and current; in consequence, the power source exhibits several unique properties. Similar to the voltage 
</p>
<p>source, the ideal power source must not be short-circuited; otherwise, infinite current occurs. And similar 
</p>
<p>to the current source, the ideal power source must not be open-circuited, to avoid infinite terminal volt-
</p>
<p>age. The power source must be connected to a load capable of absorbing the power p(t), and the operat-
</p>
<p>ing point is defined by the intersection of the load and power source i-v characteristics. 
</p>
<p>As illustrated in Fig. 11.6(a), series- and parallel-connected power sources can be combined 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Fig. 11.6 Circuit manipulations of power source elements: (a) combination of series- and parallel- connected 
</p>
<p>power sources into a single equivalent power source, (b) invariance of the power source to reflection through an ideal 
</p>
<p>transformer of arbitrary turns ratio. </p>
<p/>
</div>
<div class="page"><p/>
<p>416 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>(a) il (t) ,------------ -------------------, iit) 
</p>
<p>+ + 
</p>
<p>( vz(t)) T 
s 
</p>
<p>Fig. 11.7 (a) the general two-switch network, and (b) the corresponding averaged switch model in the discontinu-
</p>
<p>ous conduction mode: the average transistor waveforms obey Ohm's law, while the average diode waveforms behave 
</p>
<p>as a dependent power source. 
</p>
<p>into a single power source, equal to the sum of the powers of the individual sources. Fig. 11.6(b) illus-
</p>
<p>trates how reflection of a power source through a transformer, having an arbitrary turns ratio, leaves the 
</p>
<p>power source unchanged. Power sources are also invariant to duality transformations. 
</p>
<p>The averaged large-signal model of the general two-switch network in DCM is illustrated in 
</p>
<p>Fig. 11.7(b). The input port behaves effectively as resistance Re. The instantaneous power apparently 
</p>
<p>consumed by Re is transferred to the output port, and the output port behaves as a dependent power 
</p>
<p>source. This lossless two-port network is called the lossjree resistor model (LFR) [9]. The loss-free 
</p>
<p>resistor represents the basic power conversion properties of DCM switch networks [11]. It can be shown 
</p>
<p>that the loss-free resistor models the averaged properties of DCM switch networks not only in the buck-
</p>
<p>boost converter, but also in other PWM converters. 
</p>
<p>When the switch network of the DCM buck-boost converter is replaced by the averaged model 
</p>
<p>of Fig. 11.7(b), the converter equivalent circuit of Fig. 11.8 is obtained. Upon setting all averaged wave-
</p>
<p>forms to their quiescent values, and letting the inductor and capacitor become a short-circuit and an 
</p>
<p>open-circuit, respectively, we obtain the de model of Fig. 11.9. 
</p>
<p>Systems containing power sources or loss-free resistors can usually be easily solved, by equat-
</p>
<p>ing average source and load powers. For example, in the de network of Fig. 11.9, the power flowing into 
</p>
<p>the converter input terminals is 
</p>
<p>(11.23) 
</p>
<p>+ 
</p>
<p>( vz(t)) T 
s 
</p>
<p>+ 
</p>
<p>+ + c R 
</p>
<p>Fig. 11.8 Replacement of the switch network of the DCM buck-boost converter with the loss-free resistor model. </p>
<p/>
</div>
<div class="page"><p/>
<p>11.1 DCM Averaged Switch Model 417 
</p>
<p>Fig. 11.9 De network example containing 
</p>
<p>a loss-free resistor model. 
</p>
<p>The power flowing into the load resistor is 
</p>
<p>p 
</p>
<p>.----------.-.. 
</p>
<p>The loss-free resistor model states that these two powers must be equal: 
</p>
<p>Solution for the voltage conversion ratio M = V/V8 yields 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>(11.24) 
</p>
<p>( 11.25) 
</p>
<p>(11.26) 
</p>
<p>Equation (11.26) is a general result, valid for any converter that can be modeled by a loss-free resistor 
</p>
<p>and that drives a resistive load. Other arguments must be used to determine the polarity of V/V8 . In the 
</p>
<p>buck-boost converter shown in Fig. 11.2, the diode polarity indicates that V!Vg must be negative. The 
</p>
<p>steady-state value of Re is 
</p>
<p>(11.27) 
</p>
<p>where D is the quiescent transistor duty cycle. Substitution of Eq. ( 11.27) into ( 11.26) leads to 
</p>
<p>(11.28) 
</p>
<p>with K = 2L!RTs. This equation coincides with the previous steady-state result given in Table 5.2. 
Similar arguments apply when the waveforms contain ac components. For example, consider 
</p>
<p>the network of Fig. 11.10, in which the voltages and currents are periodic functions of time. The rms val-
</p>
<p>il (t) iz(t) 
</p>
<p>+ 
</p>
<p>Fig. 11.10 Ac network example p(t) 
</p>
<p>containing a loss-free resistor model. Re 
.....----.... c R v(t) </p>
<p/>
</div>
<div class="page"><p/>
<p>418 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>ues of the waveforms can be determined by simply equating the average source and load powers. The 
</p>
<p>average power flowing into the converter input port is 
</p>
<p>(11.29) 
</p>
<p>where Pav is the average power consumed by the effective resistance Re. No average power is consumed 
</p>
<p>by capacitor C, and hence the average power Pav must flow entirely into the load resistor R: 
</p>
<p>p = v;ms 
av R 
</p>
<p>(11.30) 
</p>
<p>Upon equating Eqs. (11.29) and (11.30), we obtain 
</p>
<p>(11.31) 
</p>
<p>Thus, the rms terminal voltages obey the same relationship as in the de case. 
</p>
<p>Averaged equivalent circuits of the DCM buck, boost, and buck-boost converters, as well as the 
</p>
<p>DCM Cuk and SEPIC converters, are listed in Fig. 11.11. In each case, the averaged transistor wave-
</p>
<p>forms obey Ohm's law, and are modeled by an effective resistance Re. The averaged diode waveforms 
</p>
<p>follow a power source characteristic, equal to the power effectively dissipated in Re. For the buck, boost, 
</p>
<p>and buck-boost converters, Re is given by 
</p>
<p>(11.32) 
</p>
<p>For the Cuk and SEPIC converters, Re is given by 
</p>
<p>(11.33) 
</p>
<p>Here, dis the transistor duty cycle. 
</p>
<p>Steady-state conditions in the converters of Fig. 11.11 are found by letting the inductors and 
</p>
<p>capacitors become short-circuits and open-circuits, respectively, and then solving the resulting de circuits 
</p>
<p>with d(t) = D. The buck-boost, Cuk, and SEPIC then reduce to the circuit of Fig. 1 1.9. The buck and 
</p>
<p>boost converters reduce to the circuits of Fig. 11.12. Equilibrium conversion ratios M = V!Vg of these 
converters are summarized in Table 11.1, as functions of Re(D). It can be shown that these converters 
</p>
<p>operate in the discontinuous conduction mode whenever the load current I is less than the critical current 
</p>
<p>/crit: 
</p>
<p>I &gt; I cril for CCM 
I &lt; I ceil for DCM 
</p>
<p>For all of these converters, Icrit is given by 
</p>
<p>1-D vg 
I ceil= ---y;-- R/D) 
</p>
<p>(11.34) 
</p>
<p>(11.35) </p>
<p/>
</div>
<div class="page"><p/>
<p>11.1 DCM Averaged Switch Model 419 
</p>
<p>Buck 
</p>
<p>+ 
</p>
<p>Boost 
</p>
<p>+ 
</p>
<p>Buck-boost 
</p>
<p>+ 
</p>
<p>c 
</p>
<p>Cuk 
</p>
<p>+ 
</p>
<p>SEPIC 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>Fig. 11.11 Averaged large-signal equivalent circuits of five basic converters operating in the discontinuous con-
</p>
<p>duction mode. </p>
<p/>
</div>
<div class="page"><p/>
<p>420 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>(b) 
.---------r----i&lt;4 ~~-----, 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 11.12 De equivalent circuits representing the buck (a) and boost (b) converters operating in DCM. 
</p>
<p>Table 11.1 CCM and DCM conversion ratios of basic converters 
</p>
<p>Converter M,CCM M,DCM 
</p>
<p>Buck D 
2 
</p>
<p>1 +-/1 +4R)R 
</p>
<p>Boost 1 1 + -/1 +4R/Re 
1-D 2 
</p>
<p>Buck-boost, Cuk -D -VI 1-D Re 
SEPIC D VI 1-D 
</p>
<p>11.2 SMALL-SIGNAL AC MODELING OF THE DCM SWITCH NETWORK 
</p>
<p>The next step is construction of a small-signal equivalent circuit model for converters operating in the 
</p>
<p>discontinuous conduction mode. In the large-signal ac equivalent circuits. of Fig. 11.11, the averaged 
</p>
<p>switch networks are nonlinear. Hence, construction of a small-signal ac model involves perturbation and 
</p>
<p>linearization of the loss-free resistor network. The signals in the large-signal averaged DCM switch net-
</p>
<p>work model of Fig. 11.13(a) are perturbed about a quiescent operating point, as follows: </p>
<p/>
</div>
<div class="page"><p/>
<p>11.2 Small-Signal AC Modeling of the DCM Switch Network 421 
</p>
<p>(a) (i1(t))T (izCt))T 
s s 
</p>
<p>+ (p(t)) T + 
s .......------.. 
</p>
<p>(vi(t))T R.(d) 
(vz&lt;t))T 
</p>
<p>s 
s 
</p>
<p>r d(t) 
(b) 
</p>
<p>+ + 
</p>
<p>Fig. 11.13 Averaged models of the general two-switch network in a converter operating in DCM: (a) large-signal 
</p>
<p>model, (b) small-signal model. 
</p>
<p>d(t) = D + J(t) 
</p>
<p>(vi(t))r =VI+ iW) 
s 
</p>
<p>(ii(t))r =II +i1(t) 
s 
</p>
<p>( V2(t)) Ts = V2 + Vit) 
</p>
<p>(iit))r =12 +iit) 
s 
</p>
<p>(11.36) 
</p>
<p>Here, D is the quiescent value of the transistor duty cycle, V1 is the quiescent value of the applied average 
</p>
<p>transistor voltage (v1(t))r,&bull; etc. The quantities d(t), v1(t), etc., are small ac variations about the respective 
quiescent values. It is desired to linearize the average switch network terminal equations ( 11.15) and 
</p>
<p>(11.16). 
</p>
<p>Equations (11.15) and (11.16) express the average terminal currents (i1 (t))rs and (i2(t))Ts as func-
</p>
<p>tions of the transistor duty cycle d(t) = d1(t) and the average terminal voltages (v1(t))Ts and (vz(t))Ts. Upon 
perturbation and linearization of these equations, we will therefore find that i1(t) and iz(t) are expressed 
</p>
<p>as linear functions of d(t), v1(t), and v2(t). So the small-signal switch network equations can be written in 
the following form: 
</p>
<p>(11.37) 
</p>
<p>These equations describe the two-port equivalent circuit of Fig. 11.13(b ). </p>
<p/>
</div>
<div class="page"><p/>
<p>422 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>The parameters rl' jl' and g 1 can be found by Taylor expansion of Eq. (11.15), as described in 
</p>
<p>Section 7.2.7. The average transistor current (i1(t))T.,' Eq. (11.15), can be expressed in the following form: 
</p>
<p>(11.38) 
</p>
<p>Let us expand this expression in a three-dimensional Taylor series, about the quiescent operating point 
</p>
<p>(Vp V2, D): 
</p>
<p>(11.39) 
</p>
<p>+ higher-order nonlinear terms 
</p>
<p>For simplicity of notation, the angle brackets denoting average values are dropped in the above equation. 
</p>
<p>The de terms on both sides of Eq. (11.39) must be equal: 
</p>
<p>(11.40) 
</p>
<p>As usual, we linearize the equation by discarding the higher-order nonlinear terms. The remaining first-
</p>
<p>order linear ac terms on both sides of Eq. ( 11.39) are equated: 
</p>
<p>where 
</p>
<p>1 
RJD) 
</p>
<p>1 _ a.t;( vl, v2, d) I __ ____\'L aR/dl I 
1 - ad d = D- R;(D) ad d = D 
</p>
<p>2V1 
</p>
<p>DRJD) 
</p>
<p>(ll.41) 
</p>
<p>(11.42) 
</p>
<p>( 11.43) 
</p>
<p>(11.44) 
</p>
<p>Thus, the small-signal input resistance r1 is equal to the effective resistance Re, evaluated at the quiescent 
</p>
<p>operating point. This term describes how variations in (v 1(t))r, affect (i1(t))r,&bull; via Re(D). The small-signal </p>
<p/>
</div>
<div class="page"><p/>
<p>11.2 Small-Signal AC Modeling of the DCM Switch Network 423 
</p>
<p>parameter g1 is equal to zero, since the average transistor current (i1(t))Ts is independent of the average 
</p>
<p>diode voltage (v2(t))T.. The small-signal gain j 1 describes how duty cycle variations, which affect the 
</p>
<p>value of R.(d), lead t~ variations in (i1(t))r,-
In a similar manner, (i2(t))rs from Eq. (11.16) can be expressed as 
</p>
<p>(11.45) 
</p>
<p>Expansion of the functionfz(vp v2, d) in a three-dimensional Taylor series about the quiescent operating 
</p>
<p>point leads to 
</p>
<p>( 11.46) 
</p>
<p>+ higher-order nonlinear terms 
</p>
<p>By equating the de terms on both sides ofEq. (11.46), we obtain 
</p>
<p>(11.47) 
</p>
<p>The higher-order nonlinear terms are discarded, leaving the following first-order linear ac terms: 
</p>
<p>(11.48) 
</p>
<p>with 
</p>
<p>(11.49) 
</p>
<p>(11.50) 
</p>
<p>j _ ilfz(Vt, Vz,d) I --~ dRe(d) I 
2 - dd d = D- R;(D) V2 dd d = D (11.51) 
</p>
<p>2V1 
DMReCD) 
</p>
<p>The output resistance r2 describes how variations in (vz(t))rs influence (i2(t))r,- As illustrated in Fig. 11.14, </p>
<p/>
</div>
<div class="page"><p/>
<p>424 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>Fig. 11.14 The small-signal output resistance 
</p>
<p>r2 is determined by the slope of the power 
source characteristic at the quiescent operating 
</p>
<p>point. 
</p>
<p>Table 11.2 Small-signal DCM switch model parameters 
</p>
<p>Switch network gl jl rl 
</p>
<p>General 
2V1 two-switch, 0 Re 
</p>
<p>Fig. 11.7(a) DR. 
</p>
<p>Buck, 1 2(1-M)V1 
R. Fig. 11.16( a) R. DR. 
</p>
<p>Boost, 1 2MV1 (M -1)2 R 
Fig. 11.16(b) (M -1)2 R. D(M -1)R. M2 &middot; e 
</p>
<p>g2 
</p>
<p>2 
MRe 
</p>
<p>2-M 
MR. 
</p>
<p>2M-1 
</p>
<p>(M -1)2 R. 
</p>
<p>Load 
characteristic 
</p>
<p>1 
R 
</p>
<p>(v2(t))T 
s 
</p>
<p>j2 r2 
</p>
<p>2V1 
M2Re 
</p>
<p>DMR. 
</p>
<p>2(1-M)V1 
M2Re 
</p>
<p>DMR. 
</p>
<p>2V1 
(M -1)2R. 
</p>
<p>D(M -1)R. 
</p>
<p>r2 is determined by the slope of the power source characteristic, evaluated at the quiescent operating 
point. For a linear resistive load, r2 = R. For any type of load, it is true that r2 = M2R.(D). The parameters 
j 2 and g2 describe how variations in the duty cycle d(t) and in the average transistor voltage (v1(t))Ts 
(which influence the average power (p(t))Ts) lead to variations in the average diode current (i2(t))Ts. Values 
of the small-signal parameters in the DCM switch model of Fig. 11.13(b) are summarized in the top row 
of Table 11.2. 
</p>
<p>A small-signal model of the DCM buck-boost converter is obtained by replacing the transistor 
and diode of the converter with the switch model of Fig. 11.13(b). The result is illustrated in Fig. 11.15. 
This equivalent circuit can now be solved using conventional linear circuit analysis techniques, to deter-
mine the transfer functions and other small-signal quantities of interest. 
</p>
<p>The same small-signal switch model can be employed to model other DCM converters, by sim-
ply replacing the transistor and diode with ports 1 and 2, ,respectively, of the two-port model of 
Fig. 11.13(b ). An alternative approach, which yields more convenient results in the analysis of the buck 
and boost converters, is to define the switch network as illustrated in Figs. 11.16(a) and 11.16(b), respec-
tively. These switch networks can also be modeled using the two-port small-signal equivalent circuit of 
Fig. 11.16(c); however, new expressions for the parameters rl'jl' gl' etc., must be derived. These expres-
sions are again found by linearizing the equations of the averaged switch network terminal currents. </p>
<p/>
</div>
<div class="page"><p/>
<p>11.2 Small-Signal AC Modeling of the DCM Switch Network 425 
</p>
<p>Switch network small-signal ac model 
il r&middot;&middot;-----------------------------------------------------------------------------------------------------------------------------------------------------~ i2 
</p>
<p>+ 
</p>
<p>+ 
</p>
<p>i) + 
g -
</p>
<p>c R 
L--------------------------------&middot;-------------&middot;----------------------------------------------&middot;------------------------------------------------------_1 
</p>
<p>L 
</p>
<p>Fig. 11.15 Small-signal ac model of the DCM buck-boost converter obtained by insertion of the switch network 
</p>
<p>two-port small-signal model into the original converter circuit. 
</p>
<p>(a) (b) 
</p>
<p>(c) 
</p>
<p>+ + 
</p>
<p>Fig. 11.16 A convenient way to model the switch networks of DCM buck and boost converters: (a) defined termi-
</p>
<p>nal quantities of the DCM buck switch network, (b) defined terminal quantities of the boost switch network, (c) two-
</p>
<p>port small-signal ac model. The model parameters are given in Table 11.2. 
</p>
<p>Table 11.2 lists the small-signal parameters for the buck switch network of Fig. 11.16(a) (middle row) 
</p>
<p>and for the boost switch network of Fig. 11.16(b) (bottom row). Insertion of the small-signal two-port 
</p>
<p>model into the DCM buck and boost converters leads to the equivalent circuits of Fig. 11.17. 
</p>
<p>The small-signal equivalent circuit models of Fig. 11.15 and Fig. 11.17 contain two dynamic 
</p>
<p>elements: capacitor C and inductor L. Control-to-output transfer functions obtained by solving these 
</p>
<p>equivalent circuit models have two poles. It has been shown [2-6] that one of the poles, due to the capac-
</p>
<p>itor C, appears at a low frequency, while the other pole (and a RHP zero in the case of boost and buck-</p>
<p/>
</div>
<div class="page"><p/>
<p>426 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>(a) &bull; DCM buck switch network small-signal ac model &bull; 
j I ;----------------------------------------------------------------------------------------------------------------------------------] 12 
</p>
<p>+ + + 
</p>
<p>R 
</p>
<p>DCM boost switch network small-signal ac model &bull; 
it r&middot;-------------------------------------------------------------------------------------------------------------------1 l2 
</p>
<p>+ + + 
</p>
<p>R 
</p>
<p>1...&middot;--------&middot;-&middot;--&middot;&middot;&middot;&middot;-------------&middot;&middot;&middot;-&middot;--------&middot;-&middot;&middot;&middot;-------&middot;-----------------&middot;----------------&middot;-----------&middot;&middot;-------------' 
</p>
<p>Fig. 11.17 Small-signal ac models of (a) the DCM buck converter, and (b) the DCM boost converter, obtained by 
</p>
<p>replacing the switch networks defined in Fig. 11.16(a) and (b) with the small-signal switch model of Fig. 11.16(c). 
</p>
<p>boost converters) due to the inductor L, occurs at much higher frequency, close to the converter switching 
</p>
<p>frequency. Therefore, in practice, the DCM buck, boost, and buck-boost converters exhibit essentially 
</p>
<p>single-pole transfer functions, which are negligibly influenced by the inductor dynamics. 
</p>
<p>The small-signal equivalent circuit models have been derived in this section from the large-sig-
</p>
<p>nal averaged switch network equations (11.15) and (11.16). These equations are based on Eq. (11.11), 
</p>
<p>which states that the average inductor voltage, and therefore its small-signal ac voltage, is zero. This con-
</p>
<p>tradicts predictions of the resulting small-signal models in Figs. 11.15 and 11.17. As a result, we expect 
</p>
<p>that the models derived in this section can be used to predict low-frequency dynamics, while predictions 
</p>
<p>of the high-frequency dynamics due to the inductor L are of questionable validity. Equivalent circuit 
</p>
<p>models that give more accurate predictions of high-frequency dynamics of DCM converters are dis-
</p>
<p>cussed in Section 11.3. 
</p>
<p>A simple approximate way to determine the low-frequency small-signal transfer functions of 
</p>
<p>the buck, boost, and buck-boost converters is to let the inductance L tend to zero. If L is shorted in the 
</p>
<p>equivalent circuits of Figs. 11.15 and 11.17, the model in all three cases reduces to Fig. 11.18. This cir-
</p>
<p>DCM switch network small-signal ac model 
r&middot;---------------------------------------------------------------------------------------------------------------------------------&middot;----------------------1 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>Fig. 11.18 Low-frequency ac model obtained by letting L approach zero. The buck, boost, or buck-boost convert-
</p>
<p>ers can be modeled, by employing the appropriate parameters from Table 11.2. </p>
<p/>
</div>
<div class="page"><p/>
<p>11.2 Small-Signal AC Modeling of the DCM Switch Network 421 
</p>
<p>cuit is relatively easy to solve. 
</p>
<p>The control-to-output transfer function Gvis) is found by letting vg = 0 in Fig. 11.18. Solution 
for v then leads to 
</p>
<p>with 
</p>
<p>Gdo = J2(RIIr2) 
</p>
<p>(,\) =--'-
p (RIIr2)C 
</p>
<p>( 11.52) 
</p>
<p>(11.53) 
</p>
<p>The line-to-output transfer function Gv/s) is found by letting d = 0 in Fig. 11.18. One then obtains 
</p>
<p>(11.54) 
</p>
<p>with 
</p>
<p>( 11.55) 
</p>
<p>Expressions for Gdo&bull; G80, and WP are listed in Table 11.3, for the DCM buck, boost, and buck-boost con-
</p>
<p>verters with resistive loads [12,13]. 
</p>
<p>The ac modeling approach described in this section is both general and useful. The transistor 
</p>
<p>and diode of a DCM converter can be simply replaced by the two-port network of Fig. 11.13(b ), leading 
</p>
<p>to the small-signal ac model. Alternatively, the switch network can be defined as in Fig. 11.16(a) or 
</p>
<p>11.16(b), and then modeled by the same two-port network, Fig. 11.16(c). The small-signal converter 
</p>
<p>model can then be solved via conventional circuit analysis techniques, to obtain the small-signal transfer 
</p>
<p>functions of the converter. 
</p>
<p>Table 11.3 Salient features of DCM converter small-signal transfer functions 
</p>
<p>Converter Gdo Ggo (,\)p 
</p>
<p>Buck 2V 1-M M 2-M 
D2-M (1-M)RC 
</p>
<p>Boost 2V M-1 M 2M -1 
D2M-1 (M-l)RC 
</p>
<p>Buck-boost v M 2 
75 RC </p>
<p/>
</div>
<div class="page"><p/>
<p>428 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>11.2.1 Example: Control-to-Output Frequency Response 
</p>
<p>of a DCM Boost Converter 
</p>
<p>As a simple numerical example, let us find the small-signal control-to-output transfer function of a DCM 
</p>
<p>boost converter having the following element and parameter values: 
</p>
<p>R= 12Q 
</p>
<p>L=5J.tH 
</p>
<p>C =470J.tF 
</p>
<p>j, =100kHz 
</p>
<p>(11.56) 
</p>
<p>The output voltage is regulated to be V = 36 V. It is desired to determine Gvis) at the operating point 
</p>
<p>where the load current is I= 3 A and the de input voltage is V8 = 24 V. 
</p>
<p>The effective resistance Re(D) is found by solution of the de equivalent circuit of Fig. 11.12(b ). 
</p>
<p>~ince the load current I and the input and output voltages V and V8 are known, the power source value P 
</p>
<p>IS 
</p>
<p>P = I ( V - V8 ) = ( 3 A) ( 36 V - 24 V) = 36 W 
</p>
<p>The effective resistance is therefore 
</p>
<p>v2 2 
R ------"-- (24 V) - 16 Q 
,- P - 36W -
</p>
<p>The steady-state duty cycleD can now be found using Eq. (11.32): 
</p>
<p>D=fll:i = 2(5 J.tH) (16 Q)(lO J.tS) = 0&middot;25 
The expressions given in Table 11.3 for G dO and WP of the boost converter can now be evaluated: 
</p>
<p>( (36V) 1) 
</p>
<p>G - 2V M- 1 - 2(36 V) (24V)- 72 V ~ 37 dBV 
dO- D 2M - 1 - (0.25) ( (36 V) ) 
</p>
<p>2 (24 V) - 1 
</p>
<p>(2 (36 V) _ 1) 
w (24 V) 
</p>
<p>t, P 2M - 1 = 112Hz 
&middot; P = 2n = 2n(M- 1)RC ( (36 V) ) 
</p>
<p>2n (24 V)- 1 (12 Q)(470 J.tF) 
</p>
<p>( 11.57) 
</p>
<p>( 11.58) 
</p>
<p>(11.59) 
</p>
<p>(11.60) 
</p>
<p>A Bode diagram of the control-to-output transfer function is constructed in Fig. 11.19. The solid lines 
</p>
<p>illustrate the magnitude and phase predicted by the approximate single-pole model of Fig. 11.18. The 
</p>
<p>dashed lines are the predictions of the more accurate model discussed in Section 11.3, which include a 
</p>
<p>second pole atf2 =64kHz and a RHP zero atfz = 127kHz, arising from the inductor dynamics. Since the 
switching frequency is 100 kHz, the accuracy of the model at these frequencies cannot be guaranteed. 
</p>
<p>Nonetheless, in practice, the lagging phase asymptotes arising from the inductor dynamics can be </p>
<p/>
</div>
<div class="page"><p/>
<p>11.2 Small-Signal AC Modeling of the DCM Switch Network 429 
</p>
<p>60dBV 
</p>
<p>II Gvd II 
40dBV Gdo =&gt; 37 dBV 
</p>
<p>II Gvd II 
20dBV 
</p>
<p>OdBV 
</p>
<p>0" 
-20dBV 
</p>
<p>-40dBV --.,.---=,.....------+ -90" 
&middot;&middot;&middot;&middot; ... 
</p>
<p>-180' 
</p>
<p>4--------+-----+-----r-------+ -270' 
10Hz 100Hz 1kHz lOkHz 100kHz 
</p>
<p>f 
</p>
<p>Fig. 11.19 Magnitude and phase of the control-to-output transfer function, DCM boost example. Solid lines: func-
</p>
<p>tion and its asymptotes, approximate single-pole response predicted by the model of Fig. 11.18. Dashed lines: more 
</p>
<p>accurate response that includes high-frequency inductor dynamics. 
</p>
<p>observed beginning atj2/10 = 6.4 kHz. 
</p>
<p>11.2.2 Example: Control-to-Output Frequency Responses 
</p>
<p>of a CCM/DCM SEPIC 
</p>
<p>As another example, consider the SEPIC of Fig. 11.20. According to Eq. (11.34), this converter operates 
</p>
<p>in CCM if 
</p>
<p>(11.61) 
</p>
<p>where R.(D) is given by Eq. ( 11.33 ). Upon neglecting losses in the converter, one finds that the CCM 
</p>
<p>conversion ratio is 
</p>
<p>(11.62) 
</p>
<p>When Eqs. (11.33) and (11.62) are substituted into Eq. (11.61), the condition for operation in CCM 
</p>
<p>becomes: 
</p>
<p>(11.63) 
</p>
<p>The converter control-to-output frequency responses are generated using Spice ac simulations. Details of </p>
<p/>
</div>
<div class="page"><p/>
<p>430 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>(a) 
</p>
<p>~ 
ill Ql 
</p>
<p>D = 0.4 
f, =100kHz 
</p>
<p>Fig. 11.20 SEPIC example. 
</p>
<p>80dBV 
</p>
<p>60dBV 
</p>
<p>40dBV 
</p>
<p>20dBV 
</p>
<p>OdBV 
R =40Q 
</p>
<p>-20dBV 
</p>
<p>-40dBV 
</p>
<p>200i!F 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>load 
</p>
<p>-90" 
</p>
<p>-180" 
</p>
<p>+--------&lt;c------+---~---+------+ -270" 
</p>
<p>5Hz 50Hz 500Hz 5kHz 50 kHz 
</p>
<p>f 
</p>
<p>Fig. 11.21 Magnitude and phase of the control-to-output transfer function obtained by simulation of the SEPIC 
</p>
<p>example shown in Fig. 11.20, for two values of the load resistance: R = SOQ when the converter operates in DCM 
(solid lines), and R = 40Q for which the converter operates in CCM (dashed lines). 
</p>
<p>the simulation setup are described in Appendix B, Section B.2.1. Figure 11.21 shows magnitude and 
</p>
<p>phase responses of the control-to-output transfer function obtained for two different values of the load 
</p>
<p>resistance: R = 40 Q, for which the converter operates in CCM, and R = 50 Q, for which the converter 
</p>
<p>operates in DCM. For these two operating points, the quiescent (de) voltages and currents in the circuit 
</p>
<p>are nearly the same. Nevertheless, the frequency responses are qualitatively very different in the two 
</p>
<p>operating modes. In CCM, the converter exhibits a fourth-order response with two pairs of high-Q com-
</p>
<p>plex-conjugate poles and a pair of complex-conjugate zeros. Another RHP (right-half plane) zero can be 
</p>
<p>observed at frequencies approaching 50 kHz. In DCM, there is a dominant low-frequency pole followed </p>
<p/>
</div>
<div class="page"><p/>
<p>11.3 High-Frequency Dynamics of Converters in DCM 431 
</p>
<p>by a pair of complex-conjugate poles and a pair of complex-conjugate zeros. The frequencies of the com-
</p>
<p>plex poles and zeros are very close in value. A high-frequency pole and a RHP zero contribute additional 
</p>
<p>phase lag at higher frequencies. 
</p>
<p>11.3 HIGH-FREQUENCY DYNAMICS OF CONVERTERS IN DCM 
</p>
<p>As discussed in Section 11.2, transfer functions of converters operating in discontinuous conduction 
</p>
<p>mode exhibit a dominant low-frequency pole. A pole and possibly a zero caused by inductor dynamics, 
</p>
<p>are pushed to high frequencies. To correctly model the high-frequency dynamics ofDCM converters, one 
</p>
<p>must account for the fact that the ac voltage across the inductor is not zero. Equation ( 11.12) is employed 
</p>
<p>in Section 11.1 to greatly simplify the equations of the DCM averaged switch model. Although this 
</p>
<p>model gives good results at low frequencies, it cannot accurately predict high frequency inductor dynam-
</p>
<p>ics because it implies that the ac inductor voltage is zero. 
</p>
<p>A more accurate approach is employed in this section. The subinterval length d2 is found by 
</p>
<p>averaging the inductor current waveform iL(t) of Fig. 11.3 [4-6]: 
</p>
<p>(11.64) 
</p>
<p>Solution for dit) yields: 
</p>
<p>( 11.65) 
</p>
<p>Equation (11.65), together with Eqs. (11.3), (11.4), (11.7), and (11.10), constitutes a large-signal aver-
</p>
<p>aged model in DCM that can be used to investigate steady-state behavior, as well as low-frequency and 
</p>
<p>high-frequency dynamics. Unfortunately, the model equations are more involved, and do not allow elim-
</p>
<p>ination of all converter voltages and currents in terms of the switch network average terminal waveforms. 
</p>
<p>Let us use this model to find predictions for the high-frequency pole caused by the inductor 
</p>
<p>dynamics of DCM converters. Consider the buck-boost converter of Fig. 11.2 having the DCM wave-
</p>
<p>forms shown in Fig. 11.3. The average transistor voltage (v1(t))7;&middot; and the average diode current (i2(t))T, 
</p>
<p>are selected as the switch network dependent variables. Substitution of Eq. (11.65) into Eq. (11.3) yields 
</p>
<p>(11.66) 
</p>
<p>The averaged switch voltage (v1(t))7;&middot; in Eq. (11.66) is a nonlinear function of the switch duty cycle, the 
</p>
<p>average inductor current, and the average input and output voltages: 
</p>
<p>(11.67) 
</p>
<p>A small-signal ac model can be obtained by Taylor expansion of Eq. (11.67). The small-signal ac compo-
</p>
<p>nent v1 of the average switch voltage can be found as: </p>
<p/>
</div>
<div class="page"><p/>
<p>432 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>+ 
+ 
</p>
<p>+ 
</p>
<p>C R 
</p>
<p>L 
</p>
<p>Fig. 11.22 A small -signal ac model of the DCM bock -boost converter. 
</p>
<p>( 11.68) 
</p>
<p>where the small-signal model parameters kg, kv, rp andf1 are computed as partial derivatives ofy1 evalu-
</p>
<p>ated at the quiescent operating point. In particular, 
</p>
<p>( 11.69) 
</p>
<p>Substitution of Eq. (11.65) into Eq. (11.10) yields 
</p>
<p>(11.70) 
</p>
<p>The small-signal ac component 12 of the average diode current can be found as: 
</p>
<p>(11.71) 
</p>
<p>where the small-signal model parameters gg, h2, andj2 are computed as partial derivatives ofy2 evaluated 
</p>
<p>at the quiescent operating point. Figure 11.22 shows the small-signal ac model of the buck-boost con-
</p>
<p>verter, where the transistor and the diode switch are replaced by the sources specified by Eqs. ( 11.68) and 
</p>
<p>(11.71), respectively. It can be shown that this model predicts essentially the same low-frequency 
</p>
<p>dynamics as the model derived in Section 11.2. 
</p>
<p>To find the control-to-output transfer function, we set Og = 0. At high frequencies, the small-sig-
nal ac component of the capacitor voltage is very small, 0 "' 0. Therefore, the contribution of the depen-
</p>
<p>dent source kvO can be neglected at high frequencies. Then, from the equivalent circuit model of 
</p>
<p>Fig. 11.22, we have 
</p>
<p>(11.72) 
</p>
<p>Equation (11.72) can be solved for the control-to-inductor current transfer function at high frequencies: </p>
<p/>
</div>
<div class="page"><p/>
<p>11.3 High-Frequency Dynamics of Converters in DCM 433 
</p>
<p>(11.73) 
</p>
<p>where the pole frequency f2 is given by 
</p>
<p>(11.74) 
</p>
<p>To simplify the expression for the pole frequency f 2, we use the steady-state relationship that follows 
from Eq. (11.12): 
</p>
<p>(11.75) 
</p>
<p>Also, recall that the steady-state equivalent resistance Re(D) can be written as 
</p>
<p>(11.76) 
</p>
<p>where fs is the switching frequency. Upon substitution of Eqs. (11.69), (11.75) and (11.76) into 
Eq. (11.74) we get: 
</p>
<p>, _ __&pound;_ 
12- nDz 
</p>
<p>(11.77) 
</p>
<p>This is an expression for the frequency f2 of the high-frequency pole that is caused by the inductor 
dynamics of the DCM buck-boost converter. It can be shown that Eq. (11.77) is a general result for the 
</p>
<p>high-frequency pole, valid for all basic converters operating in DCM. Since 0 &lt; D2 &lt; 1, Eq. (11.77) 
implies that the high-frequency pole is always greater than approximately one third of the switching fre-
</p>
<p>quency. 
</p>
<p>Table 11.4 summarizes the expressions for the high-frequency pole ffi2 and the RHP zero (l)z 
</p>
<p>caused by the inductor dynamics in control-to-output transfer functions Gvis) of basic DCM converters 
[6]. The high-frequency pole and the RHP zero occur at frequencies close to or exceeding the switching 
</p>
<p>frequency fs. This is why, in practice, the high-frequency inductor dynamics can usually be neglected. 
</p>
<p>Table 11.4 High-frequency pole and RHP zero of the DCM converter control-to-output transfer function GvJs) 
</p>
<p>Converter High-frequency pole w2 RHP zero w, 
</p>
<p>Buck 
2M f.. 
</p>
<p>none 
D(l-M) 
</p>
<p>Boost 2(M- 1)/, 2fs 
D D 
</p>
<p>Buck-boost 21Mifs 2!, 
-D- D </p>
<p/>
</div>
<div class="page"><p/>
<p>434 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>11.4 SUMMARY OF KEY POINTS 
</p>
<p>1. In the discontinuous conduction mode, the average transistor voltage and cunent are proportional, and 
</p>
<p>hence obey Ohm's law. An averaged equivalent circuit can be obtained by replacing the transistor with an 
</p>
<p>effective resistor R_(d). The average diode voltage and cunent obey a power source characteristic, with 
power equal to the power effectively dissipated by Re. In the averaged equivalent circuit, the diode is 
</p>
<p>replaced with a dependent power source. 
</p>
<p>2. The two-port lossless network consisting of an effective resistor and power source, which results from 
</p>
<p>averaging the transistor and diode waveforms of DCM converters, is called a loss-free resistor. This net-
</p>
<p>work models the basic power-processing functions of DCM converters, much in the same way that the 
</p>
<p>ideal de transformer models the basic functions of CCM converters. 
</p>
<p>3. The large-signal averaged model can be solved under equilibrium conditions to determine the quiescent 
</p>
<p>values of the converter currents and voltages. Average power arguments can often be used. 
</p>
<p>4. A small-signal ac model for the DCM switch network can be derived by perturbing and linearizing the 
</p>
<p>loss-free resistor network. The result has the form of a two-port y-parameter model. The model describes 
</p>
<p>the small-signal variations in the transistor and diode currents, as functions of variations in the duty cycle 
</p>
<p>and in the transistor and diode ac voltage variations. 
</p>
<p>5. To simplify the ac analysis of the DCM buck and boost converters, it is convenient to define two other 
</p>
<p>forms of the small-signal switch model, corresponding to the switch networks of Figs. 11.16(a) and 
</p>
<p>11.16(b ). These models are also y-parameter two-port models, but have different parameter values. 
</p>
<p>6. The inductor dynamics of the DCM buck, boost, and buck-boost converters occur at high frequency, above 
</p>
<p>or just below the switching frequency. Hence, in most cases the high frequency inductor dynamics can be 
</p>
<p>ignored. In the small-signal ac model, the inductance L is set to zero, and the remaining model is solved 
</p>
<p>relatively easily for the low-frequency converter dynamics. The DCM buck, boost, and buck-boost con-
</p>
<p>verters exhibit transfer functions containing essentially a single low-frequency dominant pole. 
</p>
<p>7. To obtain a more accurate model of the inductor dynamics in DCM, it is necessary to write the equations 
</p>
<p>of the averaged inductor waveforms in a way that does not assume that the average inductor voltage is 
</p>
<p>zero. 
</p>
<p>REFERENCES 
</p>
<p>[1] V. VORPERIAN, R. TYMERSKI, and F. C. LEE, "Equivalent Circuit Models for Resonant and PWM 
</p>
<p>Switches," IEEE Transactions on Power Electronics, Vol. 4, No.2, pp. 205-214, Apri\1989. 
</p>
<p>[2] V. VORPERIAN, "Simplified Analysis of PWM Converters Using the Model of the PWM Switch," parts I 
</p>
<p>and II, IEEE Transactions on Aerospace and Electronic Systems, Vol. 26, No.3, May 1990, pp. 490-505. 
</p>
<p>[3] D. MAKSIMOVIC and S. CUK, "A Unified Analysis of PWM Converters in Discontinuous Modes," IEEE 
</p>
<p>Transactions on Power Electronics, Vol. 6, No.3, pp. 476-490, July 1991. 
</p>
<p>[4] J. SUN, D. M. MITCHELL, M. GREUEL, P. T. KREIN, and R. M. BASS, "Averaged Modelling of PWM Con-
</p>
<p>verters in Discontinuous Conduction Mode: a Reexamination," IEEE Power Electronics Specialists Con-
</p>
<p>ference, 1998 Record, pp. 615-622, June 1998. 
</p>
<p>[5] S. BEN-Y AAKOV and D. ADAR, "Average Models as Tools for Studying Dynamics of Switch Mode 
</p>
<p>DC-DC Converters," IEEE Power Electronics Specialists Conference, 1994 Record, pp. 1369-1376, June 
</p>
<p>1994. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 435 
</p>
<p>[6] J. SUN, D. M. MITCHELL, M. GREUEL, P. T. KREIN, and R. M. BASS, "Average Models for PWM Convert-
ers in Discontinuous Conduction Mode," Proceedings of the 1998 International High Frequency Power 
</p>
<p>Coversion Conference (HFPC'98), pp. 61-72, November 1998. 
</p>
<p>[7] A. WITULSKI and R. ERICKSON, "Extension of State-Space Averaging to Resonant Switches -and 
</p>
<p>Beyond," IEEE Transactions on Power Electronics, Vol. 5, No. 1, pp. 98-109, January 1990. 
</p>
<p>[8] S. FREELAND and R. D. MIDDLEBROOK, "A Unified Analysis of Converters with Resonant Switches," 
</p>
<p>IEEE Power Electronics Specialists Conference, 1987 Record, pp. 20-30, June 1987. 
</p>
<p>[9] S. SINGER, "Realization of Loss-Free Resistive Elements," IEEE Transactions on Circuits and Systems, 
</p>
<p>Vol. CAS-36, No. 12, January 1990. 
</p>
<p>[10] S. SINGER and R.W. ERICKSON, "Power-Source Element and Its Properties," lEE Proceedings-Circuits 
Devices and Systems, Vol. 141, No.3, pp. 220-226, June 1994. 
</p>
<p>[11] S. SINGER and R. ERICKSON, "Canonical Modeling of Power Processing Circuits Based on the POPI Con-
</p>
<p>cept," IEEE Transactions on Power Electronics, Vol. 7, No. 1, January 1992. 
</p>
<p>[12] S. CUK and R. D. MIDDLEBROOK, "A General Unified Approach to Modeling Switching De-to-De Con-
</p>
<p>verters in Discontinuous Conduction Mode," IEEE Power Electronics Specialists Conference, 1977 
Record, pp. 36-57. 
</p>
<p>[13] S. CUK, "Modeling, Analysis, and Design of Switching Converters," Ph.D. Thesis, California Institute of 
</p>
<p>Technology, November 1976. 
</p>
<p>PROBLEMS 
</p>
<p>11.1 Averaged switch modeling of a flyback converter. The converter of Fig. 11.23 operates in the discontinu-
ous conduction mode. The two-winding inductor has a 1:n turns ratio and negligible leakage inductance, 
</p>
<p>and can be modeled as an ideal transformer in parallel with primary-side magnetizing inductance LP. 
</p>
<p>(a) Sketch the transistor and diode voltage and current waveforms, and derive expressions for their 
</p>
<p>average values. 
</p>
<p>(b) Sketch an averaged model for the converter that includes a loss-free resistor network, and give 
</p>
<p>an expression for R.(d). 
</p>
<p>(c) Solve your model to determine the voltage ratio VIV8 in the discontinuous conduction mode. 
</p>
<p>(d) Over what range of load current/ is your answer of part (c) valid? Express the DCM boundary in 
</p>
<p>the form I&lt; lcrilD, Re, V8, n). 
</p>
<p>(e) Derive an expression for the small-signal control-to-output transfer function Gvd(s). You may 
neglect inductor dynamics. 
</p>
<p>11.2 Averaged switch modeling of a nonisolated Watkins-Johnson converter. The converter of Fig. 11.24 
operates in the discontinuous conduction mode. The two-winding inductor has a 1:1 turns ratio and neg-
</p>
<p>ligible leakage inductance, and can be modeled as an ideal transformer in parallel with magnetizing 
</p>
<p>inductance L. 
</p>
<p>(a) Sketch the transistor and diode voltage and current waveforms, and derive expressions for their 
</p>
<p>average values. 
</p>
<p>(b) Sketch an averaged model for the converter that includes a loss-free resistor network, and give 
</p>
<p>an expression for Re(d). </p>
<p/>
</div>
<div class="page"><p/>
<p>436 AC and DC Equivalent Circuit Modeling of the Discontinuous Conduction Mode 
</p>
<p>+ 
</p>
<p>c R v 
+ 
</p>
<p>Fig. 11.23 Fly back converter, Problem 11.1. 
</p>
<p>+ 
</p>
<p>+ c R v 
</p>
<p>Fig. 11.24 Watkins-Johnson converter, Problem 11.2. 
</p>
<p>(c) Solve your model to determine the converter conversion ratio M(D) = VNg in the discontinuous 
</p>
<p>conduction mode. Over what range of load currents is your expression valid? 
</p>
<p>11.3 Sketch the steady-state output characteristics of the buck-boost converter: plot the output voltage V vs. 
</p>
<p>the load current/, for several values of duty cycle D. Include both CCM and DCM operation, and clearly 
</p>
<p>label the boundary between modes. 
</p>
<p>11.4 In the network of Fig. 11.25, the power source waveform p(t) is given by 
</p>
<p>p(t) = 1000 cos2 377! 
</p>
<p>The circuit operates in steady state. Determine the rms resistor voltage VR,rms&middot; 
</p>
<p>11.5 Verify the expressions for G dO and wp given in Table 11.3. 
</p>
<p>11.6 A certain buck converter operates with an input voltage of Vg = 28 V and an output voltage of V = 15 V. 
</p>
<p>The load resistance is R =lOQ. Other element and parameter values are: L = 8~-tH, C = 220~-tF, 
</p>
<p>fs =150kHz. 
(a) Determine the value of Re. 
</p>
<p>(b) Determine the quiescent duty cycle D. 
</p>
<p>(c) Sketch a Bode plot of the control-to-output transfer function Gvd(s). Label the values of all 
</p>
<p>salient features. You may neglect inductor dynamics. 
</p>
<p>11.7 Using the approach of Section 11.3, determine the control-to-output transfer function Gvd(s) of a boost 
</p>
<p>converter. Do not make the approximation L"' 0. </p>
<p/>
</div>
<div class="page"><p/>
<p>p(t) 
</p>
<p>Fig. 11.25 Network with a power source, Problem 11.4. 
</p>
<p>Cz 
</p>
<p>300 i!F 
</p>
<p>R 
20Q 
</p>
<p>Problems 437 
</p>
<p>+ 
</p>
<p>(a) Derive analytical expressions for the de gain G dO and the RHP zero frequency w2, as functions of 
M, Re, D, Vg, L, C, and R. 
</p>
<p>(b) With the assumption that C is sufficiently large and that L is sufficiently small, the poles of 
</p>
<p>Gvis) can be factored using the low-Q approximation. Do so, and express the two poles as func-
</p>
<p>tions of M, D, L, C, and R. Show that the low-frequency pole matches the expression in 
</p>
<p>Table 11.3, and that the high-frequency pole is given by the expression in Table 11.4. </p>
<p/>
</div>
<div class="page"><p/>
<p>12 
Current Programmed Control 
</p>
<p>So far, we have discussed duty ratio control of PWM converters, in which the converter output is con-
</p>
<p>trolled by direct choice of the duty ratio d(t). We have therefore developed expressions and small-signal 
</p>
<p>transfer functions that relate the converter waveforms and output voltage to the duty ratio. 
</p>
<p>Another control scheme, which finds wide application, is current programmed control [1-13], 
</p>
<p>in which the converter output is controlled by choice of the peak transistor switch current peak(i,(t)). The 
</p>
<p>control input signal is a current ic(t), and a simple control network switches the transistor on and off, such 
</p>
<p>that the peak transistor current follows iJt). The transistor duty cycle d(t) is not directly controlled, but 
</p>
<p>depends on iJt) as well as on the converter inductor currents, capacitor voltages, and power input volt-
</p>
<p>age. Converters controlled via current programming are said to operate in the current programmed mode 
</p>
<p>(CPM). 
</p>
<p>The block diagram of a simple current programmed controller is illustrated in Fig. 12.1. Control 
</p>
<p>signal iJt) and switch current i,(t) waveforms are given in Fig. 12.2. A clock pulse at the Set input of a 
</p>
<p>latch initiates the switching period, causing the latch output Q to be high and turning on the transistor. 
While the transistor conducts, its current i,(t) is equal to the inductor current iL(t); this current increases 
</p>
<p>with some positive slope m1 that depends on the value of inductance and the converter voltages. In more 
</p>
<p>complicated converters, i,(t) may follow the sum of several inductor currents. Eventually, the switch cur-
</p>
<p>rent i,(t) becomes equal to the control signal ic(t). At this point, the controller turns the transistor switch 
</p>
<p>off, and the inductor current decreases for the remainder of the switching period. The controller must 
</p>
<p>measure the switch current (.(t) with some current sensor circuit, and compare i,(t) to i/t) using an ana-
</p>
<p>log comparator. In practice, voltages proportional to i,(t) and i,(t) are compared, with constant of propor-
</p>
<p>tionality Rr When i,(t) :2: iJt), the comparator resets the latch, turning the transistor off for the remainder 
</p>
<p>of the switching period. 
</p>
<p>As usual, a feedback loop can be constructed for regulation of the output voltage. The output 
</p>
<p>voltage v(t) is compared to a reference voltage v,ef' to generate an error signal. This error signal is applied </p>
<p/>
</div>
<div class="page"><p/>
<p>440 Current Programmed Control 
</p>
<p>Measure 
switch 
</p>
<p>current 
</p>
<p>Control 
input 
</p>
<p>is(t) 
</p>
<p>Analog 
comparator 
</p>
<p>LL 
0 T, 
</p>
<p>c 
</p>
<p>Latch 
</p>
<p>Current-programmed controller 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>Conventional output voltage controller 
</p>
<p>R 
</p>
<p>r---------------------------------------------------------------------------------1 
</p>
<p>I ~~ I L----+-1 
I 
! 
j 
[ __________________________________________________________________________________ : 
</p>
<p>Fig. 12.1 Current-programmed control of a buck converter. The peak transistor current replaces the duty cycle as 
</p>
<p>the control input. 
</p>
<p>Fig. 12.2 Switch current i,(t) and 
</p>
<p>control input iJt) waveforms, for the 
</p>
<p>current-programmed system ofFig. 
</p>
<p>12.1. 
</p>
<p>0 
Transistor : 
</p>
<p>status: 1 
</p>
<p>t 
Clock turns 
transistor on 
</p>
<p>on 
</p>
<p>Control signal 
ic(t) 
</p>
<p>current 
is(t) 
</p>
<p>dTs 
</p>
<p>t 
Comparator turns 
transistor off 
</p>
<p>off </p>
<p/>
</div>
<div class="page"><p/>
<p>12.1 Oscillation forD&gt; 0.5 441 
</p>
<p>to the input of a compensation network, and the output of the compensator drives the control signal 
</p>
<p>ic(t)Rr To design such a feedback system, we need to model how variations in the control signal Vt) and 
in the line input voltage v lt) affect the output voltage v(t). 
</p>
<p>The chief advantage of the current programmed mode is its simpler dynamics. To first order, the 
</p>
<p>small-signal control-to-output transfer function v(s)!ic(s) contains one less pole than v(s)fd(s). Actually, 
</p>
<p>this pole is moved to a high frequency, near the converter switching frequency. Nonetheless, simple 
</p>
<p>robust wide-bandwidth output voltage control can usually be obtained, without the use of compensator 
</p>
<p>lead networks. It is true that the current programmed controller requires a circuit for measurement of the 
</p>
<p>switch current i/t); however, in practice such a circuit is also required in duty ratio controlled systems, 
</p>
<p>for protection of the transistor against excessive currents during transients and fault conditions. Current 
</p>
<p>programmed control makes use of the available current sensor information during normal operation of 
</p>
<p>the converter, to obtain simpler system dynamics. Transistor failures due to excessive switch current can 
</p>
<p>then be prevented simply by limiting the maximum value of ic(t). This ensures that the transistor will tum 
</p>
<p>off whenever the switch current becomes too large, on a cycle-by-cycle basis. 
</p>
<p>An added benefit is the reduction or elimination of transformer saturation problems in full-
</p>
<p>bridge or push-pull isolated converters. In these converters, small voltage imbalances induce a de bias in 
</p>
<p>the transformer magnetizing current; if sufficiently large, this de bias can saturate the transformer. The de 
</p>
<p>current bias increases or decreases the transistor switch currents. In response, the current programmed 
</p>
<p>controller alters the transistor duty cycles, such that transformer volt-second balance tends to be main-
</p>
<p>tained. Current-programmed full-bridge isolated buck converters should be operated without a capacitor 
</p>
<p>in series with the transformer primary winding; this capacitor tends to destabilize the system. For the 
</p>
<p>same reason, current-programmed control of half-bridge isolated buck converters is generally avoided. 
</p>
<p>A disadvantage of current programmed control is its susceptibility to noise in the i,(t) or iJt) 
</p>
<p>signals. This noise can prematurely reset the latch, disrupting the operation of the controller. In particu-
</p>
<p>lar, a small amount of filtering of the sensed switch current waveform is necessary, to remove the tum-on 
</p>
<p>current spike caused by the diode stored charge. Addition of an artificial ramp to the current-programmed 
</p>
<p>controller, as discussed in Section 12.1, can also improve the noise immunity of the circuit. 
</p>
<p>Commercial integrated circuits that implement current programmed control are widely avail-
</p>
<p>able, and operation of converters in the current programmed mode is quite popular. In this chapter, con-
</p>
<p>verters operating in the current programmed mode are modeled. In Section 12.1, the stability of the 
</p>
<p>current programmed controller and its inner switch-current-sensing loop is examined. It is found that this 
</p>
<p>controller is unstable whenever converter steady-state duty cycleD is greater than 0.5. The current pro-
</p>
<p>grammed controller can be stabilized by addition of an artificial ramp signal to the sensed switch current 
</p>
<p>waveform. In Section 12.2, the system small-signal transfer functions are described, using a simple first-
</p>
<p>order model. The averaged terminal waveforms of the switch network can be described by a simple cur-
</p>
<p>rent source, in conjunction with a power source element. Perturbation and linearization leads to a simple 
</p>
<p>small-signal model. Although this first-order model yields a great deal of insight into the control-to-out-
</p>
<p>put transfer function and converter output impedance, it does not predict the line-to-output transfer func-
</p>
<p>tion Gv/s) of current-programmed buck converters. Hence, the model is refined in Section 12.3. Section 
</p>
<p>12.4 extends the modeling of current programmed converters to the discontinuous conduction mode. 
</p>
<p>12.1 OSCILLATION FORD&gt; 0.5 
</p>
<p>The current programmed controller of Fig. 12.1 is unstable whenever the steady-state duty cycle is 
</p>
<p>greater than 0.5. To avoid this stability problem, the control scheme is usually modified, by addition of an 
</p>
<p>artificial ramp to the sensed switch current waveform. In this section, the stability of the current pro-
</p>
<p>grammed controller, with its inner switch-current-sensing loop, is analyzed. The effects of the addition of </p>
<p/>
</div>
<div class="page"><p/>
<p>442 Current Programmed Control 
</p>
<p>Fig. 12.3 Inductor current waveform of 
</p>
<p>a current-programmed converter operating 
</p>
<p>in the continuous conduction mode. 
</p>
<p>the artificial ramp are explained, using a simple first-order discrete-time analysis. Effects of the artificial 
</p>
<p>ramp on controller noise susceptibility is also discussed. 
</p>
<p>Figure 12.3 illustrates a generic inductor current waveform of a switching converter operating 
</p>
<p>in the continuous conduction mode. The inductor current changes with a slope rn1 during the first sub-
</p>
<p>interval, and a slope - rn2 during the second subinterval. For the basic nonisolated converters, the slopes 
</p>
<p>rn 1 and- rn2 are given by 
</p>
<p>Buck converter 
</p>
<p>v8 -v v 
rnl =-L~ -rnz=-r 
</p>
<p>Boost converter 
</p>
<p>vg- v 
-rnz=-L~ 
</p>
<p>Buck-boost converter 
</p>
<p>- rnz =I 
</p>
<p>(12.1) 
</p>
<p>With knowledge of the slopes rn1 and- rn2, we can determine the general relationships between iL(O), ic, 
</p>
<p>iL(T,), and dT,. 
</p>
<p>During the first subinterval, the inductor current iL(t) increases with slope rnl' until iL(t) reaches 
</p>
<p>the control signal ic. Hence, 
</p>
<p>(12.2) 
</p>
<p>Solution for the duty cycle d leads to 
</p>
<p>(12.3) 
</p>
<p>In a similar manner, for the second subinterval we can write 
</p>
<p>i L(T,) = i L(dT,)- rn2d'T, ( 12.4) 
= iL(O) + rn 1dT,- rn2d'T, 
</p>
<p>In steady-state, iL(O) = iJT,), d = D, rn1 = M1, and rn2 = M2. Insertion of these relationships into Eq. (12.4) 
yields </p>
<p/>
</div>
<div class="page"><p/>
<p>12.1 Oscillation forD&gt; 0.5 443 
</p>
<p>[L(O) 
&middot;&middot;&middot;&middot;&middot;&middot; ! &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; ! &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; r LCTs) &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;si"eiidy-:.siaie&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>' waveform 
Fig. 12.4 Effect of initial pertur-
</p>
<p>bation iL (0) on inductor current 
</p>
<p>waveform. ml. ! lw &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>i dT ! 
</p>
<p>!! 
0 (D+d) Ts DTs 
</p>
<p>(12.5) 
</p>
<p>Or, 
</p>
<p>(12.6) 
</p>
<p>Steady-state Eq. (12.6) coincides with the requirement for steady-state volt-second balance on the induc-
</p>
<p>tor. 
</p>
<p>Consider now a small perturbation in iL(O): 
</p>
<p>iL(O) =lw+ iL(O) (12.7) 
</p>
<p>lw is a steady-state value of iL(O), which satisfies Eqs. (12.4) and (12.5), while iL(O) is a small perturba-
</p>
<p>tion such that 
</p>
<p>(12.8) 
</p>
<p>It is desired to assess the stability of the current-programmed controller, by determining whether this 
</p>
<p>small perturbation eventually decays to zero. To do so, let us solve for the perturbation after n switching 
periods, iL(nT3), and determine whether iL(nT.) tends to zero for large n. 
</p>
<p>The steady-state and perturbed inductor current waveforms are illustrated in Fig. 12.4. For clar-
</p>
<p>ity, the size of the inductor current perturbation iL(O) is exaggerated. It is assumed that the converter 
operates near steady-state, such that the slopes m1 and m2 are essentially unchanged. Figure 12.4 is 
</p>
<p>drawn for a positive iL(O); the quantity drs is then negative. Since the slopes of the steady-state and per-
</p>
<p>turbed waveforms are essentially equal over the interval 0 &lt; t &lt; (D + d)Ts, the difference between the 
waveforms is equal to iL(O) for this entire interval. Likewise, the difference between the two waveforms 
</p>
<p>is a constant iL(T,) over the interval DTs &lt; t &lt; Ts, since both waveforms then have the slope - m2. Note 
that iL(T) is a negative quantity, as sketched in Fig. 12.4. Hence, we can solve for iL(T3 ) in terms of iL(O), 
</p>
<p>by considering only the interval (D + d)Ts &lt; t &lt; DTs as illustrated in Fig. 12.5. 
</p>
<p>Fig. 12.5 Expanded view of the steady-state and 
</p>
<p>perturbed inductor current waveforms, near the peak 
</p>
<p>of iL(t). 
</p>
<p>Perturbed 
waveform </p>
<p/>
</div>
<div class="page"><p/>
<p>444 Current Programmed Control 
</p>
<p>From Fig. 12.5, we can use the steady-state waveform to express iL(O) as the slope ml' multi-
</p>
<p>plied by the interval length - dT,. Hence, 
</p>
<p>(12.9) 
</p>
<p>Likewise, we can use the perturbed waveform to express iL(T) as the slope- m2, multiplied by the inter-
</p>
<p>vallength - dTs: 
</p>
<p>(12.10) 
</p>
<p>Elimination of the intermediate variable J from Eqs. (12.9) and (12.10) leads to 
</p>
<p>iPs&gt; = i L(O) (- =~) (12.11) 
</p>
<p>If the converter operating point is sufficiently close to the quiescent operating point, then mz!m1 is given 
</p>
<p>approximately by Eq. (12.6). Equation (12.11) then becomes 
</p>
<p>o (T ) _ o (O) ( D ) 1Ls- 1 L -D' (12.12) 
</p>
<p>A similar analysis can be performed during the next switching period, to show that 
</p>
<p>i L(2T) = [ L(T,) (- g.) = i L(O) (- g) 2 (12.13) 
</p>
<p>After n switching periods, the perturbation becomes 
</p>
<p>[ L(nT,.) = [ L((n- l)Ts) (-g.)= [ L(O) (-g. r (12.14) 
Note that, as n tends to infinity, the perturbation iL(nT,) tends to zero provided that the characteristic 
</p>
<p>value- DID' has magnitude less than one. Conversely, the perturbation iL(nTs) becomes large in magni-
</p>
<p>tude when the characteristic value a=- DID' has magnitude greater than one: 
</p>
<p>when I-g I&lt; 1 
when I-g I&gt; 1 
</p>
<p>Therefore, for stable operation of the current programmed controller, we need I a I =DID'&lt; 1, or 
</p>
<p>D&lt;0.5 
</p>
<p>(12.15) 
</p>
<p>(12.16) 
</p>
<p>As an example, consider the operation of the boost converter with the steady-state terminal volt-
</p>
<p>ages V8 = 20 V, V = 50 V. Since VIV8 = liD', the boost converter should operate with D = 0.6. We there-
fore expect the current programmed controller to be unstable. The characteristic value will be </p>
<p/>
</div>
<div class="page"><p/>
<p>12.1 Oscillation forD&gt; 0.5 445 
</p>
<p>Fig. 12.6 Unstable oscillation forD= 0.6. 
</p>
<p>a=- g. = (- ~:~) =- 1.5 (12.17) 
</p>
<p>As given by Eq. (12.14), a perturbation in the inductor current will increase by a factor of- 1.5 over 
</p>
<p>every switching period. As illustrated in Fig. 12.6, the perturbation grows to- 1.5zL(O) after one switch-
</p>
<p>ing period, to+ 2.25iL(O) after two switching periods, and to- 3.375zL(O) after three switching periods. 
</p>
<p>For the particular initial conditions illustrated in Fig. 12.6, this growing oscillation saturates the current 
</p>
<p>programmed controller after three switching periods. The transistor remains on for the entire duration of 
</p>
<p>the fourth switching period. The inductor current and controller waveforms may eventually become 
</p>
<p>oscillatory and periodic in nature, with period equal to an integral number of switching periods. Alterna-
</p>
<p>tively, the waveforms may become chaotic. In either event, the controller does not operate as intended. 
</p>
<p>Figure 12.7 illustrates the inductor current waveforms when the output voltage is decreased to V 
</p>
<p>= 30 V. The boost converter then operates with D = 113, and the characteristic value becomes 
</p>
<p>_ D -( 113)-a - - D' - - 213 - - 0.5 (12.18) 
</p>
<p>Perturbations now decrease in magnitude by a factor of 0.5 over each switching period. A disturbance in 
</p>
<p>the inductor current becomes small in magnitude after a few switching periods. 
</p>
<p>The instability for D &gt; 0.5 is a well-known problem of current programmed control, which is 
</p>
<p>not dependent on the converter topology. The controller can be rendered stable for all duty cycles by 
</p>
<p>addition of an artificial ramp to the sensed switch current waveform, as illustrated in Fig. 12.8. This arti-
</p>
<p>T, 2T, 3T, 4T, 
</p>
<p>Fig. 12.7 A stable transient with D = 1/3. </p>
<p/>
</div>
<div class="page"><p/>
<p>446 Current Programmed Control 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>c v(t) R 
</p>
<p>: _________________________________________________________________ ! 
</p>
<p>r------------------------~------ ---------- --------------------------------------------------------------------------------------: 
! Measure t/t) ! 
</p>
<p>switch 
</p>
<p>Control 
input 
</p>
<p>Current-programmed controller 
</p>
<p>Fig. 12.8 Stabilization of the current programmed controller by addition of an artificial ramp to the measured 
</p>
<p>switch current waveform: (a) block diagram, (b) artificial ramp waveform. 
</p>
<p>ficial ramp has the qualitative effect of reducing the gain of the inner switch-current-sensing discrete 
</p>
<p>feedback loop. The artificial ramp has slope rna as shown. The controller now switches the transistor off 
</p>
<p>when 
</p>
<p>(12.19) 
</p>
<p>where ia(t) is the artificial ramp waveform. Therefore, the transistor is switched off when the inductor 
</p>
<p>current iL(t) is given by 
</p>
<p>(12.20) 
</p>
<p>Figure 12.9 illustrates the analog comparison of the inductor current waveform iL(t) with the quantity 
</p>
<p>[ic- ia(t)]. </p>
<p/>
</div>
<div class="page"><p/>
<p>12.1 Oscillation forD&gt; 0.5 447 
</p>
<p>Fig. 12.9 Addition of artificial ramp: 
</p>
<p>the transistor is now switched off when 
</p>
<p>iL(t) = ic- ia(t). 
fLO &bull;&middot;&middot;&middot;&middot;&bull;&bull;&bull;&middot;&bull;&bull;&bull;&bull;&bull;&middot;&bull;&middot;&middot;&middot;&middot;&middot;&middot;&bull;&middot;&bull;&middot;&bull;&middot;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&middot;&middot;&bull;&bull;&middot;&bull;&middot;&bull;&middot;&bull;&bull;&bull;&bull;&bull;&bull;&middot;&middot;&bull;&middot;&middot;&bull;&middot;&bull;&bull;&middot;&bull;&middot;&middot;&bull;&middot;&middot;&bull;&middot;&middot;&middot;&middot;&bull;&middot; 
</p>
<p>0 dT, T, 
</p>
<p>We can again determine the stability of the current programmed controller by analyzing the 
</p>
<p>change in a perturbation of the inductor current waveform over a complete switching period. Figure 
</p>
<p>12.10 illustrates steady-state and perturbed inductor current waveforms, in the presence of the artificial 
</p>
<p>ramp. Again, the magnitude of the perturbation iL(O) is exaggerated. The perturbed waveform is sketched 
</p>
<p>for a positive value of iL(O); this causes d, and usually also iL(T,), to be negative. If the perturbed wave-
forms are sufficiently close to the quiescent operating point, then the slopes m1 and m2 are essentially 
</p>
<p>unchanged, and the relationship between iL(O) and iL(T,) can be determined solely by consideration of the 
</p>
<p>interval (D + d)T, &lt; t &lt; DT,. The perturbations iL(O) and iL(T,) are expressed in terms of the slopes ml' m2, 
and rna, and the interval length- dT,, as follows: 
</p>
<p>(12.21) 
</p>
<p>(12.22) 
</p>
<p>Elimination of d yields 
</p>
<p>&bull; (T) &bull; (0) ( mz- rna) 
lL &middot;' =lL -mi+ma 
</p>
<p>(12.23) 
</p>
<p>A similar analysis can be applied to the n'h switching period, leading to 
</p>
<p>(12.24) 
</p>
<p>The evolution of inductor current perturbations are now determined by the characteristic value </p>
<p/>
</div>
<div class="page"><p/>
<p>448 Current Programmed Control 
</p>
<p>For large n, the perturbation magnitude tends to 
</p>
<p>when J aJ &lt; 1 
</p>
<p>whenJ aJ &gt; 1 
</p>
<p>(12.25) 
</p>
<p>(12.26) 
</p>
<p>Therefore, for stability of the current programmed controller, we need to choose the slope of the artificial 
</p>
<p>ramp ma such that the characteristic value a has magnitude less than one. The artificial ramp gives us an 
additional degree of freedom, which we can use to stabilize the system for duty cycles greater than 0.5. 
</p>
<p>Note that increasing the value of ma causes the numerator of Eq. (12.25) to decrease, while the denomi-
</p>
<p>nator increases. Therefore, the characteristic value a attains magnitude less than one for sufficiently large 
</p>
<p>In the conventional voltage regulator application, the output voltage v(t) is well regulated by the 
</p>
<p>converter control system, while the input voltage v/t) is unknown. Equation (12.1) then predicts that the 
</p>
<p>value of the slope m2 is constant and known with a high degree of accuracy, for the buck and buck-boost 
</p>
<p>converters. Therefore, let us use Eq. (12.6) to eliminate the slope m1 from Eq. (12.25), and thereby 
</p>
<p>express the characteristic value a as a function of the known slope m2 and the steady-state duty cycle D: 
</p>
<p>(12.27) 
</p>
<p>One common choice of artificial ramp slope is 
</p>
<p>(12.28) 
</p>
<p>It can be verified, by substitution of Eq. (12.28) into (12.27), that this choice leads to a=- 1 at D = 1, 
</p>
<p>and to I a I &lt; 1 for 0 ~ D &lt; 1. This is the minimum value of ma that leads to stability for all duty cycles. 
We will see in Section 12.3 that this choice of ma has the added benefit of causing the ideal line-to-output 
</p>
<p>transfer function Gv/s) of the buck converter to become zero. 
</p>
<p>Another common choice of ma is 
</p>
<p>(12.29) 
</p>
<p>This causes the characteristic value a to become zero for all D. As a result, iL(T,) is zero for any iL(O) that 
does not saturate the controller. The system removes any error after one switching period T,. This behav-
</p>
<p>ior is known as deadbeat control, or finite settling time. 
</p>
<p>It should be noted that the above stability analysis employs a quasi-static approximation, in 
</p>
<p>which the slopes m1 and m2 of the perturbed inductor current waveforms are assumed to be identical to 
</p>
<p>the steady-state case. In the most general case, the stability and transient response of a complete system 
</p>
<p>employing current programmed control must be assessed using a system-wide discrete time or sampled-
</p>
<p>data analysis. Nonetheless, in practice the above arguments are found to be sufficient for selection of the 
</p>
<p>artificial ramp slope ma. 
</p>
<p>Current-programmed controller circuits exhibit significant sensitivity to noise. The reason for 
</p>
<p>this is illustrated in Fig. 12.11(a), in which the control signal f/t) is perturbed by a small amount of noise </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 12.11 When noise perturbs a 
</p>
<p>controller signal such as ic, a perturba-
</p>
<p>tion in the duty cycle results: (a) with 
</p>
<p>no artificial ramp and small inductor 
</p>
<p>current ripple, the perturbation d is 
large; (b) an artificial ramp reduces the 
</p>
<p>controller gain, thereby reducing the 
</p>
<p>perturbation d. 
</p>
<p>12.2 A Simple First-Order Model 449 
</p>
<p>Perturbed 
waveform 
</p>
<p>ic ... :::t!,~::::::::::::::::::: .................................. :::::: ............... :::: ...... ~ 
T ~ 
</p>
<p>0 
</p>
<p>0 
</p>
<p>l~: 
</p>
<p>!JT, l 
!~] 
</p>
<p>Perturbed 
</p>
<p>DT, (D + d)T, 
</p>
<p>T, 
</p>
<p>T, 
</p>
<p>Steady-state 
waveform 
</p>
<p>represented by ic. It can be seen that, when there is no artificial ramp and when the inductor current rip-
ple is small, then a small perturbation in ic leads to a large perturbation in the duty cycle: the controller 
</p>
<p>has high gain. When noise is present in the controller circuit, then significant jitter in the duty cycle 
</p>
<p>waveforms may be observed. A solution is to reduce the gain of the controller by introduction of an arti-
</p>
<p>ficial ramp. As illustrated in Fig. 12.11(b), the same perturbation in ic now leads to a reduced variation in 
</p>
<p>the duty cycle. When the layout and grounding of the controller circuit introduce significant noise into 
</p>
<p>the duty cycle waveform, it may be necessary to add an artificial ramp whose amplitude is substantially 
</p>
<p>greater than the inductor current ripple. 
</p>
<p>12.2 A SIMPLE FIRST-ORDER MODEL 
</p>
<p>Once the current programmed controller has been constructed, and stabilized using an artificial ramp, 
</p>
<p>then it is desired to design a feedback loop for regulation of the output voltage. As usual, this voltage 
</p>
<p>feedback loop must be designed to meet specifications regarding line disturbance rejection, transient 
</p>
<p>response, output impedance, etc. A block diagram of a typical system is illustrated in Fig. 12.12, contain-
</p>
<p>ing an inner current programmed controller, with an outer voltage feedback loop. 
</p>
<p>To design the outer voltage feedback loop, an ac equivalent circuit model of the switching con-
</p>
<p>verter operating in the current programmed mode is needed. In Chapter 7, averaging was employed to 
</p>
<p>develop small-signal ac equivalent circuit models for converters operating with duty ratio control. These 
</p>
<p>models predict the circuit behavior in terms of variations d in the duty cycle. If we could find the rela-
</p>
<p>tionship between the control signal iJt) and the duty cycle d(t) for the current programmed controller, 
</p>
<p>then we could adapt the models of Chapter 7, to apply to the current programmed mode as well. In gen-
</p>
<p>eral, the duty cycle depends not only on ic(t), but also on the converter voltages and currents; hence, the 
</p>
<p>current programmed controller incorporates multiple effective feedback loops as indicated in Fig. 12.12. </p>
<p/>
</div>
<div class="page"><p/>
<p>450 Current Programmed Control 
</p>
<p>Switching converter 
</p>
<p>d(t) Converter 
voltages and 
currents 
</p>
<p>+ 
</p>
<p>R v(t) 
</p>
<p>Fig. 12.12 Block diagram of a converter system incorporating current programmed control. 
</p>
<p>In this section, the averaging approach is extended, as described above, to treat current pro-
</p>
<p>grammed converters. A simple first-order approximation is employed, in which it is assumed that the cur-
</p>
<p>rent programmed controller operates ideally, and hence causes the average inductor current ( iL(t) &gt;rs to be 
</p>
<p>identical to the control ic(t). This approximation is justified whenever the inductor current ripple and arti-
</p>
<p>ficial ramp have negligible magnitudes. The inductor current then is no longer an independent state of the 
</p>
<p>system, and no longer contributes a pole to the converter small-signal transfer functions. 
</p>
<p>This first-order model is derived in Section 12.2.1, using a simple algebraic approach. In Sec-
</p>
<p>tion 12.2.2, a simple physical interpretation is obtained via the averaged switch modeling technique. A 
</p>
<p>more accurate, but more complicated, model is described in Section 12.3. 
</p>
<p>12.2.1 Simple Model via Algebraic Approach: Buck-Boost Example 
</p>
<p>The power stage of a simple buck-boost converter operating in the continuous conduction mode is illus-
</p>
<p>trated in Fig. 12.13(a), and its inductor current waveform is given in Fig. 12.13(b). The small-signal aver-
</p>
<p>aged equations for this converter, under duty cycle control, were derived in Section 7.2. The result, 
</p>
<p>Eq. (7.43), is reproduced below: 
</p>
<p>L diJ;t) = Dvg(t) + D'v(t) + ( V8 - v)J(t) 
</p>
<p>c dv(t) =- D'i - v(t) +I d'(t) 
dt L R L 
</p>
<p>i g{t) = Dz L +I Ld(t) 
</p>
<p>The Laplace transforms of these equations, with initial conditions set to zero, are 
</p>
<p>(12.30) </p>
<p/>
</div>
<div class="page"><p/>
<p>12.2 A Simple First-Order Model 451 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>c R v(t) 
</p>
<p>(b) 
</p>
<p>0 dT, T, 
</p>
<p>Fig. 12.13 Buck-boost converter example: (a) power stage, (b) inductor current waveform. 
</p>
<p>sLl L(s) = Dvg(s) + D'v(s) + ( vg- v)d(s) 
</p>
<p>sC\i(s) =- D'! L(s)- v~) +I Ld(s) 
</p>
<p>i 8(s) = Di L(s) +I Ld(s) 
</p>
<p>(12.31) 
</p>
<p>We now make the assumption that the inductor current iL(s) is identical to the programmed control cur-
</p>
<p>rent ic(s). This is valid to the extent that the controller is stable, and that the magnitudes of the inductor 
</p>
<p>current ripple and artificial ramp waveform are sufficiently small: 
</p>
<p>(12.32) 
</p>
<p>This approximation, in conjunction with the inductor current equation of (12.31), can now be used to find 
</p>
<p>the relationship between the control current ic(s) and the duty cycle d(s), as follows: 
</p>
<p>(12.33) 
</p>
<p>Solution for d(s) yields 
</p>
<p>(12.34) 
</p>
<p>This small-signal expression describes how the current programmed controller varies the duty cycle, in 
</p>
<p>response to a given control input variation ic(s). It can be seen that d(s) depends not only on iJs), but also 
</p>
<p>on the converter output voltage and input voltage variations. Equation (12.34) can now be substituted 
</p>
<p>into the second and third lines of Eq. (12.31), thereby eliminating d(s). One obtains </p>
<p/>
</div>
<div class="page"><p/>
<p>452 Current Programmed Control 
</p>
<p>(b) 
</p>
<p>~-----------------------------------------------------------------------------------------------------------------! 
</p>
<p>I D' D ( 1 _ sLD ) [ R Jf 
0 
</p>
<p>! D'R vg D'zR c D 
! 
; 
</p>
<p>! 
' ~----------------------------------------------------------------------------------------------------------------j 
</p>
<p>Node 
</p>
<p>f 
sCv 
</p>
<p>c 
</p>
<p>v 
R 
</p>
<p>R 
</p>
<p>Fig. 12.14 Construction of CPM CCM buck-boost converter equivalent circuit: (a) input port model, correspond-
</p>
<p>ing to Eq. (12.38); (b) output port model, corresponding to Eq. (12.37). 
</p>
<p>(12.35) 
</p>
<p>These equations can be simplified by collecting terms, and by use of the steady-state relationships 
</p>
<p>(12.36) 
</p>
<p>Equation (12.35) then becomes 
</p>
<p>(12.37) 
</p>
<p>(12.38) 
</p>
<p>These are the basic ac small-signal equations for the simplified first-order model of the current-pro-
</p>
<p>grammed buck-boost converter. These equations can now be used to construct small-signal ac circuit 
</p>
<p>models that represent the behavior of the converter input and output ports. In Eq. (12.37), the quantity 
</p>
<p>sCO(s) is the output capacitor current. The i/s) term is represented in Fig. 12.14(b) by an independent </p>
<p/>
</div>
<div class="page"><p/>
<p>12.2 A Simple First-Order Model 453 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>Fig. 12.15 Two-port equivalent circuit used to model the current-programmed CCM buck, boost, and buck-boost 
</p>
<p>converters. 
</p>
<p>current source, while the vgCs) term is represented by a dependent current source. v(s)IR is the current 
</p>
<p>through the load resistor, and v(s)DIR is the current through an effective ac resistor of value RID. 
</p>
<p>Equation (12.38) describes the current i8(s) drawn by the converter input port, out of the source 
v8(s). The i/s) term is again represented in Fig. 12.14(a) by an independent current source, and the v(s) 
</p>
<p>term is represented by a dependent current source. The quantity- V/s)D2/D'R is modeled by an effective 
</p>
<p>ac resistor having the negative value- D'R!D2&bull; 
</p>
<p>Figures 12.14(a) and (b) can now be combined into the small-signal two-port model of Fig. 
</p>
<p>12.15. The current programmed buck and boost converters can also be modeled by a two-port equivalent 
</p>
<p>circuit, of the same form. Table 12.llists the model parameters for the basic buck, boost, and buck-boost 
</p>
<p>converters. 
</p>
<p>The two-port equivalent circuit can now be solved, to find the converter transfer functions and 
</p>
<p>output impedance. The control-to-output transfer function is found by setting v8 to zero. Solution for the 
</p>
<p>output voltage then leads to the transfer function Gv/s): 
</p>
<p>v(s) I ( 1 ) 
G,/s) = i/s) o -o = f2 rzll R II sC 
</p>
<p>g-
</p>
<p>(12.39) 
</p>
<p>Substitution of the model parameters for the buck-boost converter yields 
</p>
<p>(12.40) 
</p>
<p>Table 12.1 Current programmed mode small-signal equivalent circuit parameters, simple model 
</p>
<p>Converter g, !, r, g2 fz rz 
</p>
<p>Buck D D( 1 + s;) R 0 R. -[J2 
</p>
<p>Boost 0 1 D'( 1-_4_) R 
D'R D' 2R 
</p>
<p>Buck-boost D D(1+ t~) D'R Dz -D'( 1_ sDL) R -R. -[)2 - D'R D'zR I5 </p>
<p/>
</div>
<div class="page"><p/>
<p>454 Current Programmed Control 
</p>
<p>It can be seen that this transfer function contains only one pole; the pole due to the inductor has been lost. 
</p>
<p>The de gain is now directly dependent on the load resistance R. In addition, the transfer function contains 
</p>
<p>a right half-plane zero whose comer frequency is unchanged from the duty-cycle-controlled case. In gen-
</p>
<p>eral, introduction of current programming alters the transfer function poles and de gain, but not the 
</p>
<p>zeroes. 
</p>
<p>The line-to-output transfer function Gv8(s) is found by setting the control input ic to zero, and 
</p>
<p>then solving for the output voltage. The result is 
</p>
<p>(12.41) 
</p>
<p>Substitution of the parameters for the buck-boost converter leads to 
</p>
<p>D 2 1 G (s)-
vg -- 1 - D 2 ( RC ) 
</p>
<p>1+s 1+D 
</p>
<p>(12.42) 
</p>
<p>Again, the inductor pole is lost. The output impedance is 
</p>
<p>(12.43) 
</p>
<p>For the buck-boost converter, one obtains 
</p>
<p>Z (s)--R_ 1 
our - 1 + D ( RC ) 
</p>
<p>l+s 1+D 
(12.44) 
</p>
<p>12.2.2 Averaged Switch Modeling 
</p>
<p>Additional physical insight into the properties of current programmed converters can be obtained by use 
</p>
<p>of the averaged switch modeling approach developed in Section 7 .4. Consider the buck converter of Fig. 
</p>
<p>12.16. We can define the terminal voltages and currents of the switch network as shown. When the buck 
</p>
<p>converter operates in the continuous conduction mode, the switch network average terminal waveforms 
</p>
<p>are related as follows: 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>c R v(t) 
</p>
<p>Switch network 
~--------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;------------~ 
</p>
<p>Fig. 12.16 Averaged switch modeling of a current-programmed converter: CCM buck example. </p>
<p/>
</div>
<div class="page"><p/>
<p>12.2 A Simple First-Order Model 455 
</p>
<p>We again invoke the approximation in which the inductor current exactly follows the control current. In 
</p>
<p>terms of the switch network terminal current i2, we can therefore write 
</p>
<p>(12.46) 
</p>
<p>The duty cycle d(t) can now be eliminated from Eq. (12.45), as follows: 
</p>
<p>(12.47) 
</p>
<p>This equation can be written in the alternative form 
</p>
<p>(12.48) 
</p>
<p>Equations (12.46) and (12.48) are the desired result, which describes the average terminal relations of the 
</p>
<p>CCM current-programmed buck switch network. Equation (12.46) states that the average terminal cur-
</p>
<p>rent (iit))rs is equal to the control current (ic(t) )r,. Equation (12.48) states that the input port of the 
</p>
<p>switch network consumes average power (p(t) )To equal to the average power flowing out of the switch 
</p>
<p>output port. The averaged equivalent circuit of Fig. 12.17 is obtained. 
</p>
<p>Figure 12.17 describes the behavior of the current programmed buck converter switch network, 
</p>
<p>in a simple and straightforward manner. The switch network output port behaves as a current source of 
</p>
<p>value (i/t))Ts' The input port follows a power sink characteristic, drawing power from the source vg equal 
</p>
<p>to the power supplied by the ic current source. Properties of the power source and power sink elements 
</p>
<p>are described in Chapters 11 and 18. 
</p>
<p>Similar arguments lead to the averaged switch models of the current programmed boost and 
</p>
<p>buck-boost converters, illustrated in Fig. 12.18. In both cases, the switch network averaged terminal 
</p>
<p>waveforms can be represented by a current source of value (i/t))r,, in conjunction with a dependent 
</p>
<p>power source or power sink. 
</p>
<p>A small-signal ac model of the current-programmed buck converter can now be constructed by 
</p>
<p>perturbation and linearization of the switch network averaged terminal waveforms. Let 
</p>
<p>&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;--&middot;--&middot;-- ------------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;; 
L (il(t))T, (iz(t))T, (iL(t))T, 
</p>
<p>+ + + 
</p>
<p>(vgCt))T, (vl(t))T, (ic(t))T (vz(t))T, c R (v(t))T, 
s 
</p>
<p>Fig. 12.17 Averaged model of CPM buck converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>456 Current Programmed Control 
</p>
<p>(a) L ;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;--&middot;&middot;-----&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;: 
</p>
<p>+ 
</p>
<p>c (v(t))r 
s 
</p>
<p>R 
</p>
<p>(b) Averaged switch network 
</p>
<p>+ 
</p>
<p>+ c R (v(t))T 
s 
</p>
<p>Fig. 12.18 Averaged models of CPM boost (a) and CPM buck-boost (b) converters, derived via averaged switch 
</p>
<p>modeling. 
</p>
<p>(vl(t)Jr, = V1 +v1(t) 
</p>
<p>(il(t)Jr =/1 +z 1(t) 
s 
</p>
<p>( v2(t)) r, = V2 + v2(t) 
</p>
<p>(i2(t))T, = lz + t2(t) 
</p>
<p>(i/t))T, = lc + l/t) 
</p>
<p>(12.49) 
</p>
<p>Perturbation and linearization of the ( i/t) &gt;r:, current source of Fig. 12.17 simply leads to a current source 
of value ic(t). Perturbation of the power source characteristic, Eq. (12.48), leads to 
</p>
<p>(12.50) 
</p>
<p>Upon equating the de terms on both sides of this equation, we obtain 
</p>
<p>(12.51) 
</p>
<p>The linear small-signal ac terms of Eq. (12.50) are </p>
<p/>
</div>
<div class="page"><p/>
<p>12.2 A Simple First-Order Model 457 
</p>
<p>, ............................................................................................ i 
r---'--+---J 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>c R 
</p>
<p>L.. ..... ~~-~~-c_h._'!~t.:!.?.!.~.S.I1l.(l_!!_:S.i2'!.~l .. ~~ .. l1l.?.~(!_l .... _ ... 
Fig. 12.19 Small-signal model of the CCM CPM buck converter, derived by perturbation and linearization of the 
</p>
<p>switch network in Fig. 12.17. 
</p>
<p>(12.52) 
</p>
<p>Solution for the small-signal switch network input current z1(t) yields 
</p>
<p>The small-signal ac model of Fig. 12.19 can now be 
</p>
<p>constructed. The switch network output port is again a 
</p>
<p>current source, of value lc(t). The switch network input 
</p>
<p>port model is obtained by linearization of the power 
</p>
<p>sink characteristic, as given by Eq. (12.53). The input 
</p>
<p>port current 11(t) is composed of three terms. The lc(t) 
</p>
<p>term is modeled by an independent current source, the 
</p>
<p>v2(t) term is modeled by a dependent current source, 
and the v1(t) term is modeled by an effective ac resistor 
having the negative value - V/11&bull; As illustrated in Fig. 
</p>
<p>12.20, this incremental resistance is determined by the 
</p>
<p>slope of the power sink input port characteristic, evalu-
</p>
<p>ated at the quiescent operating point. The power sink 
</p>
<p>leads to a negative incremental resistance because an 
</p>
<p>increase in (v1(t)\s causes a decrease in (i1(t))T,' such 
</p>
<p>that constant (p(t) &gt;r,, is maintained. 
The equivalent circuit of Fig. 12.19 can now 
</p>
<p>be simplified by use of the de relations V2 = DV1, 
</p>
<p>12 = Vz!R, 11 = D/2, 12 = !c. Equation (12.53) then 
</p>
<p>becomes 
</p>
<p>Power source 
characteristic 
</p>
<p>(vl(t))T (il(t))T = (p(t))T 
s s s 
</p>
<p>Quiescent 
operating 
</p>
<p>point 
</p>
<p>(12.53) 
</p>
<p>Fig. 12.20 Origin of the input port negative 
</p>
<p>incremental resistance r 1: the slope of the power 
</p>
<p>sink characteristic, evaluated at the quiescent oper-
</p>
<p>ating point. 
</p>
<p>(12.54) 
</p>
<p>Finally, we can eliminate the quantities v1 and v2 in favor of the converter terminal voltages vg and v, as 
follows. The quantity v1 is simply equal to v8&bull; The quantity v2 is equal to the output voltage v plus the 
voltage across the inductor, sLI/s). Hence, </p>
<p/>
</div>
<div class="page"><p/>
<p>458 Current Programmed Control 
</p>
<p>R 
- Dz 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>c R 
</p>
<p>Fig. 12.21 Simplification of the CPM buck converter model of Fig. 12.19, with dependent source expressed in 
</p>
<p>terms of the output voltage variations. 
</p>
<p>(12.55) 
</p>
<p>With these substitutions, Eq. (12.54) becomes 
</p>
<p>(12.56) 
</p>
<p>The equivalent circuit of Fig. 12.21 is now obtained. It can be verified that this equivalent circuit coin-
</p>
<p>cides with the model of Fig. 12.15 and the buck converter parameters of Table 12.1. 
</p>
<p>The approximate small-signal properties of the current programmed buck converter can now be 
</p>
<p>explained. Since the inductor is in series with the current source !c, the inductor does not contribute to the 
control-to-output transfer function. The control-to-output transfer function is determined simply by the 
</p>
<p>relation 
</p>
<p>G (s) = v(s) I = (R 11...1..) 
vc i (s) sC 
</p>
<p>c Vg= 0 
</p>
<p>(12.57) 
</p>
<p>So current programming transforms the output characteristic of the buck converter into a current source. 
</p>
<p>The power sink input characteristic of the current programmed buck converter leads to a negative incre-
</p>
<p>mental input resistance, as described above. Finally, Fig. 12.21 predicts that the buck converter line-to-
</p>
<p>output transfer function is zero: 
</p>
<p>G (s) = v(s) I = 0 
vg vgCs) &bull; -0 
</p>
<p>'c-
</p>
<p>(12.58) 
</p>
<p>Disturbances in v8 do not influence the output voltage, since the inductor current depends only on ic. The 
current programmed controller adjusts the duty cycle as necessary to maintain constant inductor current, 
</p>
<p>regardless of variations in v8 &bull; The more accurate models of Section 12.3 predict that Gv/s) is not zero, 
</p>
<p>but is nonetheless small in magnitude. 
</p>
<p>Similar arguments lead to the boost converter small-signal equivalent circuit of Fig. 12.22. Der-
</p>
<p>ivation of this equivalent circuit is left as a homework problem. In the case of the boost converter, the 
</p>
<p>switch network input port behaves as a current source, of value ic, while the output port is a dependent 
power source, equal to the power apparently consumed by the current source ic. In the small-signal 
model, the current source [c appears in series with the inductor L, and hence the converter transfer func-
</p>
<p>tions cannot contain poles arising from the inductor. The switch network power source output character-
</p>
<p>istic leads to an ac resistance of value r2 = R. The line-to-output transfer function Gv8(s) is nonzero in the </p>
<p/>
</div>
<div class="page"><p/>
<p>12.3 A More Accurate Model 459 
</p>
<p>+ 
</p>
<p>R c R 
</p>
<p>Fig. 12.22 Small-signal model of the CCM CPM boost converter, derived via averaged switch modeling and 
</p>
<p>the approximation iL"' ic. 
</p>
<p>boost converter, since the magnitude of the power source depends directly on the value of vg. The con-
</p>
<p>trol-to-output transfer function Gvc(s) contains a right half-plane zero, identical to the right half-plane 
</p>
<p>zero of the duty-cycle-controlled boost converter. 
</p>
<p>12.3 A MORE ACCURATE MODEL 
</p>
<p>The simple models discussed in the previous section yield much insight into the low-frequency behavior 
</p>
<p>of current-programmed converters. Unfortunately, they do not always describe everything that we need 
</p>
<p>to know. For example, the simple model of the buck converter predicts that the line-to-output transfer 
</p>
<p>function Gv/s) is zero. While it is true that this transfer function is usually small in magnitude, the trans-
</p>
<p>fer function is not equal to zero. To predict the effect of input voltage disturbances on the output voltage, 
</p>
<p>we need to compute the actual Gv8(s). 
</p>
<p>In this section, a more accurate analysis is performed which docs not rely on the approximation 
</p>
<p>( iL(t) )r, "' ic(t). The analytical approach of [5,6] is combined with the controller model of [7]. A func-
</p>
<p>tional block diagram of the current programmed controller is constructed, which accounts for the pres-
</p>
<p>ence of the artificial ramp and for the inductor current ripple. This block diagram is appended to the 
</p>
<p>averaged converter models derived in Chapter 7, leading to a complete converter CPM model. Models 
</p>
<p>for the CPM buck, boost, and buck-boost converters are listed, and the buck converter model is analyzed 
</p>
<p>in detail. 
</p>
<p>12.3.1 Current Programmed Controller Model 
</p>
<p>Rather than using the approximation ( iL(t) &gt;r, = (i/t) )r,, let us derive a more accurate expression relating 
the average inductor current ( iL(t) &gt;r, to the control input i/t). The inductor current waveform is illus-
trated in Fig. 12.23. It can be seen that the peak value of iL(t) differs from ic(t), by the magnitude of the 
</p>
<p>artificial ramp waveform at time t = dT,, that is, by m"dT,. The peak and average values of the inductor 
current waveform differ by the average value of the inductor current ripple. Under transient conditions, 
</p>
<p>in which iL(O) is not equal to iL(T,), the magnitudes of the inductor current ripples during the dT, and d'T, 
</p>
<p>subintervals arc m1dT,f2 and m2d'TJ2, respectively. Hence, the average value of the inductor current rip-
</p>
<p>ple is d(m 1dTJ2) + d'(m2d'TJ2). We can express the average inductor current as 
</p>
<p>(12.59) </p>
<p/>
</div>
<div class="page"><p/>
<p>460 Current Programmed Control 
</p>
<p>Fig. 12.23 Accurate determination of 
</p>
<p>the relationship between the average 
</p>
<p>inductor current (iL(t))T, and ic. 
</p>
<p>This is the more accurate relationship which is employed in this section. 
</p>
<p>A small-signal current programmed controller model is found by perturbation and linearization 
</p>
<p>of Eq. (12.59). Let 
</p>
<p>(iL(t))T =fL+lL(t) 
s 
</p>
<p>(i/tl)T = fc + lc(t) 
s 
</p>
<p>d(t) = D + d(t) 
m 1(t)=M 1 +m 1(t) 
</p>
<p>mit) = M 2 + m2(t) 
</p>
<p>(12.60) 
</p>
<p>Note that it is necessary to perturb the slopes m1 and m2, since the inductor current slope depends on the 
</p>
<p>converter voltages according to Eq. (12.1). For the basic buck, boost, and buck-boost converters, the 
</p>
<p>slope variations are given by 
</p>
<p>Buck converter 
</p>
<p>, vg- v , v 
m1=-L- m2=I 
</p>
<p>Boost converter 
</p>
<p>v-v 
' g 
mz=-L-
</p>
<p>Buck-boost converter 
</p>
<p>' v 
m2=-r 
</p>
<p>It is assumed that m" does not vary: fit"= Ma. Substitution of Eq. (12.60) into Eq. (12.59) leads to 
</p>
<p>(12.61) 
</p>
<p>(I L + i L(t)) = (I c + i c(t)) -MaT,( D + J(t)) - ~' ( M 1 + m 1 (t) )( D + d(t)) 2 - ~' ( M 2 + m 2(t) )( D'- d(t)) 2 ( 12&middot;62) 
</p>
<p>The first-order ac terms are 
</p>
<p>(12.63) 
</p>
<p>With use of the equilibrium relationship DM1 = D'M2, Eq. (12.63) can be further simplified: </p>
<p/>
</div>
<div class="page"><p/>
<p>12.3 A More Accurate Model 461 
</p>
<p>Table 12.2 Current programmed controller gains for basic converters 
</p>
<p>Converter Fg Fv 
</p>
<p>Buck D
2T, (1-2D)r, 
</p>
<p>2L 2L 
</p>
<p>Boost (2D- 1 )r, D'
2T, 
</p>
<p>2L ----zr 
</p>
<p>Buck-boost D
2T, D' 2T, 
</p>
<p>2L - ----zr 
</p>
<p>o o , D 2T, , D' 2T, , 
1 L(t) = 1 /t)- M J,d(t)- - 2-m 1(t)- - 2- m2(t) 
</p>
<p>(12.64) 
</p>
<p>Finally, solution for d(t) yields 
</p>
<p>(12.65) 
</p>
<p>This is the actual relationship that the current programmed controller follows, to determine d(t) as a func-
</p>
<p>tion of !Jt), iL(t), ml(t), and mz(t). Since the quantities ml(t), and m2(t) depend on vgCt) and v(t), according 
</p>
<p>to Eq. (12.61), we can express Eq. (12.65) in the following form: 
</p>
<p>(12.66) 
</p>
<p>where F'" = 1/MaT,. Expressions for the gains Fg and Fv, for the basic buck, boost, and buck-boost con-
verters, are listed in Table 12.2. A functional block diagram of the current programmed controller, corre-
</p>
<p>sponding to Eq. (12.66), is constructed in Fig. 12.24. 
</p>
<p>Current programmed converter models can now be obtained, by combining the controller block 
</p>
<p>Fig. 12.24 Functional block diagram of the current 
</p>
<p>programmed controller. </p>
<p/>
</div>
<div class="page"><p/>
<p>462 Current Programmed Control 
</p>
<p>diagram of Fig. 12.24 with the averaged converter models derived in Chapter 7. Figure 12.25 illustrates 
</p>
<p>the CPM converter models obtained by combination of Fig. 12.24 with the buck, boost, and buck-boost 
</p>
<p>models of Fig. 7.17. For each converter, the current programmed controller contains effective feedback 
</p>
<p>of the inductor current iL(t) and the output voltage v(t), as well as effective feedforward of the input volt-
</p>
<p>age vg(t). 
</p>
<p>12.3.2 Solution of the CPM Transfer Functions 
</p>
<p>Next, let us solve the models of Fig. 12.25, to determine more accurate expressions for the control-to-
</p>
<p>output and line-to-output transfer functions of current-programmed buck, boost, and buck-boost convert-
</p>
<p>ers. As discussed in Chapter 8, the converter output voltage v can be expressed as a function of the duty-
cycled and input voltage v8 variations, using the transfer functions Gvis) and Gv8(s): 
</p>
<p>(12.67) 
</p>
<p>In a similar manner, the inductor current variation i can be expressed as a function of the duty-cycle d 
and input voltage v8 variations, by defining the transfer functions G;is) and G;/s): 
</p>
<p>(12.68) 
</p>
<p>where the transfer functions G;is) and G;gCs) are given by: 
</p>
<p>(a) Buck 
</p>
<p>\id(t) L 
</p>
<p>+ 
</p>
<p>v(t) R 
</p>
<p>Fig. 12.25 More accurate models of current-programmed converters: (a) buck, (b) boost, (c) buck-boost. </p>
<p/>
</div>
<div class="page"><p/>
<p>12.3 A More Accurate Model 463 
</p>
<p>(b) Boost 
</p>
<p>+ 
</p>
<p>v(t) R 
</p>
<p>(c) Buck-boost 
</p>
<p>+ 
</p>
<p>c v(t) R 
</p>
<p>Fig. 12.25 Continued. </p>
<p/>
</div>
<div class="page"><p/>
<p>464 Current Programmed Control 
</p>
<p>I 
; 
! : _______________________________________________________________ .: 
</p>
<p>Fig. 12.26 Block diagram that models the current-programmed converters of Fig. 12.25. 
</p>
<p>G (s) = i ~(s) I 
'd d(s) . 
</p>
<p>vg&lt;s)=O (12.69) 
</p>
<p>G (s) = i L(s) I 
'g 0 (s) . 
</p>
<p>g d(.l)=O 
</p>
<p>Figure 12.26 illustrates replacement of the converter circuit models of Fig. 12.25 with block diagrams 
</p>
<p>that correspond to Eqs. (12.67) and (12.68). 
</p>
<p>The control-to-output and line-to-output transfer functions can now be found, by manipulation 
</p>
<p>of the block diagram of Fig. 12.26, or by algebraic elimination of d and iL from Eqs. (12.66), (12.67), and 
(12.68), and solution for v. Substitution of Eq. (12.68) into Eq. (12.66) and solution for dleads to 
</p>
<p>(12.70) 
</p>
<p>By substituting this expression into Eq. (12.67), one obtains 
</p>
<p>(12.71) 
</p>
<p>Solution of this equation for v leads to the desired result: 
</p>
<p>(12.72) 
</p>
<p>Therefore, the current-programmed control-to-output transfer function is </p>
<p/>
</div>
<div class="page"><p/>
<p>12.3 A More Accurate Model 465 
</p>
<p>The current-programmed line-to-output transfer function is 
</p>
<p>v(s) I 
Gvg-cpn,(s) = 0 (s) 
</p>
<p>g iJs)=O 
</p>
<p>Gvg- F,FgGvd + F,( Gv8G;d- G;8Gvd) 
</p>
<p>1 + F,( G;d + FPvd) 
</p>
<p>(12.73) 
</p>
<p>(12.74) 
</p>
<p>Equations (12.73) and (12.74) are general expressions for the important transfer functions of single-
</p>
<p>inductor current-programmed converters operating in the continuous conduction mode. 
</p>
<p>12.3.3 Discussion 
</p>
<p>The controller model of Eq. (12.66) and Fig. 12.24 accounts for the differences between iL and ic that 
</p>
<p>arise by two mechanisms: the inductor current ripple and the artificial ramp. The inductor current ripple 
</p>
<p>causes the peak and average values of the inductor current to differ; this leads to a deviation between the 
</p>
<p>average inductor current and ic. Since the magnitude of the inductor current ripple is a function of the 
</p>
<p>converter input and capacitor voltages, this mechanism introduces 08 and 0 dependencies into the control-
</p>
<p>ler small-signal block diagram. Thus, the F8 and Fv gain blocks of Fig. 12.24 model the small-signal 
</p>
<p>effects of the inductor current ripple. For operation deep in continuous conduction mode (2LIRT, &raquo; 1), 
the inductor current ripple is small. The F8 and Fv gain blocks can then be ignored, and the inductor cur-
</p>
<p>rent ripple has negligible effect on the current programmed controller gain. 
</p>
<p>The artificial ramp also causes the average inductor current to differ from ic. This is modeled by 
</p>
<p>the gain block F,, which depends inversely on the artificial ramp slope Ma. With no artificial ramp, 
</p>
<p>Ma = 0 and Fm tends to infinity. The current-programmed control systems of Fig. 12.25 then effectively 
</p>
<p>have infinite loop gain. Since the duty cycled is finite, the signal at the input to the Fm block (d/F'") must 
</p>
<p>tend to zero. The block diagram then predicts that 
</p>
<p>(12.75) 
</p>
<p>In the case of negligible inductor current ripple (Fg -+ 0 and Fv-+ 0), this equation further reduces to 
</p>
<p>(12.76) 
</p>
<p>This coincides with the simple approximation employed in Section 12.2. Hence, the transfer functions 
</p>
<p>predicted in this section reduce to the results of Section 12.2 when there is no artificial ramp and negligi-
</p>
<p>ble inductor current ripple. In the limit when Fm-+ =, F8 -+ 0, and Fv-+ 0, the control-to-output transfer 
</p>
<p>function (12.73) reduces to 
</p>
<p>lim Gvc(s) = GGvd 
Fm -too id (12.77) 
Fg-'&gt;0 
</p>
<p>Fv---"0 
</p>
<p>and the line-to-output transfer function reduces to </p>
<p/>
</div>
<div class="page"><p/>
<p>466 Current Programmed Control 
</p>
<p>(12.78) 
</p>
<p>It can be verified that Eqs. (12.77) and (12.78) are equivalent to the transfer functions derived in Section 
</p>
<p>12.2. 
</p>
<p>When an artificial ramp is present, then the gain F"' is reduced to a finite value. The current-pro-
</p>
<p>grammed controller no longer perfectly regulates the inductor current iv and the terms on the right-hand 
</p>
<p>side of Eq. (12.75) do not add to zero. In the extreme case of a very large artificial ramp (large Ma and 
</p>
<p>hence small Fm), the current-programmed controller degenerates to duty-cycle control. The artificial 
</p>
<p>ramp and analog comparator of Fig. 12.8 then function as a pulse-width modulator similar to Fig. 7.63, 
</p>
<p>with small-signal gain F111 &bull; For small F m and for Fg -+ 0, Fv &middot;-+ 0, the control-to-output transfer function 
</p>
<p>(12.73) reduces to 
</p>
<p>lim Gjs) = Fn,Gvd(s) 
smallF111 
</p>
<p>Fv---"0 
</p>
<p>Fg-&gt;0 
</p>
<p>which coincides with conventional duty cycle control. Likewise, Eq. (12.74) reduces to 
</p>
<p>lim~ Gvg-cpm(s) = Gvg 
Fm--" 
</p>
<p>Fg-&gt;0 
</p>
<p>Fv---"10 
</p>
<p>which is the line-to-output transfer function for conventional duty cycle control. 
</p>
<p>12.3.4 Current-Programmed Transfer Functions of the CCM Buck Converter 
</p>
<p>(12.79) 
</p>
<p>(12.80) 
</p>
<p>The control-to-output transfer function Gvis) and line-to-output transfer function GvgCs) of the CCM 
</p>
<p>buck converter with duty cycle control are tabulated in Chapter 8, by analysis of the equivalent circuit 
</p>
<p>model in Fig. 7.17(a). The results are: 
</p>
<p>G (s)-Y_1_ 
vd - D den(s) 
</p>
<p>(12.81) 
</p>
<p>(12.82) 
</p>
<p>where the denominator polynomial is 
</p>
<p>den(s) = 1 + s i + s2LC (12.83) 
</p>
<p>The inductor current transfer functions Giis) and GigCs) defined by Eqs. (12.68) and (12.69) are also 
</p>
<p>found by solution of the equivalent circuit model in Fig. 7.17(a), with the following results: 
</p>
<p>V (1 +sRC) 
G;is) = DR den(s) 
</p>
<p>(12.84) </p>
<p/>
</div>
<div class="page"><p/>
<p>12.3 A More Accurate Model 467 
</p>
<p>D ( 1 + sRC) (12.85) 
G,g(s) = R den(s) 
</p>
<p>where den(s) is again given by Eq. (12.83). 
</p>
<p>With no artificial ramp and negligible ripple, the control-to-output transfer function reduces to 
</p>
<p>the ideal expression (12.77). Substitution ofEqs. (12.81) and (12.84) yields 
</p>
<p>I . G ( ) G,is) R Jm vcs =-o c)=-~ RC 
Fm--?oo ids +s (12.86) 
Fg -&gt;0 
</p>
<p>Fv---tO 
</p>
<p>Under the same conditions, the line-to-output transfer function reduces to the ideal expression (12.78). 
</p>
<p>Substitution of Eqs. (12.81) to (12.85) leads to 
</p>
<p>G,g(s)G,Js)- G,Js)G,g(s) 
F,~,j~= G,g&middot;cpm(s) = G,J.I) = 0 
Fg---tD 
</p>
<p>Fv ----tO 
</p>
<p>(12.87) 
</p>
<p>Equations (12.86) and (12.87) coincide with the expressions derived in Section 12.2 for the CCM buck 
</p>
<p>converter. 
</p>
<p>For arbitrary F m' Fv, and Fg, the control-to-output transfer function is given by Eq. ( 12.73). Sub-
stitution of Eqs. (12.81) to (12.85) into Eq. (12.73) yields 
</p>
<p>G,/s) = F"Pvd 
1 + Fm[ G1d + F,G,d] 
</p>
<p>F ( V 1 ) 
"' 75 den(s) 
</p>
<p>1 + F [( V 1 + sRC) + F ( V 1 )j 
</p>
<p>Simplification leads to 
</p>
<p>"' DR den(s) " 75 den(s) 
</p>
<p>v 
Fm75 
</p>
<p>Gvc(s) = F V 
den(s) + DR ( 1 + sRC) + FmF,tJ 
</p>
<p>Finally, the control-to-output transfer function can be written in the following normalized form: 
</p>
<p>where 
</p>
<p>(12.88) 
</p>
<p>(12.89) 
</p>
<p>(12.90) 
</p>
<p>(12.91) 
</p>
<p>(12.92) </p>
<p/>
</div>
<div class="page"><p/>
<p>468 Current Programmed Control 
</p>
<p>(12.93) 
</p>
<p>In the above equations, the salient features Gco&bull; we, and Qc are expressed as the duty-ratio-control value, 
</p>
<p>multiplied by a factor that accounts for the effects of current-programmed control. 
</p>
<p>It can be seen from Eq. (12.93) that current programming tends to reduce the Q-factor of the 
</p>
<p>poles. For large Fm, Qc varies as Fm-112 ; consequently, the poles become real and well-separated in mag-
</p>
<p>nitude. The low-Q approximation of Section 8.1.7 then predicts that the low-frequency pole becomes 
</p>
<p>(12.94) 
</p>
<p>For large F m and small Fv, this expression can be further approximated as 
</p>
<p>(12.95) 
</p>
<p>which coincides with the low-frequency pole predicted by the simple model of Section 12.2. The low-Q 
</p>
<p>approximation also predicts that the high-frequency pole becomes 
</p>
<p>we = _l__ ( 1 RCFn,V) 
Qc RC + DL 
</p>
<p>For large F m' this expression can be further approximated as 
</p>
<p>(12.96) 
</p>
<p>(12.97) 
</p>
<p>The high-frequency pole is typically predicted to lie ncar to or greater than the switching frequency fs. It 
should be pointed out that the converter switching and modulator sampling processes lead to discrete-
</p>
<p>time phenomena that affect the high-frequency behavior of the converter, and that are not predicted by 
</p>
<p>the continuous-time averaged analysis employed here. Hence, the averaged model is valid only at fre-
</p>
<p>quencies sufficiently less than one-half of the switching frequency. 
</p>
<p>For arbitrary F m' Fv, and F8 , the current-programmed line-to-output transfer function Gvg-cpm(s) 
</p>
<p>is given by Eq. (12.74). This equation is most easily evaluated by first finding the ideal transfer function, 
</p>
<p>Eq. (12.78), and then using the result to simplify Eq. (12.74). In the case of the buck converter, Eq. 
</p>
<p>(12.87) shows that the quantity (GvgGid- GvdG;8 ) is equal to zero. Hence, Eq. (12.74) becomes 
</p>
<p>(12.98) 
</p>
<p>Substitution ofEqs. (12.81) to (12.85) into Eq. (12.98) yields </p>
<p/>
</div>
<div class="page"><p/>
<p>12.3 A More Accurate Model 469 
</p>
<p>__12_- F F .l' - 1-
G ( ) = den(s) "' g D den(s) 
</p>
<p>vg-cpm S ( ) 
1 + F ...Y_ 1 + sRC + F .l' _1_ 
</p>
<p>m DR den(s) v D den(s) 
</p>
<p>(12.99) 
</p>
<p>Simplification leads to 
</p>
<p>(D-FmF8 15) 
Gvg-cpm(s) = F V V 
</p>
<p>den(s) + DR ( 1 + sRC) + FnFv 75 
(12.100) 
</p>
<p>Finally, the current-programmed line-to-output transfer function can be written in the following normal-
</p>
<p>ized form: 
</p>
<p>(12.101) 
</p>
<p>where 
</p>
<p>(1 __ F,FsV) (1 __ M 2 ) 
D2 2Ma 
</p>
<p>G 0 = D..,...--'----.!...._""' = D ..,...-~--~-""' 
g (1 FmV FmFvV) (1 FnY FnFvV) 
</p>
<p>+DR+ D +DR+ D 
</p>
<p>(12.102) 
</p>
<p>The quantities Qc and We are given by Eqs. (12.92) and (12.93). 
</p>
<p>Equation (12.102) shows how current programming reduces the de gain of the buck converter 
</p>
<p>line-to-output transfer function. For duty cycle control (Fm-+ 0), G80 is equal to D. Nonzero values ofF m 
</p>
<p>reduce the numerator and increase the denominator of Eq. (12.102), which tends to reduce G80. We have 
</p>
<p>already seen that, in the ideal case (Fm -+ =, F8 -+ 0, Fv-+ 0), G80 becomes zero. Equation (12.102) 
</p>
<p>reveals that nonideal current -programmed buck converters can also exhibit zero G 80 , if the artificial ramp 
</p>
<p>slope Ma is chosen equal to 0.5M2&bull; The current programmed controller then prevents input line voltage 
</p>
<p>variations from reaching the output. The mechanism that leads to this result is the effective feedforward 
</p>
<p>of v8, inherent in the current programmed controller via the F/'8 term in Eq. (12.66). It can be seen from 
Fig. 12.26 that, when F8FmGvis) = Gv8(s), then the feedforward path from vg through F8 induces varia-
tions in the output v that exactly cancel the v8-induced variations in the direct forward path of the con-
verter through Gv/s). This cancellation occurs in the buck converter when Ma = 0.5M2&bull; 
</p>
<p>12.3.5 Results for Basic Converters 
</p>
<p>The transfer functions of the basic buck, boost, and buck-boost converters with current-programmed con-
</p>
<p>trol are summarized in Tables 12.3 to 12.5. Control-to-output and line-to-output transfer functions for 
</p>
<p>both the simple model of Section 12.2 and the more accurate model derived in this section are listed. For 
</p>
<p>completeness, the transfer functions for duty cycle control are included. In each case, the salient features 
</p>
<p>are expressed as the corresponding quantity with duty cycle control, multiplied by a factor that accounts 
</p>
<p>for current-programmed control. </p>
<p/>
</div>
<div class="page"><p/>
<p>470 Current Programmed Control 
</p>
<p>Table 12.3 Summary ofresults for the CPM buck converter 
</p>
<p>Simple model 
</p>
<p>_Q_= __ R_ 
i, 1 + sRC 
</p>
<p>_Q_- 0 v g-
</p>
<p>__ 1_V1 F,V F,,FVV 
w,- 1LC + DR + D 
</p>
<p>Duty cycle controlled gains 
</p>
<p>G (s)-J:'.-1-
vd - D den(s) 
</p>
<p>Gvg(s) = D de~(s) 
</p>
<p>den(s) = 1 + s -J? + s 2LC 
</p>
<p>Table 12.4 Summary of results for the CPM boost converter 
</p>
<p>Simple model Duty cycle controlled gains 
</p>
<p>(1-s _L__) v D'R D'zR 
-.---=2 ( ) z, 1+sR2C 
</p>
<p>(1-s _L__) 
D' 2R 
</p>
<p>G,is) = ff den(s) 
</p>
<p>1 1 
G,gCs) = 75' den(s) 
</p>
<p>More accurate model 
</p>
<p>G (s)-L 1+sRC 
id -DR den(s) 
</p>
<p>G (s)-12 1 +sRC 
ig - R den(s) 
</p>
<p>( 1 + s RC) 
G (s)- _ll'_ 2 
</p>
<p>id - D'zR den(s) 
</p>
<p>1 ( 1 + sRC) 
G,gCs) = D' 2R den(s) </p>
<p/>
</div>
<div class="page"><p/>
<p>Table 12.5 Summary of results for the CPM buck-boost converter 
</p>
<p>Simple model 
</p>
<p>v D'R (I -s ffiR) 
~=- (1 +D) (1 +s_B{;_) 
</p>
<p>1 +D 
</p>
<p>More accurate model 
</p>
<p>( 1 + s ) v co; 
v = G,g-cpm(s) = Ggo s ( s )2 
</p>
<p>g 1+-Q +w 
/Uc c 
</p>
<p>Duty cycle controlled gains 
</p>
<p>(1 s DL ) lVI - D'2R 
Gw/s) =- DD' den(s) 
</p>
<p>_ D 1 
G,is)- -yy den(s) 
</p>
<p>12.3 A More Accurate Model 471 
</p>
<p>D (1 +sRC) 
G(,(s) = D' 2R den(s) 
</p>
<p>The two poles of the line-to-output transfer functions Gvg-cpm and control-to-output transfer 
</p>
<p>functions Gvc of all three converters typically exhibit low Q-factors in CPM. The low-Q approximation 
</p>
<p>can be applied, as in Eqs. (12.94) to (12.97), to find the low-frequency pole. The line-to-output transfer 
</p>
<p>functions of the boost and buck-boost converters exhibit two poles and one zero, with substantial de 
</p>
<p>gain. 
</p>
<p>12.3.6 Quantitative Effects of Current-Programmed Control 
</p>
<p>on the Converter Transfer Functions 
</p>
<p>The frequency responses of a CCM buck converter, operating with current-programmed control and with 
</p>
<p>duty cycle control, are compared in Appendix B, Section B.3.2. The buck converter of Fig. B.25 was 
</p>
<p>simulated as described in Appendix B, and the resulting plots are reproduced here. 
</p>
<p>The magnitude and phase of the control-to-output transfer functions are illustrated in Fig. 
</p>
<p>12.27. It can be seen that, for duty cycle control, the transfer function Gvis) exhibits a resonant two-pole 
</p>
<p>response. The substantial damping introduced by current-programmed control leads to essentially a sin-
</p>
<p>gle-pole response in the current-programmed control-to-output transfer function Gvc(s). A second pole 
</p>
<p>appears in the vicinity of 100 kHz, which is near the 200 kHz switching frequency. Because of this effec-
</p>
<p>tive single-pole response, it is relatively easy to design a controller that exhibits a well-behaved response, </p>
<p/>
</div>
<div class="page"><p/>
<p>472 Current Programmed Control 
</p>
<p>40dB 
</p>
<p>II Gil L.G 
</p>
<p>OdB 
</p>
<p>-20dB 
</p>
<p>-40dB 
</p>
<p>0" 
</p>
<p>-60dB 
</p>
<p>-90" 
</p>
<p>.J.------+-------i----..::::=------t-180" 
</p>
<p>lOHz lOOHz I kHz 10kHz 100kHz 
</p>
<p>f 
</p>
<p>Fig. 12.27 Comparison of CPM control with duty-cycle control, for the control-to-output frequency response of 
</p>
<p>the buck converter example. 
</p>
<p>20dB 
</p>
<p>Duty cycle control 
d(t) = constant 
</p>
<p>OdB~----------------
</p>
<p>-20dB 
</p>
<p>-40 dB]:-------
</p>
<p>-60 dB Current programmed mode 
v/t) = constant 
</p>
<p>-80 dB 
</p>
<p>-IOOdB+---------+---------+---------4---------~ 
</p>
<p>lOHz lOOHz 1kHz lOkHz 100kHz 
</p>
<p>f 
</p>
<p>Fig. 12.28 Comparison of CPM control with duty-cycle control, for the line-to-output frequency response of the 
</p>
<p>buck converter example. 
</p>
<p>having ample phase margin over a wide range of operating points. Proportional-plus-integral (PI) con-
</p>
<p>trollers are commonly used in current-programmed regulators. 
</p>
<p>The line-to-output transfer functions of the same example are compared in Fig. 12.28. The line-
</p>
<p>to-output transfer function GvgCs) for duty-cycle control is characterized by a de asymptote approxi-
</p>
<p>mately equal to the duty cycleD= 0.676. Resonant poles occur at the corner frequency of the L-C filter. 
</p>
<p>The line-to-output transfer function Gvg&middot;cpm(s) with current-programmed control is significantly reduced, 
</p>
<p>and exhibits more than 30 dB of additional attenuation over the frequencies of interest. It should again be </p>
<p/>
</div>
<div class="page"><p/>
<p>20 dBQ t-----
Il Zaut II 
</p>
<p>OdBQ 
</p>
<p>-20dBQ 
</p>
<p>Current programmed mode 
v/t) = constant 
</p>
<p>Duty cycle control 
d(t) = constant 
</p>
<p>12.4 Discontinuous Conduction Mode 473 
</p>
<p>-40 dBQ +-----&gt;--------+-----+------+ 
10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
</p>
<p>Fig. 12.29 Comparison of CPM control with duty-cycle control, for the output impedance of the buck converter 
</p>
<p>example. 
</p>
<p>noted that the transfer function Gvg-cpm(s) in Fig. 12.28 cannot be predicted by the simple models of Sec-
</p>
<p>tion 12.2; the more accurate model of Section 12.3 must be employed. 
</p>
<p>The effect of current-programmed control on the converter output impedance is illustrated in 
</p>
<p>Fig. 12.29. The output impedance plotted in the figure includes the load resistance of 10 Q. For duty~ 
</p>
<p>cycle control, the de asymptote of the output impedance is dominated by the inductor winding resistance 
</p>
<p>of 0.05 Q. The inductor becomes significant in the vicinity of 200 Hz. Above the resonant frequency of 
</p>
<p>the output filter, the output impedance is dominated by the output filter capacitor. For current-pro-
</p>
<p>grammed control, the simple model of Section 12.2 predicts that the inductor branch of the circuit is 
</p>
<p>driven by a current source; this effectively removes the influence of the inductor on the output imped-
</p>
<p>ance. The plot of Fig. 12.29 was generated using the more accurate model of this section; nonetheless, 
</p>
<p>the output impedance is accurately predicted by the simple model. The de asymptote is dominated by the 
</p>
<p>load resistance, and the high-frequency asymptote follows the impedance of the output filter capacitor. It 
can be seen that current programming substantially increases the converter output impedance. 
</p>
<p>12.4 DISCONTINUOUS CONDUCTION MODE 
</p>
<p>Current-programmed converters operating in the discontinuous conduction mode can be described using 
</p>
<p>the averaged switch modeling approaches of Sections 12.3 and 11.1. It is found in this section that the 
</p>
<p>average transistor voltage and current follow a power sink characteristic, while the average diode voltage 
</p>
<p>and current obey a power source characteristic. Perturbation and linearization of these characteristics 
</p>
<p>leads to a small-signal equivalent circuit that models CPM DCM converters. The basic DCM CPM buck, 
</p>
<p>boost, and buck-boost converters essentially exhibit single-pole transfer functions: the second pole and 
</p>
<p>the right half-plane zero appear at frequencies near to or greater than the switching frequency, owing to 
</p>
<p>the small value of L in DCM. 
</p>
<p>A DCM CPM buck-boost converter example is analyzed here. However, Eqs. (12.103) to 
</p>
<p>(12.120) are written in general form, and apply equally well to DCM CPM buck and boost converters. 
</p>
<p>The schematic of a buck-boost converter is illustrated in Fig. 12.30. The terminal waveforms of the 
</p>
<p>switch network are defined as shown: v1(t) and i1(t) are the transistor waveforms, while vz(t) and iz(t) are </p>
<p/>
</div>
<div class="page"><p/>
<p>474 Current Programmed Control 
</p>
<p>Switch network 
r~--&middot;-----------------------------------1 
</p>
<p>Fig. 12.30 Current-programmed DCM 
</p>
<p>buck-boost converter example. 
~~---++!~ .-r~~----------, 
</p>
<p>v1(t) I 
+ 
</p>
<p>' + C R v(t) 
</p>
<p>the diode waveforms. Figure 12.31 illustrates typical DCM waveforms, for current-programmed control 
</p>
<p>with an artificial ramp having slope- ma. The inductor current is zero at the beginning of each switching 
</p>
<p>period. By solution of the transistor conduction subinterval, the programmed current ipk can be related to 
</p>
<p>the transistor duty cycle d1 by: 
</p>
<p>ic=ipk+mad1T, 
</p>
<p>= (m 1 +ma)d1T, 
(12.103) 
</p>
<p>Solution for d1 leads to 
</p>
<p>(12.104) 
</p>
<p>The average transistor current is found by integrating the i1(t) waveform of Fig. 12.31 over one switching 
</p>
<p>period: 
</p>
<p>(12.105) 
</p>
<p>The total area q 1 is equal to one-half of the peak current ipk' multiplied by the subinterval length d1 T,. 
</p>
<p>Hence, 
</p>
<p>(12.106) 
</p>
<p>Elimination of ipk and d1, to express the average transistor current as a function of ic, leads to 
</p>
<p>(12.107) 
</p>
<p>Finally, Eq. (12.107) can be rearranged to obtain the averaged switch network input port relationship: 
</p>
<p>(12.108) </p>
<p/>
</div>
<div class="page"><p/>
<p>12.4 Discontinuous Conduction Mode 475 
</p>
<p>Thus, the average transistor waveforms obey a power sink 
</p>
<p>characteristic. When ma = 0, then the average power il.(t) 
(p(t))Ts is a function only of L, ic, and.fs. The presence of 
the artificial ramp causes (p(t) &gt;r, to additionally depend 
on the converter voltages, via m1&bull; ic 
</p>
<p>The power sink characteristic can also be 
</p>
<p>explained via inductor energy arguments. During the first 
</p>
<p>subinterval, the inductor current increases from 0 to ipk' In 
the process, the inductor stores the following energy: 
</p>
<p>W 1L.z = 2 lpk (12.109) 
</p>
<p>The energy W is transferred from the power input vg, 
</p>
<p>through the&middot; switch network input port, to the inductor, 
</p>
<p>once per switching period. This energy transfer process 
</p>
<p>accounts for the power flow 
</p>
<p>0 
</p>
<p>( Vz(l)) T 
</p>
<p>ipk 
</p>
<p>(il(t))T : l 
.t . &bull; 
</p>
<p>The switch network input port, that is, the transistor ter-
</p>
<p>minals, can therefore be modeled by a power sink ele-
</p>
<p>ment, as in Fig. 12.32. 
</p>
<p>The average switch network output port current, 
</p>
<p>that is, the average diode current, is 
</p>
<p>... ~ ........... h&middot;&middot; ~ &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;r&middot;&middot;&middot;&middot;&middot;&middot;&middot; ... f .......... . 
</p>
<p>(12.111) 
</p>
<p>By inspection of Fig. 12.31, the area q2 is given by 
</p>
<p>(12.112) 
</p>
<p>The duty cycle d2 is determined by the time required for 
</p>
<p>the inductor current to return to zero, during the second 
</p>
<p>subinterval. By arguments similar to those used to derive 
</p>
<p>Eq. (11.12), the duty cycle d2 can be found as follows: 
</p>
<p>ipk Area q2 1 
</p>
<p>(i2(1))T, t . 
...................... &middot;&middot;--~- &middot;&middot; &middot; &middot; &middot; &middot; &middot; &middot;&middot;~&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-r .. &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>~T , 
</p>
<p>----T, 
</p>
<p>Fig. 12.31 
</p>
<p>example. 
</p>
<p>Waveforms, CPM DCM buck- boost 
</p>
<p>(12.113) 
</p>
<p>Substitution of Eqs. (12.113), (12.112), and (12.110) into Eq. (12.111) yields 
</p>
<p>(12.114) 
</p>
<p>The output port of the averaged switch network is therefore described by the relationship </p>
<p/>
</div>
<div class="page"><p/>
<p>476 Current Programmed Control 
</p>
<p>(it(t))r 
s 
</p>
<p>(izCt)) T 
s 
</p>
<p>+ 
</p>
<p>(vt(t))r ( vz(t)) r, 
+ 
</p>
<p>s 
</p>
<p>(vg(t)Jr, + + (v(t)) T c R 
s 
</p>
<p>Fig. 12.32 CPM DCM buck-boost converter model, derived via averaged switch modeling. 
</p>
<p>(12.115) 
</p>
<p>In the averaged model, the diode can be replaced by a power source of value (p(t) &gt;r,&bull; equal to the power 
apparently consumed at the switch network input port. During the second subinterval, the inductor 
</p>
<p>releases all of its stored energy through the diode, to the converter output. This results in an average 
</p>
<p>power flow of value (p(t) &gt;r,-
A CPM DCM buck-boost averaged model is therefore as given in Fig. 12.32. In this model, the 
</p>
<p>transistor is simply replaced by a power sink of value (p(t))r,, while the diode is replaced by a power 
</p>
<p>source also of value (p(t) &gt;r,-
The steady-state equivalent circuit model of the CPM DCM buck-boost converter is obtained by 
</p>
<p>letting the inductor and capacitor tend to short- and open-circuits, respectively. The model of Fig. 12.33 
</p>
<p>is obtained. The steady-state output voltage V can now be determined by equating the de load power to 
</p>
<p>the converter average power (p(t) &gt;r,- For a resistive load, one obtains 
</p>
<p>(12.116) 
</p>
<p>where the steady state value of (p(t) )r, is given by 
</p>
<p>(12.117) 
</p>
<p>and where lc is the steady-state value of the control input ic(t). Solution for Vyields the following result 
</p>
<p>Fig. 12.33 Steady-state model of the CPM DCM 
</p>
<p>buck-boost converter. 
R 
</p>
<p>+ 
</p>
<p>v </p>
<p/>
</div>
<div class="page"><p/>
<p>12.4 Discontinuous Conduction Mode 477 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>Fig. 12.34 Averaged models hCt))Ts c R (vCt))r 
s 
</p>
<p>of current-programmed DCM 
</p>
<p>converters: (a) buck, (b) boost. 
</p>
<p>(b) L 
</p>
<p>+ 
</p>
<p>h(t))T, c R (v(tl)r, 
</p>
<p>RLJ; 
</p>
<p>(12.118) 
</p>
<p>for the case of a resistive load. 
</p>
<p>Averaged models of the DCM CPM buck, boost, and other converters can be found in a similar 
</p>
<p>manner. In each case, the average transistor waveforms are shown to follow a power sink characteristic, 
</p>
<p>while the average diode waveforms follow a power source characteristic. The resulting equivalent cir-
</p>
<p>cuits of the CPM DCM buck and boost converters are illustrated in Fig. 12.34. In each case, the average 
</p>
<p>power is given by 
</p>
<p>Table 12.6 Steady-state DCM current-programmed characteristics of basic converters 
</p>
<p>Converter 
</p>
<p>Buck 
</p>
<p>Boost 
</p>
<p>Buck-boost 
</p>
<p>M 
</p>
<p>Depends on load characteristic: 
</p>
<p>pload= p 
</p>
<p>Stability range when rna = 0 
</p>
<p>(1c-~maTs) O~D~ 1 
2M 
</p>
<p>(1c-~maTs) 
O~D~ 1 
</p>
<p>2(M-1) </p>
<p/>
</div>
<div class="page"><p/>
<p>478 Current Programmed Control 
</p>
<p>(a) 
</p>
<p>+ + 
</p>
<p>JJ, J,l, R 
</p>
<p>---------------------------------------------------------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;-----------------------J 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>(c) 
</p>
<p>i I ;&middot;--------------------------------------------------------&middot;-------------------------------------------------------------~ j 2 
</p>
<p>+ 
</p>
<p>JJ, 
+ 
</p>
<p>+ 
' L------L------~--~ &bull;&bull; c R 
L ............ ------------------------------------------------------------------------------------------------------------------1 
</p>
<p>L 
</p>
<p>i, 
</p>
<p>Fig. 12.35 Small-signal models of DCM CPM converters, derived by perturbation and linearization of Figs. 
</p>
<p>12.32 and 12.34: (a) buck, (b) boost, (c) buck-boost. 
</p>
<p>(12.119) 
~ Li~(t)f, 
</p>
<p>(pCt))Ts = ( 1 + :: )2 
</p>
<p>with m1 defined as in Eq. (12.1). 
</p>
<p>Steady-state characteristics of the DCM CPM buck, boost, and buck-boost converters are sum-
</p>
<p>marized in Table 12.6. In each case, the de load power is Pzoad = VI and Pis given by Eq. (12.117). The 
conditions for operation of a current programmed converter in the discontinuous conduction mode can be 
</p>
<p>expressed as follows: 
</p>
<p>(12.120) III &gt; II critl for CCM 
I I I &lt; I I critl for DCM 
</p>
<p>where I is the de load current. The critical load current at the CCM-DCM boundary, Icrit' is expressed as 
</p>
<p>a function of Ic and the voltage conversion ratio M = V/V8 in Table 12.6. 
In the discontinuous conduction mode, the inductor current is zero at the beginning and end of </p>
<p/>
</div>
<div class="page"><p/>
<p>12.4 Discontinuous Conduction Mode 419 
</p>
<p>Table 12.7 Current programmed DCM small-signal equivalent circuit parameters: input port 
</p>
<p>Converter g, J, 
</p>
<p>( 1 rna) 
2!1 1 ( M2 } -ml 
</p>
<p>R 1-M ( 1 + ::) [c 
Buck 
</p>
<p>R 
</p>
<p>-i(M~1) 
2]_ 
</p>
<p>[c 
Boost 
</p>
<p>Buck-boost 0 
( 1 +:a) -R 1 
</p>
<p>M2 ( 1_ :~) 
</p>
<p>Table 12.8 Current programmed DCM small-signal equivalent circuit parameters: output port 
</p>
<p>Converter g2 !2 r2 
</p>
<p>Buck 
l M ( :~ (2-M)- M} 2]_ R(l-MJ(l+::) 
R ( 1=M) ( 1 + :~) [c (1-2M+::} 
</p>
<p>Boost i(M~l) 2!.1. R(MMl) I c 
</p>
<p>Buck-boost 
2M (::) 2!.1. R 
R (1 + ::) [c 
</p>
<p>each switching period. As a result, the current programmed controller does not exhibit the type of insta-
</p>
<p>bility described in Section 12.1. The current programmed controllers of DCM boost and buck-boost con-
</p>
<p>verters are stable for all duty cycles with no artificial ramp. However, the CPM DCM buck converter 
</p>
<p>exhibits a different type of low-frequency instability when M &gt; 2/3 and rna= 0, that arises because the de 
output characteristic is nonlinear and can exhibit two equilibrium points when the converter drives a 
</p>
<p>resistive load. The stability range can be extended to 0 ~ D ~ 1 by addition of an artificial ramp having 
</p>
<p>slope rna &gt; 0.086 rn2, or by addition of output voltage feedback. 
Small-signal models of DCM CPM converters can be derived by perturbation and linearization 
</p>
<p>of the averaged models of Figs. 12.32 and 12.34. The results are given in Fig. 12.35. Parameters of the 
</p>
<p>small-signal models are listed in Tables 12.7 and 12.8. 
</p>
<p>The CPM DCM small-signal models of Fig. 12.35 are quite similar to the respective small-sig-
</p>
<p>nal models of DCM duty-ratio controlled converters illustrated in Figs. 11.15 and 11.17. The sole differ-
</p>
<p>ences are the parameter expressions of Tables 12.7 and 12.8. Transfer functions can be determined in a </p>
<p/>
</div>
<div class="page"><p/>
<p>480 Current Programmed Control 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 12.36 Simplified small-signal model obtained by letting L become zero in Fig. 12.35 (a), (b), or (c). 
</p>
<p>similar manner. In particular, a simple approximate way to determine the low-frequency small-signal 
</p>
<p>transfer functions of the CPM DCM buck, boost, and buck-boost converters is to simply let the induc-
</p>
<p>tance L tend to zero in the equivalent circuits of Fig. 12.35. This approximation is justified for frequen-
</p>
<p>cies sufficiently less than the converter switching frequency, because in the discontinuous conduction 
</p>
<p>mode the value of L is small, and hence the pole and any RHP zero associated with L occur at frequen-
</p>
<p>cies near to or greater than the switching frequency. For all three converters, the equivalent circuit of Fig. 
</p>
<p>12.36 is obtained. 
</p>
<p>Figure 12.36 predicts that the control-to-output transfer function GvJs) is 
</p>
<p>A I G G (s)= ~ =--dJ_ 
vc i c &bull; - 0 1 + ,.~ 
</p>
<p>Vg- UJP 
</p>
<p>(12.121) 
</p>
<p>with 
</p>
<p>Gco = fz(Rllrz) 
(J) =--~-
</p>
<p>p (RIIr2)C 
</p>
<p>The line-to-output transfer function is predicted to be 
</p>
<p>(12.122) 
</p>
<p>with 
</p>
<p>If desired, more accurate expressions which account for inductor dynamics can be derived by solution of 
</p>
<p>the models of Fig. 12.35. 
</p>
<p>12.5 SUMMARY OF KEY POINTS 
</p>
<p>1. In current-programmed control, the peak switch current i/t) follows the control input Vt). This widely 
</p>
<p>used control scheme has the advantage of a simpler control-to-output transfer function. The line-to-output 
</p>
<p>transfer functions of current-programmed buck converters are also reduced. </p>
<p/>
</div>
<div class="page"><p/>
<p>References 481 
</p>
<p>2. The basic current-programmed controller is unstable when D &gt; 0.5, regardless of the converter topology. 
The controller can be stabilized by addition of an artificial ramp having slope ma. When ma &gt; 0.5m2, then 
</p>
<p>the controller is stable for all duty cycles. 
</p>
<p>3. The behavior of current-programmed converters can be modeled in a simple and intuitive manner by the 
</p>
<p>first-order approximation (iL(t)\:,"' i/t). The averaged terminal waveforms ofthe switch network can then 
</p>
<p>be modeled simply by a current source of value ic, in conjunction with a power sink or power source ele-
</p>
<p>ment. Perturbation and linearization of these elements leads to the small-signal model. Alternatively, the 
</p>
<p>small-signal converter equations derived in Chapter 7 can be adapted to cover the current programmed 
</p>
<p>mode, using the simple approximation iL(t)"' ic(t). 
</p>
<p>4. The simple model predicts that one pole is eliminated from the converter line-to-output and control-to-out-
</p>
<p>put transfer functions. Current programming does not alter the transfer function zeroes. The de gains 
</p>
<p>become load-dependent. 
</p>
<p>5. The more accurate model of Section 12.3 correctly accounts for the difference between the average induc-
</p>
<p>tor current ( iL(t) )r,. and the control input ic(t). This model predicts the nonzero line-to-output transfer func-
tion Gv/s) of the buck converter. The current-programmed controller behavior is modeled by a block 
</p>
<p>diagram, which is appended to the small-signal converter models derived in Chapter 7. Analysis of the 
</p>
<p>&middot;resulting multiloop feedback system then !~ads to the relevant transfer functions. 
</p>
<p>6. The more accurate model predicts that the inductor pole occurs at the crossover frequency fc of the effec-
</p>
<p>tive current feedback loop gain ~(s). The frequency fc typically occurs in the vicinity of the converter 
</p>
<p>switching frequency fs. The more accurate model also predicts that the line-to-output transfer function 
Gvg(s) of the buck converter is nulled when ma = 0.5m2. 
</p>
<p>7. Current programmed converters operating in the discontinuous conduction mode are modeled in Section 
</p>
<p>12.4. The averaged transistor waveforms can be modeled by a power sink, while the averaged diode wave-
</p>
<p>forms are modeled by a power source. The power is controlled by ic(t). Perturbation and linearization of 
</p>
<p>these averaged models, as usual, leads to small-signal equivalent circuits. 
</p>
<p>REFERENCES 
</p>
<p>[1] C. DEISCH, "Simple Switching Control Method Changes Power Converter into a Current Source," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1978 Record, pp. 300-306. 
</p>
<p>[2] A. CAPEL, G. FERRANTE, D. 0' SULLIVAN, and A. WEINBERG, "Application of the Injected Current Model 
</p>
<p>for the Dynamic Analysis of Switching Regulators with the New Concept of LC3 Modulator," IEEE Power 
</p>
<p>Electronics Specialists Conference, 1978 Record, pp. 135-147. 
</p>
<p>[3] S. Hsu, A. BROWN, L. RENSINK, and R. D. MIDDLEBROOK, "Modeling and Analysis of Switching De-to-
</p>
<p>De Converters in Constant-Frequency Current Programmed Mode," IEEE Power Electronics Specialists 
</p>
<p>Conference, 1979 Record, pp. 284-301. 
</p>
<p>[4] F. C. LEE and R. A. CARTER, "Investigations of Stability and Dynamic Performances of Switching Regula-
</p>
<p>tors Employing Current-Injected Control," IEEE Power Electronics Specialists Conference, 1981 Record, 
</p>
<p>pp. 3-16. 
</p>
<p>[5] R. D. MIDDLEBROOK, 'Topics in Multiple-Loop Regulators and Current-Mode Programming," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1985 Record, pp. 716-732. 
</p>
<p>[6] R. D. MIDDLEBROOK, "Modeling Current Programmed Buck and Boost Regulators," IEEE Transactions 
</p>
<p>on Power Electronics, Vol. 4, No. 1, January 1989, pp. 36-52. </p>
<p/>
</div>
<div class="page"><p/>
<p>482 Current Programmed Control 
</p>
<p>[7] G. VERGHESE, C. BRUZOS, and K. MAHABIR, "Averaged and Sampled-Data Models for Current Mode 
</p>
<p>Control: A Reexamination," IEEE Power Electronics Specialists Conference, 1989 Record, pp. 484-491. 
</p>
<p>[8] D. M. MITCHELL, De-De Switching Regulator Analysis, New York: McGraw-Hill, 1988, Chapter 6. 
</p>
<p>[9] A. KISLOVSKI, R. REDL, and N. SOKAL, Dynamic Analysis of Switching-Mode DC/DC Converters, New 
</p>
<p>York: Van Nostrand Reinhold, 1994. 
</p>
<p>[10] A. BROWN and R. D. MIDDLEBROOK, "Sampled-Data Modeling of Switching Regulators," IEEE Power 
</p>
<p>Electronics Specialists Conference, 1981 Record, pp. 716-732. 
</p>
<p>[11] R. RIDLEY, "A New Continuous-Time Model for Current-Mode Control," IEEE Transactions on Power 
</p>
<p>Electronics, Vol. 6, No.2, Apri11991, pp. 271-280. 
</p>
<p>[12] F. D. TAN and R. D. MIDDLEBROOK, "Unified Modeling and Measurement of Current-Programmed Con-
</p>
<p>verters," IEEE Power Electronics Specialists Conference, 1993 Record, pp. 380-387. 
</p>
<p>[13] R. TYMERSKI, "Sampled-Data Modeling of Switched Circuits, Revisited," IEEE Power Electronics Spe-
</p>
<p>cialists Conference, 1993 Record, pp. 395-401. 
</p>
<p>[14] W. TANG, F. C. LEE, R. B. RIDLEY and I. COHEN, "Charge Control: Modeling, Analysis and Design," 
</p>
<p>IEEE Power Electronics Specialists Conference, 1992 Record, pp. 503-511. 
</p>
<p>[15] K. SMEDLEY and S. CUK, "One-Cycle Control of Switching Converters," IEEE Power Electronics Special-
</p>
<p>ists Conference, 1991 Record, pp. 888-896. 
</p>
<p>PROBLEMS 
</p>
<p>12.1 A nonideal buck converter operates in the continuous conduction mode, with the values Vg = 10 V,f2 = 
100kHz, L = 4 fLH, C = 75 fLF, and R = 0.25 Q. The desired full-load output is 5 Vat 20 A. The power 
stage contains the following loss elements: MOSFET on-resistance Ron = 0.1 Q, Schottky diode forward 
</p>
<p>voltage drop VD = 0.5 V, inductor winding resistance RL = 0.03 Q. 
(a) Steady-state analysis: determine the converter steady-state duty cycle D, the inductor current 
</p>
<p>ripple slopes m1 and m2, and the dimensionless parameter K = 2L/RT,. 
(b) Determine the small-signal equations for this converter, for duty cycle control. 
</p>
<p>A current-programmed controller is now implemented for this converter. An artificial ramp is used, hav-
</p>
<p>ing a fixed slope Ma = 0.5M2, where M2 is the steady-state slope m2 obtained with an output of 5 Vat 20 
A. 
</p>
<p>(c) Over what range of D is the current programmed controller stable? Is it stable at rated output? 
</p>
<p>Note that the nonidealities affect the stability boundary. 
</p>
<p>(d) Determine the control-to-output transfer function Gvc(s), using the simple approximation 
</p>
<p>(iL(t))r, "'ic(t). Give analytical expressions for the corner frequency and de gain. Sketch the 
</p>
<p>Bode plot of Gvc(s). 
</p>
<p>12.2 Use the averaged switch modeling approach to model the CCM boost converter with current-pro-
</p>
<p>grammed control: 
</p>
<p>(a) Define the switch network terminal quantities as in Fig. 7.46(a). With the assumption that 
</p>
<p>(iL(t))r,"' ic(t), determine expressions for the average values of the switch network terminal 
</p>
<p>waveforms, and hence derive the equivalent circuit of Fig. 12.18(a). </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 483 
</p>
<p>(b) Perturb and linearize your model of part (a), to obtain the equivalent circuit of Fig. 12.22. 
</p>
<p>(c) Solve your model of part (b), to derive expressions for the control-to-output transfer function 
</p>
<p>Gvc(s) and the line-to-output transfer function Gvg(s). Express your results in standard normal-
</p>
<p>ized form, and give analytical expressions for the corner frequencies and de gains. 
</p>
<p>12.3 Use the averaged switch modeling approach to model the CCM Cuk converter with current-programmed 
</p>
<p>control. A Cuk converter is diagrammed in Fig. 2.20. 
</p>
<p>(a) It is desired to model the switch network with an ic current source and a dependent power source 
</p>
<p>or sink, using the approach of Section 12.2.2. How should the switch network terminal voltages 
</p>
<p>and currents be defined? 
</p>
<p>(b) Sketch the switch network terminal voltage and current waveforms. With the assumption that 
</p>
<p>(i1(t))J:,- (iit)\, "'ic(t) (where i 1 and i2 are the inductor currents defined in Fig. 2.20), deter-
mine expressions for the average values of the switch network terminal waveforms, and hence 
</p>
<p>derive an equivalent circuit similar to the equivalent circuits of Fig. 12.18. 
</p>
<p>(c) Perturb and linearize your model of part (b), to obtain a small signal equivalent circuit similar to 
</p>
<p>the model of Fig. 12.19. It is not necessary to solve your model. 
</p>
<p>12.4 The full-bridge converter of Fig. 6.19(a) operates with Vg = 320 V, and supplies 1000 W to a 42 V resis-
</p>
<p>tive load. Losses can be neglected, the duty cycle is 0.7, and the switching period T, defined in Fig. 6.20 
</p>
<p>is 10 11sec. L =50 11H and C = 100 11F. A current-programmed controller is employed, whose waveforms 
</p>
<p>are referred to the secondary side of the transformer. In the following calculations, you may neglect the 
</p>
<p>transformer magnetizing current. 
</p>
<p>(a) What is the minimum artificial ramp slope m0 that will stabilize the controller at the given oper-
</p>
<p>ating point? Express your result in terms of m2. 
</p>
<p>(b) An artificial ramp having the slope m" = m2 is employed. Sketch the Bode plot of the current 
</p>
<p>loop gain T;(s ), and label numerical values of the corner frequencies and de gains. It is not neces-
</p>
<p>sary tore-derive the analytical expression for 'f;. Determine the crossover frequency fc&middot; 
</p>
<p>(c) For m0 = m2, sketch the Bode plots of the control-to-output transfer function Gvc(s) and line-to-
</p>
<p>output transfer function GvgCs), and label numerical values of the corner frequencies and de 
</p>
<p>gains. It is not necessary tore-derive analytical expressions for these transfer functions. 
</p>
<p>12.5 In a CCM current-programmed buck converter, it is desired to minimize the line-to-output transfer func-
</p>
<p>tion Gvg(s) via the choice ma = 0.5m2. However, because of component tolerances, the value of induc-
</p>
<p>tance L can vary by &plusmn;10% from its nominal value of 100 11H. Hence, m" is fixed in value while m2 varies, 
</p>
<p>and ma = 0.5m2 is obtained only at the nominal value of L. The switching frequency is I 00 kHz, the out-
</p>
<p>put voltage is 15 V, the load current varies over the range 2 to 4 A, and the input voltage varies over the 
</p>
<p>range 22 to 32 V. You may neglect losses. Determine the worst-case (maximum) value of the line-to-out-
</p>
<p>put de gain Gvg(O). 
</p>
<p>12.6 The nonideal flyback converter of Fig. 7.18 employs current-programmed control, with artificial ramp 
</p>
<p>having slope ma. MOSFET Q1 exhibits on-resistance Ron&middot; All current programmed controller waveforms 
are referred to the transformer primary side. 
</p>
<p>(a) Derive a block diagram which models the current-programmed controller, of form similar to Fig. 
</p>
<p>12.24. Give analytical expressions for the gains in your block diagram. 
</p>
<p>(b) Combine your result of part (a) with the converter small-signal model. Derive a new expression 
</p>
<p>for the control-to-output transfer function Gvc(s). 
</p>
<p>12.7 A buck converter operates with current-programmed control. The element values are: 
</p>
<p>vg = 12ov 
R= lOQ 
</p>
<p>L = 550 11H 
</p>
<p>D=0.6 
</p>
<p>f, =100kHz 
C=lOO!lF </p>
<p/>
</div>
<div class="page"><p/>
<p>484 Current Programmed Control 
</p>
<p>An artificial ramp is employed, having slope 0.15 A!Jl.sec. 
</p>
<p>(a) Construct the magnitude and phase asymptotes of the control-to-output transfer function Gvis) 
</p>
<p>for duty-cycle control. On the same plot, construct the magnitude and phase asymptotes of the 
</p>
<p>control-to-output transfer function Gvc(s) for current-programmed control. Compare. 
</p>
<p>(b) Construct the magnitude asymptotes of the line-to-output transfer function Gv8 (s) for duty-cycle 
</p>
<p>control. On the same plot, construct the magnitude asymptotes of the line-to-output transfer 
</p>
<p>function Gvg&middot;cpm(s) for current-programmed control. Compare. 
</p>
<p>12.8 A buck-boost converter operates in the discontinuous conduction mode. Its current-programmed control-
</p>
<p>ler has no compensating artificial ramp: rna = 0. 
</p>
<p>(a) Derive an expression for the control-to-output transfer function Gvc(s), using the approximation 
</p>
<p>L"' 0. Give analytical expressions for the corner frequency and de gain. 
</p>
<p>(b) Repeat part (a), with the inductor included. Show that, provided the inductor is sufficiently 
</p>
<p>small, then the inductor merely adds a high-frequency pole and zero to Gvc(s), and the low-fre-
</p>
<p>quency pole derived in part (a) is essentially unchanged. 
</p>
<p>(c) At the CCM-DCM boundary, what is the minimum value of the RHP zero frequency? 
</p>
<p>12.9 A current-programmed boost converter interfaces a 3 V battery to a small portable 5 V load. The con-
</p>
<p>verter operates in the discontinuous conduction mode, with constant transistor on-time t0 n and variable 
</p>
<p>off-time; the switching frequency can therefore vary and is used as the control variable. There is no arti-
</p>
<p>ficial ramp, and the peak transistor current ic is equal to a fixed value Ic; in practice, Ic is chosen to mini-
</p>
<p>mize the total loss. 
</p>
<p>12.:1.0 
</p>
<p>(a) Sketch the transistor and diode voltage and current waveforms. Determine expressions for the 
</p>
<p>waveform average values, and hence derive a large-signal averaged equivalent circuit for this 
</p>
<p>converter. 
</p>
<p>(b) Perturb and linearize your model of part (a), to obtain a small-signal equivalent circuit. Note that 
</p>
<p>the switching frequency!, should be perturbed. 
</p>
<p>(c) Solve your model of part (b), to derive an expression for the low-frequency control-to-output 
</p>
<p>transfer function GvJs) = v(s)ll,(s). Express your results in standard normalized form, and give 
analytical expressions for the corner frequencies and de gains. You may assume that Lis small. 
</p>
<p>A current-programmed boost converter is employed in a low-harmonic rectifier system, in which the 
</p>
<p>input voltage is a rectified sinusoid: v 8(t) = V M I sin(Wt) 1. The de output voltage is v(t) = V &gt; V M&middot; The 
capacitance Cis large, such that the output voltage contains negligible ac variations. It is desired to con-
</p>
<p>trol the converter such that the input current i8(t) is proportional to vgCt): igCt) = vgCt)!Re, where Re is a 
constant, called the "emulated resistance." The averaged boost converter model of Fig. 12.18(a) suggests 
</p>
<p>that this can be accomplished by simply letting ic(t) be proportional to vgCt), according to ic(t) = vgCt)!Re. 
You may make the simplifying assumption that the converter always operates in the continuous conduc-
</p>
<p>tion mode. 
</p>
<p>(a) Solve the model of Fig. 12.18(a), subject to the assumptions listed above, to determine the 
</p>
<p>power (p(t) )r,.&middot; Find the average value of (p(t) )Ts' averaged over one cycle of the ac input v8(t). 
</p>
<p>(b) An artificial ramp is necessary to stabilize the current-programmed controller at some operating 
</p>
<p>points. What is the minimum value of rna that ensures stability at all operating points along the 
</p>
<p>input rectified sinusoid? Express your result as a function of V and L. Show your work. 
</p>
<p>(c) The artificial ramp and inductor current ripple cause the average input current to differ from ic(t). 
</p>
<p>Derive an algebraic expression for ( igCt) )Ts' as a function of ic(t) and other quantities such as rn0 , 
</p>
<p>v gCt). V, L, and Ts. For this part, you may assume that the inductor dynamics are negligible. Show 
your work. 
</p>
<p>(d) Substitute v8(t) = VM I sin(Wt) I and ic(t) = vgCt)/Re, into your result of part (c), to determine an 
expression for igCt). How does igCt) differ from a rectified sinusoid? </p>
<p/>
</div>
<div class="page"><p/>
<p>Switch network 
</p>
<p>i,(t) 
</p>
<p>+ 
</p>
<p>&amp; 
1------;S 
</p>
<p>Analog 
comparator 
</p>
<p>Problems 485 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>R 
</p>
<p>Charge controller 
Control 
input 
</p>
<p>Fig. 12.37 Buck converter with charge controller, Problem 12.11. 
</p>
<p>12.11 Figure 12.37 shows a buck converter with a charge controller [14]. Operation of the charge controller is 
</p>
<p>similar to operation of the current-programmed controller. At the beginning of each switching period, at 
</p>
<p>time t = 0, a short clock pulse sets the SR latch. The logic high signal at the Q output of the latch turns 
the power MOSFET on. At the same time, the logic low signal at the Q output of the latch turns the 
switch S, off. Current KJ, proportional to the power MOSFET current charges the capacitor C,. At 
t = dT,, the capacitor voltage vqCt) reaches the control input voltage R1ic, the comparator output goes 
high and resets the latch. The logic low signal at the Q output of the latch turns the power MOSFET off. 
</p>
<p>At the same time, the logic high signal at the Q output of the latch turns the switch S, on, which quickly 
discharges the capacitor C, to zero. 
</p>
<p>In this problem, the converter and controller parameters are: V8 = 24 V, f, = liT, = 100 kHz, 
L = 60 ftH, C = 100 ftF, R = 3 Q, K,T/C, = R1= 1 Q. You can assume that the converter operates in con-
tinuous conduction mode. 
</p>
<p>(a) Find expressions for the average values of the switch network terminal waveforms, and hence 
</p>
<p>derive a large-signal averaged switch model of the buck switch network with charge control. The 
</p>
<p>control input to the model is the control current ic. The averaged switch model should consist of 
</p>
<p>a current source and a power source. The switch duty cycle d should not appear in the model. 
</p>
<p>(b) Using the averaged switch model derived in part (a), find an expression for the quiescent output 
</p>
<p>voltage Vas a function of V8, Ic, and R. Given Ic = 2 A, find numerical values for V, Ii' 12, and the 
duty cycle D. For this quiescent operating point, sketch the waveforms i 1 (t), i2(t), and v qCt) dur-
</p>
<p>ing one switching period. 
</p>
<p>(c) Perturb and linearize the averaged switch model from part (a) to derive a small-signal averaged 
</p>
<p>switch model for the buck switch network with charge control. Find analytical expressions for </p>
<p/>
</div>
<div class="page"><p/>
<p>486 Current Programmed Control 
</p>
<p>all parameter values in terms of the converter parameters and the quiescent operating conditions. 
</p>
<p>Sketch the complete small-signal model of the buck converter with the charge controller. 
</p>
<p>(d) Solve the model obtained in part (c) to find the control-to-output transfer function Gv/s) = V!ic. 
At the quiescent operating point found in part (b), construct the Bode plot for the magnitude of 
</p>
<p>Gvc and label all salient features of the magnitude response. 
</p>
<p>(e) Comment on advantages charge control may have compared to duty-cycle control or current-
</p>
<p>programmed control. 
</p>
<p>12.12 Figure 12.38 shows a buck converter with a one-cycle controller [15]. Operation of the one-cycle con-
</p>
<p>troller is similar to operation of the current-programmed controller. At the beginning of each switching 
</p>
<p>period, at time t = 0, a short clock pulse sets the SR latch. The logic high signal at the Q output of the 
</p>
<p>latch turns the power MOSFET on. At the same time, the logic low signal at the Q output of the latch 
turns the switch S8 off. Current G,.vit) proportional to the voltage vit) charges the capacitor C8 &bull; At 
</p>
<p>t = dT,., the capacitor voltage v,(t) reaches the control input voltage v c' the comparator output goes high 
</p>
<p>and resets the latch. The logic low signal at the Q output of the latch turns the power MOSFET off. At 
</p>
<p>the same time, the logic high signal at the Q output of the latch turns the switch S8 on, which quickly 
discharges the capacitor C8 to zero. 
</p>
<p>In this problem, the converter and controller parameters are: Vg = 24 V, fs = l!Ts = 100 kHz, 
L = 60 J.!H, C = 100 J.!F, R = 3 Q, G8T/Cs = 1. You can assume that the converter operates in the continu-
ous conduction mode. 
</p>
<p>(a) Find expressions for the average values of the switch network terminal waveforms, and hence 
</p>
<p>derive a large-signal averaged switch model of the buck switch network with one-cycle control. 
</p>
<p>The control input to the model is the control voltage v c&middot; The switch duty cycle d should not 
</p>
<p>appear in the model 
</p>
<p>Switch network 
</p>
<p>i2(t) 
</p>
<p>+ + 
</p>
<p>v2(t) 
</p>
<p>&middot;----- -------- ............................ .. 
</p>
<p>1-t:..,_T_, -'-'--1 S 
</p>
<p>Analog 
comparator 
</p>
<p>R 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>One-cycle controller 
Control 
input 
</p>
<p>Fig. 12.38 Buck converter with one-cycle controller, Problem 12.12. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 487 
</p>
<p>(b) Using the averaged switch model derived in part (a), find an expression for the quiescent output 
</p>
<p>voltage Vas a function of Vc. Given Vc = 10 V, find the numerical values for V, 11' 12, and the duty 
cycle D. For this quiescent operating point, sketch the waveforms i1(t), iit), and v/t) during one 
</p>
<p>switching period. 
</p>
<p>(c) Perturb and linearize the averaged switch model from part (a) to derive a small-signal averaged 
</p>
<p>switch model for the buck switch network with one-cycle control. Find analytical expressions 
</p>
<p>for all parameter values in terms of the converter parameters and the quiescent operating condi-
</p>
<p>tions. Sketch the complete small-signal model of the buck converter with the one-cycle control-
</p>
<p>ler. 
</p>
<p>(d) Solve the model obtained in part (c) to find the control-to-output transfer function Gvc(s) = V!vc, 
and the line-to-output transfer function GvgCs) = v!vg. For the quiescent operating point found in 
</p>
<p>part (b), sketch the magnitude Bode plots of these transfer functions, and label all salient fea-
</p>
<p>tures. 
</p>
<p>(e) Comment on advantages one-cycle control may have compared to duty-cycle control. </p>
<p/>
</div>
<div class="page"><p/>
<p>Part III 
</p>
<p>Magnetics </p>
<p/>
</div>
<div class="page"><p/>
<p>13 
Basic Magnetics Theory 
</p>
<p>Magnetics are an integral part of every switching converter. Often, the design of the magnetic devices 
</p>
<p>cannot be isolated from the converter design. The power electronics engineer must not only model and 
</p>
<p>design the converter, but must model and design the magnetics as well. Modeling and design of magnet-
</p>
<p>ics for switching converters is the topic of Part III of this book. 
</p>
<p>In this chapter, basic magnetics theory is reviewed, including magnetic circuits, inductor model-
</p>
<p>ing, and transformer modeling [1-5]. Loss mechanisms in magnetic devices are described. Winding eddy 
</p>
<p>currents and the proximity effect, a significant loss mechanism in high-current high-frequency windings, 
</p>
<p>are explained in detail [6-11]. Inductor design is introduced in Chapter 14, and transformer design is cov-
</p>
<p>ered in Chapter 15. 
</p>
<p>13.1 REVIEW OF BASIC MAGNETICS 
</p>
<p>13.1.1 Basic Relationships 
</p>
<p>The basic magnetic quantities are illustrated in Fig. 13.1. Also illustrated are the analogous, and perhaps 
</p>
<p>more familiar, electrical quantities. The magnetomotive force tif, or scalar potential, between two points 
</p>
<p>x 1 and x2 is given by the integral of the magnetic field H along a path connecting the points: 
</p>
<p>(13.1) 
</p>
<p>where dl is a vector length element pointing in the direction of the path. The dot product yields the com-</p>
<p/>
</div>
<div class="page"><p/>
<p>492 Basic Magnetics Theory 
</p>
<p>Magnetic quantities 
</p>
<p>,._ Length e _ , 
</p>
<p>Magnetic field H 
</p>
<p>XI X2 
</p>
<p>Total flux &lt;I&gt; 
</p>
<p>Flux density B { 
</p>
<p>+........_ MMF ,...--
:j" = HC 
</p>
<p>SurfaceS 
tlh areaAc 
</p>
<p>Electrical quamities 
</p>
<p>,,._ Length f _ , 
</p>
<p>Electric field E 
</p>
<p>Total current I 
</p>
<p>Current density J { 
</p>
<p>SurfaceS 
th area Ac 
</p>
<p>Fig. 13.1 Comparison of magnetic field H, MMF &lt;I&gt;, flux :Ji, and flux density B, with the analogous electrical quan-
</p>
<p>tities E, V, /, and 1. 
</p>
<p>ponent of H in the direction of the path. If the magnetic field is of uniform strength H passing through an 
</p>
<p>element of length e as illustrated, then Eq. (13.1) reduces to 
</p>
<p>(13.2) 
</p>
<p>This is analogous to the electric field of uniform strength &pound;, which induces a voltage V = Ee between two 
points separated by distance e. 
</p>
<p>Figure 13.1 also illustrates a total magnetic flux &lt;I&gt; passing through a surface S having area A c. 
</p>
<p>The total flux &lt;I&gt; is equal to the integral of the normal component of the flux density B over the surface 
</p>
<p>&lt;f&gt;= I 8-dA (13.3) 
StlrfaceS 
</p>
<p>where dA is a vector area element having direction normal to the surface. For a uniform flux density of 
</p>
<p>magnitude B as illustrated, the integral reduces to 
</p>
<p>(13.4) 
</p>
<p>Flux density B is analogous to the electrical current density ] , and flux ([I is analogous to the electric cur-
</p>
<p>rent/. If a uniform current density of magnitude J passes through a surface of area Ac, then the total cur-
</p>
<p>rent is I= lAc. 
</p>
<p>Faraday 's law relates the voltage induced in a winding to the total flux passing through the inte-
</p>
<p>rior of the winding. Figure 13.2 illustrates flux $(t) passing through the interior of a loop of wire. The 
</p>
<p>loop encloses cross-sectional area Ac. According to Faraday's law, the flux induces a voltage v(t) in the 
</p>
<p>wire, given by 
</p>
<p>v(t) = d!?) (13.5) 
</p>
<p>where the polarities of v(t) and $(t) are defined according to the right-hand rule, as in Fig. 13.2. For a </p>
<p/>
</div>
<div class="page"><p/>
<p>13.1 Review of Basic Magnetics 493 
</p>
<p>Fig. 13.2 The voltage v(t) induced in a loop of wire is 
</p>
<p>related by Faraday's law to the derivative of the total flux &lt;l&gt;(t) 
</p>
<p>passing through the interior of the loop. Flux &lt;l&gt;(t) 
</p>
<p>uniform flux distribution, we can express v(t) in terms of the flux density B(t) by substitution of Eq. 
</p>
<p>(13.4): 
</p>
<p>() =A dB(t) 
v t c dt 
</p>
<p>(13.6) 
</p>
<p>Thus, the voltage induced in a winding is related to the flux &lt;1&gt; and flux density B passing through the 
</p>
<p>interior of the winding. 
</p>
<p>Lenz's law states that the voltage v(t) induced by the changing flux &lt;P(t) in Fig. 13.2 is of the 
</p>
<p>polarity that tends to drive a current through the loop to counteract the flux change. For example, con-
</p>
<p>sider the shorted loop of Fig. 13.3. The changing flux &lt;P(t) passing through the interior of the loop 
</p>
<p>induces a voltage v(t) around the loop. This voltage, divided by the impedance of the loop conductor, 
</p>
<p>leads to a current i(t) as illustrated. The current i(t) induces a flux &lt;1&gt;' (t), which tends to oppose the 
</p>
<p>changes in &lt;P(t). Lenz's law is invoked later in this chapter, to provide a qualitative understanding of eddy 
</p>
<p>current phenomena. 
</p>
<p>Ampere's law relates the current in a winding to the magnetomotive force :7 and magnetic field 
H. The net MMF around a closed path of length em is equal to the total current passing through the inte-
rior of the path. For example, Fig. 13.4 illustrates a magnetic core, in which a wire carrying current i(t) 
</p>
<p>passes through the window in the center of the core. Let us consider the closed path illustrated, which 
</p>
<p>follows the magnetic field lines around the interior of the core. Ampere's law states that 
</p>
<p>~ H &middot;df = total current passing through interior of path (13.7) 
closed path 
</p>
<p>The total current passing through the interior of the path is equal to the total current passing through the 
</p>
<p>Fig. 13.3 Illustration of Lenz's law in a shorted loop of wire. The flux 
</p>
<p>&lt;l&gt;(t) induces current i(t), which in turn generates flux &lt;.l&gt;'(t) that tends to 
</p>
<p>oppose changes in &lt;.l&gt;(t). Shorted 
loop </p>
<p/>
</div>
<div class="page"><p/>
<p>494 Basic Magnetics Theory 
</p>
<p>Fig. 13.4 The net MMF around a closed 
</p>
<p>path is related by Ampere's law to the total 
</p>
<p>current passing through the interior of the 
</p>
<p>path. 
</p>
<p>i(t) !"-
</p>
<p>!"-
</p>
<p>H 
</p>
<p>~ 
</p>
<p>1'\ 
</p>
<p>1--
</p>
<p>'\ 
</p>
<p>Magnetic path 
length t,. 
</p>
<p>window in the center of the core, or i(t). If the magnetic field is uniform and of magnitude H(t), then the 
</p>
<p>integral is H(t)&euro; 111 &bull; So for the example of Fig. 13.4, Eq. (13.7) reduces to 
</p>
<p>.7(t) = H(t)e,., = i(t) (13.8) 
</p>
<p>Thus, the magnetic field strength H(t) is related to the winding current i(t). We can view winding currents 
</p>
<p>as sources of MMF. Equation (13.8) states that the MMF around the core, :IJ(t) = H (t)&euro;,., is equal to the 
</p>
<p>winding current MMF i(t). The total MMF around the closed loop, accounting for both MMFs, is zero. 
</p>
<p>The relationship between B and H, or equivalently between ct&gt; and .&lt;17, is determined by the core 
</p>
<p>material characteristics. Figure 13.5(a) illustrates the characteristics of free space, or air: 
</p>
<p>(13.9) 
</p>
<p>The quantity flo is the permeability of free space, and is equal to 4n &middot; 10-7 Henries per meter in MKS 
</p>
<p>units. Figure 13.5(b) illustrates the B-H characteristic of a typical iron alloy under high-level sinusoidal 
</p>
<p>steady-state excitation. The characteristic is highly nonlinear, and exhibits both hysteresis and saturation. 
</p>
<p>The exact shape of the characteristic is dependent on the excitation, and is difficult to predict for arbitrary 
</p>
<p>waveforms. 
</p>
<p>For purposes of analysis, the core material characteristic of Fig. 13.5(b) is usually modeled by 
</p>
<p>the linear or piecewise-linear characteristics of Fig. 13.6. In Fig. 13.6(a), hysteresis and saturation are 
</p>
<p>ignored. The B-H characteristic is then given by 
</p>
<p>(a) B (b) B 
</p>
<p>H 
</p>
<p>Fig. 13.5 B- H characteristics: (a) of free space or air, (b) of a typical magnetic core material. </p>
<p/>
</div>
<div class="page"><p/>
<p>13.1 Review of Basic Magnetics 495 
</p>
<p>(a) B (b) B 
</p>
<p>H H 
</p>
<p>Fig. 13.6 Approximation of the B-H characteristics of a magnetic core material: (a) by neglecting both hysteresis 
</p>
<p>and saturation, (b) by neglecting hysteresis. 
</p>
<p>(13.10) 
</p>
<p>The core material permeability Jl can be expressed as the product of the relative permeability Jl, and of 
</p>
<p>Jlo&middot; Typical values of Jl, lie in the range 103 to 105. 
</p>
<p>The piecewise-linear model of Fig. 13.6(b) accounts for saturation but not hysteresis. The core 
</p>
<p>material saturates when the magnitude of the flux density B exceeds the saturation flux density Bsar For 
</p>
<p>I B I &lt; Bsat' the characteristic follows Eq. (13.10). When I B I &gt; Bsat' the model predicts that the core 
reverts to free space, with a characteristic having a much smaller slope approximately equal to Jlo&middot; 
</p>
<p>Square-loop materials exhibit this type of abrupt-saturation characteristic, and additionally have a very 
</p>
<p>large relative permeability Jl,. Soft materials exhibit a less abrupt saturation characteristic, in which Jl 
</p>
<p>gradually decreases asH is increased. Typical values of Bsat are 1 to 2 Tesla for iron laminations and sili-
</p>
<p>con steel, 0.5 to 1 Tesla for powdered iron and molypermalloy materials, and 0.25 to 0.5 Tesla for ferrite 
</p>
<p>materials. 
</p>
<p>Unit systems for magnetic quantities are summarized in Table 13.1. The MKS system is used 
</p>
<p>throughout this book. The unrationalized cgs system also continues to find some use. Conversions 
</p>
<p>between these systems are listed. 
</p>
<p>Figure 13.7 summarizes the relationships between the basic electrical and magnetic quantities 
</p>
<p>of a magnetic device. The winding voltage v(t) is related to the core flux and flux density via Faraday's 
</p>
<p>Table 13.1 Units for magnetic quantities 
</p>
<p>Quantity MKS 
</p>
<p>Core material equation 
</p>
<p>B Tesla 
</p>
<p>H Ampere/meter 
</p>
<p>Weber 
</p>
<p>Unrationalized cgs 
</p>
<p>Gauss 
</p>
<p>Oersted 
</p>
<p>Maxwell 
</p>
<p>Conversions 
</p>
<p>1 A/m = 4n &middot; 10-3 Oe 
</p>
<p>1 Wb= 108 Mx 
</p>
<p>1 T = 1 Wb/m2 </p>
<p/>
</div>
<div class="page"><p/>
<p>496 Basic Magnetics Theory 
</p>
<p>Fig. 13.7 Summary ofthe steps in determina-
</p>
<p>tion of the terminal electrical i-v characteristics 
</p>
<p>of a magnetic element. 
</p>
<p>Faraday's law 
v(t) ~--------. 
</p>
<p>Terminal 
characteristics 
</p>
<p>i(t) ~--------. 
Ampere's law 
</p>
<p>B(t), &lt;f&gt;(t) 
</p>
<p>I Core characteristics 
H(t), :ff(t) 
</p>
<p>law. The winding current i(t) is related to the magnetic field strength via Ampere's law. The core material 
</p>
<p>characteristics relate B and H. 
</p>
<p>We can now determine the electrical terminal characteristics of the simple inductor of Fig. 
</p>
<p>13.8(a). A winding of n turns is placed on a core having permeability p.. Faraday's law states that the flux 
</p>
<p>&lt;t&gt;(t) inside the core induces a voltage vturn(t) in each tum of the winding, given by 
</p>
<p>(13.11) 
</p>
<p>Since the same flux &lt;f&gt;(t) passes through each tum of the winding, the total winding voltage is 
</p>
<p>dr:IJ(t ) 
v(t) = nv,u,(t) = n ~ (13.12) 
</p>
<p>Equation (13.12) can be expressed in terms of the average flux density B(t) by substitution ofEq. (13.4): 
</p>
<p>Fig. 13.8 Inductor example: (a) inductor 
</p>
<p>geometry, (b) application of Ampere's law. 
</p>
<p>v(t ) = nA dB(t) 
c dt 
</p>
<p>(a) 
</p>
<p>i(t) 
</p>
<p>+ 
II 
</p>
<p>v(t ) 
turns 
</p>
<p>-
</p>
<p>(b) 
</p>
<p>i(t) 
</p>
<p>II 
</p>
<p>turns 
</p>
<p>I 
</p>
<p>'\.. 
</p>
<p>'\.. 
</p>
<p>&lt;I&gt; 
</p>
<p>1'\ 
</p>
<p>core 
</p>
<p>H 
</p>
<p>"\ 
'\ 
</p>
<p>(13.13) 
</p>
<p>"\ 
</p>
<p>1-
Core area 
A,. 
</p>
<p>~ ~ 
</p>
<p>"\ 
</p>
<p>I"\ 
</p>
<p>I-"' v 
</p>
<p>"\ 
</p>
<p>Core 
permeability 
</p>
<p>ll 
</p>
<p>Magnetic 
path 
length em </p>
<p/>
</div>
<div class="page"><p/>
<p>13.1 Review of Basic Magnetics 497 
</p>
<p>where the average flux density B(t) is &lt;P(t)/Ac. 
</p>
<p>The use of Ampere's law is illustrated in Fig. 13.8(b). A closed path is chosen which follows an 
</p>
<p>average magnetic field line around the interior of the core. The length of this path is called the mean 
</p>
<p>magnetic path length em. If the magnetic field strength H(t) is uniform, then Ampere's law states that Hem 
is equal to the total current passing through the interior of the path, that is, the net current passing 
</p>
<p>through the window in the center of the core. Since there are n turns of wire passing through the window, 
</p>
<p>each carrying current i(t), the net current passing through the window is ni(t). Hence, Ampere's law 
</p>
<p>states that 
</p>
<p>H(t)e, = ni(t) (13.14) 
</p>
<p>Let us model the core material characteristics by neglecting hysteresis but accounting for satu-
</p>
<p>ration, as follows: 
</p>
<p>{
</p>
<p>Bsat 
</p>
<p>B= JlH 
</p>
<p>-Bsat 
</p>
<p>for H :2: B,a/Jl 
</p>
<p>for I HI&lt; B,a/Jl 
for H :-:;- B,a/Jl 
</p>
<p>(13.15) 
</p>
<p>The B-H characteristic saturated slope Jlo is much smaller than Jl, and is ignored here. A characteristic 
</p>
<p>similar to Fig. 13.6(b) is obtained. The current magnitude !,.at at the onset of saturation can be found by 
</p>
<p>substitution of H = Bsa/11 into Eq. (13.14). The result is 
</p>
<p>I - B'",&euro;"' 
sat- Jln 
</p>
<p>(13.16) 
</p>
<p>We can now eliminate Band H from Eqs. (13.13) to (13.15), and solve for the electrical terminal charac-
</p>
<p>teristics. For I I I&lt; !sat' B = J1H. Equation (13.13) then becomes 
</p>
<p>dH(t) 
v(t)= 11 nA --
</p>
<p>,.., c dt 
</p>
<p>Substitution ofEq. (13.14) into Eq. (13.17) to eliminate H(t) then leads to 
</p>
<p>which is of the form 
</p>
<p>with 
</p>
<p>v(t) = Jln 2Ac di(t) 
em dt 
</p>
<p>v(t) = L di(t) 
dt 
</p>
<p>(13.17) 
</p>
<p>(13.18) 
</p>
<p>(13.19) 
</p>
<p>(13.20) 
</p>
<p>So the device behaves as an inductor for Ill &lt; Isar When I I I &gt;!sat' then the flux density B(t) = Bsat is con-
stant. Faraday's law states that the terminal voltage is then </p>
<p/>
</div>
<div class="page"><p/>
<p>498 Basic Magnetics Theory 
</p>
<p>dB 
v(t) = nAc d;"' = 0 (13.21) 
</p>
<p>When the core saturates, the magnetic device behavior approaches a short circuit. The device behaves as 
</p>
<p>an inductor only when the winding current magnitude is less than Isar Practical inductors exhibit some 
</p>
<p>small residual inductance due to their nonzero saturated permeabilities; nonetheless, in saturation the 
</p>
<p>inductor impedance is greatly reduced, and large inductor currents may result. 
</p>
<p>13.1.2 Magnetic Circuits 
</p>
<p>Figure 13 .9(a) illustrates uniform flux and. magnetic field inside a element having permeability JJ , length 
</p>
<p>&euro;, and cross-sectional area Ac . The MMF between the two ends of the element is 
</p>
<p>(13.22) 
</p>
<p>Since H = B/fl and B = &lt;1&gt;/Ac, we can express :If as 
</p>
<p>(13.23) 
</p>
<p>This equation is of the form 
</p>
<p>(13.24) 
</p>
<p>with 
</p>
<p>(13.25) 
</p>
<p>Equation (1324) resembles Ohm's law. This equation states that the magnetic flux through an element is 
</p>
<p>proportional to the MMF across the element. The constant of proportionality, or the reluctance fll, is 
analogous to the resistance R of an electrical conductor. Indeed, we can construct a lumped-element 
</p>
<p>magnetic circuit model that corresponds to Eq, (13.24) , as in Fig. 13.9(b). In this magnetic circuit model, 
</p>
<p>voltage and current are replaced by MMF and flux, while the element characteristic, Eq. (13.24), is rep-
</p>
<p>resented by the analog of a resistor, having reluctance fll. 
</p>
<p>(a) 
</p>
<p>Complicated magnetic structures, composed of multiple windings and multiple heterogeneous 
</p>
<p>.- Length e-. 
</p>
<p>+ - MMF fl -- - Area 
</p>
<p>p~, ~ lJ :f~" P"moabm~" 
H 
</p>
<p>.~= _ e _ 
flA c 
</p>
<p>(b) 
</p>
<p>+- :;; -- -
</p>
<p>Fig. 13.9 An element containing magnetic flux (a), and its equivalent magnetic circuit (b). </p>
<p/>
</div>
<div class="page"><p/>
<p>13.1 Review of Basic Magnetics 499 
</p>
<p>(a) Node (b) Node c[:J, = c[:J2 + c[:J3 
</p>
<p>I 
1 
</p>
<p>c[:J, c[:J3 c[:Jl c[:J3 
</p>
<p>--+ --+ 
</p>
<p>1"''~1 c[:J2 
Fig. 13.10 Kirchoff's current law, applied to magnetic circuits: the net flux entering a node must be zero: (a) phys-
</p>
<p>ical element, in which three legs of a core meet at a node; (b) magnetic circuit model. 
</p>
<p>elements such as cores and air gaps, can be represented using equivalent magnetic circuits. These mag-
</p>
<p>netic circuits can then be solved using conventional circuit analysis, to determine the various fluxes, 
</p>
<p>MMFs, and terminal voltages and currents. Kirchoff's laws apply to magnetic circuits, and follow 
</p>
<p>directly from Maxwell's equations. The analog of Kirchoff's current law holds because the divergence of 
</p>
<p>B is zero, and hence magnetic flux lines are continuous and cannot end. Therefore, any flux line that 
</p>
<p>enters a node must leave the node. As illustrated in Fig. 13.10, the total flux entering a node must be zero. 
</p>
<p>The analog of Kirchoff's voltage law follows from Ampere's law, Eq. (13.7). The left-hand-side integral 
</p>
<p>in Eq. (13.7) is the sum of the MMFs across the reluctances around the closed path. The right-hand-side 
</p>
<p>of Eq. (13.7) states that currents in windings are sources of MMF. Ann-turn winding carrying current i(t) 
</p>
<p>can be modeled as an MMF source, analogous to a voltage source, of value ni(t). When these MMF 
</p>
<p>sources are included, the total MMF around a closed path is zero. 
</p>
<p>Consider the inductor with air gap of Fig. 13.ll(a). A closed path following the magnetic field 
</p>
<p>lines is illustrated. This path passes through the core, of permeability Jl and length ec, and across the air 
</p>
<p>gap, of permeability Jlo and length eg. The cross-sectional areas of the core and air gap are approximately 
equal. Application of Ampere's law for this path leads to 
</p>
<p>(13.26) 
</p>
<p>where :'ic and f'i8 are the MMFs across the core and air gap, respectively. The core and air gap character-
istics can be modeled by reluctances as in Fig. 13.9 and Eq. (13.25); the core reluctance &amp;lc and air gap 
</p>
<p>reluctance .Oll8 are given by 
</p>
<p>(a) 
</p>
<p>i(t) 
</p>
<p>+ 
v (t) 
</p>
<p>n 
turns 
</p>
<p>-
</p>
<p>" 
</p>
<p>Core 
permeability 1-1 
</p>
<p>c[:J 
</p>
<p>!"-. 
</p>
<p>' 
p 
</p>
<p>~ 
</p>
<p>r 
" f.-
</p>
<p>~~ 
f-
f-~ 
</p>
<p>r---r--
</p>
<p>" 
</p>
<p>Cross-sectional 
areaAc 
</p>
<p>Air gap 
eg 
</p>
<p>Magnetic path 
length em 
</p>
<p>(b) 
</p>
<p>+ 
[ifc 
</p>
<p>iflc 
</p>
<p>ni(t) ~ 
</p>
<p>Fig. 13.11 Inductor with air gap example: (a) physical geometry, (b) magnetic circuit model. 
</p>
<p>+ 
</p>
<p>&amp;l &middot;g $ g </p>
<p/>
</div>
<div class="page"><p/>
<p>500 Basic Magnetics Theory 
</p>
<p>(13.27) 
</p>
<p>A magnetic circuit corresponding to Eqs. (13.26) and (13.27) is given in Fig. 13.ll(b). The winding is a 
</p>
<p>source of MMF, of value ni. The core and air gap reluctances are effectively in series. The solution of the 
</p>
<p>magnetic circuit is 
</p>
<p>The flux ll&gt;(t) passes through the winding, and so we can use Faraday's law to write 
</p>
<p>Use of Eq. (13.28) to eliminate ll&gt;(t) yields 
</p>
<p>Therefore, the inductance L is 
</p>
<p>(t) - dcf&gt;(t) 
v -n dt 
</p>
<p>The air gap increases the total reluctance of the magnetic circuit, and decreases the inductance. 
</p>
<p>(13.28) 
</p>
<p>(13.29) 
</p>
<p>(13.30) 
</p>
<p>(13.31) 
</p>
<p>Air gaps are employed in practical inductors for two reasons. With no air gap (Pilg = 0), the 
</p>
<p>inductance is directly proportional to the core permeability p.. This quantity is dependent on temperature 
</p>
<p>and operating point, and is difficult to control. Hence, it may be difficult to construct an inductor having 
</p>
<p>a well-controlled value of L. Addition of an air gap having a reluctance Pllg greater than Pile causes the 
</p>
<p>value of Lin Eq. (13.31) to be insensitive to variations in p.. 
</p>
<p>Addition of an air gap also allows the inductor to operate at higher values of winding current i(t) 
</p>
<p>without saturation. The total flux II&gt; is plotted vs. the winding MMF ni in Fig. 13.12. Since II&gt; is propor-
</p>
<p>tional to B, and when the core is not saturated ni is proportional to the magnetic field strength H in the 
</p>
<p>Fig. 13.12 Effect of air gap on the magnetic circuit cf&gt; vs. ni 
</p>
<p>characteristics. The air gap increases the current !sat at the 
</p>
<p>onset of core saturation. </p>
<p/>
</div>
<div class="page"><p/>
<p>13.2 Transformer Modeling 501 
</p>
<p>core, Fig. 13.12 has the same shape as the core B-H characteristic. When the core is not saturated, &lt;I&gt; is 
</p>
<p>related toni according to the linear relationship of Eq. (13.28). When the core saturates, &lt;I&gt; is equal to 
</p>
<p>(13 .32) 
</p>
<p>The winding current !sat at the onset of saturation is found by substitution of Eq. (13 .32) into (13.28): 
</p>
<p>I =BsatAc(@ +ui&gt;) sat n .:nc Ol'g (13.33) 
</p>
<p>The &lt;I&gt;-ni characteristics are plotted in Fig. 13.12 for two cases: (a) air gap present, and (b) no air gap 
</p>
<p>(.928 = 0). It can be seen thatlsat is increased by addition of an air gap. Thus, the air gap allows increase of 
</p>
<p>the saturation current, at the expense of decreased inductance. 
</p>
<p>13.2 TRANSFORMER MODELING 
</p>
<p>Consider next the two-winding transformer of Fig. 13.13. The core has cross-sectional area Ac, mean 
</p>
<p>magnetic path length em, and permeability Jl. An equivalent magnetic circuit is given in Fig. 13.14. The 
core reluctance is 
</p>
<p>(13.34) 
</p>
<p>Since there are two windings in this example, it is necessary to determine the relative polarities of the 
</p>
<p>MMF generators. Ampere's law states that 
</p>
<p>Fig. 13.13 A two-winding transformer. 
</p>
<p>Fig. 13.14 Magnetic circuit that models the 
two-winding transformer of Fig. 13.13. 
</p>
<p>+ 
(t) 
</p>
<p>-
</p>
<p>il (t) 
</p>
<p>nl 
turns 
</p>
<p>&bull; I'\ 
I 
</p>
<p>'\. 
</p>
<p>(13.35) 
</p>
<p>&lt;I&gt; 
'\ 
</p>
<p>&bull; iit) 
+ 
</p>
<p>n2 
vi turns t) 
</p>
<p>-
</p>
<p>Core 
</p>
<p>'\ </p>
<p/>
</div>
<div class="page"><p/>
<p>502 Basic Magnetics Theory 
</p>
<p>The MMF generators are additive, because the currents i1 and i2 pass in the same direction through the 
</p>
<p>core window. Solution of Fig. 13.14 yields 
</p>
<p>(13.36) 
</p>
<p>This expression could also be obtained by substitution of :lfc =&lt;I&gt;&amp;? into Eq. (13.35). 
</p>
<p>13.2.1 The Ideal Transformer 
</p>
<p>In the ideal transformer, the core reluctance iJl approaches zero. The causes the core MMF Pic = &lt;l&gt;.Jl to 
also approach zero. Equation (13.35) then becomes 
</p>
<p>Also, by Faraday's law, we have 
</p>
<p>Note that &lt;I&gt; is the same in both equations above: the same total 
</p>
<p>flux links both windings. Elimination of &lt;I&gt; leads to 
</p>
<p>(13.39) 
</p>
<p>Equations (13.37) and (13.39) are the equations of the ideal trans-
</p>
<p>former: 
</p>
<p>(13.40) 
</p>
<p>The ideal transformer symbol of Fig. 13.15 is defined by Eq. 
</p>
<p>(13.40). 
</p>
<p>13.2.2 The Magnetizing Inductance 
</p>
<p>(13.37) 
</p>
<p>(13.38) 
</p>
<p>r------------------------
</p>
<p>1 nl: nz 
---.--+--, r--+--+---
+ + 
</p>
<p>Fig. 13.15 Ideal transformer symbol. 
</p>
<p>For the actual case in which the core reluctance &amp;? is nonzero, we have 
</p>
<p>(13.41) 
</p>
<p>Elimination of &lt;I&gt; yields 
</p>
<p>(13.42) </p>
<p/>
</div>
<div class="page"><p/>
<p>13.2 Transformer Modeling 503 
</p>
<p>+ + 
</p>
<p>Ideal i t _________________________ j 
</p>
<p>Fig. 13.16 Transformer model including magnetizing inductance. 
</p>
<p>This equation is of the form 
</p>
<p>(13.43) 
</p>
<p>where 
</p>
<p>(13.44) 
</p>
<p>are the magnetizing inductance and magnetizing current, referred to the primary winding. An equivalent 
</p>
<p>circuit is illustrated in Fig. 13.16. 
</p>
<p>Figure 13.16 coincides with the transformer model introduced in Chapter 6. The magnetizing 
</p>
<p>inductance models the magnetization of the core material. It is a real, physical inductor, which exhibits 
</p>
<p>saturation and hysteresis. All physical transformers must contain a magnetizing inductance. For example, 
</p>
<p>suppose that we disconnect the secondary winding. We are then left with a single winding on a magnetic 
</p>
<p>core-an inductor. Indeed, the equivalent circuit of Fig. 13.16 predicts this behavior, via the magnetizing 
</p>
<p>inductance. The magnetizing current causes the ratio of the winding currents to differ from the turns 
</p>
<p>ratio. 
</p>
<p>The transformer saturates when the core flux density B(t) exceeds the saturation flux density 
</p>
<p>Bsar When the transformer saturates, the magnetizing current iM(t) becomes large, the impedance of the 
</p>
<p>magnetizing inductance becomes small, and the transformer windings become short circuits. It should be 
</p>
<p>noted that large winding currents i 1(t) and iit) do not necessarily cause saturation: if these currents obey 
Eq. (13.37), then the magnetizing current is zero and there is no net magnetization of the core. Rather, 
</p>
<p>saturation of a transformer is a function of the applied volt-seconds. The magnetizing current is given by 
</p>
<p>(13.45) 
</p>
<p>Alternatively, Eq. (13.45) can be expressed in terms of the core flux density B(t) as 
</p>
<p>(13.46) 
</p>
<p>The flux density and magnetizing current will become large enough to saturate the core when the applied 
</p>
<p>volt-seconds A1 is too large, where A1 is defined for a periodic ac voltage waveform as </p>
<p/>
</div>
<div class="page"><p/>
<p>504 Basic Magnetics Theory 
</p>
<p>(13.47) 
</p>
<p>The limits are chosen such that the integral is taken over the positive portion of the applied periodic volt-
</p>
<p>age waveform. 
</p>
<p>To fix a saturating transformer, the flux density should be decreased by increasing the number of 
</p>
<p>turns, or by increasing the core cross-sectional area A c. Adding an air gap has no effect on saturation of 
</p>
<p>conventional transformers, since it does not modify Eq. (13.46). An air gap simply makes the transformer 
</p>
<p>less ideal, by decreasing LM and increasing iM(t) without changing B(t). Saturation mechanisms in trans-
</p>
<p>formers differ from those of inductors, because transformer saturation is determined by the applied wind-
</p>
<p>ing voltage waveforms, rather than the applied winding currents. 
</p>
<p>13.2.3 Leakage Inductances 
</p>
<p>In practice, there is some flux which links one winding but not the other, by "leaking" into the air or by 
</p>
<p>some other mechanism. As illustrated in Fig. 13.17, this flux leads to leakage inductance, i.e., additional 
</p>
<p>effective inductances that are in series with the windings. A topologically equivalent structure is illus-
</p>
<p>trated in Fig. 13.17(b ), in which the leakage fluxes &lt;Pn and &lt;Pn are shown explicitly as separate induc-
</p>
<p>tors. 
</p>
<p>(a) 
</p>
<p>C_&lt;l&gt;M ~ 
i, (t) '\ 
</p>
<p>(t) &lt;Pn {J 
\... ../ 
</p>
<p>" 
(b) -
</p>
<p>~c~ &lt;Pn c...cpM ~ 
i, (t) I 1'\ 
</p>
<p>+ "' 
v ,(t) "' 
</p>
<p>-
</p>
<p>\.. ../ 
</p>
<p>' 
</p>
<p>'\ 
</p>
<p>i2(t) 
</p>
<p>!""' 
</p>
<p>~ &lt;Pn 
J 
</p>
<p>'\ 
</p>
<p>'\ 
</p>
<p>'\ 
</p>
<p>+ 
(t) v2 
</p>
<p>-
JJ 
I 
</p>
<p>&lt;Pn 
</p>
<p>iit) 
</p>
<p>+ 
(t) v2 
</p>
<p>Fig. 13.17 Leakage flux in a two-winding transformer: (a) transformer geometry, (b) an equivalent system. </p>
<p/>
</div>
<div class="page"><p/>
<p>13.2 Transformer Modeling 505 
</p>
<p>~--------------------------~ 
</p>
<p>~ ....... ---+--. .--+--.J 
+ 
</p>
<p>[_ ______ !.~=-~! ________ _! 
Fig. 13.18 Two-winding transformer equivalent circuit, including magnetizing inductance referred to primary, and 
</p>
<p>primary and secondary leakage inductances. 
</p>
<p>Figure 13.18 illustrates a transformer electrical equivalent circuit model, including series induc-
</p>
<p>tors Ln and L12 which model the leakage inductances. These leakage inductances cause the terminal volt-
</p>
<p>age ratio vit)lv1(t) to differ from the ideal turns ratio nz!n1. In general, the terminal equations of a two-
</p>
<p>winding transformer can be written 
</p>
<p>(13.48) 
</p>
<p>The quantity L12 is called the mutual inductance, and is given by 
</p>
<p>(13.49) 
</p>
<p>The quantities Lll and L22 are called the primary and secondary self-inductances, given by 
</p>
<p>(13.50) 
</p>
<p>Note that Eq. (13.48) does not explicitly identify the physical turns ratio n2/n 1. Rather, Eq. 
</p>
<p>(13.48) expresses the transformer behavior as a function of electrical quantities alone. Equation (13.48) 
</p>
<p>can be used, however, to define the effective turns ratio 
</p>
<p>and the coupling coefficient 
</p>
<p>_rr:;; 
n,- V L;"; (13.51) 
</p>
<p>(13.52) 
</p>
<p>The coupling coefficient k lies in the range 0 ::; k::; 1, and is a measure of the degree of magnetic coupling 
</p>
<p>between the primary and secondary windings. In a transformer with perfect coupling, the leakage induc-
</p>
<p>tances L11 and L12 are zero. The coupling coefficient k is then equal to 1. Construction of low-voltage 
</p>
<p>transformers having coupling coefficients in excess of 0.99 is quite feasible. When the coupling coeffi-
</p>
<p>cient is close to 1, then the effective turns ratione is approximately equal to the physical turns ratio n2Jn 1&bull; </p>
<p/>
</div>
<div class="page"><p/>
<p>506 Basic Magnetics Theory 
</p>
<p>13.3 LOSS MECHANISMS IN MAGNETIC DEVICES 
</p>
<p>13.3.1 Core Loss 
</p>
<p>Energy is required to effect a change in the magnetization of a core material. Not all of this energy is 
</p>
<p>recoverable in electrical form; a fraction is lost as heat. This power loss can be observed electrically as 
</p>
<p>hysteresis of the B-H loop. 
</p>
<p>Consider an n-tum inductor excited by periodic waveforms v(t) and i(t) having frequency f The 
net energy that flows into the inductor over one cycle is 
</p>
<p>W = J v(t)i(t)dt (13.53) 
one cycle 
</p>
<p>We can relate this expression to the core B-H characteristic: substitute B(t) for v(t) using Faraday's law, 
</p>
<p>Eq. (13.13), and substitute H(t) for i(t) using Ampere's law, i.e. Eq. (13.14): 
</p>
<p>w =I ( A dB(t) )(H(t)C"')d n c dt n t 
one cycle (13.54) 
</p>
<p>= (Acem) J H dB 
one cycle 
</p>
<p>The term A cern is the volume of the core, while the integral is the area of the B-H loop: 
</p>
<p>(energy lost per cycle)= (core volume)(area of B-H loop) (13.55) 
</p>
<p>The hysteresis power loss PH is equal to the energy lost per cycle, multiplied by the excitation 
</p>
<p>frequency f: 
</p>
<p>PH= (J)(Acem) f H dB (13.56) 
one cycle 
</p>
<p>To the extent that the size of the hysteresis loop is independent of frequency, hysteresis loss increases 
</p>
<p>directly with operating frequency. 
</p>
<p>Magnetic core materials are iron alloys that, unfor-
</p>
<p>tunately, are also good electrical conductors. As a result, ac 
</p>
<p>magnetic fields can cause electrical eddy currents to flow 
</p>
<p>within the core material itself. An example is illustrated in 
</p>
<p>Fig. 13.19. The ac flux cfl(t) passes through the core. This 
</p>
<p>induces eddy currents i(t) which, according to Lenz's law, 
</p>
<p>flow in paths that oppose the time-varying flux cfl(t). These 
eddy currents cause FR losses in the resistance of the core Fig. 13.19 Eddy currents in an iron core. 
material. The eddy current losses are especially significant 
</p>
<p>in high-frequency applications. 
</p>
<p>According to Faraday's law, the ac flux cfl(t) induces voltage in the core, which drives the cur-
</p>
<p>rent around the paths illustrated in Fig. 13.19. Since the induced voltage is proportional to the derivative 
</p>
<p>of the flux, the voltage magnitude increases directly with the excitation frequency f If the impedance of </p>
<p/>
</div>
<div class="page"><p/>
<p>13.3 Loss Mechanisms in Magnetic Devices 507 
</p>
<p>the core material is purely resistive and independent of frequency, then the magnitude of the induced 
</p>
<p>eddy currents also increases directly withf This implies that the PReddy current losses should increase 
</p>
<p>asf2&bull; In power ferrite materials, the core material impedance magnitude actually decreases with increas-
</p>
<p>ing! Over the useful frequency range, the eddy current losses typically increase faster thanf2&bull; 
</p>
<p>There is a basic tradeoff between saturation flux density and core loss. Use of a high operating 
</p>
<p>flux density leads to reduced size, weight, and cost. Silicon steel and similar materials exhibit saturation 
</p>
<p>flux densities of 1.5 to 2 T. Unfortunately, these core materials exhibit high core loss. In particular, the 
</p>
<p>low resistivity of these materials leads to high eddy current loss. Hence, these materials are suitable for 
</p>
<p>filter inductor and low-frequency transformer applications. The core material is produced in laminations 
</p>
<p>or thin ribbons, to reduce the eddy current magnitude. Other ferrous alloys may contain molybdenum, 
</p>
<p>cobalt, or other elements, and exhibit somewhat lower core loss as well as somewhat lower saturation 
</p>
<p>flux densities. 
</p>
<p>Iron alloys are also employed in powdered cores, containing ferromagnetic particles of suffi-
</p>
<p>ciently small diameter such that eddy currents are small. These particles are bound together using an 
</p>
<p>insulating medium. Powdered iron and molybdenum permalloy powder cores exhibit typical saturation 
</p>
<p>flux densities of 0.6 to 0.8 T, with core losses significantly lower than laminated ferrous alloy materials. 
</p>
<p>The insulating medium behaves effectively as a distributed air gap, and hence these cores have relatively 
</p>
<p>low permeability. Powder cores find application as transformers at frequencies of several kHz, and as fil-
</p>
<p>ter inductors in high frequency (100kHz) switching converters. 
</p>
<p>Amorphous alloys exhibit low hysteresis loss. Core conductivity and eddy current losses are 
</p>
<p>somewhat lower than ferrous alloys, but higher than ferrites. Saturation flux densities in the range 0.6 to 
</p>
<p>1.5 T are obtained. 
</p>
<p>Ferrite cores are ceramic materials hav-
</p>
<p>ing low saturation flux density, 0.25 to 0.5 T. 
</p>
<p>Their resistivities are much higher than other 
</p>
<p>materials, and hence eddy current losses are 
</p>
<p>much smaller. Manganese-zinc ferrite cores find 
</p>
<p>widespread use as inductors and transformers in 
</p>
<p>converters having switching frequencies of 10 
</p>
<p>kHz to 1 MHz. Nickel-zinc ferrite materials can 
</p>
<p>be employed at yet higher frequencies. 
</p>
<p>Figure 13.20 contains typical total core 
</p>
<p>loss data, for a certain ferrite material. Power loss 
</p>
<p>density, in Watts per cubic centimeter of core 
</p>
<p>material, is plotted as a function of sinusoidal 
</p>
<p>excitation frequency f and peak ac flux density 
llB. At a given frequency, the core loss Pfe can be 
</p>
<p>approximated by an empirical function of the 
</p>
<p>form 
</p>
<p>(13.57) 
</p>
<p>0.1 
</p>
<p>L 
v 
</p>
<p>0.01 
0.01 
</p>
<p>I 
I 
</p>
<p>I 
</p>
<p>I 
I 
</p>
<p>I 
</p>
<p>I 
</p>
<p>J&bull;o 
</p>
<p>1-4. 
.o&middot; 
</p>
<p>I 
~I 
</p>
<p>"''f 
I I I 
</p>
<p>1/ I &amp; 
/ 11 
</p>
<p>I~ 
</p>
<p>"'i 
I 
</p>
<p>II I I 
I /, 
</p>
<p>I 1/ L~ 
</p>
<p>1/ 1/ 1/ 
0.1 
</p>
<p>llB, Tesla 
</p>
<p>!I 
</p>
<p>0.3 
</p>
<p>The parameters K,e and ~ are determined by fit- F' 13 20 T &middot; 1 1 d t c h' h f 1 &bull; 1g. . yp1ca core oss a a tOr a 1g - requency 
ting Eq. (13.57) to the manufacturer's published power ferrite material. Power loss density is plotted vs. 
</p>
<p>data. Typical values of ~ for ferrite materials peak ac flux density !&gt;..B, for sinusoidal excitation. 
</p>
<p>operating in their intended range of llB and f lie 
in the range 2.6 to 2.8. The constant of proportionality Kfe increases rapidly with excitation frequency f 
The dependence of Kfe on f can also be approximated by empirical formulae that are fitted to the manu-</p>
<p/>
</div>
<div class="page"><p/>
<p>508 Basic Magnetics Theory 
</p>
<p>facturer's published data; a fourth-order polynomial or a function of the form Kfeof~ are sometimes 
</p>
<p>employed for this purpose. 
</p>
<p>13.3.2 Low-Frequency Copper Loss 
</p>
<p>Significant loss also occurs in the resistance of the copper windings. This is also 
</p>
<p>a major determinant of the size of a magnetic device: if copper loss and winding 
</p>
<p>resistance were irrelevant, then inductor and transformer elements could be 
</p>
<p>made arbitrarily small by use of many small turns of small wire. 
</p>
<p>Figure 13.21 contains an equivalent circuit of a winding, in which ele-
</p>
<p>ment R models the winding resistance. The copper loss of the winding is 
</p>
<p>(13.58) 
</p>
<p>where Irms is the rms value of i(t). The de resistance of the winding conductor 
</p>
<p>can be expressed as 
</p>
<p>e 
R=p Ab 
</p>
<p>w 
</p>
<p>(13.59) 
</p>
<p>i(t) 
</p>
<p>R 
</p>
<p>Fig. 13.21 WindiJJg 
</p>
<p>equivalent circuit that 
</p>
<p>models copper loss. 
</p>
<p>where Aw is the wire bare cross-sectional area, and lb is the length of the wire. The resistivity p is equal to 
1.724 &middot;10-6 Q-cm for soft-annealed copper at room temperature. This resistivity increases to 
</p>
<p>2.3 &middot;10-6 Q-cm at 100&deg;C. 
</p>
<p>13.4 EDDY CURRENTS IN WINDING CONDUCTORS 
</p>
<p>Eddy currents also cause power losses in winding conductors. This can lead to copper losses significantly 
</p>
<p>in excess of the value predicted by Eqs. (13.58) and (13.59). The specific conductor eddy current mecha-
</p>
<p>nisms are called the skin effect and the proximity effect. These mechanisms are most pronounced in high-
</p>
<p>current conductors of multi-layer windings, particularly in high-frequency converters. 
</p>
<p>13.4.1 Introduction to the Skin and Proximity Effects 
</p>
<p>Figure 13.22(a) illustrates a current i(t) flowing through a solitary conductor. This current induces mag-
</p>
<p>netic flux &lt;P(t), whose flux lines follow circular paths around the current as shown. According to Lenz's 
</p>
<p>law, the ac flux in the conductor induces eddy currents, which flow in a manner that tends to oppose the 
</p>
<p>ac flux &lt;P(t). Figure 13.22(b) illustrates the paths of the eddy currents. It can be seen that the eddy cur-
</p>
<p>rents tend to reduce the net current density in the center of the conductor, and increase the net current 
</p>
<p>density near the surface of the conductor. 
</p>
<p>The current distribution within the conductor can be found by solution of Maxwell's equations. 
</p>
<p>For a sinusoidal current i(t) of frequency f, the result is that the current density is greatest at the surface of 
the conductor. The current density is an exponentially decaying function of distance into the conductor, 
</p>
<p>with characteristic length 8 known as the penetration depth or skin depth. The penetration depth is given 
</p>
<p>by </p>
<p/>
</div>
<div class="page"><p/>
<p>13.4 Eddy Currents in Winding Conductors 509 
</p>
<p>(a) (b) 
</p>
<p>Fig. 13.22 The skin effect: (a) current i(t) induces flux &lt;l&gt;(t), which in turn induces eddy currents in conductor; 
</p>
<p>(b) the eddy currents tend to oppose the current i(t) in the center of the wire, and increase the current on the surface 
</p>
<p>of the wire. 
</p>
<p>8- ~ -y rq.tf 
(13.60) 
</p>
<p>For a copper conductor, the permeability Jl is equal to Jlo, and the resistivity p is given in Section 13.3.2. 
</p>
<p>At 100'C, the penetration depth of a copper conductor is 
</p>
<p>O= /Jcm (13.61) 
</p>
<p>withfexpressed in Hz. The penetration depth of copper conductors is plotted in Fig. 13.23, as a function 
</p>
<p>of frequency f For comparison, the wire diameters d of standard American Wire Gauge (AWG) conduc-
tors are also listed. It can be seen that d/o = 1 for AWG #40 at approximately 500kHz, while dlo = 1 for 
</p>
<p>Penetration 
depth o, em 
</p>
<p>0.1 
</p>
<p>0.01 
</p>
<p>0.001 
</p>
<p>10kHz 
</p>
<p>- ........... 1--. r-: :::::--
..... t:.! . ..Oo&middot;c 
</p>
<p>~ 
</p>
<p>100kHz 
</p>
<p>Frequency 
</p>
<p>:::::::::: 
</p>
<p>Fig. 13.23 Penetration depth 8, as a function of frequency J, for copper wire. 
</p>
<p>Wire diameter 
</p>
<p>#20AWG ---
-
--
- #30AWG --
-
</p>
<p>f:::::: 
--
</p>
<p>:::-- -
#40AWG 
</p>
<p>--
</p>
<p>1MHz </p>
<p/>
</div>
<div class="page"><p/>
<p>510 Basic Magnetics Theory 
</p>
<p>AWG #22 at approximately 10kHz. 
</p>
<p>The skin effect causes the resistance and copper loss of solitary large-diameter wires to increase 
</p>
<p>at high frequency. High-frequency currents do not penetrate to the center of the conductor. The current 
</p>
<p>crowds at the surface of the wire, the inside of the wire is not utilized, and the effective wire cross-sec-
</p>
<p>tional area is reduced. However, the skin effect alone is not sufficient to explain the increased high-fre-
</p>
<p>quency copper losses observed in multiple-layer transformer windings. 
</p>
<p>A conductor that carries a high-frequency current i(t) 
</p>
<p>induces copper loss in a adjacent conductor by a phenomenon 
</p>
<p>known as the proximity effect. Figure 13.24 illustrates two copper 
</p>
<p>foil conductors that are placed in close proximity to each other. 
</p>
<p>Conductor 1 carries a high-frequency sinusoidal current i(t), whose 
</p>
<p>penetration depth 8 is much smaller than the thickness h of conduc-
</p>
<p>tors 1 or 2. Conductor 2 is open-circuited, so that it carries a net 
</p>
<p>current of zero. However, it is possible for eddy currents to be 
</p>
<p>induced in conductor 2 by the current i(t) flowing in conductor 1. 
</p>
<p>The current i(t) flowing in conductor 1 generates a flux 
</p>
<p>&lt;l&gt;(t) in the space between conductors 1 and 2; this flux attempts to 
</p>
<p>penetrate conductor 2. By Lenz's law, a current is induced on the 
</p>
<p>adjacent (left) side of conductor 2, which tends to oppose the flux 
</p>
<p>&lt;l&gt;(t). If the conductors are closely spaced, and if h &raquo; 8, then the 
</p>
<p>induced current will be equal and opposite to the current i(t), as 
</p>
<p>illustrated in Fig. 13.24. 
</p>
<p>Since conductor 2 is open-circuited, the net current in con-
</p>
<p>ductor 2 must be zero. Therefore, a current+ i(t) flows on the right-
</p>
<p>side surface of conductor 2. So the current flowing in conductor 1 
</p>
<p>induces a current that circulates on the surfaces of conductor 2. 
</p>
<p>-i 
</p>
<p>Fig. 13.24 The proximity effec1 
</p>
<p>in adjacent copper foil conductors. 
</p>
<p>Conductor 1 carries current i(t). 
</p>
<p>Conductor 2 is open-circuited. 
</p>
<p>Figure 13.25 illustrates the proximity effect in a simple transformer winding. The primary 
</p>
<p>winding consists of three series-connected turns of copper foil, having thickness h &raquo; 8, and carrying net 
</p>
<p>current i(t). The secondary winding is identical; to the extent that the magnetizing current is small, the 
</p>
<p>secondary turns carry net current - i(t). The windings are surrounded by a magnetic core material that 
</p>
<p>encloses the mutual flux of the transformer. 
</p>
<p>The high-frequency sinusoidal current i(t) flows on the right surface of primary layer 1, adjacent 
</p>
<p>to layer 2. This induces a copper loss in layer 1, which can be calculated as follows. Let Rdc be the de 
</p>
<p>resistance of layer 1, given by Eq. (13.59), and let I be the rms value of i(t). The skin effect causes the 
</p>
<p>copper loss in layer 1 to be equal to the loss in a conductor of thickness 8 with uniform current density. 
</p>
<p>This reduction of the conductor thickness from h to 8 effectively increases the resistance by the same fac-
</p>
<p>tor. Hence, layer 1 can be viewed as having an "ac resistance" given by 
</p>
<p>(13.62) 
</p>
<p>The copper loss in layer 1 is 
</p>
<p>(13.63) 
</p>
<p>The proximity effect causes a current to be induced in the adjacent (left-side) surface of primary 
</p>
<p>layer 2, which tends to oppose the flux generated by the current of layer 1. If the conductors are closely 
</p>
<p>spaced, and if h &raquo; 8, then the induced current will be equal and opposite to the current i(t), as illustrated </p>
<p/>
</div>
<div class="page"><p/>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Core 
</p>
<p>Current 
density 
</p>
<p>J 
</p>
<p>@ @ @ 
</p>
<p>C'1 (&lt;) 
..... ..... ..... 
~ ~ ~ 
</p>
<p>.3 :3 s &gt;--l 
</p>
<p>Primary winding 
</p>
<p>Primary winding 
</p>
<p>13.4 Eddy Currents in Winding Conductors 511 
</p>
<p>-i -i -i 
</p>
<p>@ @ @ 
</p>
<p>(&lt;) C'1 
..... ..... ..... 
~ ~ ~ 
</p>
<p>:3 .3 s &gt;--l 
</p>
<p>_____.. 
Secondary winding 
</p>
<p>Secondary winding 
</p>
<p>Fig. 13.25 A simple transformer example illustrating the proximity effect: (a) core and winding geometry, 
</p>
<p>(b) distribution of currents on surfaces of conductors. 
</p>
<p>in Fig. 13.25. Hence, current- i(t) flows on the left surface of the second layer. Since layers 1 and 2 are 
</p>
<p>connected in series, they must both conduct the same net current i(t). As a result, a current + 2i(t) must 
</p>
<p>flow on the right-side surface of layer 2. 
</p>
<p>The current flowing on the left surface of layer 2 has the same magnitude as the current of layer 
</p>
<p>1, and hence the copper loss is the same: P1&bull; The current flowing on the right surface of layer 2 has rms 
</p>
<p>magnitude 2/; hence, it induces copper loss (2/)2Rac = 4P1&bull; The total copper loss in primary layer 2 is 
</p>
<p>therefore 
</p>
<p>(13.64) 
</p>
<p>The copper loss in the second layer is five times as large as the copper loss in the first layer! 
</p>
<p>The current 2i(t) flowing on the right surface of layer 2 induces a flux 2&lt;1&gt;(t) as illustrated in Fig. 
</p>
<p>13.25. This causes an opposing current- 2i(t) to flow on the adjacent (left) surface of primary layer 3. 
</p>
<p>Since layer 3 must also conduct net current i(t), a current+ 3i(t) flows on the right surface of layer 3. The 
</p>
<p>total copper loss in layer 3 is </p>
<p/>
</div>
<div class="page"><p/>
<p>512 Basic Magnetics Theory 
</p>
<p>(13.65) 
</p>
<p>Likewise, the copper loss in layer m of a multiple-layer winding can be written 
</p>
<p>(13.66) 
</p>
<p>It can be seen that the copper loss compounds very quickly in a multiple-layer winding. 
</p>
<p>The total copper loss in the three-layer primary winding is P1 + 5P1 + l3P1, or 19P1&bull; More gen-
erally, if the winding contains a total of M layers, then the total copper loss is 
</p>
<p>P=l2(%Rdc) n%l [(m-1) 2 +m2] 
</p>
<p>=l2(%Rdc) ~(2M 2 + 1) 
(13.67) 
</p>
<p>If a de or low-frequency ac current of rms amplitude I were applied to theM-layer winding, its copper 
</p>
<p>loss would be Pdc = PMRdc&middot; Hence, the proximity effect increases the copper loss by the factor 
</p>
<p>(13.68) 
</p>
<p>This expression is valid for a foil winding having h ~ 8. 
As illustrated in Fig. 13.25, the currents in the secondary winding are symmetrical, and hence 
</p>
<p>the secondary winding has the same conduction loss. 
</p>
<p>The example above, and the associated equations, are limited to h ~ 8 and to the winding 
</p>
<p>geometry shown. The equations do not quantify the behavior for h - 8, nor for round conductors, nor are 
the equations sufficiently general to cover the more complicated winding geometries often encountered 
</p>
<p>in the magnetic devices of switching converters. Optimum designs may, in fact, occur with conductor 
</p>
<p>thicknesses in the vicinity of one penetration depth. The discussions of the following sections allow com-
</p>
<p>putation of proximity losses in more general circumstances. 
</p>
<p>13.4.2 Leakage Flux in Windings 
</p>
<p>As described above, an externally-applied magnetic field will induce eddy currents to flow in a conduc-
</p>
<p>tor, and thereby induce copper loss. To understand how magnetic fields are oriented in windings, let us 
</p>
<p>consider the simple two-winding transformer illustrated in Fig. 13.26. In this example, the core has large 
</p>
<p>permeability fJ ~ fJo&middot; The primary winding consists of eight turns of wire arranged in two layers, and 
</p>
<p>each turn carries current i(t) in the direction indicated. The secondary winding is identical to the primary 
</p>
<p>winding, except that the current polarity is reversed. 
</p>
<p>Flux lines for typical operation of this transformer are sketched in Fig. 13.26(b ). As described in 
</p>
<p>Section 13.2, a relatively large mutual flux is present, which magnetizes the core. In addition, leakage 
</p>
<p>flux is present, which does not completely link both windings. Because of the symmetry of the winding 
</p>
<p>geometry in Fig. 13.26, the leakage flux runs approximately vertically through the windings. 
</p>
<p>To determine the magnitude of the leakage flux, we can apply Ampere's Law. Consider the 
</p>
<p>closed path taken by one of the leakage flux lines, as illustrated in Fig. 13.27. Since the core has large 
</p>
<p>permeability, we can assume that the MMF induced in the core by this flux is negligible, and that the </p>
<p/>
</div>
<div class="page"><p/>
<p>(a) 
</p>
<p>y t 
</p>
<p>Primary Secondary 
winding winding 
</p>
<p>~~ 
</p>
<p>&reg; &reg; 
</p>
<p>&reg; &reg; 
</p>
<p>&reg; &reg; 
</p>
<p>&reg; &reg; 
</p>
<p>1--::-t-
X 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>Core 
</p>
<p>!-! &raquo; 1-lo 
</p>
<p>13.4 Eddy Currents in Winding Conductors 513 
</p>
<p>(b) 
</p>
<p>r,::=:=:::::=:::::=:::::=:::::;;-! 
Leakage flux 
</p>
<p>&reg; &reg; 
</p>
<p>&reg; &reg; 
</p>
<p>&reg; &reg; 
</p>
<p>&reg; &reg; 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0 
</p>
<p>Mutual 
flux 
&lt;f&gt;M 
</p>
<p>Fig. 13.26 Two-winding transformer example: (a) core and winding geometry, (b) typical flux distribution. 
</p>
<p>total MMF around the path is dominated by the MMF iY(x) across the core window. Hence, Ampere's 
</p>
<p>Law states that the net current enclosed by the path is equal to the MMF across the air gap: 
</p>
<p>Enclosed current= .&yen;(x) = H(x)Cw (13.69) 
</p>
<p>where ew is the height of the window as shown in Fig. 13.27. The net current enclosed by the path 
depends on the number of primary and secondary conductors enclosed by the path, and is therefore a 
</p>
<p>function of the horizontal position x. The first layer of the primary winding consists of 4 turns, each car-
</p>
<p>rying current i(t). So when the path encloses only the first layer of the primary winding, then the enclosed 
</p>
<p>current is 4i(t) as shown in Fig. 13.28. Likewise, when the path encloses both layers of the primary wind-
</p>
<p>ing, then the enclosed current is 8i(t). When the path encloses the entire primary, plus layer 2 of the sec-
</p>
<p>ondary winding, then the net enclosed current is 8i(t)- 4i(t) = 4i(t). The MMF iY(x) across the core 
window is zero outside the winding, and rises to a maximum of 8i(t) at the interface between the primary 
</p>
<p>and secondary windings. Since H(x) = iY(x)lfw, the magnetic field intensity H(x) is proportional to the 
sketch of Fig. 13.28. 
</p>
<p>Fig. 13.27 Analysis of leakage flux using Ampere's Law, 
</p>
<p>for the transformer of Fig. 13.26. 
</p>
<p>Leakage path 
</p>
<p>&reg; 
Enclosed 
current 
</p>
<p>H(x) 
</p>
<p>---:-+ 
X 
</p>
<p>-
</p>
<p>\ 
:&yen;(x) 
</p>
<p>I 
+ 
</p>
<p>j </p>
<p/>
</div>
<div class="page"><p/>
<p>514 Basic Magnetics Theory 
</p>
<p>Fig. 13.28 MMF diagram for the transformer winding example 
</p>
<p>of Figs. 13.26 and 13.27. 
</p>
<p>i&yen;(x) 
</p>
<p>8i 
</p>
<p>4i 
</p>
<p>0 
</p>
<p>Primary 
winding 
</p>
<p>&sect; &sect; 
" " ... ... 
</p>
<p>N 
</p>
<p>&reg; &reg; 
&reg; &reg; 
&reg; &reg; 
&reg; &reg; 
</p>
<p>Secondary 
winding 
</p>
<p>&sect; t-&lt; ~ 
" " ... .., 
N 
</p>
<p>0 0 
0 0 
0 0 
0 0 
</p>
<p>X 
</p>
<p>It should be noted that the shape of the i&yen;(x) curve in the vicinity of the winding conductors 
</p>
<p>depends on the distribution of the current within the conductors. Since this distribution is not yet known, 
</p>
<p>the 21(x) curve of Fig. 13.28 is arbitrarily drawn as straight line segments. 
</p>
<p>In general, the magnetic fields that surround conductors and lead to eddy currents must be 
</p>
<p>determined using finite element analysis or other similar methods. However, in a large class of coaxial 
</p>
<p>solenoidal winding geometries, the magnetic field lines are nearly parallel to the winding layers. As 
</p>
<p>shown below, we can then obtain an analytical solution for the proximity losses. 
</p>
<p>13.4.3 Foil Windings and Layers 
</p>
<p>The winding symmetry described in the previous section allows simplification of the analysis. For the 
</p>
<p>purposes of determining leakage inductance and winding eddy currents, a layer consisting of n1 turns of 
</p>
<p>round wire carrying current i(t) can be approximately modeled as an effective single tum of foil, which 
</p>
<p>carries current nei(t). The steps in the transformation of a layer of round conductors into a foil conductor 
</p>
<p>are formalized in Fig. 13.29 [6, 8-11]. The round conductors are replaced by square conductors having 
</p>
<p>the same copper cross-sectional area, Fig. 13 .29(b ). The thickness h of the square conductors is therefore 
</p>
<p>Fig. 13.29 Approximating a layer of round 
</p>
<p>conductors as an effective foil conductor. 
</p>
<p>(a) 
</p>
<p>d:r:o 
0 
0 
0 
0 
0 
</p>
<p>(b) 
</p>
<p>h 
</p>
<p>6 
D 
D 
D 
D 
D 
</p>
<p>(c) </p>
<p/>
</div>
<div class="page"><p/>
<p>13.4 Eddy Currents in Winding Conductors 515 
</p>
<p>equal to the bare copper wire diameter, multiplied by the factor Jrt74 : 
</p>
<p>h- (JF; d -v 4 (13.70) 
</p>
<p>These square conductors are then joined together, into a foil layer [Fig. 13.29(c)]. Finally, the width of 
</p>
<p>the foil is increased, such that it spans the width of the core window [Fig. 13 .29( d)]. Since this stretching 
</p>
<p>process increases the conductor cross-sectional area, a compensating factor 11 must be introduced such 
</p>
<p>that the correct de conductor resistance is predicted. This factor, sometimes called the conductor spacing 
</p>
<p>factor or the winding porosity, is defined as the ratio of the actual layer copper area [Fig. 13.29(a)] to the 
</p>
<p>area of the effective foil conductor of Fig. 13.29(d). The porosity effectively increases the resistivity p of 
</p>
<p>the conductor, and thereby increases its skin depth: 
</p>
<p>~&middot;-JL 
u - !lT (13.71) 
</p>
<p>If a layer of width ew contains nc turns of round wire having diameter d, then the winding porosity 11 is 
given by 
</p>
<p>(13.72) 
</p>
<p>A typical value of 11 for round conductors that span the width of the winding bobbin is 0.8. In the follow-
</p>
<p>ing analysis, the factor &lt;pis given by h/8 for foil conductors, and by the ratio of the effective foil conduc-
</p>
<p>tor thickness h to the effective skin depth 8' for round conductors as follows: 
</p>
<p>13.4.4 Power Loss in a Layer 
</p>
<p>m- h- fYf (JF;d 
"'-;y-v&bull;l V 4 8 
</p>
<p>In this section, the average power loss P in a uniform layer of 
</p>
<p>thickness h is determined. As illustrated in Fig. 13.30, the mag-
</p>
<p>netic field strengths on the left and right sides of the conductor are 
</p>
<p>denoted H(O) and H(d), respectively. It is assumed that the compo-
</p>
<p>nent of magnetic field normal to the conductor surface is zero. 
</p>
<p>These magnetic fields are driven by the magnetomotive forces 
</p>
<p>:J'7(0) and fff(h), respectively. Sinusoidal waveforms are assumed, 
</p>
<p>and rms magnitudes are employed. It is further assumed here that 
</p>
<p>H(O) and H(h) are in phase; the effect of a phase shift is treated in 
</p>
<p>[10]. 
</p>
<p>With these assumptions, Maxwell's equations are solved 
</p>
<p>to find the current density distribution in the layer. The power loss 
</p>
<p>density is then computed, and is integrated over the volume of the 
</p>
<p>layer to find the total copper loss in the layer [10]. The result is 
</p>
<p>(13.74) 
</p>
<p>(13.73) 
</p>
<p>-
'"""'"r--""" 
</p>
<p>H(O) H(h) 
</p>
<p>.......... f---.""" 
-i 
</p>
<p>:ff(x) ]&middot; ! ! :!J(h) 
</p>
<p>-&middot;~ 
0 h 
</p>
<p>Fig. 13.30 The power loss is deter-
</p>
<p>mined for a uniform layer. Uniform 
</p>
<p>tangential magnetic fields H(O) and 
</p>
<p>H(h) are applied to the layer surfaces. </p>
<p/>
</div>
<div class="page"><p/>
<p>516 Basic Magnetics Theory 
</p>
<p>where n1 is the number of turns in the layer, and Rdc is the de resistance of the layer. The functions G 1 ( &lt;p) 
</p>
<p>and Gi&lt;p) are 
</p>
<p>G ( ) = sinh (2qJ) +sin (2qJ) 
1 (jJ cosh (2qJ)- cos (2qJ) 
</p>
<p>G ( ) =sinh (qJ) cos (qJ) +cosh (qJ) sin (qJ) 
2 (jJ cosh (2qJ)- cos (2qJ) 
</p>
<p>If the winding carries current of rms magnitude I, then we can write 
</p>
<p>Let us further express i!J(h) in terms of the winding current /, as 
</p>
<p>.Jf(h) = mn1I 
</p>
<p>The quantity m is therefore the ratio of the MMF i!J(h) to the layer ampere-turns n1I. Then, 
</p>
<p>:Y(O) m-1 
:7(h) = ----m-
</p>
<p>The power dissipated in the layer, Eq. (13.74), can then be written 
</p>
<p>where 
</p>
<p>We can conclude that the proximity effect increases the copper loss in the layer by the factor 
</p>
<p>12~ = qJQ'(qJ, m) 
de 
</p>
<p>(13.75) 
</p>
<p>(13.76) 
</p>
<p>(13.77) 
</p>
<p>(13.78) 
</p>
<p>(13.79) 
</p>
<p>(13.80) 
</p>
<p>(13.81) 
</p>
<p>Equation (13.81), in conjunction with the definitions (13.80), (13.77), (13.75), and (13.73), can be plot-
</p>
<p>ted using a computer spreadsheet or small computer program. The result is illustrated in Fig. 13.31, for 
</p>
<p>several values of m. 
</p>
<p>It is illuminating to express the layer copper loss Pin terms of the de power loss P dclq&gt; = 1 that 
</p>
<p>would be obtained in a foil conductor having a thickness &lt;p == 1. This loss is found by dividing Eq. (13.81) 
</p>
<p>by the effective thickness ratio &lt;p: 
</p>
<p>Pd"'~= 1 = Q'(qJ, m) (13.82) 
</p>
<p>Equation (13.82) is plotted in Fig. 13.32. Large copper loss is obtained for small &lt;p simply because the 
</p>
<p>layer is thin and hence the de resistance of the layer is large. For large m and large &lt;p, the proximity effect 
</p>
<p>leads to large power loss; Eq. (13.66) predicts that Q'(&lt;p, m) is asymptotic to m2 + (m- 1)2 for large &lt;p. 
Between these extremes, there is a value of &lt;p which minimizes the layer copper loss. </p>
<p/>
</div>
<div class="page"><p/>
<p>13.4 Eddy Currents in Winding Conductors 517 
</p>
<p>100 
111=1512 108 6 5 4 3 
</p>
<p>10 
</p>
<p>0.1 10 
</p>
<p>Fig. 13.31 Increase of layer copper loss due to the proximity effect, as a function of q&gt; and MMF ratio m, for sinu-
</p>
<p>soidal excitation. 
</p>
<p>100 
Ill = 15 12 10 8 
</p>
<p>// /// 
</p>
<p>Ill v // /" 
</p>
<p>10 ///1 WL/ 
</p>
<p>~ /// v / 
~ / ./ ...-
~ ...... / 
</p>
<p>~ 
</p>
<p>0.1 
</p>
<p>0. 1 
</p>
<p>6 
</p>
<p>5 
</p>
<p>4 
</p>
<p>3 
</p>
<p>2 
</p>
<p>1.5 
</p>
<p>m =0.5 
</p>
<p>10 
</p>
<p>Fig. 13.32 Layer copper loss, relative to the de loss in a layer having effective thickness of one penetration depth. </p>
<p/>
</div>
<div class="page"><p/>
<p>518 Basic Magnetics Theory 
</p>
<p>Fig. 13.33 Conventional two-winding 
</p>
<p>transformer example. Each winding 
</p>
<p>consists of M layers. 
</p>
<p>Primary layers 
</p>
<p>13.4.5 Example: Power Loss in a Transformer Winding 
</p>
<p>Secondary layers 
</p>
<p>X 
</p>
<p>Let us again consider the proximity loss in a conventional transformer, in which the primary and second-
</p>
<p>ary windings each consist of M layers. The normalized MMF diagram is illustrated in Fig. 13.33. As 
</p>
<p>given by Eq. (13.81), the proximity effect increases the copper loss in each layer by the factor &lt;pQ'(&lt;p, m). 
</p>
<p>The total increase in primary winding copper loss Ppri is found by summation over all of the primary lay-
</p>
<p>ers: 
</p>
<p>(13.83} 
</p>
<p>Owing to the symmetry of the windings in this example, the secondary winding copper loss is increased 
</p>
<p>by the same factor. Upon substituting Eq. (13.80) and collecting terms, we obtain 
</p>
<p>(13.84) 
</p>
<p>The summation can be expressed in closed form with the help of the identities 
</p>
<p>(13.85) 
</p>
<p>Use of these identities to simplify Eq. (13.84) leads to 
</p>
<p>(13.86) 
</p>
<p>This expression is plotted in Fig. 13.34, for several values of M. For large &lt;p, G1(&lt;p) tends to 1, while </p>
<p/>
</div>
<div class="page"><p/>
<p>13.4 Eddy Currents in Winding Conductors 519 
</p>
<p>100 
Number of/ayers M = 15 12 10 8 7 6 5 4 
</p>
<p>3 
II II. L 
IIIII / / 
IIIII! I/ / 2 
:;; ///; I v v 
</p>
<p>vif//1 / / / v~-' / 
1.5 
</p>
<p>10 
</p>
<p>'/ I / / v: 
'I I v 
</p>
<p>II I I I I / / 
0.5 
</p>
<p>jl. [j, 1/ I I v / / 
~'h~ VII / / v 
</p>
<p>~ ~~ ~v ~v ~ v / 
0.1 10 
</p>
<p>Fig. 13.34 Increased total winding copper loss in the two-winding transformer example, as a function of &lt;p and 
</p>
<p>number of layers M, for sinusoidal excitation. 
</p>
<p>100 
Number of layers M = 15 
</p>
<p>// 
//// 
</p>
<p>///// 
</p>
<p>10 h w~ 
</p>
<p>~ 
// 
</p>
<p>// 
~ /------
</p>
<p>0.1 
</p>
<p>0. 1 
</p>
<p>12 
</p>
<p>10 
</p>
<p>7 
6 
5 
</p>
<p>4 
</p>
<p>3 
</p>
<p>2 
</p>
<p>1.5 
</p>
<p>0.5 
</p>
<p>10 
</p>
<p>Fig. 13.35 Transformer example winding total copper loss, relative to the winding de loss for layers having effec-
</p>
<p>tive thicknesses of one penetration depth. </p>
<p/>
</div>
<div class="page"><p/>
<p>520 Basic Magnetics Theory 
</p>
<p>G2(&lt;p) tends to 0. It can be verified that FR then tends to the value predicted by Eq. (13.68). 
</p>
<p>We can again express the total primary power loss in terms of the de power loss that would be 
</p>
<p>obtained using a conductor in which &lt;p = 1. This loss is found by dividing Eq. (13.86) by &lt;p: 
</p>
<p>(13.87) 
</p>
<p>This expression is plotted in Fig. 13.35, for several values of M. Depending on the number of layers, the 
</p>
<p>minimum copper loss for sinusoidal excitation is obtained for &lt;p near to, or somewhat less than, unity. 
</p>
<p>13.4.6 Interleaving the Windings 
</p>
<p>One way to reduce the copper losses due to the proximity effect is to interleave the windings. Figure 
</p>
<p>13.36 illustrates the MMF diagram for a simple transformer in which the primary and secondary layers 
</p>
<p>are alternated, with net layer current of magnitude i. It can be seen that each layer operates with iY = 0 on 
one side, and ,'ffi =ion the other. Hence, each layer operates effectively with m = 1. Note that Eq. (13.74) 
</p>
<p>is symmetric with respect to iY(O) and :&yen;(h); hence, the copper losses of the interleaved secondary and 
</p>
<p>primary layers are identical. The proximity losses of the entire winding can therefore be determined 
</p>
<p>directly from Fig. 13.34 and 13.35, with M = 1. It can be shown that the minimum copper loss for this 
</p>
<p>case (with sinusoidal currents) occurs with &lt;p = n/2, although the copper loss is nearly constant for any 
</p>
<p>&lt;p ~ ll, and is approximately equal to the de copper loss obtained when &lt;p = 1. It should be apparent that 
</p>
<p>interleaving can lead to significant improvements in copper loss when the winding contains several lay-
</p>
<p>ers. 
</p>
<p>Partial interleaving can lead to a partial improvement in proximity loss. Figure 13.37 illustrates 
</p>
<p>a transformer having three primary layers and four secondary layers. If the total current carried by each 
</p>
<p>primary layer is i(t), then each secondary layer should carry current 0.75i(t). The maximum MMF again 
</p>
<p>occurs in the spaces between the primary and secondary windings, but has value 1.5i(t). 
</p>
<p>To determine the value form in a given layer, we can solve Eq. (13.78) form: 
</p>
<p>.Y:(h) 
m = .Y:(h)- .Y:(O) 
</p>
<p>(13.88) 
</p>
<p>pri sec pri sec pri sec 
</p>
<p>lj~lj~lj~ 
~fxfl i ! . i i i 1 1 ! . i : 
</p>
<p>3i ! : 1 ! 
Zi 1 1 1 i 
</p>
<p>~~~! ~ ~ 
X 
</p>
<p>Fig. 13.36 MMF diagram for a simple transformer with interleaved windings. Each layer operates with m = 1. </p>
<p/>
</div>
<div class="page"><p/>
<p>13.4 Eddy Currents in Winding Conductors 521 
</p>
<p>MMF 
.&yen;(x) 
</p>
<p>1.5 i 
</p>
<p>Secondary Primary Secondary 
</p>
<p>0.5 i 
</p>
<p>0~~~~--~-+--+-~~--~-+--+-~~--~--~ 
</p>
<p>-0.5 i X 
</p>
<p>-i 
</p>
<p>-1.5 i 
</p>
<p>Fig. 13.37 A partially interleaved two-winding transformer, illustrating fractional values of m. The MMF dia-
</p>
<p>gram is constructed for the low-frequency limit. 
</p>
<p>The above expression is valid in general, and Eq. (13.74) is symmetrical in :&yen;(0) and .OJ(h). However, 
</p>
<p>when F(O) is greater in magnitude than .&yen;(h), it is convenient to interchange the roles of .'&yen;(0) and :&yen;(h), 
</p>
<p>so that the plots of Figs. 13.31 and 13.32 can be employed. 
</p>
<p>In the leftmost secondary layer of Fig. 13.37, the layer carries current - 0.75i. The MMF 
</p>
<p>changes from 0 to- 0.75i. The value of m for this layer is found by evaluation of Eq. (13.88): 
</p>
<p>ni == _ .'l'(h)_ == - 0.75i == 1 
.'/&lt;(h)- .Y.(O) - 0.75i- 0 
</p>
<p>(13.89) 
</p>
<p>The loss in this layer, relative to the de loss of this secondary layer, can be determined using the plots of 
</p>
<p>Figs. 13.31 and 13.32 with m = 1. For the next secondary layer, we obtain 
</p>
<p>.J:(h) - l.5i == 2 
m== .Y.(h)-.'7(0) -1.5i-(-0.75i) 
</p>
<p>(13.90) 
</p>
<p>Hence the loss in this layer can be determined using the plots of Figs. 13.31 and 13.32 with m = 2.The 
</p>
<p>next layer is a primary-winding layer. Its value of m can be expressed as 
</p>
<p>m == .Ji(O)- .Ji(h) 
.&yen;(0) -l.5i 1.5 (13.91) 
</p>
<p>- 1.5i- (- 0.5i) 
</p>
<p>The loss in this layer, relative to the de loss of this primary layer, can be determined using the plots of 
</p>
<p>Figs. 13.31 and 13.32 with m = 1.5. The center layer has an m of 
</p>
<p>m == .Ji(h)- .Ji(O) 
.Ji(h) 
</p>
<p>0.5i == 0.5 
0.5i- (- 0.5i) 
</p>
<p>(13.92) 
</p>
<p>The loss in this layer, relative to the de loss of this primary layer, can be determined using the plots of 
</p>
<p>Figs. 13.31 and 13.32 with m = 0.5. The remaining layers are symmetrical to the corresponding layers 
described above, and have identical copper losses. The total loss in the winding is found by summing the 
</p>
<p>losses described above for each layer. </p>
<p/>
</div>
<div class="page"><p/>
<p>522 Basic Magnetics Theory 
</p>
<p>Interleaving windings can significantly reduce the proximity loss when the primary and second-
</p>
<p>ary currents are in phase. However, in some cases such as the transformers of the fly back and SEPIC con-
</p>
<p>verters, the winding currents are out of phase. Interleaving then does little to reduce the MMFs and 
</p>
<p>magnetic fields in the vicinity of the windings, and hence the proximity loss is essentially unchanged. It 
</p>
<p>should also be noted that Eqs. (13.74) to (13.82) assume that the winding currents are in phase. General 
</p>
<p>expressions for out-of-phase currents, as well as analysis of a flyback example, are given in [10]. 
</p>
<p>The above procedure can be used to determine the high-frequency copper losses of more com-
</p>
<p>plicated multiple-winding magnetic devices. The MMF diagrams are constructed, and then the power 
</p>
<p>loss in each layer is evaluated using Eq. (13.81). These losses are summed, to find the total copper loss. 
</p>
<p>The losses induced in electrostatic shields can also be determined. Several additional examples are given 
</p>
<p>in [10]. 
</p>
<p>It can be concluded that, for sinusoidal currents, there is an optimal conductor thickness in the 
</p>
<p>vicinity of q&gt; = 1 that leads to minimum copper loss. It is highly advantageous to minimize the number of 
layers, and to interleave the windings. The amount of copper in the vicinity of the high-MMF portions of 
</p>
<p>windings should be kept to a minimum. Core geometries that maximize the width ew of the layers, while 
minimizing the overall number of layers, lead to reduced proximity loss. 
</p>
<p>Use of Litz wire is another means of increasing the conductor area while maintaining low prox-
</p>
<p>imity losses. Tens, hundreds, or more strands of small-gauge insulated copper wire are bundled together, 
</p>
<p>and are externally connected in parallel. These strands are twisted, or transposed, such that each strand 
</p>
<p>passes equally through each position inside and on the surface of the bundle. This prevents the circula-
</p>
<p>tion of high-frequency currents between strands. To be effective, the diameter of the strands should be 
</p>
<p>sufficiently less than one skin depth. Also, it should be pointed out that the Litz wire bundle itself is com-
</p>
<p>posed of multiple layers. The disadvantages of Litz wire are its increased cost, and its reduced fill factor. 
</p>
<p>13.4.7 PWM Waveform Harmonics 
</p>
<p>The pulse-width-modulated waveforms encountered in switching converters contain significant harmon-
</p>
<p>ics, which can lead to increased proximity losses. The effect of harmonics on the losses in a layer can be 
</p>
<p>determined via field harmonic analysis [10], in which the MMF waveforms i&yen;(0,t) and i&yen;(d,t) of Eq. 
</p>
<p>(13.74) are expressed in Fourier series. The power loss of each individual harmonic is computed as in 
</p>
<p>Section 13.4.4, and the losses are summed to find the total loss in a layer. For example, the PWM wave-
</p>
<p>form of Fig. 13.38 can be represented by the following Fourier series: 
</p>
<p>where 
</p>
<p>III k 
f 1. =~.-P- sin (jnD) 
</p>
<p>]1': 
</p>
<p>(13.93) 
</p>
<p>with w = 2n/Ts. This waveform contains a de component 10 = Dlpk' plus harmonics of rms magnitude Ij 
proportional to 1/j. The transformer winding current waveforms of most switching converters follow this 
</p>
<p>Fourier series, or a similar series. 
</p>
<p>Effects of waveforms harmonics on proximity losses are discussed in [8-1 0]. The de component 
</p>
<p>of the winding currents does not lead to proximity loss, and should not be included in proximity loss cal-
</p>
<p>culations. Failure to remove the de component can lead to significantly pessimistic estimates of copper </p>
<p/>
</div>
<div class="page"><p/>
<p>13.4 Eddy Currents in Winding Conductors 523 
</p>
<p>i(t) 
</p>
<p>-
Fig. 13.38 Pulse-width modulated winding current waveform. 
</p>
<p>0 
</p>
<p>loss. The skin depth 8 is smaller for high frequency harmonics than for the fundamental, and hence the 
</p>
<p>waveform harmonics exhibit an increased effective &lt;p. Let &lt;p 1 be given by Eq. (13.73), in which 8 is found 
</p>
<p>by evaluation of Eq. (13.60) at the fundamental frequency. Since the penetration depth 8 varies as the 
</p>
<p>inverse square-root of frequency, the effective value of &lt;p for harmonic j is 
</p>
<p>(13.94) 
</p>
<p>In a multiple-layer winding excited by a current waveform whose fundamental component has &lt;p = &lt;p1 
close to 1, harmonics can significantly increase the total copper loss. This occurs because, form &gt; 1, 
Q'(cp, m) is a rapidly increasing function of (jl in the vicinity of 1. When &lt;p1 is sufficiently greater than 1, 
</p>
<p>then Q'(cp, m) is nearly constant, and harmonics have less influence on the total copper loss. 
</p>
<p>For example, suppose that the two-winding transformer of Fig. 13.33 is employed in a converter 
</p>
<p>such as the forward converter, in which a winding current waveform i(t) can be well approximated by the 
</p>
<p>Fourier series of Eq. (13.93). The winding contains M layers, and has de resistance Rdc. The copper loss 
</p>
<p>induced by the de component is 
</p>
<p>(13.95) 
</p>
<p>The copper loss Pj ascribable to harmonic j is found by evaluation of Eq. (13.86) with &lt;p = &lt;p/ 
</p>
<p>(13.96) 
</p>
<p>The total copper loss in the winding is the sum of losses arising from all components of the harmonic 
</p>
<p>series: 
</p>
<p>Pc, D 2&lt;p 1 ~ sin 2 (jnD) [a (" l 2 (Mz l)(a (" l 20 (" l)j 
Dl~kRdc= +Dnz/;'t jiJ tVl&lt;i't +3 - tVJ&lt;i't- zvJ&lt;i't 
</p>
<p>(13.97) 
</p>
<p>In Eq. (13.97), the copper loss is expressed relative to the loss D!pk2Rdc predicted by a low-frequency 
</p>
<p>analysis. This expression can be evaluated by use of a computer program or computer spreadsheet. 
</p>
<p>To explicitly quantify the effects of harmonics, we can define the harmonic loss factor F H as 
</p>
<p>(13.98) 
</p>
<p>with Pj given by Eq. (13.96). The total winding copper loss is then given by </p>
<p/>
</div>
<div class="page"><p/>
<p>524 Basic Magnetics Theory 
</p>
<p>Fig. 13.39 Increased proximity losses 
</p>
<p>induced by PWM waveform harmonics, 
</p>
<p>forward converter example: (a) at D = 0.1, 
(b) at D = 0.3, (c) at D = 0.5. 
</p>
<p>100 
</p>
<p>10 
</p>
<p>100 
</p>
<p>10 
</p>
<p>I 
</p>
<p>1-10 0=0.1 == 
/ o / ~ 
</p>
<p>/ / / ::-..; 
</p>
<p>// &gt;~~ ~ 
/////v- ~ 
</p>
<p>#$/~ . ~ 
I 
</p>
<p>~--=--:::- -Mz0.5 
</p>
<p>0.1 10 
</p>
<p>&lt;Pa 
</p>
<p>0=0.3-
</p>
<p>M a ~ 
</p>
<p>/ //b= ~ 
///// 4_..- ~ 
</p>
<p>////.// J ~ 
</p>
<p>#~./~ M ~ 
~ 
</p>
<p>~ 0 . 5 
</p>
<p>0.1 10 
</p>
<p>0.1 10 </p>
<p/>
</div>
<div class="page"><p/>
<p>13.5 Several Types of Magnetic Devices, Their B-H Loops, and Core vs. Copper Loss 525 
</p>
<p>with FR given by Eq. (13.86). The harmonic factor F His a function not only of the winding geometry, but 
</p>
<p>also of the harmonic spectrum of the winding current waveform. The harmonic factor F H is plotted in 
</p>
<p>Fig. 13.39 for several values of D, for the simple transformer example. The total harmonic distortion 
</p>
<p>(THD) of the example current waveforms are: 48% forD= 0.5, 76% forD= 0.3, and 191% forD= 0.1. 
</p>
<p>The waveform THD is defined as 
</p>
<p>(13.100) 
</p>
<p>It can be seen that harmonics significantly increase the proximity loss of a multilayer winding when &lt;p 1 is 
</p>
<p>close to 1. For sufficiently small &lt;pl' the proximity effect can be neglected, and F H tends to the value 
</p>
<p>1 + (THDf For large &lt;p1, the harmonics also increase the proximity loss; however, the increase is less 
dramatic than for &lt;p1 near l because the fundamental component proximity loss is large. It can be con-
</p>
<p>cluded that, when the current waveform contains high THD and when the winding contains several lay-
</p>
<p>ers or more, then proximity losses can be kept low only by choosing &lt;p 1 much less than 1. Interleaving the 
</p>
<p>windings allows a larger value of &lt;p 1 to be employed. 
</p>
<p>13.5 SEVERAL TYPES OF MAGNETIC DEVICES, THEIR B-H LOOPS, AND 
CORE VS. COPPER LOSS 
</p>
<p>A variety of magnetic elements are commonly used in power applications, which employ the properties 
</p>
<p>of magnetic core materials and windings in different ways. As a result, quite a few factors constrain the 
</p>
<p>design of a magnetic device. The maximum flux density must not saturate the core. The peak ac flux den-
</p>
<p>sity should also be sufficiently small, such that core losses are acceptably low. The wire size should be 
</p>
<p>sufficiently small, to fit the required number of turns in the core window. Subject to this constraint, the 
</p>
<p>wire cross-sectional area should be as large as possible, to minimize the winding de resistance and cop-
</p>
<p>per loss. But if the wire is too thick, then unacceptable copper losses occur owing to the proximity effect. 
</p>
<p>An air gap is needed when the device stores significant energy. But an air gap is undesirable in trans-
</p>
<p>former applications. It should be apparent that, for a given magnetic device, some of these constraints are 
</p>
<p>active while others are not significant. 
</p>
<p>Thus, design of a magnetic element involves not only obtaining the desired inductance or turns 
</p>
<p>ratio, but also ensuring that the core material does not saturate and that the total power loss is not too 
</p>
<p>large. Several common power applications of magnetics are discussed in this section, which illustrate the 
</p>
<p>factors governing the choice of core material, maximum flux density, and design approach. 
</p>
<p>13.5.1 Filter Inductor 
</p>
<p>A filter inductor employed in a CCM buck converter is illustrated in Fig. 13.40(a). In this application, the 
</p>
<p>value of inductance L is usually chosen such that the inductor current ripple peak magnitude 11i is a small 
</p>
<p>fraction of the full-load inductor current de component I, as illustrated in Fig. 13.40(b ). As illustrated in 
</p>
<p>Fig. 13.41, an air gap is employed that is sufficiently large to prevent saturation of the core by the peak 
</p>
<p>current I+ 11i. </p>
<p/>
</div>
<div class="page"><p/>
<p>526 Basic Magnetics Theory 
</p>
<p>(a) L 
</p>
<p>(b) 
</p>
<p>i(t: t=T::J-J"', 
' ' t 
i i 
' ' ' ' 
</p>
<p>\ l 
' ' : : . 
</p>
<p>0 T 
s 
</p>
<p>Fig. 13.40 Filter inductor employed in a CCM buck converter: (a) circuit schematic, (b) inductor current wave-
</p>
<p>form. 
</p>
<p>(a) 
</p>
<p>i(t) 
</p>
<p>+ 
v 
</p>
<p>n 
(t) turns 
-
</p>
<p>"' 
</p>
<p>Core reluctance &amp;lc 
</p>
<p>&lt;l&gt; 
</p>
<p>:'\. J 
</p>
<p>"' r 
" 
</p>
<p>r-
</p>
<p>f-~ 
</p>
<p>~ 
</p>
<p>Air gap 
reluctance 
,q{g 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>ni(t) 
</p>
<p>Fig. 13.41 Filter inductor: (a) structure, (b) magnetic circuit model. 
</p>
<p>The core magnetic field strength Hc(t) is related to the winding current i(t) according to 
</p>
<p>(13.101) 
</p>
<p>where ec is the magnetic path length of the core. Since HJt) is proportional to i(t), Hc(t) can be expressed 
</p>
<p>as a large de component Hco and a small superimposed ac ripple Mic, where 
</p>
<p>(13.102) 
</p>
<p>A sketch of B(t) vs. HJt) for this application is given in Fig. 13.42. This device operates with the minor 
</p>
<p>B-H loop illustrated. The size of the minor loop, and hence the core loss, depends on the magnitude of 
</p>
<p>the inductor current ripple !:li. The copper loss depends on the rms inductor current ripple, essentially </p>
<p/>
</div>
<div class="page"><p/>
<p>13.5 Several Types of Magnetic Devices, Their B-H Loops, and Core vs. Copper Loss 527 
</p>
<p>Fig. 13.42 Filter inductor minor 8-H loop. 
</p>
<p>B 
</p>
<p>Bsat 
</p>
<p>x:~~~~~~~~op, ---t---&pound;.;-'-r=:::::::::::::!: 1'18 
</p>
<p>+! !+1'1H I . c 
</p>
<p>B-H loop, 
large excitation 
</p>
<p>equal to the de component I. Typically, the core loss can be ignored, and the design is driven by the cop-
</p>
<p>per loss. The maximum flux density is limited by saturation of the core. Proximity losses are negligible. 
</p>
<p>Although a high-frequency ferrite material can be employed in this application, other materials having 
</p>
<p>higher core losses and greater saturation flux density lead to a physically smaller device. Design of a fil-
</p>
<p>ter inductor in which the maximum flux density is a specified value is considered in the next chapter. 
</p>
<p>13.5.2 AC Inductor 
</p>
<p>An ac inductor employed in a resonant converter is illustrated in Fig. 13.43. In this application, the high-
</p>
<p>frequency current variations are large. In consequence, the B(t)-H(t) loop illustrated in Fig. 13.44 is 
</p>
<p>large. Core loss and proximity loss are usually significant in this application. The maximum flux density 
</p>
<p>(a) 
</p>
<p>L 
...... ~L ..... -vuuMll 
</p>
<p>(b) 
i(t) 
</p>
<p>Fig. 13.43 Ac inductor, resonant converter example: (a) resonant tank circuit, (b) inductor current waveform. 
</p>
<p>B 
</p>
<p>Bsat 
</p>
<p>Fig. 13.44 Operational 8-H loop of an ac inductor. 
</p>
<p>Core B-H loop </p>
<p/>
</div>
<div class="page"><p/>
<p>528 Basic Magnetics Theory 
</p>
<p>is limited by core loss rather than saturation. Both core loss and copper loss must be accounted for in the 
</p>
<p>design of this element, and the peak ac flux density M is a design variable that is typically chosen to 
</p>
<p>minimize the total loss. A high-frequency material having low core loss, such as ferrite, is normally 
</p>
<p>employed. Design of magnetics such as this, in which the ac flux density is a design variable that is cho-
</p>
<p>sen in a optimal manner, is considered in Chapter 15. 
</p>
<p>13.5.3 Transformer 
</p>
<p>Figure 13.45 illustrates a conventional transformer employed in a switching converter. Magnetization of 
</p>
<p>the core is modeled by the magnetizing inductance LM. The magnetizing current iM(t) is related to the 
</p>
<p>core magnetic field H(t) according to Ampere's law 
</p>
<p>H(t) = ntt) 
m 
</p>
<p>(13.103) 
</p>
<p>However, iM(t) is not a direct function of the winding currents i1 (t) or iz(t). Rather, the magnetizing cur-
</p>
<p>rent is dependent on the applied winding voltage waveform v1(t). Specifically, the maximum ac flux den-
</p>
<p>sity is directly proportional to the applied volt-seconds A.1. A typical B-H loop for this application is 
illustrated in Fig. 13.46. 
</p>
<p>(a) (b) 
</p>
<p>Fig. 13.45 Conventional transformer: (a) equivalent circuit, (b) typical primary voltage and magnetizing current 
</p>
<p>waveforms. 
</p>
<p>B 
</p>
<p>Fig. 13.46 Operational B-H loop of a conventional transformer. 
B-H loop,Jor __ .J..__, 
</p>
<p>operation as 
</p>
<p>conventional __ +h~'---+-----+ 
transformer </p>
<p/>
</div>
<div class="page"><p/>
<p>13.5 Several Types of Magnetic Devices, Their B-H Loops, and Core vs. Copper Loss 529 
</p>
<p>In the transformer application, core loss and proximity losses are usually significant. Typically 
</p>
<p>the maximum flux density is limited by core loss rather than by saturation. A high-frequency material 
</p>
<p>having low core loss is employed. Both core and copper losses must be accounted for in the design of the 
</p>
<p>transformer. The design must also incorporate multiple windings. Transformer design with flux density 
</p>
<p>optimized for minimum total loss is described in Chapter 15. 
</p>
<p>13.5.4 Coupled Inductor 
</p>
<p>A coupled inductor is a filter inductor having multiple windings. Figure 13.47(a) illustrates coupled 
</p>
<p>inductors in a two-output forward converter. The inductors can be wound on the same core, because the 
</p>
<p>winding voltage waveforms are proportional. The inductors of the SEPIC and Cuk converters, as well as 
</p>
<p>of multiple-output buck-derived converters and some other converters, can be coupled. The inductor cur-
</p>
<p>rent ripples can be controlled by control of the winding leakage inductances [12,13]. De currents flow in 
</p>
<p>each winding as illustrated in Fig. 13.47(b), and the net magnetization of the core is proportional to the 
</p>
<p>sum of the winding ampere-turns: 
</p>
<p>(13.104) 
</p>
<p>As in the case of the single-winding filter inductor, the size of the minor B-H loop is proportional to the 
</p>
<p>total current ripple (Fig. 13.48). Small ripple implies small core loss, as well as small proximity loss. An 
</p>
<p>air gap is employed, and the maximum flux density is typically limited by saturation. 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>Fig. 13.47 Coupling the output filter inductors 
</p>
<p>of a two-output forward converter: (a) schematic, 
</p>
<p>(b) typical inductor current waveforms. 
</p>
<p>+ 
</p>
<p>(b) </p>
<p/>
</div>
<div class="page"><p/>
<p>530 Basic Magnetics Theory 
</p>
<p>Fig. 13.48 Coupled inductor minor B-H loop. 
</p>
<p>13.5.5 Flyback Transformer 
</p>
<p>Minor B-H loop, 
coupled inductor 
</p>
<p>B 
</p>
<p>As discussed in Chapter 6, the flyback transformer functions as an inductor with two windings. The pri-
</p>
<p>mary winding is used during the transistor conduction interval, and the secondary is used during the 
</p>
<p>diode conduction interval. A flyback converter is illustrated in Fig. l3.49(a), with the flyback transformer 
</p>
<p>modeled as a magnetizing inductance in parallel with an ideal transformer. The magnetizing current iM(t) 
</p>
<p>is proportional to the core magnetic field strength H/t). Typical DCM waveforms are given in Fig. 
</p>
<p>13.49(b). 
</p>
<p>Since the flyback transformer stores energy, an air gap is needed. Core loss depends on the mag-
</p>
<p>nitude of the ac component of the magnetizing current. The B-H loop for discontinuous conduction 
</p>
<p>mode operation is illustrated in Fig. 13.50. When the converter is designed to operate in DCM, the core 
</p>
<p>loss is significant. The peak ac flux density fill is then chosen to maintain an acceptably low core loss. 
</p>
<p>For CCM operation, core loss is less significant, and the maximum flux density may be limited only by 
</p>
<p>saturation of the core. In either case, winding proximity losses are typically quite significant. Unfortu-
</p>
<p>nately, interleaving the windings has little impact on the proximity loss because the primary and second-
</p>
<p>ary winding currents are out of phase. 
</p>
<p>(a) 
</p>
<p>i! 
</p>
<p>+ I LM 
L ......... L... ... -.... -... -.... -l ........... L... ... -.. ,!-. -----L----l 
</p>
<p>Fig. 13.49 Flyback transformer: (a) converter schematic, with transformer equivalent circuit, (b) DCM current 
waveforms. </p>
<p/>
</div>
<div class="page"><p/>
<p>13.6 Summary of Key Points 531 
</p>
<p>B 
</p>
<p>Fig. 13.50 Operational B-H loop of a DCM flyback transformer. 
</p>
<p>13.6 
</p>
<p>1. 
</p>
<p>2. 
</p>
<p>3. 
</p>
<p>4. 
</p>
<p>5. 
</p>
<p>6. 
</p>
<p>SUMMARY OF KEY POINTS 
</p>
<p>Magnetic devices can be modeled using lumped-element magnetic circuits, in a manner similar to that 
</p>
<p>commonly used to model electrical circuits. The magnetic analogs of electrical voltage V, current /, and 
</p>
<p>resistance R, are magnetomotive force (MMF) :Y, flux&lt;!&gt;, and reluctance iJl respectively. 
</p>
<p>Faraday's law relates the voltage induced in a loop of wire to the derivative of flux passing through the 
</p>
<p>interior of the loop. 
</p>
<p>Ampere's law relates the total MMF around a loop to the total current passing through the center of the 
</p>
<p>loop. Ampere's law implies that winding currents are sources of MMF, and that when these sources are 
</p>
<p>included, then the net MMF around a closed path is equal to zero. 
</p>
<p>Magnetic core materials exhibit hysteresis and saturation. A core material saturates when the flux density 
</p>
<p>Breaches the saturation flux density Bsat&middot; 
</p>
<p>Air gaps are employed in inductors to prevent saturation when a given maximum current flows in the 
</p>
<p>winding, and to stabilize the value of inductance. The inductor with air gap can be analyzed using a simple 
</p>
<p>magnetic equivalent circuit, containing core and air gap reluctances and a source representing the winding 
</p>
<p>MMF. 
</p>
<p>Conventional transformers can be modeled using sources representing the MMFs of each winding, and the 
</p>
<p>core MMF. The core reluctance approaches zero in an ideal transformer. Nonzero core reluctance leads to 
</p>
<p>an electrical transformer model containing a magnetizing inductance, effectively in parallel with the ideal 
</p>
<p>transformer. Flux that does not link both windings, or "leakage flux," can be modeled using series induc-
</p>
<p>tors. 
</p>
<p>7. The conventional transformer saturates when the applied winding volt-seconds are too large. Addition of 
</p>
<p>an air gap has no effect on saturation. Saturation can be prevented by increasing the core cross-sectional 
</p>
<p>area, or by increasing the number of primary turns. 
</p>
<p>8. Magnetic materials exhibit core Joss, due to hysteresis of the B-H loop and to induced eddy currents flow-
</p>
<p>ing in the core material. In available core materials, there is a tradeoff between high saturation flux density 
</p>
<p>Bsat and high core loss Pfe&middot; Laminated iron alloy cores exhibit the highest B'"' but also the highest Pfe' 
while ferrite cores exhibit the lowest Pfe but also the lowest Bsat. Between these two extremes are pow-
</p>
<p>dered iron alloy and amorphous alloy materials. 
</p>
<p>9. The skin and proximity effects lead to eddy currents in winding conductors, which increase the copper Joss 
</p>
<p>P cu in high-current high-frequency magnetic devices. When a conductor has thickness approaching or </p>
<p/>
</div>
<div class="page"><p/>
<p>532 Basic Magnetics Theory 
</p>
<p>larger than the penetration depth o, magnetic fields in the vicinity of the conductor induce eddy currents in 
the conductor. According to Lenz's law, these eddy currents flow in paths that tend to oppose the applied 
</p>
<p>magnetic fields. 
</p>
<p>10. The magnetic field strengths in the vicinity of the winding conductors can be determined by use of MMF 
</p>
<p>diagrams. These diagrams are constructed by application of Ampere's law, following the closed paths of 
</p>
<p>the magnetic field lines which pass near the winding conductors. Multiple-layer noninterleaved windings 
</p>
<p>can exhibit high maximum MMFs, with resulting high eddy currents and high copper loss. 
</p>
<p>11. An expression for the copper loss in a layer, as a function of the magnetic field strengths or MMFs sur-
</p>
<p>rounding the layer, is given in Section 13.4.4. This expression can be used in conjunction with the MMF 
</p>
<p>diagram, to compute the copper loss in each layer of a winding. The results can then be summed, yielding 
</p>
<p>the total winding copper loss. When the effective layer thickness is near to or greater than one skin depth, 
</p>
<p>the copper losses of multiple-layer noninterleaved windings are greatly increased. 
</p>
<p>12. Pulse-width-modulated winding currents contain significant total harmonic distortion, which can lead to a 
</p>
<p>further increase of copper loss. The increase in proximity loss caused by current harmonics is most pro-
</p>
<p>nounced in multiple-layer non-interleaved windings, with an effective layer thickness near one skin depth. 
</p>
<p>REFERENCES 
</p>
<p>[1] MIT STAFF, Magnetic Circuits and Transformers, Cambridge: The MIT Press, 1943. 
</p>
<p>[2] J. K. WATSON, Applications of Magnetism, New York: John Wiley &amp; Sons, 1980. 
</p>
<p>[3] R. P. SEVERNS and G. E. BLOOM, Modern De-to-De Switchmode Power Converter Circuits, New York: 
</p>
<p>Van Nostrand Reinhold, 1985. 
</p>
<p>[4] A. DAUHAJRE and R. D. MIDDLEBROOK, "Modeling and Estimation of Leakage Phenomena in Magnetic 
</p>
<p>Circuits," IEEE Power Electronics Specialists Conference, 1986 Record, pp. 213-226. 
</p>
<p>[5] S. EL-HAMAMSY and E. CHANG, "Magnetics Modeling for Computer-Aided Design of Power Electronics 
</p>
<p>Circuits," IEEE Power Electronics Specialists Conference, 1989 Record, pp. 635-645. 
</p>
<p>[6] P. L. DOWELL, "Effects of Eddy Currents in Transformer Windings," Proceedings of the lEE, Vol. 113, No. 
</p>
<p>8, August 1966, pp. 1387-1394. 
</p>
<p>[7] M. P. PERRY, "Multiple Layer Series Connected Winding Design for Minimum Loss," IEEE Transactions 
</p>
<p>on Power Apparatus and Systems, Vol. PAS-98, No.1, Jan./Feb. 1979, pp. 116-123. 
</p>
<p>[8] P. S. VENKATRAMAN, "Winding Eddy Current Losses in Switch Mode Power Transformers Due to Rect-
</p>
<p>angular Wave Currents," Proceedings of Powercon 11, 1984, pp. A1.1 - A1.11. 
</p>
<p>[9] B. CARSTEN, "High Frequency Conductor Losses in Switchmode Magnetics," High Frequency Power 
</p>
<p>Converter Conference, 1986 Record, pp. 155-176. 
</p>
<p>[10] J.P. V ANDELAC and P. ZIOGAS, "A Novel Approach for Minimizing High Frequency Transformer Copper 
</p>
<p>Losses," IEEE Power Electronics Specialists Conference, 1987 Record, pp. 355-367. 
</p>
<p>[11] A.M. URLING, V. A. NIEMELA, G. R. SKUTT, and T. G. WILSON, "Characterizing High-Frequency Effects 
</p>
<p>in Transformer Windings-A Guide to Several Significant Articles," IEEE Applied Power Electronics 
</p>
<p>Conference, 1989 Record, pp. 373-385. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 533 
</p>
<p>[12] S. CUK and R. D. MIDDLEBROOK, "Coupled-Inductor and Other Extensions of a New Optimum Topology 
Switching De-to-De Converter," IEEE Industry Applications Society Annual Meeting, 1977 Proceedings, 
</p>
<p>pp. 1110-1122. 
</p>
<p>[13] S. CUK and Z. ZHANG, "Coupled-Inductor Analysis and Design," IEEE Power Electronics Specialists 
</p>
<p>Conference, 1986 Record, pp. 655-665. 
</p>
<p>PROBLEMS 
</p>
<p>13.1 The core illustrated in Fig. 13.51(a) is 1 em thick. All legs are 1 em wide, except for the right-hand side 
</p>
<p>vertical leg, which is 0.5 em wide. You may neglect nonuniformities in the flux distribution caused by 
</p>
<p>turning corners. 
</p>
<p>(a) 3em 3em 
i, ~r ................... T.0 ................. 1 ~ n, turns --t- s! i 0.5 em 
-'--- i ~! i 
</p>
<p>terri !1+- i i 
i. ... J&pound;m ........ i. ... ) .. 9!! ........ 11 
</p>
<p>!em 
</p>
<p>! 
Core relative permeability ll, = 1000 
</p>
<p>n1 = 10 
</p>
<p>Fig. 13.51 Problem 13.1 
</p>
<p>(b) 
</p>
<p>i, i2 
</p>
<p>1 turns - ~- ~ ..___ n 
</p>
<p>(a) Determine the magnetic circuit model of this device, and label the values of all reluctances in 
</p>
<p>your model. 
</p>
<p>(b) Determine the inductance of the winding. 
</p>
<p>A second winding is added to the same core, as shown in Fig. 13.51(b). 
</p>
<p>(c) Modify your model of part (a) to include this winding. 
</p>
<p>(d) The electrical equations for this circuit may be written in the form 
</p>
<p>Use superposition to determine analytical expressions and numerical values for L1i' L 12, and Lz2&bull; 
</p>
<p>13.2 Two windings are placed as illustrated in Fig. 13.52(a) on a core of uniform cross-sectional area 
Ac = 1 cm2. Each winding has 50 turns. The relative permeability of the core is J.l., = 104. 
</p>
<p>(a) Sketch an equivalent magnetic circuit, and determine numerical values for each reluctance. 
</p>
<p>(b) Determine the self-inductance of each winding. 
</p>
<p>(c) Determine the inductance L+ obtained when the windings are connected in series as in Fig. 
13.52(b). 
</p>
<p>(d) Determine the inductance C obtained when the windings are connected in anti-series as in Fig. 
</p>
<p>13.52(c). </p>
<p/>
</div>
<div class="page"><p/>
<p>534 Basic Magnetics Theory 
</p>
<p>(a) 
</p>
<p>i[ &bull; + i2. 
r-- v2_4 --
</p>
<p>Fig. 13.52 Problem 13.2. 
Scm Scm 
</p>
<p>13.3 All three legs of the magnetic device illustrated in Fig. 13.53 are of uniform cross-sectional area Ac-
</p>
<p>Legs 1 and 2 each have magnetic path length 3t, while leg 3 has magnetic path length e. Both windings 
have n turns. The core has permeability f1 &gt; f1o&middot; 
</p>
<p>i[ 
</p>
<p>( 
</p>
<p>- -
</p>
<p>Leg 
I 
</p>
<p>Fig. 13.53 Magnetic core for Problem 13.3. 
</p>
<p>Leg 
3 
</p>
<p>cr--
</p>
<p>Leg 
2 
</p>
<p>i2 
</p>
<p>-
</p>
<p>(a) Sketch a magnetic equivalent circuit, and give analytical expressions for all element values. 
</p>
<p>A voltage source is connected to winding 1, such that v1(t) is a square wave of peak value Vmax and 
</p>
<p>period Ts. Winding 2 is open-circuited. 
</p>
<p>(b) Sketch i1(t) and label its peak value. 
</p>
<p>(c) Find the flux &lt;p2(t) in leg 2. Sketch &lt;p2(t) and label its peak value. 
</p>
<p>(d) Sketch vz(t) and label its peak value. 
</p>
<p>13.4 The magnetic device illustrated in Fig. 13.54(a) consists of two windings, which can replace the two 
</p>
<p>inductors in a Cuk, SEPIC, or other similar converter. For this problem, all three legs have the same uni-
</p>
<p>form cross-sectional area A c. The legs have gaps of lengths gl' g2, and g3, respectively. The core perme-
</p>
<p>ability f.( is very large. You may neglect fringing flux. Legs 1 and 2 have windings containing n1 and n2 
turns, respectively. 
</p>
<p>(a) Derive a magnetic circuit model for this device, and give analytical expressions for each reluc-
</p>
<p>tance in your model. Label the polarities of the MMF generators. 
</p>
<p>(b) Write the electrical terminal equations of this device in the matrix form </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 535 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>R v 
</p>
<p>+ 
</p>
<p>Fig. 13.54 Magnetic core and converter for Problem 13.4. 
</p>
<p>and derive analytical expressions for L11 , L12, and Lzz-
</p>
<p>(c) Derive an electrical circuit model for this device, and give analytical expressions for the turns 
</p>
<p>ratio and each inductance in your model, in terms of the turns and reluctances of part (a). 
</p>
<p>This single magnetic device is to be used to realize the two inductors of the Cuk converter, as in Fig. 
</p>
<p>13.54(b). 
</p>
<p>(d) 
</p>
<p>(e) 
</p>
<p>Sketch the voltage waveforms v1(t) and v2(t), making the linear ripple approximation as appro-
</p>
<p>priate. You may assume that the converter operates in the continuous conduction mode. 
</p>
<p>The voltage waveforms of part (d) are applied to your model of parts (b) and (c). Solve your 
</p>
<p>model to determine the slopes of the inductor current ripples during intervals DT, and D' Ts. 
</p>
<p>Sketch the steady-state inductor current waveforms i1(t) and iz(t), and label all slopes. 
</p>
<p>(f) By skillful choice of n/n2 and the air gap lengths, it is possible to make the inductor current rip-
ple /';.i in either i1(t) or iz(t) go to zero. Determine the conditions on n/n2, gl' g2, and g3 that 
cause the current ripple in iz(t) to become zero. Sketch the resulting i1(t) and i2(t), and label all 
</p>
<p>slopes. 
</p>
<p>It is possible to couple the inductors in this manner, and cause one of the inductor current ripples to go to 
</p>
<p>zero, in any converter in which the inductor voltage waveforms are proportional. 
</p>
<p>13.5 Over its usable operating range, a certain permanent magnet material has the B-H characteristics illus-
</p>
<p>trated by the solid line in Fig. 13.55. The magnet has length em= 0.5 em, and cross-sectional area 4 cm2. 
Bm = 1 T. Derive an equivalent magnetic circuit model for the magnet, and label the numerical values of 
the elements. 
</p>
<p>Fig. 13.55 B-H characteristic of the permanent 
</p>
<p>magnet material for Problem 13.5. &bull;' I 
</p>
<p>B 
</p>
<p>H </p>
<p/>
</div>
<div class="page"><p/>
<p>536 Basic Magnetics Theory 
</p>
<p>13.6 The two-transistor forward converter of Fig. 6.27 operates with V8 = 300 V, V = 28 V, switching fre-
</p>
<p>quency fs = 100 kHz, and turns ratio n = 0.25. The de load power is 250 W. The transformer uses an 
</p>
<p>EC41 ferrite core; relevant data for this core is listed in Appendix D. The core loss is given by Fig. 13.20. 
</p>
<p>The primary winding consists of 44 turns of #21 AWG wire, and the secondary winding is composed of 
</p>
<p>11 turns of #15 AWG wire. Data regarding the American wire gauge is also listed in Appendix D. 
</p>
<p>(a) Estimate the core loss of this transformer 
</p>
<p>(b) Determine the copper loss of this transformer. You may neglect proximity losses. 
</p>
<p>13.7 The two-transistor forward converter of Fig. 6.27 operates in CCM with V8 = 300 V, V = 28 V, switching 
</p>
<p>frequency fs =100kHz, and turns ration= 0.25. The de load power is 250 W. The transformer uses an 
</p>
<p>EC41 ferrite core; relevant data for this core is listed in Appendix D. This core has window height 
</p>
<p>ew = 2. 78 em. The primary winding consists of 44 turns of #24 AWG wire, and the secondary winding is 
composed of 11 turns of #14 AWG wire. Each winding comprises one layer. Data regarding the Ameri-
</p>
<p>can wire gauge is also listed in Appendix D. The winding operates at room temperature. 
</p>
<p>(a) Determine the primary and secondary copper losses induced by the de components of the wind-
</p>
<p>ing currents. 
</p>
<p>(b) Determine the primary and secondary copper losses induced by the fundamental components of 
</p>
<p>the winding currents. 
</p>
<p>(c) Determine the primary and secondary copper losses induced by the second harmonic compo-
</p>
<p>nents of the winding currents. 
</p>
<p>13.8 The winding currents of the transformer in a high-voltage inverter are essentially sinusoidal, with negli-
</p>
<p>gible harmonics and no de components. The primary winding consists of one layer containing 10 turns 
</p>
<p>of round copper wire. The secondary winding consists of 250 turns of round copper wire, arranged in ten 
</p>
<p>layers. The operating frequency isf= 50 kHz, and the winding porosity is 0.8. Determine the primary 
</p>
<p>and secondary wire diameters and wire gauges that minimize the total copper loss. 
</p>
<p>13.9 A certain three-winding transformer contains one primary and two secondaries. The operating frequency 
</p>
<p>is 40kHz. The primary winding contains a total of 60 turns of #26AWG, arranged in three layers. The 
</p>
<p>secondary windings each consist of five turns of copper foil, one tum per layer. The foil thickness is 
</p>
<p>0.25 rnm. The primary layers have porosity 0.8, while the secondary layer porosity is 1. The primary 
</p>
<p>winding carries a sinusoidal current having rms value /, while each secondary carries rms current 6/. The 
</p>
<p>windings are not interleaved: the primary winding is closest to the center leg of the core, followed by 
</p>
<p>secondary winding #1, followed by secondary winding #2. 
</p>
<p>(a) Sketch an MMF diagram illustrating the magnetic fields in the vicinity of each winding layer. 
</p>
<p>(b) Determine the increased copper loss, due to the proximity effect, in each layer. 
</p>
<p>(c) Determine the ratio of copper loss to de copper loss, FR, for the entire transformer windings. 
</p>
<p>(d) In this application, it is not feasible to interleave the primary winding with the other windings. 
</p>
<p>However, changing the conductor size is permissible. Discuss how the windings could be better 
</p>
<p>optimized. 
</p>
<p>13.10 A transformer winding contains a four-layer primary winding, and two two-layer secondary windings. 
</p>
<p>Each layer of the primary winding carries total current I. Each layer of secondary winding # 1 carries 
</p>
<p>total current 1.5/. Each layer of secondary winding #2 carries total current 0.5/. All currents are sinusoi-
</p>
<p>dal. The effective relative conductor thickness is cp = 2. The windings are partially interleaved, in the fol-
</p>
<p>lowing order: two primary layers, followed by both layers of secondary #1, followed by both layers of 
</p>
<p>secondary #2, and finally the two remaining primary layers. 
</p>
<p>(a) Sketch an MMF diagram for this winding arrangement. 
</p>
<p>(b) Determine the increased copper loss, due to the proximity effect, for each layer. 
</p>
<p>(c) Determine the increase in total transformer copper loss, due to the proximity effect. </p>
<p/>
</div>
<div class="page"><p/>
<p>13.11 
</p>
<p>13.12 
</p>
<p>Problems 537 
</p>
<p>A single-output forward converter contains a transformer having a noninterleaved secondary winding 
</p>
<p>with four layers. The converter operates at D = 0.3 in CCM, with a secondary winding current waveform 
similar to Fig. 13.38. 
</p>
<p>(a) Estimate the value of q&gt;1 that minimizes the secondary winding copper losses. 
</p>
<p>(b) Determine the resulting secondary copper loss, relative to I,m/ Rdc. 
</p>
<p>A schematic diagram and waveforms of the isolated SEPIC, operating in CCM, are given in Figs. 6.37 
</p>
<p>and 6.38. 
</p>
<p>(a) Do you expect the SEPIC transformer to contain an air gap? Why or why not? 
</p>
<p>(b) Sketch the SEPIC transformer B-H loop, for CCM operation. 
</p>
<p>(c) For CCM operation, do you expect core loss to be significant? Explain your reasoning. 
</p>
<p>(d) For CCM operation, do you expect winding proximity losses to be significant? Explain your rea-
</p>
<p>soning. </p>
<p/>
</div>
<div class="page"><p/>
<p>14 
Inductor Design 
</p>
<p>This chapter treats the design of magnetic elements such as filter inductors, using the Kg method. With 
</p>
<p>this method, the maximum flux density Bmax is specified in advance, and the element is designed to attain 
</p>
<p>a given copper loss. 
</p>
<p>The design of a basic filter inductor is discussed in Sections 14.1 and 14.1.5. In the filter induc-
</p>
<p>tor application, it is necessary to obtain the required inductance, avoid saturation, and obtain an accept-
</p>
<p>able low de winding resistance and copper loss. The geometrical constant Kg is a measure of the effective 
</p>
<p>magnetic size of a core, when de copper loss and winding resistance are the dominant constraints [1,2]. 
</p>
<p>Design of a filter inductor involves selection of a core having a Kg sufficiently large for the application, 
</p>
<p>then computing the required air gap, turns, and wire size. A simple step-by-step filter inductor design 
</p>
<p>procedure is given. Values of Kg for common ferrite core shapes are tabulated in Appendix D. 
</p>
<p>Extension of the Kg method to multiple-winding elements is covered in Section 14.3. In applica-
</p>
<p>tions requiring multiple windings, it is necessary to optimize the wire sizes of the windings so that the 
</p>
<p>overall copper loss is minimized. It is also necessary to write an equation that relates the peak flux den-
</p>
<p>sity to the applied waveforms or to the desired winding inductance. Again, a simple step-by-step trans-
</p>
<p>former design approach is given. 
</p>
<p>The goal of the K8 approach of this chapter is the design of a magnetic device having a given 
</p>
<p>copper loss. Core loss is not specifically addressed in the Kg approach, and Bmax is a given fixed value. In 
</p>
<p>the next chapter, the flux density is treated as a design variable to be optimized. This allows the overall 
</p>
<p>loss (i.e., core loss plus copper loss) to be minimized. 
</p>
<p>14.1 FILTER INDUCTOR DESIGN CONSTRAINTS 
</p>
<p>A filter inductor employed in a CCM buck converter is illustrated in Fig. 14.l(a). In this application, the 
</p>
<p>value of inductance Lis usually chosen such that the inductor current ripple peak magnitude l'!.i is a small 
fraction of the full-load inductor current de component I, as illustrated in Fig. 14.l(b). As illustrated in 
</p>
<p>Fig. 14.2, an air gap is employed that is sufficiently large to prevent saturation of the core by the peak </p>
<p/>
</div>
<div class="page"><p/>
<p>540 Inductor Design 
</p>
<p>(a) L 
</p>
<p>i(t) 
</p>
<p>(b) 
</p>
<p>Fig. 14.1 Filter inductor employed in a CCM buck converter: (a) circuit schematic, (b) inductor current wave-
</p>
<p>form. 
</p>
<p>(a) 
</p>
<p>i(t) 
</p>
<p>+ 
n 
</p>
<p>(t) 
turns v 
</p>
<p>-
</p>
<p>"' 
</p>
<p>Core reluctance &amp;lc 
</p>
<p>&lt;I&gt; 
</p>
<p>" I 
' r 
</p>
<p>"" 
</p>
<p>-
-~ 
</p>
<p>"" 
</p>
<p>Air gap 
reluctance 
fJlg 
</p>
<p>Fig. 14.2 Filter inductor: (a) structure, (b) magnetic circuit model. 
</p>
<p>current I+ 11i. 
</p>
<p>(b) 
</p>
<p>ni(t) 
</p>
<p>Let us consider the design of the filter inductor illustrated in 
</p>
<p>Figs. 14.1 and 14.2. It is assumed that the core and proximity losses are 
</p>
<p>negligible, so that the inductor losses are dominated by the low-frequency 
</p>
<p>copper losses. The inductor can therefore be modeled by the equivalent 
</p>
<p>circuit of Fig. 14.3, in which R represents the de resistance of the wind-
</p>
<p>ing. It is desired to obtain a given inductance L and given winding resis-
</p>
<p>tance R. The inductor should not saturate when a given worst-case peak 
</p>
<p>current !max is applied. Note that specification of R is equivalent to speci-
</p>
<p>fication of the copper loss Pcu' since 
</p>
<p>+ 
</p>
<p>L 
</p>
<p>i(t) 
</p>
<p>R 
</p>
<p>(14.1) Fig. 14.3 Filter inductor 
</p>
<p>The influence of inductor winding resistance on converter efficiency and 
</p>
<p>output voltage is modeled in Chapter 3. 
</p>
<p>equivalent circuit. </p>
<p/>
</div>
<div class="page"><p/>
<p>14.1 Filter Inductor Design Constraints 541 
</p>
<p>(a) 
</p>
<p>+ 
v(t) 
</p>
<p>i(t) 
</p>
<p>" 
n 
</p>
<p>turns 
</p>
<p>" 
</p>
<p>Q:&gt; 1'\ 
</p>
<p>f 
~~ 
</p>
<p>=~ 
</p>
<p>" 
</p>
<p>/ 
Cross-sectional 
areaAc 
</p>
<p>Air gap 
</p>
<p>eg 
</p>
<p>Fig. 14.4 Filter inductor: (a) assumed geometry, (b) magnetic circuit. 
</p>
<p>(b) 
</p>
<p>ni(t) 
</p>
<p>It is assumed that the inductor geometry is topologically equivalent to Fig. 14.4(a). An equiva-
</p>
<p>lent magnetic circuit is illustrated in Fig. 14.4(b). The core reluctance .Ullc and air gap reluctance .dflg are 
</p>
<p>(14.2) 
</p>
<p>where ec is the core magnetic path length, Ac is the core cross-sectional area, 11-c is the core permeability, 
and eg is the air gap length. It is assumed that the core and air gap have the same cross-sectional areas. 
Solution of Fig. 14.4(b) yields 
</p>
<p>(14.3) 
</p>
<p>Usually, &amp;lc &lt; &amp;l8 , and hence Eq. (14.3) can be approximated as 
</p>
<p>(14.4) 
</p>
<p>The air gap dominates the inductor properties. Four design constraints now can be identified. 
</p>
<p>14.1.1 Maximum Flux Density 
</p>
<p>Given a peak winding current !max' it is desired to operate the core flux density at a maximum value Bmax&middot; 
</p>
<p>The value of Bmax is chosen to be less than the worst-case saturation flux density Bm, of the core material. 
</p>
<p>Substitution of Q:&gt; = BAc into Eq. (14.4) leads to 
</p>
<p>Upon letting I= !max and B = Bmax' we obtain 
</p>
<p>eg 
nl max= BmaxAc /l?g = Bmax llo 
</p>
<p>This is the first design constraint. The turns ration and the air gap length C8 are unknowns. 
</p>
<p>(14.5) 
</p>
<p>(14.6) </p>
<p/>
</div>
<div class="page"><p/>
<p>542 Inductor Design 
</p>
<p>14.1.2 Inductance 
</p>
<p>The given inductance value L must be obtained. The inductance is equal to 
</p>
<p>(14.7) 
</p>
<p>This is the second design constraint. The turns ration, core area Ac, and gap length &pound;8 are unknown. 
</p>
<p>14.1.3 Winding Area 
</p>
<p>As illustrated in Fig. 14.5, the winding must fit through the window, i.e., the hole in the center of the 
</p>
<p>core. The&middot; cross-sectional area of the conductor, or bare area, is Aw If the winding has n turns, then the 
</p>
<p>area of copper conductor in the window is 
</p>
<p>(14.8) 
</p>
<p>If the core has window area WA, then we can express the area available for the winding conductors as 
</p>
<p>(14.9) 
</p>
<p>where K11 is the window utilization factor, or fill factor. Hence, the third design constraint can be 
</p>
<p>expressed as 
</p>
<p>(14.10) 
</p>
<p>The fill factor K11 is the fraction of the core window area that is filled with copper. K11 must lie 
</p>
<p>between zero and one. As discussed in [1], there are several mechanism that cause K11 to be Jess than 
unity. Round wire does not pack perfectly; this reduces K11 by a factor of 0.7 to 0.55, depending on the 
</p>
<p>winding technique. The wire has insulation; the ratio of wire conductor area to total wire area varies from 
</p>
<p>approximately 0.95 to 0.65, depending on the wire size and type of insulation. The bobbin uses some of 
</p>
<p>the window area. Insulation may be required between windings and/or winding layers. Typical values of 
</p>
<p>K11 for cores with winding bobbins are: 0.5 for a simple low-voltage inductor, 0.25 to 0.3 for an off-line 
</p>
<p>transformer, 0.05 to 0.2 for a high-voltage transformer supplying several kV, and 0.65 for a low-voltage 
</p>
<p>foil transformer or inductor. 
</p>
<p>Wire bare area 
</p>
<p>Aw 
-
</p>
<p>Core 
</p>
<p>--
Fig. 14.5 The winding must fit in the core window area. 
</p>
<p>1--1-
Core window 
area WA </p>
<p/>
</div>
<div class="page"><p/>
<p>14.1.4 Winding Resistance 
</p>
<p>The resistance of the winding is 
</p>
<p>e 
R=p-b 
</p>
<p>Aw 
</p>
<p>14.1 Filter Inductor Design Constraints 543 
</p>
<p>(14.11) 
</p>
<p>where p is the resistivity of the conductor material, eb is the length of the wire, and Aw is the wire bare 
area. The resistivity of copper at room temperature is 1.724 &middot; 10-6 Q-cm. The length of the wire compris-
</p>
<p>ing an n-tum winding can be expressed as 
</p>
<p>eb = n(MLT) (14.12) 
</p>
<p>where (MLT) is the mean-length-per-tum of the winding. The mean-length-per-tum is a function of the 
</p>
<p>core geometry. Substitution of Eq. (14.12) into (14.11) leads to 
</p>
<p>This is the fourth constraint. 
</p>
<p>n(MLT) 
R=p-A-
</p>
<p>w 
</p>
<p>14.1.5 The Core Geometrical Constant Kg 
</p>
<p>(14.13) 
</p>
<p>The four constraints, Eqs. (14.6), (14.7), (14.10), and (14.13), involve the quantities Ac, WA, and MLT, 
</p>
<p>which are functions of the core geometry, the quantities /max' Bmax' flo, L, Ku, R, and p, which are given 
</p>
<p>specifications or other known quantities, and n, e8 , and Aw, which are unknowns. Elimination of the 
unknowns n, e8 , and Aw leads to the following equation: 
</p>
<p>(14.14) 
</p>
<p>The quantities on the right side of this equation are specifications or other known quantities. The left side 
</p>
<p>of the equation is a function of the core geometry alone. It is necessary to choose a core whose geometry 
</p>
<p>satisfies Eq. (14.14). 
</p>
<p>The quantity 
</p>
<p>(14.15) 
</p>
<p>is called the core geometrical constant. It is a figure-of-merit that describes the effective electrical size of 
</p>
<p>magnetic cores, in applications where copper loss and maximum flux density are specified. Tables are 
</p>
<p>included in Appendix D that list the values of K8 for several standard families of ferrite cores. Kg has 
</p>
<p>dimensions of length to the fifth power. 
</p>
<p>Equation (14.14) reveals how the specifications affect the core size. Increasing the inductance or 
</p>
<p>peak current requires an increase in core size. Increasing the peak flux density allows a decrease in core 
</p>
<p>size, and hence it is advantageous to use a core material that exhibits a high saturation flux density. 
</p>
<p>Allowing a larger winding resistance R, and hence larger copper loss, leads to a smaller core. Of course, </p>
<p/>
</div>
<div class="page"><p/>
<p>544 Inductor Design 
</p>
<p>the increased copper loss and smaller core size will lead to a higher temperature rise, which may be 
</p>
<p>unacceptable. The fill factor Ku also influences the core size. 
</p>
<p>Equation (14.15) reveals how core geometry affects the core capabilities. An inductor capable 
</p>
<p>of meeting increased electrical requirements can be obtained by increasing either the core area Ac, or the 
</p>
<p>window area WA. Increase of the core area requires additional iron core material. Increase of the window 
</p>
<p>area implies that additional copper winding material is employed. We can trade iron for copper, or vice 
</p>
<p>versa, by changing the core geometry in a way that maintains the K8 ofEq. (14.15). 
</p>
<p>14.2 A STEP-BY-STEP PROCEDURE 
</p>
<p>The procedure developed in Section 14.1 is summarized below. This simple filter inductor design proce-
</p>
<p>dure should be regarded as a first-pass approach. Numerous issues have been neglected, including 
</p>
<p>detailed insulation requirements, conductor eddy current losses, temperature rise, roundoff of number of 
</p>
<p>turns, etc. 
</p>
<p>The following quantities are specified, using the units noted: 
</p>
<p>Wire resistivity p (Q-cm) 
</p>
<p>Peak winding current /max (A) 
</p>
<p>Inductance L (H) 
</p>
<p>Winding resistance R (Q) 
</p>
<p>Winding fill factor Ku 
</p>
<p>Maximum operating flux density Bmax (T) 
</p>
<p>The core dimensions are expressed in em: 
</p>
<p>Core cross-sectional area Ac (cm2) 
</p>
<p>Core window area WA (cm2) 
</p>
<p>Mean length per turn MLT (em) 
</p>
<p>The use of centimeters rather than meters requires that appropriate factors be added to the design equa-
</p>
<p>tions. 
</p>
<p>1. Determine core size 
</p>
<p>(14.16) 
</p>
<p>Choose a core which is large enough to satisfy this inequality. Note the values of Ac, WA, and MLT for 
</p>
<p>this core. The resistivity p of copper wire is 1.724 &middot; 10--{5 Q-cm at room temperature, and 2.3 &middot; 10--{5 Q-cm 
</p>
<p>at 100'C. 
</p>
<p>2. Determine air gap length 
</p>
<p>(14.17) 
</p>
<p>with Ac expressed in cm2. llo = 4n &middot; 10-7 Him. The air gap length is given in meters. The value expressed 
in Eq. (14.17) is approximate, and neglects fringing flux and other nonidealities. </p>
<p/>
</div>
<div class="page"><p/>
<p>14.3 Multiple-Winding Magnetics Design via the K8 Method 545 
</p>
<p>Core manufacturers sell gapped cores. Rather than specifying the air gap length, the equivalent 
</p>
<p>quantity AL is used. AL is equal to the inductance, in mH, obtained with a winding of 1000 turns. When 
</p>
<p>AL is specified, it is the core manufacturer's responsibility to obtain the correct gap length. Equation 
</p>
<p>( 14.17) can be modified to yield the required Av as follows: 
</p>
<p>(mH/1000 turns) 
</p>
<p>where Ac is given in cm2, Lis given in Henries, and Bmax is given in Tesla. 
</p>
<p>3. Determine number of turns 
</p>
<p>4. Evaluate wire size 
</p>
<p>(14.18) 
</p>
<p>(14.19) 
</p>
<p>(14.20) 
</p>
<p>Select wire with bare copper area less than or equal to this value. An American Wire Gauge table is 
</p>
<p>included in Appendix D. 
</p>
<p>As a check, the winding resistance can be computed: 
</p>
<p>R = pn ~LT) (Q) (14.21) 
</p>
<p>14.3 MULTIPLE-WINDING MAGNETICS DESIGN VIA THE K8 METHOD 
</p>
<p>The K8 method can be extended to the case of multiple-winding magnetics, such as the transformers and 
coupled inductors described in Sections 13.5.3 to 13.5.5. The desired turns ratios, as well as the desired 
</p>
<p>winding voltage and current waveforms, are specified. In the case of a coupled inductor or fly back trans-
</p>
<p>former, the magnetizing inductance is also specified. It is desired to select a core size, number of turns 
</p>
<p>for each winding, and wire sizes. It is also assumed that the maximum flux density Bmax is given. 
</p>
<p>With the Kg method, a desired copper loss is attained. In the multiple-winding case, each wind-
</p>
<p>ing contributes some copper loss, and it is necessary to allocate the available window area among the 
</p>
<p>various windings. In Section 14.3.1 below, it is found that total copper loss is minimized if the window 
</p>
<p>area is divided between the windings according to their apparent powers. This result is employed in the 
</p>
<p>following sections, in which an optimized Kg method for coupled inductor design is developed. 
</p>
<p>14.3.1 Window Area Allocation 
</p>
<p>The first issue to settle in design of a multiple-winding magnetic device is the allocation of the window 
</p>
<p>area Aw among the various windings. It is desired to design a device having k windings with turns ratios 
</p>
<p>n1 : n2 : ... : nk. These windings must conduct rms currents / 1, !2, ... , Ik respectively. It should be noted that 
the windings are effectively in parallel: the winding voltages are ideally related by the turns ratios </p>
<p/>
</div>
<div class="page"><p/>
<p>546 Inductor Design 
</p>
<p>rms current 
</p>
<p>/I 
</p>
<p>II 
</p>
<p>: nk 
</p>
<p>rms current 
</p>
<p>/2 
</p>
<p>rms current 
</p>
<p>lk 
</p>
<p>Fig. 14.6 It is desired to optimally allocate the window area of a k-winding magnetic element to minimize low-
</p>
<p>frequency copper losses, with given rms winding currents and turns ratios. 
</p>
<p>(14.22) 
</p>
<p>However, the winding rms currents are determined by the loads, and in general are not related to the turns 
</p>
<p>ratios. The device is represented schematically in Fig. 14.6. 
</p>
<p>The relevant geometrical parameters are summarized in Fig. 14.7(a).lt is necessary to allocate a 
</p>
<p>portion of the total window area WA to each winding, as illustrated in Fig. 14.7(b). Let aj be the fraction 
</p>
<p>of the window area allocated to windingj, where 
</p>
<p>Fig. 14.7 Basic core topology, 
</p>
<p>including window area WA enclosed by 
</p>
<p>core (a). The window is allocated to 
</p>
<p>the various windings to minimize low-
</p>
<p>frequency copper loss (b). 
</p>
<p>O&lt;aj&lt;l 
</p>
<p>a 1 +a2 + &middot;&middot;&middot; +ak= 1 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>(14.23) 
</p>
<p>Window area WA 
</p>
<p>Core mean length 
per turn (MLT) 
</p>
<p>Wire resistivity p 
</p>
<p>Fill factor Ku 
</p>
<p>Total window 
area WA </p>
<p/>
</div>
<div class="page"><p/>
<p>14.3 Multiple-Winding Magnetics Design via the Kg Method 547 
</p>
<p>The low-frequency copper loss PcuJ in windingj depends on the de resistance Rj of windingj, as follows: 
</p>
<p>(14.24) 
</p>
<p>The resistance of winding j is 
</p>
<p>(14.25) 
</p>
<p>where pis the wire resistivity, ej is the length of the wire used for windingj, andAwJ is the cross-sectional 
area of the wire used for windingj. These quantities can be expressed as 
</p>
<p>(14.26) 
</p>
<p>(14.27) 
</p>
<p>where (MLT) is the winding mean-length-per-tum, and Ku is the winding fill factor. Substitution of these 
expressions into Eq. (14.25) leads to 
</p>
<p>(14.28) 
</p>
<p>The copper loss of windingj is therefore 
</p>
<p>n]iJP(MLT) 
pcu,j= W K a. 
</p>
<p>A u J 
</p>
<p>(14.29) 
</p>
<p>The total copper loss of the k windings is 
</p>
<p>p(MLT) k (n]IJ) 
Pcu,tot = Pcu,! + pcu,2 + &bull; &middot; &middot; + pcu,k = ---w-x- ~I ~ 
</p>
<p>A u J- J 
</p>
<p>(14.30) 
</p>
<p>It is desired to choose the ajs such that the total copper loss Pcu,tot is minimized. Let us consider what 
happens when we vary one of the as, say al' between 0 and 1. 
</p>
<p>When a 1 = 0, then we allocate zero area to winding 1. In consequence, the resistance of winding 
1 tends to infinity. The copper loss of winding 1 also tends to infinity. On the other hand, the other wind-
ings are given maximum area, and hence their copper losses can be reduced. Nonetheless, the total cop-
</p>
<p>per loss tends to infinity. 
</p>
<p>When a 1 = 1, then we allocate all of the window area to winding 1, and none to the other wind-
ings. Hence, the resistance of winding 1, as well as its low-frequency copper loss, are minimized. But the 
</p>
<p>copper losses of the remaining windings tend to infinity. 
</p>
<p>As illustrated in Fig. 14.8, there must be an optimum value of a 1 that lies between these two 
</p>
<p>extremes, where the total copper loss is minimized. Let us compute the optimum values of a" ~ .... , ak 
using the method of Lagrange multipliers. It is desired to minimize Eq. (14.30), subject to the constraint 
of Eq. (14.23). Hence, we define the function </p>
<p/>
</div>
<div class="page"><p/>
<p>548 Inductor Design 
</p>
<p>Copper 
loss 
</p>
<p>0 
</p>
<p>Fig. 14.8 Variation of copper losses with 0:1. 
</p>
<p>where 
</p>
<p>k 
</p>
<p>g(a 1, a 2, ... , ak) = 1- L aj 
j=l 
</p>
<p>(14.31) 
</p>
<p>(14.32) 
</p>
<p>is the constraint that must equal zero, and ~ is the Lagrange multiplier. The optimum point is the solution 
</p>
<p>of the system of equations 
</p>
<p>The solution is 
</p>
<p>df(al, Uz, ... , ak,~) 0 
da1 
</p>
<p>()j(al, a.z, ... , ak,~) 0 
da2 
</p>
<p>(14.33) 
</p>
<p>(14.34) 
</p>
<p>(14.35) 
</p>
<p>This is the optimal choice for the as, and the resulting minimum value of Pcu tor 
</p>
<p>According to Eq. (14.22), the winding voltages are proportional to 'the turns ratios. Hence, we 
</p>
<p>can express the ams in the alternate form </p>
<p/>
</div>
<div class="page"><p/>
<p>14.3 Multiple-Winding Magnetics Design via the Kg Method 549 
</p>
<p>by multiplying and dividing Eq. (14.35) by the quantity Vmlnm .It is irrelevant whether rms or peak volt-
</p>
<p>ages are used. Equation (14.36) is the desired result. It states that the window area should be allocated to 
</p>
<p>the various windings in proportion to their apparent powers. The numerator ofEq. (14.36) is the apparent 
</p>
<p>power of winding m, equal to the product of the rms current and the voltage. The denominator is the sum 
</p>
<p>of the apparent powers of all windings. 
</p>
<p>As an example, consider the PWM full-bridge transformer having a center-tapped secondary, as 
</p>
<p>illustrated in Fig. 14.9. This can be viewed as a three-winding transformer, having a single primary-side 
</p>
<p>winding of n1 turns, and two secondary-side windings, each of n2 turns. The winding current waveforms 
</p>
<p>i1(t), iit), and i3(t) are illustrated in Fig. 14.10. Their rms values are 
</p>
<p>_1_ rzT, ii(t)dt = nz I m 
2T, ] 0 n 1 
</p>
<p>1 12T, 
2T i~(t)dt = i Iv' 1 + D 
</p>
<p>s 0 
</p>
<p>Substitution of these expressions into Eq. (14.35) yields 
</p>
<p>a - 1 
1 -(1+)1tD} 
</p>
<p>If the design is to be optimized at the operating point D = 0.75, then one obtains 
</p>
<p>a 1 = 0.396 
</p>
<p>a 2 = 0.302 
</p>
<p>a 3 = 0.302 
</p>
<p>(14.37) 
</p>
<p>(14.38) 
</p>
<p>(14.39) 
</p>
<p>(14.40) 
</p>
<p>(14.41) 
</p>
<p>So approximately 40% of the window area should be allocated to the primary winding, and 30% should 
</p>
<p>n1 turns { 
</p>
<p>iit) 
</p>
<p>Fig. 14.9 PWM full-bridge transformer example. </p>
<p/>
</div>
<div class="page"><p/>
<p>550 Inductor Design 
</p>
<p>Fig. 14.10 Transformer waveforms, 
</p>
<p>PWM full-bridge converter example. 
</p>
<p>1 
</p>
<p>I 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0.5I 
</p>
<p>0.5I 
</p>
<p>0 
</p>
<p>0 
</p>
<p>0.5I r 
..--------'' 
</p>
<p>I 
</p>
<p>0.5I 
</p>
<p>0 DT, T, T, +DT, 2T8 t 
</p>
<p>be allocated to each half of the center-tapped secondary. The total copper loss at this optimal design point 
</p>
<p>is found from evaluation ofEq. (14.34): 
</p>
<p>p(MLT) ( 3 ) 2 
pcu,tot=wy- ~ n/i 
</p>
<p>A u J- I (14.42) 
</p>
<p>p(MLT)n 2 12 ( ) = WK 2 1+2D+2./D(l+D) 
A u 
</p>
<p>14.3.2 Coupled Inductor Design Constraints 
</p>
<p>Let us now consider how to design a k-winding coupled inductor, as discussed in Section 13.5.4 and 
</p>
<p>illustrated in Fig. 14.11. It is desired that the magnetizing inductance be a specified value LM, referred to 
</p>
<p>winding 1. It is also desired that the numbers of turns for the other windings be chosen according to 
</p>
<p>desired turns ratios. When the magnetizing current iM(t) reaches its maximum value IM max' the coupled 
</p>
<p>inductor should operate with a given maximum flux density Bmax&middot; With rms currents Ip f2, ... , Ik applied to 
the respective windings, the total copper loss should be a desired value Pcu given by Eq. (14.34). Hence, 
</p>
<p>the design procedure involves selecting the core size and number of primary turns so that the desired 
</p>
<p>magnetizing inductance, the desired flux density, and the desired total copper loss are achieved. Other 
</p>
<p>quantities, such as air gap length, secondary turns, and wire sizes, can then be selected. The derivation 
</p>
<p>follows the derivation for the single winding case (Section 14.1), and incorporates the window area opti-
</p>
<p>mization of Section 14.3.1. 
</p>
<p>The magnetizing current iM(t) can be expressed in terms of the winding currents i 1(t), iit), ... , 
</p>
<p>ik(t) by solution of Fig. 14.11(a) (or by use of Ampere's Law), as follows: 
</p>
<p>(14.43) 
</p>
<p>By solution of the magnetic circuit model of Fig. 14.11(b), we can write </p>
<p/>
</div>
<div class="page"><p/>
<p>14.3 Multiple-Winding Magnetics Design via the Kg Method 551 
</p>
<p>(a) n, nz (b) 
</p>
<p>iz(t) 
.'Jflc 
</p>
<p>R, Rz n1iM(t) ~ iYlg 
ik(t) 
</p>
<p>Fig. 14.11 A k-winding magnetic device, with specified turns ratios and waveforms: (a) electrical circuit model, 
</p>
<p>(b) a magnetic circuit model. 
</p>
<p>n 1 i M(t) == B(t)A c'ifl 8 (14.44) 
</p>
<p>This equation is analogous to Eq. (14.4), and assumes that the reluctance Plig of the air gap is much larger 
</p>
<p>than the reluctance PI( of the core. As usual, the total flux &lt;I&gt;(t) is equal to B(t)Ac. Leakage inductances 
are ignored. 
</p>
<p>To avoid saturation of the core, the instantaneous flux density B(t) must be less than the satura-
</p>
<p>tion flux density of the core material, Bsar Let us define IM max as the maximum value of the magnetizing 
</p>
<p>current iM(t). According to Eq. (14.44), this will lead to a ~aximum flux density Bmax given by 
</p>
<p>eg 
nllM,max==BmaxAc.iflg==Bmax llo 
</p>
<p>(14.45) 
</p>
<p>For a value of IM,max given by the circuit application, we should use Eq. (14.45) to choose the turns n1 and 
</p>
<p>gap length eg such that the maximum flux density Bmax is less than the saturation density Bmt' Equation 
(14.45) is similar to Eq. (14.6), but accounts for the magnetizations produced by multiple winding cur-
</p>
<p>rents. 
</p>
<p>The magnetizing inductance Lw referred to winding 1, is equal to 
</p>
<p>(14.46) 
</p>
<p>This equation is analogous to Eq. (14.7). 
</p>
<p>As shown in Section 14.3.1, the total copper loss is minimized when the core window area WA is 
</p>
<p>allocated to the various windings according to Eq. (14.35) or (14.36). The total copper loss is then given 
</p>
<p>by Eq. (14.34). Equation (14.34) can be expressed in the form 
</p>
<p>p(MLT)n~ !~or 
pcu == W K 
</p>
<p>A u 
</p>
<p>(14.47) </p>
<p/>
</div>
<div class="page"><p/>
<p>552 Inductor Design 
</p>
<p>where 
</p>
<p>(14.48) 
</p>
<p>is the sum of the rms winding currents, referred to winding 1. 
</p>
<p>We can now eliminate the unknown quantities eg and n1 from Eqs. (14.45), (14.46), and (14.47). 
Equation (14.47) then becomes 
</p>
<p>(14.49) 
</p>
<p>We can now rearrange this equation, by grouping terms that involve the core geometry on the left-hand 
</p>
<p>side, and specifications on the right-hand side: 
</p>
<p>A;wA _ pL~I;o,I~,max 
</p>
<p>(MLT)- s;,axKuPcu 
(14.50) 
</p>
<p>The left-hand side of the equation can be recognized as the same K8 term defined in Eq. (14.15). There-
</p>
<p>fore, to design a coupled inductor that meets the requirements of operating with a given maximum flux 
</p>
<p>density Bmax' given primary magnetizing inductance LM, and with a given total copper loss Pcu' we must 
</p>
<p>select a core that satisfies 
</p>
<p>(14.51) 
</p>
<p>Once such a core is found, then the winding 1 turns and gap length can be selected to satisfy Eqs. (14.45) 
</p>
<p>and (14.46). The turns of windings 2 through k are selected according to the desired turns ratios. The 
</p>
<p>window area is allocated among the windings according to Eq. (14.35), and the wire gauges are chosen 
</p>
<p>using Eq. (14.27). 
</p>
<p>The procedure above is applicable to design of coupled inductors. The results are applicable to 
</p>
<p>design of ftyback and SEPIC transformers as well, although it should be noted that the procedure does 
</p>
<p>not account for the effects of core or proximity loss. It also can be extended to design of other devices, 
</p>
<p>such as conventional transformers-doing so is left as a homework problem. 
</p>
<p>14.3.3 Design Procedure 
</p>
<p>The following quantities are specified, using the units noted: 
</p>
<p>Wire effective resistivity p (Q-cm) 
</p>
<p>Total rms winding currents, referred to winding l (A) 
</p>
<p>Peak magnetizing current, referred to winding 1 (A) 
</p>
<p>Desired turns ratios </p>
<p/>
</div>
<div class="page"><p/>
<p>14.3 Multiple-Winding Magnetics Design via the Kg Method 553 
</p>
<p>Magnetizing inductance, referred to winding 1 LM (H) 
</p>
<p>Allowed total copper loss pcu (W) 
</p>
<p>Winding fill factor Ku 
</p>
<p>Maximum operating flux density Bmax (T) 
</p>
<p>The core dimensions are expressed in em: 
</p>
<p>Core cross-sectional area Ac (cm2) 
</p>
<p>Core window area WA (cm2) 
</p>
<p>Mean length per turn MLT (em) 
</p>
<p>The use of centimeters rather than meters requires that appropriate factors be added to the design equa-
</p>
<p>tions. 
</p>
<p>1. Determine core size 
</p>
<p>(14.52) 
</p>
<p>Choose a core which is large enough to satisfy this inequality. Note the values of Ac, WA' and MLT for 
</p>
<p>this core. The resistivity p of copper wire is 1.724 &middot; w-6 Q-cm at room temperature, and 2.3 &middot; 10-6 Q-cm 
at IOO'C. 
</p>
<p>2. Determine air gap length 
</p>
<p>(m) (14.53) 
</p>
<p>Here, Bmax is expressed in Tesla, Ac is expressed in cm2, and egis expressed in meters. The permeability 
of free space is flo = 4n &middot; 1 o- 7 Him. This value is approximate, and neglects fringing flux and other non-
idealities. 
</p>
<p>3. Determine number of winding 1 turns 
</p>
<p>Here, Bmax is expressed in Tesla and Ac is expressed in cm2. 
</p>
<p>4. Determine number of secondary turns 
</p>
<p>Use the desired turns ratios: 
</p>
<p>(14.54) 
</p>
<p>(14.55) </p>
<p/>
</div>
<div class="page"><p/>
<p>554 Inductor Design 
</p>
<p>5. Evaluate fraction of window area allocated to each winding 
</p>
<p>(14.56) 
</p>
<p>6. Evaluate wire sizes 
</p>
<p>(14.57) 
</p>
<p>Select wire with bare copper area less than or equal to these values. An American Wire Gauge table is 
</p>
<p>included in Appendix D. 
</p>
<p>14.4 EXAMPLES 
</p>
<p>14.4.1 Coupled Inductor for a Two-Output Forward Converter 
</p>
<p>As a first example, let us consider the design of coupled inductors for the two-output forward converter 
</p>
<p>illustrated in Fig. 14.12. This element can be viewed as two filter inductors that are wound on the same 
</p>
<p>core. The turns ratio is chosen to be the same as the ratio of the output voltages. The magnetizing induc-
</p>
<p>tance performs the function of filtering the switching harmonics for both outputs, and the magnetizing 
</p>
<p>current is equal to the sum of the reflected winding currents. 
</p>
<p>At the nominal full-load operating point, the converter operates in the continuous conduction 
</p>
<p>mode with a duty cycle of D = 0.35. The switching frequency is 200kHz. At this operating point, it is 
desired that the ripple in the magnetizing current have a peak magnitude equal to 20% of the de compo-
</p>
<p>nent of magnetizing current. 
</p>
<p>The de component of the magnetizing current I M is 
</p>
<p>IM = !1 + n2 /2 
nl 
</p>
<p>= (4 A)+~~ (2 A) 
</p>
<p>=4.86A 
</p>
<p>The magnetizing current ripple lliM can be expressed as 
</p>
<p>(14.58) </p>
<p/>
</div>
<div class="page"><p/>
<p>(a) 
</p>
<p>+ 
</p>
<p>-1 
</p>
<p>(b) 
</p>
<p>14.4 Examples 555 
</p>
<p>f Output 1 
28V 
4A 
</p>
<p>+ 
Output 2 
</p>
<p>v2 12 V 
2A 
</p>
<p>Fig. 14.12 Two-output forward converter example: (a) circuit schematic, (b) coupled inductor model inserted into 
</p>
<p>converter secondary-side circuit, (c) magnetizing current and voltage waveforms of coupled inductor, referred to 
</p>
<p>winding 1. 
</p>
<p>(14.59) 
</p>
<p>Since we want D.iM to be equal to 20% of lw we should choose LM as follows: 
</p>
<p>L _ V1D'T, 
M- 2/'..iM 
</p>
<p>_ (28 V)(l- 0.35)(5 J.!S) (14.60) 
</p>
<p>- 2( 4.86 A)(20%) 
</p>
<p>=47 J.!H 
</p>
<p>The peak magnetizing current, referred to winding 1, is therefore 
</p>
<p>fM,max=/M +/'..iM =5.83 A (14.61) 
</p>
<p>Since the current ripples of the winding currents are small compared to the respective de components, the </p>
<p/>
</div>
<div class="page"><p/>
<p>556 Inductor Design 
</p>
<p>rms values of the winding currents are approximately equal to the de components: / 1 = 4 A, /2 = 2 A. 
Therefore, the sum of the rms winding currents, referred to winding 1, is 
</p>
<p>(14.62) 
</p>
<p>For this design, it is decided to allow 0.75 W of copper loss, and to operate the core at a maximum flux 
</p>
<p>density of 0.25 Tesla. A fill factor of 0.4 is assumed. The required Kg is found by evaluation of Eq. 
</p>
<p>(14.52), as follows: 
</p>
<p>K :2: (1.724 &middot; 10- 6 Q- cm)(47 J.1H) 2(4.86 A) 2(5.83 A) 2 108 
8 (0.25 T) 2(0.75 W)(0.4) (14.63) 
</p>
<p>= 16. 10- 3 cm5 
</p>
<p>A ferrite PQ 20116 core is selected, which has a Kg of 22.4 &middot;1 0 - 3 cm5. From Appendix D, the geometri-
</p>
<p>cal parameters for this core are: Ac = 0.62 cm2, WA = 0.256 cm2, and MLT = 4.4 em. 
</p>
<p>The air gap is found by evaluation ofEq. (14.53) as follows: 
</p>
<p>L !2 
&pound; = llo : M,max 104 
</p>
<p>g BmaxAc 
</p>
<p>= (4n &middot; 10-7Him)(47J.1H)(5.83 A) 2 104 
</p>
<p>(0.25 T) 2(0.62 cm 2) 
</p>
<p>=0.52mm 
</p>
<p>(14.64) 
</p>
<p>In practice, a slightly longer air gap would be necessary, to allow for the effects of fringing flux and other 
</p>
<p>nonidealities. The winding 1 turns are found by evaluation of Eq. ( 14.54 ): 
</p>
<p>L I 
nl = M M,max 104 
</p>
<p>BmaxAc 
</p>
<p>= (47 J.!H)(5.83 A) 104 
(0.25 T)(0.62 cm2) 
</p>
<p>= 17.6 turns 
</p>
<p>The winding 2 turns are chosen according to the desired turns ratio: 
</p>
<p>n2 = ( :~) n 1 
</p>
<p>= u~) (17.6) 
= 7.54 turns 
</p>
<p>(14.65) 
</p>
<p>(14.66) 
</p>
<p>The numbers of turns are rounded off to n1 = 17 turns, n2 = 7 turns (18:8 would be another possible 
choice). The window area WA is allocated to the windings according to the fractions from Eq. (14.56): 
</p>
<p>n 111 (17)(4A) 
a 1 = -- = = 0.8235 
</p>
<p>nlltot (17)(4.86A) 
</p>
<p>CXz = nzl 2 = (7)(2 A) = 0.1695 
n/101 (17)(4.86A) 
</p>
<p>(14.67) </p>
<p/>
</div>
<div class="page"><p/>
<p>14.4 Examples 557 
</p>
<p>The wire sizes can therefore be chosen as follows: 
</p>
<p>a 1 K u WA (0.8235)(0.4)(0.256 em2) _ 3 2 
Awl:S:---= =4.96&middot;10 em 
</p>
<p>n1 (17) 
</p>
<p>useAWG#21 
(14.68) 
</p>
<p>a 2 K.,WA (0.1695)(0.4)(0.256em2) _ 3 2 
Aw2 :S:---= =2.48 &middot;10 em 
</p>
<p>n2 (7) 
</p>
<p>useAWG#24 
</p>
<p>14.4.2 CCM Flyback Transformer 
</p>
<p>As a second example, let us design the flyback transformer for the converter illustrated in Fig. 14.13. 
</p>
<p>This converter operates with an input voltage of 200 V, and produces an full-load output of 20 V at SA. 
</p>
<p>The switching frequency is 150 kHz. Under these operating conditions, it is desired that the converter 
</p>
<p>operate in the continuous conduction mode, with a magnetizing current ripple equal to 20% of the de 
</p>
<p>component of magnetizing current. The duty cycle is chosen to beD= 0.4, and the turns ratio is n2/n 1 = 
</p>
<p>0.15. A copper loss of 1.5 W is allowed, not including proximity effect losses. To allow room for isola-
</p>
<p>tion between the primary and secondary windings, a fill factor of Ku = 0.3 is assumed. A maximum flux 
</p>
<p>density of Bmax = 0.25 Tis used; this value is less than the worst-case saturation flux density Bsat of the 
</p>
<p>ferrite core material. 
</p>
<p>By solution of the converter using capacitor charge balance, the de component of the magnetiz-
</p>
<p>ing current can be found to be 
</p>
<p>Hence, the magnetizing current ripple should be 
</p>
<p>and the maximum value of the magnetizing current is 
</p>
<p>To obtain this ripple, the magnetizing inductance should be 
</p>
<p>V8 DT, 
LM = 2!1iM 
</p>
<p>= 1.07 mH 
</p>
<p>The rms value of the primary winding current is found using Eq. (A.6) of Appendix A, as follows: 
</p>
<p>1 + 1 (!1iM) 2 = 0.796 A 
3 IM 
</p>
<p>(14.69) 
</p>
<p>(14.70) 
</p>
<p>(14.71) 
</p>
<p>(14.72) 
</p>
<p>(14.73) </p>
<p/>
</div>
<div class="page"><p/>
<p>558 Inductor Design 
</p>
<p>Fig. 14.13 Flyback transformer 
</p>
<p>design example: (a) converter sche-
</p>
<p>matic, (b) typical waveforms. 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Transformer model 
</p>
<p>c 
</p>
<p>+ 
</p>
<p>0 L-----------------------
il (t) 
</p>
<p>QL----.1-..--------L-+ 
</p>
<p>:~:: r---r::s-. 
,~l:;,-..____1 ___.F 
</p>
<p>The rms value of the secondary winding current is found in a similar manner: 
</p>
<p>i+l("'-iM)z =6.50A 
3 IM 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>(14.74) 
</p>
<p>Note that /2 is not simply equal to the turns ratio multiplied by / 1. The total rms winding current is equal 
</p>
<p>to: 
</p>
<p>(14.75) </p>
<p/>
</div>
<div class="page"><p/>
<p>14.4 Examples 559 
</p>
<p>We can now determine the necessary core size. Evaluation ofEq. (14.52) yields 
</p>
<p>(14.76) 
</p>
<p>= 0.049 em5 
</p>
<p>The smallest EE core listed in Appendix D that satisfies this inequality is the EE30, which has 
</p>
<p>Kg= 0.0857 cm5. The dimensions of this core are 
</p>
<p>Ac 1.09 em2 
</p>
<p>WA 0.476 em2 
</p>
<p>MLT 6.6em 
</p>
<p>em 5.77 em 
</p>
<p>The air gap length egis chosen according to Eq. (14.53): 
</p>
<p>=0.44mm 
</p>
<p>The number of winding 1 turns is chosen according to Eq. (14.54), as follows: 
</p>
<p>_ LMIM,max 104 
nl- BmaxAc 
</p>
<p>= ( 1.07 &middot; 10- 3 H)( 1.5 A) 104 
(0.25 T)( 1.09 em2) 
</p>
<p>= 58.7 turns 
</p>
<p>Since an integral number of turns is required, we round off this value to 
</p>
<p>To obtain the desired turns ratio, n2 should be chosen as follows: 
</p>
<p>We again round this value off, to 
</p>
<p>n 2 = (:~) nl 
= ( 0.15) 59 
</p>
<p>= 8.81 
</p>
<p>(14.77) 
</p>
<p>(14.78) 
</p>
<p>(14.79) 
</p>
<p>(14.80) 
</p>
<p>(14.81) </p>
<p/>
</div>
<div class="page"><p/>
<p>560 Inductor Design 
</p>
<p>(14.82) 
</p>
<p>The fractions of the window area allocated to windings 1 and 2 are selected in accordance with Eq. 
</p>
<p>(14.56): 
</p>
<p>[ 1 (0.796A) 
a 1 =-= =0.45 
</p>
<p>Ito, ( 1.77 A) 
n2 [ 2 (9)(6.5 A) 
</p>
<p>&lt;Xz=--= =055 
nJw, (59)(1.77 A) &middot; 
</p>
<p>The wire gauges should therefore be 
</p>
<p>Aw1 :,; a 1 ~uWA = 1.09 &middot; 10- 3 cm2 -use #28 AWG 
I 
</p>
<p>Aw2 :,; &lt;Xz~~WA = 8.88 &middot; 10- 3 cm2 -use#l9 AWG 
</p>
<p>(14.83) 
</p>
<p>(14.84) 
</p>
<p>The above American Wire Gauges are selected using the wire gauge table given at the end of Appendix 
</p>
<p>D. 
</p>
<p>The above design does not account for core loss or copper loss caused by the proximity effect. 
</p>
<p>Let us compute the core loss for this design. Figure Fig. 14.14 contains a sketch of the B-H loop for this 
</p>
<p>design. The flux density B(t) can be expressed as a de component (determined by the de value of the 
</p>
<p>magnetizing current I M ), plus an ac variation of peak amplitude /:;B that is determined by the current rip-
</p>
<p>ple b.iM. The maximum value of B(t) is labeled Bmax; this value is determined by the sum of the de com-
</p>
<p>ponent and the ac ripple component. The core material saturates when the applied B(t) exceeds B,a1; 
</p>
<p>hence, to avoid saturation, Bmax should be less than Bsat' The core loss is determined by the amplitude of 
</p>
<p>the ac variations in B(t), i.e., by /:;B. 
</p>
<p>The ac component /:;B is determined using Faraday's law, as follows. Solution of Faraday's law 
</p>
<p>for the derivative of B(t) leads to 
</p>
<p>(14.85) 
</p>
<p>As illustrated in Fig. 14.15, the voltage applied during the first subinterval is vM(t) = Vg. This causes the 
</p>
<p>Fig. 14.14 B-H loop for the flyback transformer design 
</p>
<p>example. 
</p>
<p>B(t) 
</p>
<p>Bmax 
</p>
<p>B-H loop, 
large excitation 
</p>
<p>HJt) </p>
<p/>
</div>
<div class="page"><p/>
<p>14.4 Examples 561 
</p>
<p>Fig. 14.15 Variation of flux density B(t), fiyback transformer 
</p>
<p>example. 0 L------r----------------+ 
</p>
<p>,~:r:;,-1'--- -----~~ 
flux density to increase with slope 
</p>
<p>(14.86) 
</p>
<p>Over the first subinterval 0 &lt; t &lt; DTs, the flux density B(t) changes by the net amount 2t'lB. This net 
change is equal to the slope given by Eq. (14.86), multiplied by the interval length DTs: 
</p>
<p>(14.87) 
</p>
<p>Upon solving for t'lB and expressing Ac in cm2 , we obtain 
</p>
<p>(14.88) 
</p>
<p>For the fly back transformer example, the peak ac flux density is found to be 
</p>
<p>(zoov)(o.4)(6.67 f.i.s) 4 
till= 10 
</p>
<p>2(59)( 1.09 cm2) (14.89) 
</p>
<p>=0.041 T 
</p>
<p>To determine the core loss, we next examine the data provided by the manufacturer for the given 
</p>
<p>core material. A typical plot of core loss is illustrated in Fig. 14.16. For the values of M and switching 
</p>
<p>frequency of the flyback transformer design, this plot indicates that 0.078 W will be lost in every cm3 of 
</p>
<p>the core material. Of course, this value neglects the effects of harmonics on core loss. The total core loss 
</p>
<p>P1e will therefore be equal to this loss density, multiplied by the volume of the core: 
</p>
<p>Pfe = ( 0.078 W/cm3 )(Ace..) 
=(oms W/cm3 )( 1.09 cm2)(5.77 em) 
</p>
<p>=0.49W 
</p>
<p>(14.90) 
</p>
<p>This core loss is somewhat less than the copper loss of 1.5 W, and neglecting the core loss is often war-
</p>
<p>ranted in designs that operate in the continuous conduction mode and that employ ferrite core materials. </p>
<p/>
</div>
<div class="page"><p/>
<p>562 Inductor Design 
</p>
<p>Fig. 14.16 Determination of core loss density for the 
</p>
<p>fly back transformer design example. 0.1 
</p>
<p>14.5 SUMMARY OF KEY POINTS 
</p>
<p>0.04-
W/cm3 
</p>
<p>0.01 
0.01 
</p>
<p>.;; 
</p>
<p>0&gt;2. 
</p>
<p>""I 
</p>
<p>I 
1/ 
</p>
<p>I 
I 
</p>
<p>I 
1/ 
</p>
<p>I I 
</p>
<p>I 
f.;:j /$11 
</p>
<p>( ~ l:d:i 
</p>
<p>'J /~I 
</p>
<p>1/ I f&amp; I! 
I I ~~~ 
</p>
<p>I 
l I 
</p>
<p>I I 
,: I 
</p>
<p>1/ : / I 
</p>
<p>v I 
0.1 0.3 
</p>
<p>0.041 !lll, Tesla 
</p>
<p>1. A variety of magnetic devices are commonly used in switching converters. These devices differ in their 
</p>
<p>core flux density variations, as well as in the magnitudes of the ac winding currents. When the flux density 
</p>
<p>variations are small, core loss can be neglected. Alternatively, a low-frequency material can be used, hav-
</p>
<p>ing higher saturation flux density. 
</p>
<p>2. The core geometrical constant K8 is a measure of the magnetic size of a core, for applications in which 
</p>
<p>copper loss is dominant. In the K8 design method, flux density and total copper loss are specified. Design 
</p>
<p>procedures for single-winding filter inductors and for conventional multiple-winding transformers are 
</p>
<p>derived. 
</p>
<p>REFERENCES 
</p>
<p>[1) C. W. T. McLYMAN, Transformer and Inductor Design Handbook, Second edition, New York: Marcel 
</p>
<p>Dekker, 1988. 
</p>
<p>[2) S. CUK, "Basics of Switched-Mode Power Conversion: Topologies, Magnetics, and Control," in Advances 
</p>
<p>in Switched-Mode Power Conversion, Vol. 2, Irvine: Teslaco, pp. 292-305, 1983. 
</p>
<p>[3) T. G. WILSON JR., T. G. WILSON, and H. A. OWEN, "Coupling of Magnetic Design Choices to DC-to-DC 
</p>
<p>Converter Electrical Performance," IEEE Applied Power Electronics Conference, 1994 Record, pp. 340-
</p>
<p>347. 
</p>
<p>[4) S. CUK and R. D. MIDDLEBROOK, "Coupled-Inductor and Other Extensions of a New Optimum Topology 
</p>
<p>Switching DC-to-DC Converter," IEEE Industry Applications Society Annual Meeting, 1977 Proceedings, 
</p>
<p>pp. 1110-1122. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 563 
</p>
<p>[5] S. CUK and Z. ZHANG, "Coupled-Inductor Analysis and Design," IEEE Power Electronics Specialists 
</p>
<p>Conference, 1986 Record, pp. 655-665. 
</p>
<p>[6] E. HNATEK, Design of Solid-State Power Supplies, Second edition, New York: Van Nostrand Reinhold, 
</p>
<p>1981, Chapter 4. 
</p>
<p>PROBLEMS 
</p>
<p>14.1 A simple buck converter operates with a 50 kHz switching frequency and a de input voltage of V8 = 40 V. 
</p>
<p>The output voltage is V = 20 V. The load resistance is R ;:&gt;: 4 Q. 
</p>
<p>(a) Determine the value of the output filter inductance L such that the peak-to-average inductor cur-
</p>
<p>rent ripple !:li is 10% of the de component /. 
</p>
<p>(b) Determine the peak steady-state inductor current /max' 
</p>
<p>(c) Design an inductor which has the values of Land /max from parts (a) and (b). Use a ferrite EE 
</p>
<p>core, with Bmax = 0.25 T. Choose a value of winding resistance such that the inductor copper loss 
</p>
<p>is less than or equal to 1 W at room temperature. Assume K. = 0.5. Specify: core size, gap 
</p>
<p>length, wire size (AWG), and number of turns. 
</p>
<p>14.2 A boost converter operates at the following quiescent point: V8 = 28 V, V = 48 V, P1oad = 150 W, 
fs = 100 kHz. Design the inductor for this converter. Choose the inductance value such that the peak cur-
rent ripple is 10% of the de inductor current. Use a peak flux density of 0.225 T, and assume a fill factor 
</p>
<p>of 0.5. Allow copper loss equal to 0.5% of the load power, at room temperature. Use a ferrite PQ core. 
</p>
<p>Specify: core size, air gap length, wire gauge, and number of turns. 
</p>
<p>14.3 Extension of the K8 approach to design of two-winding transformers. It is desired to design a trans-
</p>
<p>former having a turns ratio of 1 :n. The transformer stores negligible energy, no air gap is required, and 
</p>
<p>the ratio of the winding currents i2(t)/i1 (t) is essentially equal to the turns ratio n. The applied primary 
</p>
<p>volt-seconds A.1 are defined for a typical PWM voltage waveform v1(t) in Fig. 13.45(b); these volt-sec-
</p>
<p>onds should cause the maximum flux density to be equal to a specified value Bmax = !:ill. You may 
</p>
<p>assume that the flux density B(t) contains no de bias, as in Fig. 13.46. You should allocate half of the 
</p>
<p>core window area to each winding. The total copper loss P cu is also specified. You may neglect proximity 
</p>
<p>losses. 
</p>
<p>(a) Derive a transformer design procedure, in which the following quantities are specified: total cop-
</p>
<p>per loss P cu' maximum flux density Bmax' fill factor K., wire resistivity p, rms primary current / 1, 
</p>
<p>applied primary volt-seconds Ap and turns ratio 1:n. Your procedure should yield the following 
data: required core geometrical constant K8 , primary and secondary turns n1 and n2, and primary 
</p>
<p>and secondary wire areas Awl andAw2&bull; 
</p>
<p>(b) The voltage waveform applied to the transformer primary winding of the Cuk converter [Fig. 
</p>
<p>6.41(c)] is equal to the converter input voltage V8 while the transistor conducts, and is equal to 
</p>
<p>- vpt(1- D) while the diode conducts. This converter operates with a switching frequency of 
</p>
<p>100kHz, and a transistor duty cycleD equal to 0.4. The de input voltage is V8 = 120 V, the de 
</p>
<p>output voltage is V = 24 V, and the load power is 200 W. You may assume a fill factor of K. = 0.3. 
</p>
<p>Use your procedure of part (a) to design a transformer for this application, in which 
</p>
<p>B,= = 0.15 T, and Pcu = 0.25 W at lOOOC. Use a ferrite PQ core. Specify: core size, primary and 
</p>
<p>secondary turns, and wire gauges. 
</p>
<p>14.4 Coupled inductor design. The two-output forward converter of Fig. 13.47(a) employs secondary-side 
</p>
<p>coupled inductors. An air gap is employed. 
</p>
<p>Design a coupled inductor for the following application: V1 = 5 V, V2 = 15 V, / 1 = 20 A, 12 = 4 A, 
D = 0.4. The magnetizing inductance should be equal to 8 /LH, referred to the 5 V winding. You may 
</p>
<p>assume a fill factor K. of 0.5. Allow a total of 1 W of copper loss at 100&deg;C, and use a peak flux density of </p>
<p/>
</div>
<div class="page"><p/>
<p>564 Inductor Design 
</p>
<p>Bmax = 0.2 T. Use a ferrite EE core. Specify: core size, air gap length, number of turns and wire gauge for 
</p>
<p>each winding. 
</p>
<p>14.5 Flyback transformer design. A flyback converter operates with a 160 Vdc input, and produces a 28 Vdc 
</p>
<p>output. The maximum load current is 2 A. The transfomer turns ratio is 8:1. The switching frequency is 
</p>
<p>100 kHz. The converter should be designed to operate in the discontinuous conduction mode at all load 
</p>
<p>currents. The total copper loss should be less than 0.75 W. 
</p>
<p>(a) Choose the value of transformer magnetizing inductance LM such that, at maximum load current, 
</p>
<p>D3 = 0.1 (the duty cycle of subinterval 3, in which all semiconductors are off). Please indicate 
whether your value of LM is referred to the primary or secondary winding. What is the peak tran-
</p>
<p>sistor current? The peak diode current? 
</p>
<p>(b) Design a flyback transformer for this application. Use a ferrite pot core with Bmax = 0.25 Tesla, 
and with fill factor Ku = 0.4. Specify: core size, primary and secondary turns and wire sizes, and 
air gap length. 
</p>
<p>(c) For your design of part (b), compute the copper losses in the primary and secondary windings. 
</p>
<p>You may neglect proximity loss. 
</p>
<p>(d) For your design of part (b), compute the core loss. Loss data for the core material is given by 
</p>
<p>Fig. 13.20. Is the core loss less than the copper loss computed in Part (c)? </p>
<p/>
</div>
<div class="page"><p/>
<p>15 
Transformer Design 
</p>
<p>In the design methods of the previous chapter, copper loss Pcu and maximum flux density Bmax are speci-
</p>
<p>fied, while core loss Pfe is not specifically addressed. This approach is appropriate for a number of appli-
</p>
<p>cations, such as the filter inductor in which the dominant design constraints are copper loss and 
</p>
<p>saturation flux density. However, in a substantial class of applications, the operating flux density is lim-
</p>
<p>ited by core loss rather than saturation. For example, in a conventional high-frequency transformer, it is 
</p>
<p>usually necessary to limit the core loss by operating at a reduced value of the peak ac flux density M. 
</p>
<p>This chapter covers the general transformer design problem. It is desired to design a k-winding 
</p>
<p>transformer as illustrated in Fig. 15.1. Both copper loss Pcu and core loss Pfe are modeled. As the operat-
</p>
<p>ing flux density is increased (by decreasing the number of turns), the copper loss is decreased but the 
</p>
<p>core loss is increased. We will determine the operating flux density that minimizes the total power loss 
</p>
<p>ptot = pfe + pcu&middot; 
It is possible to generalize the core geometrical constant Kg design method, derived in the previ-
</p>
<p>ous chapter, to treat the design of magnetic devices when both copper loss and core loss are significant. 
</p>
<p>This leads to the geometrical constant Kgfe' a measure of the effective magnetic size of core in a trans-
</p>
<p>former design application. Several examples of transformer designs via the Kgfe method are given in this 
</p>
<p>chapter. A similar procedure is also derived, for design of single-winding inductors in which core loss is 
</p>
<p>significant. 
</p>
<p>15.1 TRANSFORMER DESIGN: BASIC CONSTRAINTS 
</p>
<p>As in the case of the filter inductor design, we can write several basic constraining equations. These 
</p>
<p>equations can then be combined into a single equation for selection of the core size. In the case of trans-
</p>
<p>former design, the basic constraints describe the core loss, flux density, copper loss, and total power loss </p>
<p/>
</div>
<div class="page"><p/>
<p>566 Transformer Design 
</p>
<p>nl n2 
</p>
<p>il (t) 
+ i2(t) 
</p>
<p>v1(t) 
</p>
<p>Rl R2 
</p>
<p>+ ik(t) 
</p>
<p>vk(t) 
</p>
<p>: nk Rk 
</p>
<p>Fig. 15.1 A k-winding transformer, in which both core loss and copper loss are significant. 
</p>
<p>vs. flux density. The flux density is then chosen to optimize the total power loss. 
</p>
<p>15.1.1 Core Loss 
</p>
<p>As described in Chapter 13, the total core loss P1e depends on the peak ac flux density till, the operating 
</p>
<p>frequency f, and the volume of the core. At a given frequency, we can approximate the core loss by a 
function of the form 
</p>
<p>(15.1) 
</p>
<p>Again, Ac is the core cross-sectional area, em is the core mean magnetic path length, and hence A cern is the 
</p>
<p>volume of the core. K1e is a constant of proportionality which depends on the operating frequency. The 
</p>
<p>exponent 13 is determined from the core manufacturer's published data. Typically, the value of 13 for fer-
rite power materials is approximately 2.6; for other core materials, this exponent lies in the range 2 to 3. 
</p>
<p>Equation (15.1) generally assumes that the applied waveforms are sinusoidal; effects of waveform har-
</p>
<p>monic content are ignored here. 
</p>
<p>15.1.2 Flux Density 
</p>
<p>An arbitrary periodic primary voltage waveform v1(t) is illustrated in Fig. 15.2. The volt-seconds applied 
</p>
<p>during the positive portion of the waveform is denoted A. 1: 
</p>
<p>(15.2) 
</p>
<p>These volt-seconds, or flux-linkages, cause the flux density to change from its negative peak to its posi-
</p>
<p>tive peak value. Hence, from Faraday's law, the peak value of the ac component of the flux density is </p>
<p/>
</div>
<div class="page"><p/>
<p>15.1 Transformer Design: Basic Constraints 567 
</p>
<p>Fig. 15.2 An arbitrary transformer primary voltage waveforms, illustrating the volt-seconds applied during the 
</p>
<p>positive portion of the cycle. 
</p>
<p>(15.3) 
</p>
<p>Note that, for a given applied voltage waveform and A.1, we can reduce !:ill by increasing the primary 
turns n1&bull; This has the effect of decreasing the core loss according to Eq. (15.1). However, it also causes 
</p>
<p>the copper loss to increase, since the new windings will be comprised of more turns of smaller wire. As a 
</p>
<p>result, there is an optimal choice for !:ill, in which the total loss is minimized. In the next sections, we 
</p>
<p>will determine the optimal !:ill. Having done so, we can then use Eq. (15.3) to determine the primary 
</p>
<p>turns nl' as follows: 
</p>
<p>A. 
n ---'-
'- 2f'illAc 
</p>
<p>(15.4) 
</p>
<p>It should also be noted that, in some converter topologies such as the forward converter with conven-
</p>
<p>tional reset winding, the flux density B(t) and the magnetizing current iM(t) are not allowed to be nega-
</p>
<p>tive. In consequence, the instantaneous flux density B(t) contains a de bias. Provided that the core does 
</p>
<p>not approach saturation, this de bias does not significantly affect the core loss: core loss is determined by 
</p>
<p>the ac component of B(t). Equations (15.2) to (15.4) continue to apply to this case, since !:ill is the peak 
value of the ac component of B(t). 
</p>
<p>15.1.3 Copper Loss 
</p>
<p>As shown in Section 14.3.1, the total copper loss is minimized when the core window area WA is allo-
</p>
<p>cated to the various windings according to their relative apparent powers. The total copper loss is then 
</p>
<p>given by Eq. (14.34). This equation can be expressed in the form 
</p>
<p>(15.5) 
</p>
<p>where </p>
<p/>
</div>
<div class="page"><p/>
<p>568 Transformer Design 
</p>
<p>(15.6) 
</p>
<p>is the sum of the rms winding currents, referred to winding 1. Use ofEq. (15.4) to eliminate n1 from Eq. 
</p>
<p>(15.5) leads to 
</p>
<p>(15.7) 
</p>
<p>The right-hand side of Eq. (15.7) is grouped into three terms. The first group contains specifications, 
</p>
<p>while the second group is a function of the core geometry. The last term is a function of till, to be chosen 
</p>
<p>to optimize the design. It can be seen that copper loss varies as the inverse square of till; increasing till 
</p>
<p>reduces Pcu&middot; 
The increased copper loss due to the proximity effect is not explicitly accounted for in this 
</p>
<p>design procedure. In practice, the proximity loss must be estimated after the core and winding geome-
</p>
<p>tries are known. However, the increased ac resistance due to proximity loss can be accounted for in the 
</p>
<p>design procedure. The effective value of the wire resistivity p is increased by a factor equal to the esti-
</p>
<p>mated ratio R0 JRdc&middot; When the core geometry is known, the engineer can attempt to implement the wind-
</p>
<p>ings such that the estimated R0 JRdc is obtained. Several design iterations may be needed. 
</p>
<p>15.1.4 Total power loss vs. till 
</p>
<p>The total power loss P101 is found by adding Eqs. (15.1) and (15.7): 
</p>
<p>The dependence of Pfe' Pcu' and P101 on till is sketched in Fig. 15.3. 
</p>
<p>Power 
loss 
</p>
<p>Optimum till 
</p>
<p>Fig. 15.3 Dependence of copper loss, core loss, and total loss on peak ac flux density. 
</p>
<p>(15.8) </p>
<p/>
</div>
<div class="page"><p/>
<p>15.1 Transformer Design: Basic Constraints 569 
</p>
<p>15.1.5 Optimum Flux Density 
</p>
<p>Let us now choose the value of till that minimizes Eq. (15.8). At the optimum till, we can write 
</p>
<p>(15.9) 
</p>
<p>Note that the optimum does not necessarily occur where Pfe = Pcu&middot; Rather, it occurs where 
</p>
<p>(15.10) 
</p>
<p>The derivatives of the core and copper losses with respect to till are given by 
</p>
<p>(15.11) 
</p>
<p>(15.12) 
</p>
<p>Substitution of Eqs. (15.11) and (15.12) into Eq. (15.10), and solution for till, leads to the optimum flux 
</p>
<p>density 
</p>
<p>(15.13) 
</p>
<p>The resulting total power loss is found by substitution ofEq. (15.13) into (15.1), (15.8), and (15.9). Sim-
</p>
<p>plification of the resulting expression leads to 
</p>
<p>p =[A e K j(~~ 2 ) rp/..fiiot (MLT)j(~~ 2 ) [(J!.)-(wh) (J!.)(~~2)) 
tot c m fe 4K W A 2 2 + 2 
</p>
<p>u A c 
</p>
<p>(15.14) 
</p>
<p>This expression can be regrouped, as follows: 
</p>
<p>( 15.15) 
</p>
<p>The terms on the left side of Eq. (15.15) depend on the core geometry, while the terms on the right side 
</p>
<p>depend on specifications regarding the application (p, !tot' A." Ku, Ptat) and the desired core material 
(Kfe' ~).The left side of Eq. (15.15) can be defined as the core geometrical constant Kgfe: </p>
<p/>
</div>
<div class="page"><p/>
<p>570 Transformer Design 
</p>
<p>(15.16) 
</p>
<p>Hence, to design a transformer, the right side of Eq. (15.15) is evaluated. A core is selected whose Kgfe 
</p>
<p>exceeds this value: 
</p>
<p>(15.17) 
</p>
<p>The quantity Kgfe is similar to the geometrical constant Kg used in the previous chapter to design magnet-
</p>
<p>ics when core loss is negligible. Kgfe is a measure of the magnetic size of a core, for applications in which 
</p>
<p>core loss is significant. Unfortunately, Kgfe depends on p, and hence the choice of core material affects 
the value of Kgte&middot; However, the P of most high-frequency ferrite materials lies in the narrow range 2.6 to 
2.8, and Kgfe varies by no more than &plusmn; 5% over this range. Appendix D lists the values of Kgfe for various 
</p>
<p>standard ferrite cores, for the value P = 2.7. 
Once a core has been selected, then the values of Ac, WA, em, and MLT are known. The peak ac 
</p>
<p>flux density till can then be evaluated using Eq. (15.13), and the primary turns n1 can be found using Eq. 
</p>
<p>(15.4). The number of turns for the remaining windings can be computed using the desired turns ratios. 
</p>
<p>The various window area allocations are found using Eq. (14.35). The wire sizes for the various windings 
</p>
<p>can then be computed as discussed in the previous chapter, 
</p>
<p>(15.18) 
</p>
<p>where Aw,j is the wire area for winding j. 
</p>
<p>15.2 A STEP-BY-STEP TRANSFORMER DESIGN PROCEDURE 
</p>
<p>The procedure developed in the previous sections is summarized below. As in the filter inductor design 
</p>
<p>procedure of the previous chapter, this simple transformer design procedure should be regarded as a first-
</p>
<p>pass approach. Numerous issues have been neglected, including detailed insulation requirements, con-
</p>
<p>ductor eddy current losses, temperature rise, roundoff of number of turns, etc. 
</p>
<p>The following quantities are specified, using the units noted: 
</p>
<p>Wire effective resistivity 
</p>
<p>Total rms winding currents, referred to primary 
</p>
<p>Desired turns ratios 
</p>
<p>Applied primary volt-seconds 
</p>
<p>p 
</p>
<p>A. 1 = J v1(t)dt 
positive 
portion 
</p>
<p>of cycle 
</p>
<p>(Q-cm) 
</p>
<p>(A) 
</p>
<p>(V-sec) </p>
<p/>
</div>
<div class="page"><p/>
<p>Allowed total power dissipation 
</p>
<p>Winding fill factor 
</p>
<p>Core loss exponent 
</p>
<p>Core loss coefficient 
</p>
<p>15.2 A Step-By-Step Transformer Design Procedure 571 
</p>
<p>(W) 
</p>
<p>The core dimensions are expressed in em: 
</p>
<p>Core cross-sectional area 
</p>
<p>Core window area 
</p>
<p>Mean length per turn 
</p>
<p>Magnetic path length 
</p>
<p>Peak ac flux density 
</p>
<p>Wire areas 
</p>
<p>11B 
</p>
<p>(cm2) 
</p>
<p>(cm2) 
</p>
<p>(em) 
</p>
<p>(em) 
</p>
<p>(Tesla) 
</p>
<p>(cm2) 
</p>
<p>The use of centimeters rather than meters requires that appropriate factors be added to the design equa-
</p>
<p>tions. 
</p>
<p>15.2.1 Procedure 
</p>
<p>1. Detennine core size. 
</p>
<p>(15.19) 
</p>
<p>Choose a core that is large enough to satisfy this inequality. If necessary, it may be possible to use a 
</p>
<p>smaller core by choosing a core material having lower loss, i.e., smaller Kfe&middot; 
</p>
<p>2. Evaluate peak ac flux density. 
</p>
<p>(15.20) 
</p>
<p>Check whether till is greater than the core material saturation flux density. If the core operates with a flux 
</p>
<p>de bias, then the de bias plus till should not exceed the saturation flux density. Proceed to the next step if 
</p>
<p>adequate margins exist to prevent saturation. Otherwise, (1) repeat the procedure using a core material 
</p>
<p>having greater core loss, or (2) use the K8 design method, in which the maximum flux density is speci-
</p>
<p>fied. 
</p>
<p>3. Evaluate primary turns. 
</p>
<p>n __ A_!_ 104 
1 - 2MAc 
</p>
<p>(15.21) </p>
<p/>
</div>
<div class="page"><p/>
<p>572 Transformer Design 
</p>
<p>4. Choose numbers of turns for other windings 
</p>
<p>According to the desired turns ratios: 
</p>
<p>n 2 = n1 ( ~~) 
</p>
<p>n3 = n1 ( ~:) 
</p>
<p>5. Evaluate fraction of window area allocated to each winding. 
</p>
<p>6. Evaluate wire sizes. 
</p>
<p>Choose wire gauges to satisfy these criteria 
</p>
<p>(15.22) 
</p>
<p>(15.23) 
</p>
<p>(15.24) 
</p>
<p>A winding geometry can now be determined, and copper losses due to the proximity effect can 
</p>
<p>be evaluated. If these losses are significant, it may be desirable to further optimize the design by reiterat-
</p>
<p>ing the above steps, accounting for proximity losses by increasing the effective wire resistivity to the 
</p>
<p>value Pelf= PcuPcJPdc&bull; where Pcu is the actual copper loss including proximity effects, and Pdc is the 
</p>
<p>copper loss obtained when the proximity effect is negligible. 
</p>
<p>If desired, the power losses and transformer model parameters can now be checked. For the 
</p>
<p>simple model of Fig. 15.4, the following parameters are estimated: 
</p>
<p>Magnetizing inductance, referred to winding 1: 
</p>
<p>Peak ac magnetizing current, referred to winding 1: </p>
<p/>
</div>
<div class="page"><p/>
<p>15.3 Examples 573 
</p>
<p>Fig. 15.4 Computed elements of simple transformer model. 
</p>
<p>Winding resistances: 
</p>
<p>The core loss, copper loss, and total power loss can be determined using Eqs. (15.1), (15.7), and (15.8), 
</p>
<p>respectively. 
</p>
<p>15.3 EXAMPLES 
</p>
<p>15.3.1 Example 1: Single-Output Isolated Cuk Converter 
</p>
<p>As an example, let us consider the design of a simple two-winding transformer for the Cuk converter of 
</p>
<p>Fig. 15.5. This transformer is to be optimized at the operating point shown, corresponding to D = 0.5. 
</p>
<p>The steady-state converter solution is Vel = V8 , Vc2 = V. The desired transformer turns ratio is 
</p>
<p>- vcit) + 
</p>
<p>n: I 
</p>
<p>Fig. 15.5 Isolated Cuk converter example. 
</p>
<p>I 
20A 
</p>
<p>+ 
</p>
<p>v 
5V </p>
<p/>
</div>
<div class="page"><p/>
<p>574 Transformer Design 
</p>
<p>Vc, _....Area 1..1 
</p>
<p>.,/ 
-D'T, 
</p>
<p>--vr. - -nVa 
</p>
<p>Fig. 15.6 Waveforms, Cuk converter 
i1(t) 
</p>
<p>/In 
transformer design example. 
</p>
<p>-lg 
</p>
<p>i2(1) 
I 
</p>
<p>n = n/n2 = 5. The switching frequency is f. = 200 kHz, corresponding to Ts = 5 /lS. A ferrite pot core 
consisting of Magnetics, Inc. P-material is to be used; at 200 kHz, this material is described by the fol-
</p>
<p>lowing parameters: Kfe = 24.7 Wff~cm 3 , ~ = 2.6. A fill factor of Ku = 0.5 is assumed. Total power loss of 
</p>
<p>P101 = 0.25 W is allowed. Copper wire, having a resistivity of p = 1.724 &middot; 10-6 Q--cm, is to be used. 
Transformer waveforms are illustrated in Fig. 15.6. The applied primary volt-seconds are 
</p>
<p>The primary rms current is 
</p>
<p>A I = DT, vel = (0.5)(5 J.lSec) (25 V) 
= 62.5 V-J.lsec 
</p>
<p>(15.25) 
</p>
<p>(15.26) 
</p>
<p>It is assumed that the rms magnetizing current is much smaller than the rms winding currents. Since the 
transformer contains only two windings, the secondary rms current is equal to 
</p>
<p>(15.27) 
</p>
<p>The total rms winding current, referred to the primary, is 
</p>
<p>(15.28) 
</p>
<p>The core size is evaluated using Eq. (15.19): 
</p>
<p>K &gt; (1.724&middot;10- 6)(62.5-10- 6) 2(8)2(24.7)(2126) 10s 
</p>
<p>gfe - 4 (0.5)(0.25)(4 612 6) (15.29) 
</p>
<p>= 0.00295 </p>
<p/>
</div>
<div class="page"><p/>
<p>15.3 Examples 575 
</p>
<p>The pot core data of Appendix D lists the 2213 pot core with Kgf'e = 0.0049 for~= 2.7. Evaluation ofEq. 
</p>
<p>(15.16) shows that Kgfe = 0.0047 for this core, when ~ = 2.6. In any event, 2213 is the smallest standard 
</p>
<p>pot core size having Kgfe::; 0.00295. The increased value of Kgfe should lead to lower total power loss. 
</p>
<p>The peak ac flux density is found by evaluation of Eq. (15.20), using the geometrical data for the 2213 
</p>
<p>pot core: 
</p>
<p>(114.6) 
</p>
<p>M3 = 108 (1.724&middot;10- 6)(62.5&middot;10- 6)\8) 2 (4.42) 1 
2 (0.5) (0.297)(0.635)\3.15) (2.6)(24.7) (15.30) 
</p>
<p>= 0.0858 Tesla 
</p>
<p>This flux density is considerably less than the saturation flux density of approximately 0.35 Testa. The 
</p>
<p>primary turns are determined by evaluation of Eq. (15.21): 
</p>
<p>4 (62.5&middot;10- 6 ) 
n 1 = 10 2(0.0858)(0.635) 
</p>
<p>= 5.74 turns 
</p>
<p>(15.31) 
</p>
<p>The secondary turns are found by evaluation of Eq. (15.22). It is desired that the transformer have a 5:1 
</p>
<p>turns ratio, and hence 
</p>
<p>ni 
n2 = n = 1.15 turns 
</p>
<p>(15.32) 
</p>
<p>In practice, we might select n1 = 5 and n2 = 1. This would lead to a slightly higher M and slightly higher 
</p>
<p>loss. 
</p>
<p>The fraction of the window area allocated to windings 1 and 2 are determined using Eq. (15.23): 
</p>
<p>(15.33) 
</p>
<p>For this example, the window area is divided equally between the primary and secondary windings, since 
</p>
<p>the ratio of their rms currents is equal to the turns ratio. We can now evaluate the primary and secondary 
</p>
<p>wire areas, via Eq. (15.24): 
</p>
<p>(0.5)(0.5)(0.297) -3 2 
Awl= (5) = 14.8&middot;10 em 
</p>
<p>(15.34) 
_ (0.5)(0.5)(0.297) _ 2. 0_ 3 2 
</p>
<p>Aw2 - ( 1) -74. 1 em 
</p>
<p>The wire gauge is selected using the wire table of Appendix D. AWG #16 has area 13.07 &middot;10-3 cm2, and 
</p>
<p>is suitable for the primary winding. AWG #9 is suitable for the secondary winding, with area 
</p>
<p>66.3 &middot;10-3 cm2. These are very large conductors, and one turn of AWG #9 is not a practical solution! We 
</p>
<p>can also expect significant proximity losses, and significant leakage inductance. In practice, interleaved 
</p>
<p>foil windings might be used. Alternatively, Litz wire or several parallel strands of smaller wire could be 
</p>
<p>employed. </p>
<p/>
</div>
<div class="page"><p/>
<p>576 Transformer Design 
</p>
<p>4226 
</p>
<p>. / &middot;~ 0.1 
~ 26 1~&middot; 0.08 _g; &middot;~ 2616 ..., 
~ 2213 &bull; 
</p>
<p>0.06 ol 8 "' 
~ 
</p>
<p>~ 
</p>
<p>0.04 
</p>
<p>0.02 
</p>
<p>0 
</p>
<p>25kHz 50 kHz 100kHz 200kHz 250kHz 400kHz 500kHz 1000kHz 
</p>
<p>Switching frequency 
</p>
<p>Fig. 15.7 Variation of transformer size (bar chart) with switching frequency, Cuk converter example. Optimum 
</p>
<p>peak ac flux density (data points) is also plotted. 
</p>
<p>It is a worthwhile exercise to repeat the above design at several different switching frequencies, 
</p>
<p>to determine how transformer size varies with switching frequency. As the switching frequency is 
</p>
<p>increased, the core loss coefficient Kfe increases. Figure 15.7 illustrates th~ transformer pot core size, for 
</p>
<p>various switching frequencies over the range 25 kHz to 1 MHz, for this Cuk converter example using P 
</p>
<p>material with P101 &lt; 0.25 W. Peak flux densities in Tesla are also plotted. For switching frequencies below 
250 kHz, increasing the frequency causes the core size to decrease. This occurs because of the decreased 
</p>
<p>applied volt-seconds AT Over this range, the optimal M3 is essentially independent of switching fre-
quency; the M3 variations shown occur owing to quantization of core sizes. 
</p>
<p>For switching frequencies greater than 250 kHz, increasing frequency causes greatly increased 
</p>
<p>core loss. Maintaining P101 ~ 0.25 W then requires that M3 be reduced, and hence the core size is 
</p>
<p>increased. The minimum transformer size for this example is apparently obtained at 250kHz. 
</p>
<p>In practice, several matters complicate the dependence of transformer size on switching fre-
</p>
<p>quency. Figure 15.7 ignores the winding geometry and copper losses due to winding eddy currents. 
</p>
<p>Greater power losses can be allowed in larger cores. Use of a different core material may allow higher or 
</p>
<p>lower switching frequencies. The same core material, used in a different application with different speci-
</p>
<p>fications, may lead to a different optimal frequency. Nonetheless, examples have been reported in the lit-
</p>
<p>erature [1-4] in which ferrite transformer size is minimized at frequencies ranging from several hundred 
</p>
<p>kilohertz to several megahertz. More detailed design optimizations can be performed using computer 
</p>
<p>optimization programs [5, 6]. 
</p>
<p>15.3.2 Example 2: Multiple-Output Full-Bridge Buck Converter 
</p>
<p>As a second example, let us consider the design of transformer T1 for the multiple-output full-bridge 
</p>
<p>buck converter of Fig. 15.8. This converter has a 5 V and a 15 V output, with maximum loads as shown. 
</p>
<p>The transformer is to be optimized at the full-load operating point shown, corresponding to D = 0.75. 
Waveforms are illustrated in Fig. 15.9. The converter switching frequency is!,= 150kHz. In the full-
</p>
<p>bridge configuration, the transformer waveforms have fundamental frequency equal to one-half of the 
</p>
<p>switching frequency, so the effective transformer frequency is 75 kHz. Upon accounting for losses </p>
<p/>
</div>
<div class="page"><p/>
<p>Q, 
</p>
<p>-I 
vg + 
160V 
</p>
<p>-I 
Q, 
</p>
<p>Fig. 15.8 Multiple-output full-bridge isolated buck converter example. 
</p>
<p>Fig. 15.9 Transformer waveforms, 
</p>
<p>full-bridge converter example. 
</p>
<p>i2a(t) 
</p>
<p>i3a(t) 
</p>
<p>0 
</p>
<p>lsv 
</p>
<p>/1 5V 
</p>
<p>Area A. 1 
= V DT g .. 
</p>
<p>~ 
</p>
<p>~v 
DTS T, 
</p>
<p>15.3 Examples 577 
</p>
<p>-V g 
</p>
<p>0 
</p>
<p>0 
</p>
<p>+ 
</p>
<p>5V 
</p>
<p>+ 
</p>
<p>!5V 
</p>
<p>r==F. 
</p>
<p>r==C. 
caused by diode forward voltage drops, one finds that the desired transformer turns ratios n1 :n2 :n3 are 
</p>
<p>110:5: 15. A ferrite EE consisting of Magnetics, Inc. P-material is to be used in this example; at 75 kHz, 
</p>
<p>this material is described by the following parameters: Kfe = 7.6 Wtrf3cm3, ~ = 2.6. A fi ll factor of 
K11 = 0.25 is assumed in this isolated multiple-output application. Total power loss of P101 = 4 W, or 
approximately 0.5% of the load power, is allowed. Copper wire, having a resistivity of 
</p>
<p>p = 1.724 &middot; 10-{i Q-cm, is to be used. 
The applied primary volt-seconds are </p>
<p/>
</div>
<div class="page"><p/>
<p>578 Transformer Design 
</p>
<p>A1 = DT,V8 = (0.75)(6.67 J.tsec )(160 V) = 800 V-J.tsec (15.35) 
</p>
<p>The primary rms current is 
</p>
<p>(15.36) 
</p>
<p>The 5 V secondary windings carry nns current 
</p>
<p>I 2 = ~ I sv .,! 1 + D = 66.1 A (15.37) 
</p>
<p>The 15 V secondary windings carry rms current 
</p>
<p>(15.38) 
</p>
<p>The total rms winding current, referred to the primary, is 
</p>
<p>windings 
(15.39) 
</p>
<p>= 14.4 A 
</p>
<p>The core size is evaluated using Eq. (15.19): 
</p>
<p>K &gt; (1.724&middot;10- 6)(800&middot;10- 6)2(14.4) 2(7.6)(212&middot;6) 108 
gfe- 4(0.25)(4){46/26) (15.40) 
</p>
<p>=0.00937 
</p>
<p>The EE core data of Appendix D lists the EE40 core with Kgfe = 0.0118 for f3 = 2.7. Evaluation of Eq. 
(15.16) shows that Kgfe = 0.0108 for this core, when f3 = 2.6. In any event, EE40 is the smallest standard 
EE core size having Kgfe ~ 0.00937. The peak ac flux density is found by evaluation of Eq. (15.20), using 
</p>
<p>the geometrical data for the EE40 core: 
</p>
<p>(114.6) 
</p>
<p>till= 108 (1.724&middot;10- 6)(800&middot;10- 6)2(14.4) 2 (8.5) 1 
</p>
<p>2(0.25) (1.1)(1.27)\7.7) (2.6)(7.6) (15.41) 
</p>
<p>= 0.23 Tesla 
</p>
<p>This flux density is less than the saturation flux density of approximately 0.35 Tesla. The primary turns 
</p>
<p>are determined by evaluation of Eq. (15.21): 
</p>
<p>4 (800&middot;10- 6) 
111 = 10 2(0.23)(1.27) 
</p>
<p>= 13.7 turns 
(15.42) 
</p>
<p>The secondary turns are found by evaluation of Eq. (15.22). It is desired that the transformer have a 
</p>
<p>110:5: 15 turns ratio, and hence </p>
<p/>
</div>
<div class="page"><p/>
<p>15.3 Examples 579 
</p>
<p>5 (15.43) 
n2 = TIO n 1 = 0.62 turns 
</p>
<p>15 (15.44) 
n3 = TIO n 1 = 1.87 turns 
</p>
<p>In practice, we might select n1 == 22, n2 == 1, and n3 == 3. This would lead to a reduced till with reduced 
</p>
<p>core loss and increased copper loss. Since the resulting till is suboptimal, the total power loss will be 
</p>
<p>increased. According to Eq. (15.3), the peak ac flux density for the EE40 core will be 
</p>
<p>(800&middot;10- 6 ) 4 
M = 2(22)(1.27 ) 10 = 0.143 Tesla 
</p>
<p>(15.45) 
</p>
<p>The resulting core and copper loss can be computed using Eqs. (15.1) and (15.7): 
</p>
<p>Pfe = (7.6)(0.143) 26(1.27)(7.7) = 0.47 W (15.46) 
</p>
<p>p = (1.724&middot;10- 6)(800&middot;10- 6 ) 2(14.4) 2 (8.5) ~1~ 108 
cu 4 (0.25) (1.1)(1.27) 2 (0.143) 2 (15.47) 
</p>
<p>=5.4 w 
</p>
<p>Hence, the total power loss would be 
</p>
<p>(15.48) 
</p>
<p>Since this is 50% greater than the design goal of 4 W, it is necessary to increase the core size. The next 
</p>
<p>larger EE core is the EE50 core, having Kgfe of 0.0284. The optimum ac flux density for this core, given 
</p>
<p>by Eq. (15.3), is till= 0.14 T; operation at this flux density would require n1 = 12 and would lead to a 
</p>
<p>total power loss of 2.3 W. With n1 = 22, calculations similar to Eqs. (15.45) to (15.48) lead to a peak flux 
density of till = 0.08 T. The resulting power losses would then be Pre = 0.23 W, Pcu = 3.89 W, 
plot= 4.12 W. 
</p>
<p>With the EE50 core and n1 = 22, the fraction of the available window area allocated to the pri-
mary winding is given by Eq. (15.23) as 
</p>
<p>a - -~- _u__ - 0 396 
1- /tot- 14.4- . 
</p>
<p>(15.49) 
</p>
<p>The fraction of the available window area allocated to each half of the 5 V secondary winding should be 
</p>
<p>a= nzlz =-5_66.1 =0209 
2 n1/ 101 110 14.4 &middot; 
</p>
<p>(15.50) 
</p>
<p>The fraction of the available window area allocated to each half of the 15 V secondary winding should be 
</p>
<p>(15.51) 
</p>
<p>The primary wire area Awl' 5 V secondary wire areaAw2, and 15 V secondary wire areaAw3 are then given </p>
<p/>
</div>
<div class="page"><p/>
<p>580 Transformer Design 
</p>
<p>by Eq. (15.24) as 
</p>
<p>(0.396)(0.25)( 1.78) 
</p>
<p>(22) 
</p>
<p>=}AWG#19 
</p>
<p>&lt;XzKu WA (0.209)(0.25)(1.78) 
Awz = ~n-z~ (1) 
</p>
<p>=}AWG#8 
</p>
<p>a 3 K u W A (0.094)(0.25)( 1.78) 
Aw3=~n-3~ (3) 
</p>
<p>=}AWG#16 
</p>
<p>(15.52) 
</p>
<p>It may be preferable to wind the 15 V outputs using two #19 wires in parallel; this would lead to the same 
</p>
<p>area Aw3 but would be easier to wind. The 5 V windings could be wound using many turns of smaller par-
</p>
<p>alleled wires, but it would probably be easier to use a flat copper foil winding. If insulation requirements 
</p>
<p>allow, proximity losses could be minimized by interleaving several thin layers of foil with the primary 
</p>
<p>winding. 
</p>
<p>15.4 AC INDUCTOR DESIGN 
</p>
<p>The transformer design procedure of the previous sections can be adapted to handle the design of other 
</p>
<p>magnetic devices in which both core loss and copper loss are significant. A procedure is outlined here for 
</p>
<p>design of single-winding inductors whose waveforms contain significant high-frequency ac components 
</p>
<p>(Fig. 15.10). An optimal value of till is found, which leads to minimum total core-plus-copper loss. The 
</p>
<p>major difference is that we must design to obtain a given inductance, using a core with an air gap. The 
</p>
<p>constraints and a step-by-step procedure are briefly outlined below. 
</p>
<p>15.4.1 Outline of Derivation 
</p>
<p>As in the filter inductor design procedure of the previous chapter, the desired inductance L must be 
</p>
<p>obtained, given by 
</p>
<p>(15.53) 
</p>
<p>The applied voltage waveform and the peak ac component of the flux density till are related according to 
</p>
<p>(15.54) 
</p>
<p>The copper loss is given by 
</p>
<p>p = pn 2(MLT) 12 
cu K W 
</p>
<p>u A 
</p>
<p>(15.55) 
</p>
<p>where I is the rms value of i(t). The core loss Pfe is given by Eq. (15.1). </p>
<p/>
</div>
<div class="page"><p/>
<p>15.4 AC Inductor Design 581 
</p>
<p>(a) (b) Window area WA 
</p>
<p>Core mean length 
</p>
<p>i(l) + per tum (MLT) Core area 
Ac 
</p>
<p>v(t) L II 
turns Air gap 
</p>
<p>eg 
</p>
<p>Wire resistivity p 
</p>
<p>Fill factor K,. 
</p>
<p>(c) 
v(t) 
</p>
<p>i(t) 
</p>
<p>Fig. 15.10 Ac inductor, in which copper loss and core loss are significant: (a) definition of terminal quantities, 
</p>
<p>(b) core geometry, (c) arbitrary terminal waveforms. 
</p>
<p>The value of !:ill that minimizes the total power loss P10 1 = Pcu + P1e is found in a manner similar 
to the transformer design derivation. Equation (15.54) is used to eliminate n from the expression for Pcu &middot; 
</p>
<p>The optimal !:ill is then computed by setting the derivative of P10 1 to zero. The result is 
</p>
<p>- [p),}J2 (MLT) _1_ 1(Jlh) 
M- 2K W A3e RK 
</p>
<p>u Ac mt.J f e 
</p>
<p>(15.56) 
</p>
<p>which is essentially the same as Eq. (15.13). The total power loss P101 is evaluated at this value of !:ill, and 
</p>
<p>the resulting expression is manipulated to find K gJe &middot; The result is 
</p>
<p>(15.57) 
</p>
<p>where K gfe is defined as in Eq. (15.16). A core that satisfies this inequality is selected. </p>
<p/>
</div>
<div class="page"><p/>
<p>582 Transformer Design 
</p>
<p>15.4.2 Step-by-step AC Inductor Design Procedure 
</p>
<p>The units of Section 15.2 are employed here. 
</p>
<p>1. Determine core size. 
</p>
<p>(15.58) 
</p>
<p>Choose a core that is large enough to satisfy this inequality. If necessary, it may be possible to use a 
</p>
<p>smaller core by choosing a core material having lower loss, that is, smaller Kte&middot; 
</p>
<p>2. Evaluate peak ac flux density. 
</p>
<p>(15.59) 
</p>
<p>3. Numberofturns. 
</p>
<p>(15.60) 
</p>
<p>4. Air gap length. 
</p>
<p>" A n2 e = _r_O_c_ lQ-4 
g L 
</p>
<p>(15.61) 
</p>
<p>with Ac specified in cm2 and eg expressed in meters. Alternatively, the air gap can be indirectly expressed 
viaAL (mH/1000 turns): 
</p>
<p>(15.62) 
</p>
<p>5. Check for saturation. 
</p>
<p>If the inductor current contains a de component Ide&bull; then the maximum total flux density Bmax is greater 
</p>
<p>than the peak ac flux density till. The maximum total flux density, in Tesla, is given by 
</p>
<p>Lldc 4 
B,.ax=I'&gt;B+-A 10 
</p>
<p>n c 
(15.63) 
</p>
<p>If Bmax is close to or greater than the saturation flux density Bsat' then the core may saturate. The filter 
</p>
<p>inductor design procedure of the previous chapter should then be used, to operate at a lower flux density. 
</p>
<p>6. Evaluate wire size. 
</p>
<p>(15.64) </p>
<p/>
</div>
<div class="page"><p/>
<p>15.5 Summary 583 
</p>
<p>A winding geometry can now be determined, and copper losses due to the proximity effect can be evalu-
</p>
<p>ated. If these losses are significant, it may be desirable to further optimize the design by reiterating the 
</p>
<p>above steps, accounting for proximity losses by increasing the effective wire resistivity to the value 
</p>
<p>Peff= PcuPcJPdc' where Pcu is the actual copper loss including proximity effects, and Pdc is the copper 
</p>
<p>loss predicted when the proximity effect is ignored. 
</p>
<p>7. Check power loss. 
</p>
<p>15.5 
</p>
<p>1. 
</p>
<p>2. 
</p>
<p>3. 
</p>
<p>SUMMARY 
</p>
<p>p = pn(MLT) I 2 
cu Aw 
</p>
<p>pfe = Kfe(MJ)P Acem 
</p>
<p>ptot = pcu + pfe 
</p>
<p>(15.65) 
</p>
<p>In a multiple-winding transformer, the low-frequency copper losses are minimized when the available 
</p>
<p>window area is allocated to the windings according to their apparent powers, or ampere-turns. 
</p>
<p>As peak ac flux density is increased, core loss increases while copper losses decrease. There is an optimum 
</p>
<p>flux density that leads to minimum total power loss. Provided that the core material is operated near its 
</p>
<p>intended frequency, then the optimum flux density is less than the saturation flux density. Minimization of 
</p>
<p>total loss then determines the choice of peak ac flux density. 
</p>
<p>The core geometrical constant Kgfe is a measure of the magnetic size of a core, for applications in which 
</p>
<p>core loss is significant. In the Kgfe design method, the peak flux density is optimized to yield minimum 
</p>
<p>total loss, as opposed to the Kg design method where peak flux density is a given specification. 
</p>
<p>REFERENCES 
</p>
<p>[1] W. J. Gu and R. Lru, "A Study of Volume and Weight vs. Frequency for High-Frequency Transformers," 
</p>
<p>IEEE Power Electronics Specialists Conference, 1993 Record, pp. 1123-1129. 
</p>
<p>[2] K. D. T. NGO, R. P. ALLEY, A. J. YERMAN, R. J. CHARLES, and M. H. KUO, "Evaluation ofTrade-Offs in 
</p>
<p>Transformer Design for Very-Low-Voltage Power Supply with Very High Efficiency and Power Density," 
</p>
<p>IEEE Applied Power Electronics Conference, 1990 Record, pp. 344-353. 
</p>
<p>[3] A. F. GOLDBERG and M. F. SCHLECHT, "The Relationship Between Size and Power Dissipation in a 1-
</p>
<p>10MHz Transformer," IEEE Power Electronics Specialists Conference, 1989 Record, pp. 625-634. 
</p>
<p>[4] K. D. T. NGO and R. S. LA!, "Effect of Height on Power Density in High-Frequency Transformers," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1991 Record, pp. 667-672. 
</p>
<p>[5] R. B. RIDLEY and F. C. LEE, "Practical Nonlinear Design Optimization Tool for Power Converter Compo-
</p>
<p>nents," IEEE Power Electronics Specialists Conference, 1987 Record, pp. 314-323. 
</p>
<p>[6] R. C. WONG, H. A. OWEN, and T. G. WILSON, "Parametric Study of Minimum Converter Loss in an 
</p>
<p>Energy-Storage De-to-De Converter," IEEE Power Electronics Specialists Conference, 1982 Record, pp. 
</p>
<p>411-425. </p>
<p/>
</div>
<div class="page"><p/>
<p>584 Transformer Design 
</p>
<p>PROBLEMS 
</p>
<p>15.1 Forward converter inductor and transformer design. The objective of this problem set is to design the 
</p>
<p>magnetics (two inductors and one transformer) of the two-transistor, two-output forward converter 
</p>
<p>shown in Fig. 15.11. The ferrite core material to be used for all three devices has a saturation flux density 
</p>
<p>of approximately 0.3 Tat 120T. To provide a safety margin for your designs, you should use a maxi-
</p>
<p>mum flux density Bmax that is no greater than 75% of this value. The core loss at 100kHz is described by 
</p>
<p>Eq. (15.1), with the parameter values~= 2.6 and Kfe =50 WIT~ cm3. Calculate copper loss at lOOT. 
</p>
<p>Steady-state converter analysis and design. You may assume 100% efficiency and ideallossless compo-
</p>
<p>nents for this section. 
</p>
<p>(a) Select the transformer turns ratios so that the desired output voltages are obtained when the duty 
</p>
<p>cycle is D = 0.4. 
</p>
<p>(b) Specify values of LI and L2 such that their current ripples !1ii and !1i2 are 10% of their respective 
</p>
<p>full-load current de components II and I2. 
</p>
<p>(c) Determine the peak and rms currents in each inductor and transformer winding. 
</p>
<p>Inductor design. Allow copper loss of 1 W in LI and 0.4 Win L2. Assume a fill factor of Ku = 0.5. Use 
</p>
<p>ferrite EE cores-tables of geometrical data for standard EE core sizes are given in Appendix D. Design 
</p>
<p>the output filter inductors LI and L 2. For each inductor, specify: 
</p>
<p>(i) EE core size 
</p>
<p>(ii) Air gap length 
</p>
<p>(iii) Number of turns 
</p>
<p>(iv) AWG wire size 
</p>
<p>Transformer design. Allow a total power loss of 1 W. Assume a fill factor of Ku = 0.35 (lower than for the 
</p>
<p>filter inductors, to allow space for insulation between the windings). Use a ferrite EE core. You may 
</p>
<p>neglect losses due to the skin and proximity effects, but you should include core and copper losses. 
</p>
<p>Design the transformer, and specify the following: 
</p>
<p>(i) EE core size 
</p>
<p>(ii) Turns nl' n2, and n3 
</p>
<p>fs= 100kHz 
</p>
<p>vg + n2 
325 v turns 
</p>
<p>Fig. 15.11 Two-output forward converter of Problem 15.1. 
</p>
<p>+ 
</p>
<p>VI 
</p>
<p>+ 
</p>
<p>5V 
</p>
<p>30A 
</p>
<p>15 v 
</p>
<p>lA </p>
<p/>
</div>
<div class="page"><p/>
<p>(iii) AWG wire size for the three windings 
</p>
<p>Check your transformer design: 
</p>
<p>(iv) Compute the maximum flux density. Will the core saturate? 
</p>
<p>Problems 585 
</p>
<p>(v) Compute the core loss, the copper loss of each winding, and the total power loss 
</p>
<p>15.2 A single-transistor forward converter operates with an input voltage Vg = 160 V, and supplies two out-
</p>
<p>puts: 24 Vat 2 A, and 15 Vat 6 A. The duty cycle is D = 0.4. The turns ratio between the primary wind-
</p>
<p>ing and the reset winding is 1:1. The switching frequency is 100 kHz. The core material loss equation 
</p>
<p>parameters are ~ = 2.7, Kfe =50. You may assume a fill factor of 0.25. Do not allow the core maximum 
</p>
<p>flux density to exceed 0.3 T. 
</p>
<p>Design a transformer for this application, having a total power loss no greater than 1.5 W at 
</p>
<p>100&deg;C. Neglect proximity losses. You may neglect the reset winding. Use a ferrite PQ core. Specify: core 
</p>
<p>size, peak ac flux density, wire sizes, and number of turns for each winding. Compute the core and cop-
</p>
<p>per losses for your design. 
</p>
<p>15.3 Flyback/SEPIC transformer design. The "transformer" of the fly back and SEPIC converters is an energy 
</p>
<p>storage device, which might be more accurately described as a multiple-winding inductor. The magne-
</p>
<p>tizing inductance LP functions as an energy-transferring inductor of the converter, and therefore the 
</p>
<p>"transformer" normally contains an air gap. The converter may be designed to operate in either the con-
</p>
<p>tinuous or discontinuous conduction mode. Core loss may be significant. It is also important to ensure 
</p>
<p>that the peak current in the magnetizing inductance does not cause saturation. 
</p>
<p>A fly back transformer is to be designed for the following two-output flyback converter application: 
</p>
<p>Input: 160 Vdc 
</p>
<p>Output 1: 5 Vdc at 10 A 
</p>
<p>Output 2: 15 Vdc at 1 A 
</p>
<p>Switching frequency: 100kHz 
</p>
<p>Magnetizing inductance LP: 1.33 mH, referred to primary 
</p>
<p>Turns ratio: 160:5:15 
</p>
<p>Transformer power loss: Allow 1 W total 
</p>
<p>(a) Does the converter operate in CCM or DCM? Referred to the primary winding, how large are (i) 
</p>
<p>the magnetizing current ripple !!.i, (ii) the magnetizing current de component I, and (iii) the peak 
</p>
<p>magnetizing current Ipk? 
</p>
<p>(b) Determine (i) the rms winding currents, and (ii) the applied primary volt-seconds A1. Is A1 pro-
portional to Ipk? 
</p>
<p>(c) Modify the transformer and ac inductor design procedures of this chapter, to derive a general 
</p>
<p>procedure for designing flyback transformers that explicitly accounts for both core and copper 
</p>
<p>loss, and that employs the optimum ac flux density that minimizes the total loss. 
</p>
<p>(d) Give a general step-by-step design procedure, with all specifications and units clearly stated. 
</p>
<p>(e) Design the flyback transformer for the converter of part (a), usinrf your step-by-step procedure of 
</p>
<p>part (d). Use a ferrite EE core, with~= 2.7 and Kfe =50 Wff cm3. Specify: core size, air gap 
length, turns, and wire sizes for all windings. 
</p>
<p>(0 For your final design of part (e), what are (i) the core loss, (ii) the total copper loss, and (iii) the 
</p>
<p>peak flux density? </p>
<p/>
</div>
<div class="page"><p/>
<p>586 Transformer Design 
</p>
<p>15.4 Over the intended range of operating frequencies, the frequency dependence of the core-loss coefficient 
</p>
<p>Kfe of a certain ferrite core material can be approximated using a monotonically increasing fourth&middot;order 
</p>
<p>polynomial of the form 
</p>
<p>where KfeO&bull; a!' a2, a3, a4, andf0 are constants. In a typical converter transformer application, the applied 
</p>
<p>primary volt-seconds /.. 1 varies directly with the switching period T, = l!f It is desired to choose the opti-
</p>
<p>mum switching frequency such that Kgfe' and therefore the transformer size, are minimized. 
</p>
<p>(a) Show that the optimum switching frequency is a root of the polynomial 
</p>
<p>( ~-1) (!) (~-2) (!)2 (~-3) (!)3 (~-4) (!)4 1 +a I -~- To + az -~- To + a3 -~- To + a4 -~- To 
Next, a core material is chosen whose core loss parameters are 
</p>
<p>~=2.7 Kjeo= 7.6 
</p>
<p>f0 = 100kHz 
a 1 =- 1.3 a2 = 5.3 
</p>
<p>a3 =- 0.5 a4 = 0.075 
</p>
<p>The polynomial fits the manufacturer's published data over the range 10kHz &lt;J &lt; 1 MHz. 
</p>
<p>(b) Sketch Kfe vs. f 
</p>
<p>(c) Determine the value off that minimizes KgJe&middot; 
</p>
<p>(d) Sketch KgJ/J)IK8fe(lOO kHz), over the range 100kHz &lt;;,j&lt;;, 1 MHz. How sensitive is the trans-
</p>
<p>former size to the choice of switching frequency? 
</p>
<p>15.5 Transformer design to attain a given temperature rise. The temperature rise t'J.T of the center leg of a fer-
</p>
<p>rite core is directly proportional to the total power loss P101 of a transformer: t'J.T = R,, P101 , where R,, is 
</p>
<p>the thermal resistance of the transformer under given environmental conditions. You may assume that 
</p>
<p>this temperature rise has minimal dependence on the distribution of losses within the transformer. It is 
</p>
<p>desired to modify the Kgfe transformer design method, such that temperature rise t'J.T replaces total power 
</p>
<p>loss P101 as a specification. You may neglect the dependence of the wire resistivity p on temperature. 
</p>
<p>(a) Modify then-winding transformer Kgfe design method, as necessary. Define a new core geomet-
</p>
<p>rical constant K,, that includes R,,. 
(b) Thermal resistances of ferrite EC cores are listed in Section D.3 of Appendix D. Tabulate K,, for 
</p>
<p>these cores, using ~ = 2. 7. 
</p>
<p>(c) A 750 W single-output full-bridge isolated buck de-de converter operates with converter switch-
</p>
<p>ing frequency J, = 200 kHz, de input voltage Vg = 400 V, and de output voltage V = 48 V. The 
turns ratio is 6:1. The core loss equation parameters at 100 kHz are Kfe = 10 W/TI'lcm3 and 
</p>
<p>0 = 2.7. Assume a fill factor of Ku = 0.3. You may neglect proximity losses. Use your design pro-
cedure of parts (a) and (b) to design a transformer for this application, in which the temperature 
</p>
<p>rise is limited to 20'C. Specify: EC core size, primary and secondary turns, wire sizes, and peak 
</p>
<p>ac flux density. </p>
<p/>
</div>
<div class="page"><p/>
<p>Part IV 
</p>
<p>Modern Rectifiers 
and Power System Harmonics </p>
<p/>
</div>
<div class="page"><p/>
<p>16 
Power and Harmonics 
</p>
<p>in Nonsinusoidal Systems 
</p>
<p>Rectification used to be a much simpler topic. A textbook could cover the topic simply by discussing the 
</p>
<p>various circuits, such as the peak-detection and inductor-input rectifiers, the phase-controlled bridge, 
</p>
<p>polyphase transformer connections, and perhaps multiplier circuits. But recently, rectifiers have become 
</p>
<p>much more sophisticated, and are now systems rather than mere circuits. They often include pulse-width 
</p>
<p>modulated converters such as the boost converter, with control systems that regulate the ac input current 
</p>
<p>waveform. So modern rectifier technology now incorporates many of the de-de converter fundamentals. 
</p>
<p>The reason for this is the undesirable ac line current harmonics, and low power factors, of con-
</p>
<p>ventional peak-detection and phase-controlled rectifiers. The adverse effects of power system harmonics 
</p>
<p>are well recognized. These effects include: unsafe neutral current magnitudes in three-phase systems, 
</p>
<p>heating and reduction of life in transformers and induction motors, degradation of system voltage wave-
</p>
<p>forms, unsafe currents in power-factor-correction capacitors, and malfunctioning of certain power sys-
</p>
<p>tem protection elements. In a real sense, conventional rectifiers are harmonic polluters of the ac power 
</p>
<p>distribution system. With the widespread deployment of electronic equipment in our society, rectifier 
</p>
<p>harmonics have become a significant and measurable problem. Thus there is a need for high-quality rec-
</p>
<p>tifiers, which operate with high power factor, high efficiency, and reduced generation of harmonics. Sev-
</p>
<p>eral international standards now exist that specifically limit the magnitudes of harmonic currents, for 
</p>
<p>both high-power equipment such as industrial motor drives, and low-power equipment such as electronic 
</p>
<p>ballasts for fluorescent lamps and power supplies for office equipment. 
</p>
<p>This chapter treats the flow of energy in power systems containing nonsinusoidal waveforms. 
</p>
<p>Average power, rms values, and power factor are expressed in terms of the Fourier series of the voltage 
</p>
<p>and current waveforms. Harmonic currents in three-phase systems are discussed, and present-day stan-
</p>
<p>dards are listed. The following chapters treat harmonics and harmonic mitigation in conventional line-
</p>
<p>commutated rectifiers, high-quality rectifier circuits and their models, and control of high-quality rectifi-
</p>
<p>ers. </p>
<p/>
</div>
<div class="page"><p/>
<p>590 Power and Harmonics in Nonsinusoidal Systems 
</p>
<p>i(t) 
</p>
<p>+ 
</p>
<p>Source v(t) 
</p>
<p>SurfaceS 
</p>
<p>Fig. 16.1 Observe the transmission of energy through surface S. 
</p>
<p>16.1 AVERAGE POWER 
</p>
<p>Load 
</p>
<p>Let us consider the transmission of energy from a source to a load, through a given surface as in Fig. 
</p>
<p>16.1. In the network of Fig. 16.1, the voltage waveform v(t) (not necessarily sinusoidal) is given by the 
</p>
<p>source, and the current waveform is determined by the response of the load. In the more general case in 
</p>
<p>which the source output impedance is significant, then v(t) and i(t) both depend on the characteristics of 
</p>
<p>the source and load. Balanced three-phase systems may be treated in the same manner, on a per-phase 
</p>
<p>basis, using a line current and line-to-neutral voltage. 
</p>
<p>If v(t) and i(t) are periodic, then they may be expressed as Fourier series: 
</p>
<p>v(t) = V0 + ,~ 1 V, cos (nwt- (jl,) 
</p>
<p>i(t) = 10 + ,~ 1 I, cos (nwt- e,) 
(16.1) 
</p>
<p>where the period of the ac line voltage waveform is defined as T = 2nlw. In general, the instantaneous 
power p(t) = v(t)i(t) can assume both positive and negative values at various points during the ac line 
</p>
<p>cycle. Energy then flows in both directions between the source and load. It is of interest to determine the 
</p>
<p>net energy transmitted to the load over one cycle, or 
</p>
<p>wcycle = LT v(t)i(t)dt (16.2) 
</p>
<p>This is directly related to the average power as follows: 
</p>
<p>w r 
Pav = t' = + Jo v(t)i(t)dt (16.3) 
</p>
<p>Let us investigate the relationship between the harmonic content of the voltage and current waveforms, 
</p>
<p>and the average power. Substitution of the Fourier series, Eq. (16.1), into Eq. (16.3) yields 
</p>
<p>(16.4) 
</p>
<p>To evaluate this integral, we must multiply out the infinite series. It can be shown that the integrals of </p>
<p/>
</div>
<div class="page"><p/>
<p>16.1 Average Power 591 
</p>
<p>cross-product terms are zero, and the only contributions to the integral comes from the products of volt-
</p>
<p>age and current harmonics of the same frequency: 
</p>
<p>r(v,.cos(nwt-&lt;p,.J)(Imcos(mwt-8m))dt = (VI O 
Jo _l!_'l. cos (m - 8 ) 2 't'n n 
</p>
<p>if n.=m 
(16.5) 
</p>
<p>if n=m 
</p>
<p>The average power is therefore 
</p>
<p>Pav = V0! 0 + i: V,2,1,. COS (&lt;fl 11 - 8 ,.) 
n=l 
</p>
<p>(16.6) 
</p>
<p>So net energy is transmitted to the load only when the Fourier series of v(t) and i(t) contain terms at the 
</p>
<p>same frequency. For example, if v(t) and i(t) both contain third harmonic, then net energy is transmitted 
</p>
<p>at the third harmonic frequency, with average power equal to 
</p>
<p>(16.7) 
</p>
<p>Here, Vii2 is equal to the rms volt-amperes of the third harmonic current and voltage. The cos ( &cent;3 - 83) 
term is a displacement term which accounts for the phase difference between the third harmonic voltage 
</p>
<p>and current. 
</p>
<p>Some examples of power flow in systems containing harmonics are illustrated in Figs. 16.2 to 
</p>
<p>16.4. In example 1, Fig. 16.2, the voltage contains fundamental only, while the current contains third har-
</p>
<p>(a) v(t) 
</p>
<p>0.5 
</p>
<p>0 
</p>
<p>-0.5 
</p>
<p>-1 
</p>
<p>(b) 
</p>
<p>p(t) = v(t)i(t) 
0.5 
</p>
<p>0 
</p>
<p>-0.5 
</p>
<p>-1 
</p>
<p>Fig. 16.2 Voltage, current, and instantaneous power waveforms, example 1. The voltage contains only fundamen-
</p>
<p>tal, and the current contains only third harmonic. The average power is zero. </p>
<p/>
</div>
<div class="page"><p/>
<p>592 Power and Harmonics in Nonsinusoidal Systems 
</p>
<p>p(t) = v(t)i(t) 
</p>
<p>Fig. 16.3 Voltage, current, and instantaneous power waveforms, example 2. The voltage and current each contain 
</p>
<p>only third harmonic, and are in phase. Net energy is transmitted at the third harmonic frequency. 
</p>
<p>0.6 
p(t) = v(t)i(t) 
</p>
<p>0.4 
</p>
<p>0.2 
</p>
<p>0.0 
</p>
<p>-0.2 
</p>
<p>Fig. 16.4 Voltage, current, and instantaneous power waveforms, example 3. The voltage contains fundamental, 
</p>
<p>third, and fifth harmonics. The current contains fundamental, fifth, and seventh harmonics. Net energy is transmitted 
</p>
<p>at the fundamental and fifth harmonic frequencies. </p>
<p/>
</div>
<div class="page"><p/>
<p>16.2 Root-Mean-Square (RMS) Value of a Waveform 593 
</p>
<p>monic only. It can be seen that the instantaneous power waveform p(t) has a zero average value, and 
</p>
<p>hence Pav is zero. Energy circulates between the source and load, but over one cycle the net energy trans-
</p>
<p>ferred to the load is zero. In example 2, Fig. 16.3, the voltage and current each contain only third har-
</p>
<p>monic. The average power is given by Eq. (16.7) in this case. 
</p>
<p>In example 3, Fig. 16.4, the voltage waveform contains fundamental, third harmonic, and fifth 
</p>
<p>harmonic, while the current contains fundamental, fifth harmonic, and seventh harmonic, as follows: 
</p>
<p>v(t) = 1.2 cos (wt) + 0.33 cos (3wt) + 0.2 cos (5wt) 
(16.8) 
</p>
<p>i(t) = 0.6 cos ( wt + 30&deg;) + 0.1 cos (5wt + 45&deg;) + 0.1 cos (7wt + 60&deg;) 
</p>
<p>Average power is transmitted at the fundamental and fifth harmonic frequencies, since only these fre-
</p>
<p>quencies are present in both waveforms. The average power is found by evaluation of Eq. (16.6); all 
</p>
<p>terms are zero except for the fundamental and fifth harmonic terms, as follows: 
</p>
<p>P = (1.2)(0.6) (300) (0.2)(0.1) (450) = 0 32 av 2 COS + 2 COS . 
</p>
<p>The instantaneous power and its average are illustrated in Fig. 16.4(b). 
</p>
<p>16.2 ROOT-MEAN-SQUARE(RMS)VALUEOF A WAVEFORM 
</p>
<p>The rms value of a periodic waveform v(t) with period Tis defined as 
</p>
<p>(rms value)= l_ ( v2(t)dt 
T Jo 
</p>
<p>(16.9) 
</p>
<p>(16.10) 
</p>
<p>The rms value can also be expressed in terms of the Fourier components. Insertion of Eq. (16.1) into Eq. 
</p>
<p>(16.10), and simplification using Eq. (16.5), yields 
</p>
<p>J = y2 
(rms value)= v~ + ,~1 -2 (16.11) 
</p>
<p>Again, the integrals of the cross-product terms are zero. This expression holds when the waveform is a 
</p>
<p>current: 
</p>
<p>(16.12) 
</p>
<p>Thus, the presence of harmonics in a waveform always increases its rms value. In particular, in the case 
</p>
<p>where the voltage v(t) contains only fundamental while the current i(t) contains harmonics, then the har-
</p>
<p>monics increase the rms value of the current while leaving the average power unchanged. This is undesir-
</p>
<p>able, because the harmonics do not lead to net delivery of energy to the load, yet they increase the I,m/R 
losses in the system. 
</p>
<p>In a practical system, series resistances always exist in the source, load, and/or transmission 
</p>
<p>wires, which lead to unwanted power losses obeying the expression 
</p>
<p>(16.13) </p>
<p/>
</div>
<div class="page"><p/>
<p>594 Power and Harmonics in Nonsinusoidal Systems 
</p>
<p>Examples of such loss elements are the resistance of ac generator windings, the resistance of the wire 
</p>
<p>connecting the source and load, the resistance of transformer windings, and the resistance of semicon-
</p>
<p>ductor devices and magnetics windings in switching converters. Thus, it is desired to make the rms cur-
</p>
<p>rent as small as possible, while transferring the required amount of energy and average power to the load. 
</p>
<p>Shunt resistances usually also exist, which cause power loss according to the relation 
</p>
<p>(rms voltage) 2 
</p>
<p>Rs!zunt 
</p>
<p>(16.14) 
</p>
<p>Examples include the core losses in transformers and ac generators, and switching converter transistor 
</p>
<p>switching loss. Therefore, it is desired to also make the rms voltage as small as possible while transfer-
</p>
<p>ring the required average power to the load. 
</p>
<p>16.3 POWER FACTOR 
</p>
<p>Power factor is a figure of merit that measures how effectively energy is transmitted between a source 
</p>
<p>and load network. It is measured at a given surface as in Fig. 16.1, and is defined as 
</p>
<p>ower factor= (average power) 
p (rms voltage) (rms current) 
</p>
<p>(16.15) 
</p>
<p>The power factor"always has a value between zero and one. The ideal case, unity power factor, occurs for 
</p>
<p>a load that obeys Ohm's Law. In this case, the voltage and current waveforms have the same shape, con-
</p>
<p>tain the same harmonic spectrum, and are in phase. For a given average power throughput, the rms cur-
</p>
<p>rent and voltage are minimized at maximum (unity) power factor, that is, with a linear resistive load. In 
</p>
<p>the case where the voltage contains no harmonics but the load is nonlinear and contains dynamics, then 
</p>
<p>the power factor can be expressed as a product of two terms, one resulting from the phase shift of the 
</p>
<p>fundamental component of the current, and the other resulting from the current harmonics. 
</p>
<p>16.3.1 Linear Resistive Load, Nonsinusoidal Voltage 
</p>
<p>In this case, the current harmonics are in phase with, and proportional to, the voltage harmonics. As a 
</p>
<p>result, all harmonics result in the net transfer of energy to the load. The current harmonic magnitudes and 
</p>
<p>phases are 
</p>
<p>The rms voltage is again 
</p>
<p>and the rms current is 
</p>
<p>e, = cp, 
</p>
<p>I = V, 
" R 
</p>
<p>so cos (6,- cp,) = 1 
</p>
<p>J ~ vz 
&lt;rms voltage)= v&amp; + ,~, --t 
</p>
<p>(16.16) 
</p>
<p>(16.17) 
</p>
<p>(16.18) </p>
<p/>
</div>
<div class="page"><p/>
<p>16.3 Power Factor 595 
</p>
<p>= [2 
</p>
<p>( ) / 2 " __!_!_ -rms current = 0 + ,t-'1 2 - (16.19) 
</p>
<p>= * (rms voltage) 
By use ofEq. (16.6), the average power is 
</p>
<p>Pav = V0l 0 + L V,2J, cos (qJ,- 8 11 ) 
II= I 
</p>
<p>V2 = vz 
= _Q_ + ~ ___!! 
</p>
<p>R n~!2R 
(16.20) 
</p>
<p>= * (rms vo1tage) 2 
Insertion of Eqs. (16.19) and (16.20) into Eq. (16.15) then shows that the power factor is unity. Thus, if 
</p>
<p>the load is linear and purely resistive, then the power factor is unity regardless of the harmonic content of 
</p>
<p>v(t). The harmonic content of the load current waveform i(t) is identical to that of v(t), and all harmonics 
</p>
<p>result in the transfer of energy to the load. This raises the possibility that one could construct a power dis-
</p>
<p>tribution system based on nonsinusoidal waveforms in which the energy is efficiently transferred to the 
</p>
<p>load. 
</p>
<p>16.3.2 Nonlinear Dynamical Load, Sinusoidal Voltage 
</p>
<p>If the voltage v(t) contains a fundamental component but no de component or harmonics, so that V0 = V2 
= V3 = ... = 0, then harmonics in i(t) do not result in transmission of net energy to the load. The average 
</p>
<p>power expression, Eq. (16.6), becomes 
</p>
<p>(16.21) 
</p>
<p>However, the harmonics in i(t) do affect the value of the rms current: 
</p>
<p>(16.22) 
</p>
<p>Hence, as in example 1 (Fig. 16.2), harmonics cause the load to draw more rms current from the source, 
</p>
<p>but not more average power. Increasing the current harmonics does not cause more energy to be trans-
</p>
<p>ferred to the load, but does cause additional losses in series resistive elements Rseries&middot; 
</p>
<p>Also, the presence of load dynamics and reactive elements, which causes the phase of the fun-
</p>
<p>damental components of the voltage and current to differ (81 - &lt;p 1), also reduces the power factor. The 
</p>
<p>cos (&lt;p 1 - 81) term in the average power Eq. (16.21) becomes less than unity. However, the rms value of 
</p>
<p>the current, Eq. (16.22), does not depend on the phase. So shifting the phase of i(t) with respect to v(t) 
</p>
<p>reduces the average power without changing the rms voltage or current, and hence the power factor is 
</p>
<p>reduced. 
</p>
<p>By substituting Eqs. (16.21) and (16.22) into (16.15), we can express the power factor for the 
</p>
<p>sinusoidal voltage in the following form: </p>
<p/>
</div>
<div class="page"><p/>
<p>596 Power and Harmonics in Nonsinusoidal Systems 
</p>
<p>(16.23) 
</p>
<p>=(distortion factor) (displacement factor) 
</p>
<p>So when the voltage contains no harmonics, then the power factor can be written as the product of two 
</p>
<p>terms. The first, called the distortion factor, is the ratio of the rms fundamental component of the current 
</p>
<p>to the total rms value of the current 
</p>
<p>/1 ) J2 = (rms fundamental current) 
</p>
<p>L ~ 12 (rrns current) /2 + _..!l 
0 2 
</p>
<p>n=l 
</p>
<p>(16.24) 
</p>
<p>The second term of Eq. (16.23) is called the displacement factor, and is the cosine of the angle between 
</p>
<p>the fundamental components of the voltage and current waveforms. 
</p>
<p>The Total Harmonic Distortion (THD) is defined as the ratio of the rms value of the waveform 
</p>
<p>not including the fundamental, to the rms fundamental magnitude. When no de is present, this can be 
</p>
<p>written: 
</p>
<p>(THO) = -'-f%1--""7--'1 "----
1 
</p>
<p>(16.25) 
</p>
<p>The total harmonic distortion and the distortion factor are closely related. Comparison of Eqs. (16.24) 
</p>
<p>and (16.25), with !0 = 0, leads to 
</p>
<p>(distortion factor)= V 1 2 
1 +(THO) 
</p>
<p>(16.26) 
</p>
<p>This equation is plotted in Fig. 16.5. The distortion factor of a waveform with a moderate amount of dis-
</p>
<p>tortion is quite close to unity. For example, if the waveform contains third harmonic whose magnitude is 
</p>
<p>Fig. 16.5 Distortion factor vs. total 
</p>
<p>harmonic distortion. 
</p>
<p>100% 
</p>
<p>THD 
</p>
<p>~ 
0 
00 </p>
<p/>
</div>
<div class="page"><p/>
<p>16.3 Power Factor 597 
</p>
<p>Fig. 16.6 Conventional peak detection rectifier. 
</p>
<p>100% 
</p>
<p>~] 
~t: 80% 
~~ 
</p>
<p>%~ 60% 
&sect; &sect; 
</p>
<p>.~:;: 
40% t: &lt;:) 
</p>
<p>THD= 136% 
Dis ron ion factor= 59% 
</p>
<p>o -
E t: 'I&gt; 
</p>
<p>20% 
:il ~ 'I&gt; 
</p>
<p>~ 
</p>
<p>0% 
3 5 7 9 I I 13 15 17 19 
</p>
<p>Harmonic number 
</p>
<p>Fig. 16.7 Typical ac line current spectrum of a peak detection rectifier. Harmonics 1 to 19 are shown. 
</p>
<p>10% of the fundamental, the distortion factor is 99.5%. Increasing the third harmonic to 20% decreases 
</p>
<p>the distortion factor to 98%, and a 33% harmonic magnitude yields a distortion factor of 95%. So the 
</p>
<p>power factor is not significantly degraded by the presence of harmonics unless the harmonics are quite 
</p>
<p>large in magnitude. 
</p>
<p>An example of a case in which the distortion factor is much less than unity is the conventional 
</p>
<p>peak detection rectifier of Fig. 16.6. In this circuit, the ac line current consists of short-duration current 
</p>
<p>pulses occurring at the peak of the voltage waveform. The fundamental component of the line current is 
</p>
<p>essentially in phase with the voltage, and the displacement factor is close to unity. However, the low-
</p>
<p>order current harmonics are quite large, close in magnitude to that of the fundamental-a typical current 
</p>
<p>spectrum is given in Fig. 16.7. The distortion factor of peak detection rectifiers is usually in the range 
</p>
<p>55% to 65%. The resulting power factor is similar in value. 
</p>
<p>In North America, the standard 120 V power outlet is protected by a 15 A circuit breaker. In 
</p>
<p>consequence, the available load power quite limited. Derating the circuit breaker current by 20%, assum-
</p>
<p>ing typical efficiencies for the de-de converter and peak detection rectifier, and with a .power factor of 
</p>
<p>55%, one obtains the following estimate for the maximum available de load power: 
</p>
<p>(ac voltage) (derated breaker current) (powerfactor) (rectifier efficiency) 
</p>
<p>= (120 V) (80% of 15 A) (0.55) (0.98) (16.27) 
</p>
<p>= 776W 
</p>
<p>The less-than-unity efficiency of a de-de converter would further reduce the available de load power. 
</p>
<p>Using a peak detection rectifier to supply a load power greater than this requires that the user install 
</p>
<p>higher amperage and/or higher voltage service, which is inconvenient and costly. The use of a rectifier </p>
<p/>
</div>
<div class="page"><p/>
<p>598 Power and Harmonics in Nonsinusoidal Systems 
</p>
<p>circuit having nearly unity power factor would allow a significant increase in available de load power: 
</p>
<p>(ac voltage) (derated breaker current) (power factor) (rectifier efficiency) 
</p>
<p>= (120 V) (80% of 15 A) (0.99) (0.93) (16.28) 
</p>
<p>= 1325W 
</p>
<p>or almost twice the available power of the peak detection rectifier. This alone can be a compelling reason 
</p>
<p>to employ high quality rectifiers in commercial systems. 
</p>
<p>16.4 POWER PHASORS IN SINUSOIDAL SYSTEMS 
</p>
<p>The apparent power is defined as the product of the rms voltage and rms current. Apparent power is eas-
</p>
<p>ily measured-it is simply the product of the readings of a voltmeter and ammeter placed in the circuit at 
</p>
<p>the given surface. Many power system elements, such as transformers, must be rated according to the 
</p>
<p>apparent power that they are able to supply. The unit of apparent power is the volt-ampere, or VA. The 
</p>
<p>power factor, defined in Eq. (16.15), is the ratio of average power to apparent power. 
</p>
<p>In the case of sinusoidal voltage and current waveforms, we can additionally define the complex 
</p>
<p>powerS and the reactive power Q. If the sinusoidal voltage v(t) and current i(t) can be represented by the 
phasors V and I, then the complex power is a phasor defined as 
</p>
<p>S= VI* =P+ jQ (16.29) 
</p>
<p>Here, I* is the complex conjugate of I, and j is the square root of- 1. The magnitude of S, or II S II, is 
equal to the apparent power, measured in VA. The real part of Sis the average power P, having units of 
</p>
<p>watts. The imaginary part of Sis the reactive power Q, having units of reactive volt-amperes, or VARs. 
</p>
<p>A phasor diagram illustrating S, P, and Q, is given in Fig. 16.8. The angle (rp 1 - 81) is the angle 
</p>
<p>between the voltage phasor V and the current phasor I. (rp 1 - 81) is additionally the phase of the complex 
</p>
<p>powerS. The power factor in the purely sinusoidal case is therefore 
</p>
<p>Imaginary 
axis 
</p>
<p>S= VI* 
</p>
<p>Real axis 
</p>
<p>Fig. 16.8 Power phasor diagram, for a sinusoidal system, illustrating the voltage, current, and complex power 
</p>
<p>phasors. </p>
<p/>
</div>
<div class="page"><p/>
<p>16.5 Harmonic Currents in Three Phase Systems 599 
</p>
<p>power factor= II~ II =cos ( q&gt; 1 - e 1) (16.30) 
</p>
<p>It should be emphasized that this equation is valid only for systems in which the voltage and current are 
</p>
<p>purely sinusoidal. The distortion factor of Eq. (16.24) then becomes unity, and the power factor is equal 
</p>
<p>to the displacement factor as in Eq. (16.30). 
</p>
<p>The reactive power Q does not lead to net transmission of energy between the source and load. 
When reactive power is present, the rms current and apparent power are greater than the minimum 
</p>
<p>amount necessary to transmit the average power P. In an inductor, the current lags the voltage by 90', 
</p>
<p>causing the displacement factor to be zero. The alternate storing and releasing of energy in an inductor 
</p>
<p>leads to current flow and nonzero apparent power, but the average power P is zero. Just as resistors con-
</p>
<p>sume real (average) power P, inductors can be viewed as consumers of reactive power Q. In a capacitor, 
the current leads to voltage by 90', again causing the displacement factor to be zero. Capacitors supply 
</p>
<p>reactive power Q, and are commonly placed in the utility power distribution system near inductive loads. 
If the reactive power supplied by the capacitor is equal to the reactive power consumed by the inductor, 
</p>
<p>then the net current (flowing from the source into the capacitor-inductive-load combination) will be in 
</p>
<p>phase with the voltage, leading unity power factor and minimum rms current magnitude. 
</p>
<p>It will be seen in the next chapter that phase-controlled rectifiers produce a nonsinusoidal cur-
</p>
<p>rent waveform whose fundamental component lags the voltage. This lagging current does not arise from 
</p>
<p>energy storage, but it does nonetheless lead to a reduced displacement factor, and to rms current and 
</p>
<p>apparent power that are greater than the minimum amount necessary to transmit the average power. 
</p>
<p>16.5 HARMONIC CURRENTS IN THREE PHASE SYSTEMS 
</p>
<p>The presence of harmonic currents can also lead to some special problems in three-phase systems. In a 
</p>
<p>four-wire three-phase system, harmonic currents can lead to large currents in the neutral conductors, 
</p>
<p>which may easily exceed the conductor rms current rating. Power factor correction capacitors may expe-
</p>
<p>rience significantly increased rms currents, causing them to fail. In this section, these problems are exam-
</p>
<p>ined, and the properties of harmonic current flow in three-phase systems are derived. 
</p>
<p>16.5.1 Harmonic Currents in Three-Phase 
Four-Wire Networks 
</p>
<p>Let us consider the three-phase four-wire network of Fig. 16.9. In general, we can express the Fourier 
</p>
<p>series of the line currents and line-neutral voltages as follows: 
</p>
<p>ia(t)=lao+ L lakcos(kmt-8ak) 
k= 1 
</p>
<p>ib(t)=lbO+ i; lhkcos(k(mt-120&deg;)-ebk) 
k= 1 
</p>
<p>(16.31) 
</p>
<p>ic(t) = l cO+ i: l ck cos (k(mt + 120')- eck) 
k = 1 </p>
<p/>
</div>
<div class="page"><p/>
<p>600 Power and Harmonics in Nonsinusoidal Systems 
</p>
<p>Ideal 
3&cent; 
</p>
<p>source 
</p>
<p>a 
</p>
<p>b 
</p>
<p>c i/t) 
</p>
<p>iJt) 
</p>
<p>Neutral connection 
</p>
<p>Fig. 16.9 Current flow in a three-phase four-wire network. 
</p>
<p>V aa(t) = Vm cos ( Wt) 
vb,.(t) = vm cos (wt - 120') 
vcn(t) = vm cos (wt + 120') 
</p>
<p>The neutral current is therefore in = ia + ib + ic, or 
</p>
<p>i,.(t) = f aO + f bO + f c0 + 
</p>
<p>Nonlinear 
loads 
</p>
<p>k~l l Iak cos (kwt- 8ak) +I bk cos (k(wt- 120')- 8bk) + Ick cos (k(wt + 120')- 8ck) 1 
</p>
<p>(16.32) 
</p>
<p>(16.33) 
</p>
<p>When the load is unbalanced (even though the voltages are balanced and undistorted), we can say little 
</p>
<p>else about the neutral and line currents. If the load is unbalanced and nonlinear, then the line and neutral 
</p>
<p>currents may contain harmonics of any order, including even and triplen harmonics. 
</p>
<p>Equation (16.33) is considerably simplified in the case where the loads are balanced. A bal-
</p>
<p>anced nonlinear load is one in which Iak = lbk = lck = Ik and eak = ebk = eck = ek, for all k; that is, the har-
monics of the three phases all have equal amplitudes and phase shifts. In this case, Eq. (16.33) reduces to 
</p>
<p>in(t) = 3/0 + L 3/ k cos (kwt- 8 k) 
k = 3.6.9 .... 
</p>
<p>(16.34) 
</p>
<p>Hence, the fundamental and most of the harmonics cancel out, and do not appear in the neutral conduc-
</p>
<p>tor. Thus, it is in the interests of the utility to balance their nonlinear loads as well as their harmonics. 
</p>
<p>But not all of the harmonics cancel out of Eq. (16.34): the de and triplen (triple-n, or 3,6,9, ... ) 
</p>
<p>harmonics add rather than cancel. The rms neutral current is 
</p>
<p>in,rms=3 
</p>
<p>Example 
</p>
<p>/2 
I~+ L k 
</p>
<p>k=3.6,9.-&middot;&middot; 2 
(16.35) 
</p>
<p>A balanced nonlinear load produces line currents containing fundamental and 20% third har-
</p>
<p>monic: ian(t) = / 1 cos(wt- 81) + 0.2/1 cos(3wt- 83). Find the rms neutral current, and compare its ampli-
tude to the rms line current amplitude. </p>
<p/>
</div>
<div class="page"><p/>
<p>16.5 Harmonic Currents in Three Phase Systems 601 
</p>
<p>Solution: 
</p>
<p>(16.36) 
</p>
<p>So the neutral current magnitude is 60% of the line current magnitude! The triplen harmonics in the three 
</p>
<p>phases add, such that 20% third harmonic leads to 60% third harmonic neutral current. Yet the presence 
</p>
<p>of the third harmonic has very little effect on the rms value of the line current. Significant unexpected 
</p>
<p>neutral current flows. 
</p>
<p>16.5.2 Harmonic Currents in Three-Phase 
</p>
<p>Three-Wire Networks 
</p>
<p>If there is no neutral connection to the wye-connected load, as in Fig. 16.10, then iJt) must be zero. If the 
</p>
<p>load is balanced, then Eq. (16.34) still applies, and therefore the de and trip len harmonics of the load cur-
</p>
<p>rents must be zero. Therefore, the line currents ia, ib, and ic cannot contain trip len or de harmonics. What 
</p>
<p>happens is that a voltage is induced at the load neutral point n', containing. de and trip len harmonics, 
</p>
<p>which eliminates the trip len and de load current harmonics. 
</p>
<p>This result is true only when the load is balanced. With an unbalanced load, all harmonics can 
</p>
<p>appear in the line currents, including triplen and de. In practice, the load is never exactly balanced, and 
</p>
<p>some small amounts of third harmonic line currents are measured. 
</p>
<p>With a delta-connected load as in Fig. 16.11, there is also no neutral connection, so the line cur-
</p>
<p>rents cannot contain triplen or de components. But the loads are connected line-to-line, and are excited 
</p>
<p>by undistorted sinusoidal voltages. Hence triplen harmonic and de currents do, in general, flow through 
</p>
<p>the nonlinear loads. Therefore, these currents simply circulate around the delta. If the load is balanced, 
</p>
<p>then again no trip len harmonics appear in the line currents. 
</p>
<p>Ideal 
3&cent; 
</p>
<p>source 
</p>
<p>a 
</p>
<p>b 
</p>
<p>Fig. 16.10 Current flow in a three-phase three-wire wye-connected network. 
</p>
<p>Nonlinear 
loads </p>
<p/>
</div>
<div class="page"><p/>
<p>602 Power and Harmonics in Nonsinusoidal Systems 
</p>
<p>Ideal 
3&cent; 
</p>
<p>source 
</p>
<p>a 
</p>
<p>b 
</p>
<p>Delta-
connected 
nonlinear 
</p>
<p>loads 
</p>
<p>Fig. 16.11 A balanced nonlinear delta-connected load may generate triplen current harmonics. These harmonics 
circulate around the delta, but do not flow through the lines if the load is balanced. 
</p>
<p>16.5.3 Harmonic Current Flow in Power Factor 
</p>
<p>Correction Capacitors 
</p>
<p>Harmonic currents tend to flow through shunt-connected power factor correction capacitors. To some 
</p>
<p>extent, this is a good thing because the capacitors tend to low-pass filter the power system currents, and 
</p>
<p>prevent nonlinear loads from polluting the entire power system. The flow of harmonic currents is then 
</p>
<p>confined to the nonlinear load and local power factor correction capacitors, and voltage waveform distor-
</p>
<p>tion is reduced. High-frequency harmonic currents tend to flow through shunt capacitors because the 
</p>
<p>capacitor impedance decreases with frequency, while the inductive impedance of transmission lines 
</p>
<p>increases with frequency. In this sense, power factor correction capacitors mitigate the effects of har-
</p>
<p>monic currents arising from nonlinear loads in much the same way that they mitigate the effects of reac-
</p>
<p>tive currents that arise from inductive loads. 
</p>
<p>But the problem is that the power factor correction capacitors may not 
</p>
<p>be rated to handle these harmonic currents, and hence there is a danger that the 
</p>
<p>capacitors may overheat and fail when they are exposed to significant harmonic 
</p>
<p>currents. The loss in capacitors is modeled using an equivalent series resistance 
</p>
<p>(esr) as shown in Fig. 16.12. The esr models dielectric loss (hysteresis of the 
</p>
<p>dielectric D-E loop), contact resistance, and foil and lead resistances. Power 
</p>
<p>loss occurs, equal to irm/(esr). Dielectric materials are typically poor conduc-
</p>
<p>tors of heat, so a moderate amount of power loss can cause a large temperature 
Fig. 16.12 Capacitor 
</p>
<p>rise in the center of the capacitor. In consequence, the rms current must be lim- equivalent circuit. 
</p>
<p>ited to a safe value. Losses are modeled by 
Typical power factor correction capacitors are rated by voltage V, fre- an equivalent series 
</p>
<p>quency f, and reactive power in kVARs. These ratings are computed from the resistance (esr). 
capacitance C and safe rms current Irms' assuming undistorted sinusoidal wave-
</p>
<p>forms, as follows: 
</p>
<p>d I V /rms rate rms vo tage rms = 2nf C (16.37) </p>
<p/>
</div>
<div class="page"><p/>
<p>16.6 AC Line Current Harmonic Standards 
</p>
<p>/2 
rated reactive power= ~ 
</p>
<p>2nfC 
</p>
<p>603 
</p>
<p>(16.38) 
</p>
<p>In an undistorted system, the rms current, and hence also the capacitor esr loss, cannot increase unless 
the rms voltage is also increased. But high-frequency harmonics can lead to larger rms currents without 
</p>
<p>an increased voltage. Any harmonics that flow result in increased rms current beyond the expected value 
predicted by Eq. (16.37). If the capacitor is not rated to handle additional power loss, then failure or pre-
</p>
<p>mature aging can occur. 
</p>
<p>16.6 AC LINE CURRENT HARMONIC STANDARDS 
</p>
<p>Besides the increased currents and reduced power factors of peak detection rectifiers, the harmonics 
</p>
<p>themselves can be detrimental: if large enough in magnitude, they can pollute the power system. Har-
</p>
<p>monic currents cause distortion of the voltage waveform via the power system series impedance. These 
</p>
<p>voltage harmonics can interfere with the operation of nearby loads. As noted previously, increased cur-
</p>
<p>rents in shunt capacitors, and increased losses in distribution transformers and ac machines, can lead to 
premature aging and failure of these devices. Odd triplen harmonics (triple-n: 3r&lt;l, gth, 15th, etc.) lead to 
</p>
<p>unexpectedly large neutral currents in three-phase systems. Harmonic currents can also excite system 
</p>
<p>resonances some distance from their source, with results that are difficult to predict. For these reasons, a 
number of organizations have adopted standards that limit the magnitudes of the harmonic currents that a 
load is allowed to inject into the ac line. The US military was one of the early organizations to recognize 
</p>
<p>these problems; the very strict 3% limit was initially adopted. The standards adopted by the IEC and 
IEEE are more recent, and are intended for conventional utility systems. A fourth example, not discussed 
</p>
<p>here, is the telephone interference factor, which limits power distribution system harmonics in cases 
</p>
<p>when telephone lines and power lines share the same poles. 
</p>
<p>16.6.1 International Electrotechnical Commission 
</p>
<p>Standard 1000 
</p>
<p>This international agency adopted a first draft of their IEC 555 standard in 1982. It has since undergone a 
number of revisions, and has been superceded by IEC 1000 [7]. This standard is now enforced in Europe, 
making it a de facto standard for commercial equipment intended to be sold worldwide. 
</p>
<p>The IEC 1000-3-2 standard covers a number of different types of low power equipment, with 
differing harmonic limits. It specifically limits harmonics for equipment having an input current of up to 
16 A, connected to 50 or 60Hz, 220 V to 240 V single phase circuits (two or three wire), as well as 
</p>
<p>380 V to 415 V three phase (three or four wire) circuits. In a city environment such as a large building, a 
</p>
<p>large fraction of the total power system load can be nonlinear. For example, a major portion of the elec-
</p>
<p>trical load in a building is comprised of fluorescent lights, which present a very nonlinear characteristic 
</p>
<p>to the utility system. A modem office may also contain a large number of personal computers, printers, 
</p>
<p>copiers, etc., each of which may employ peak detection rectifiers. Although each individual load is a neg-
</p>
<p>ligible fraction of the total local load, these loads can collectively become significant. 
</p>
<p>The IEC 1000-3-2 standard defines several categories of equipment, each of which is covered 
</p>
<p>by a different set of harmonic limits. As an example, Table 16.1 shows the harmonic limits for Class A 
equipment, which includes low harmonic rectifiers for computer and other office equipment. 
</p>
<p>The European norm EN 61000-3-2 defines similar limits. </p>
<p/>
</div>
<div class="page"><p/>
<p>604 Power and Harmonics in Nonsinusoidal Systems 
</p>
<p>Table 16.1 IEC 1000-3-2 Harmonic current limits, class A 
</p>
<p>Odd harmonics 
</p>
<p>Harmonic number Maximum current 
</p>
<p>3 2.30A 
</p>
<p>5 1.14A 
</p>
<p>7 0.77 A 
</p>
<p>9 0.40A 
</p>
<p>11 0.33A 
</p>
<p>13 0.21 A 
</p>
<p>15:s;n:s;39 0.15 A&middot; (15/n) 
</p>
<p>16.6.2 IEEE/ ANSI Standard 519 
</p>
<p>Even harmonics 
</p>
<p>Harmonic number 
</p>
<p>2 
</p>
<p>4 
</p>
<p>6 
</p>
<p>8 ::;n::;4o 
</p>
<p>Maximum current 
</p>
<p>1.08A 
</p>
<p>0.43A 
</p>
<p>0.30A 
</p>
<p>0.23 A&middot;(8/n) 
</p>
<p>In 1993, the IEEE published a revised draft standard limiting the amplitudes of current harmonics, IEEE 
</p>
<p>Guide for Harmonic Control and Reactive Compensation of Static Power Converters. The harmonic lim-
</p>
<p>its are based on the ratio of the fundamental component of the load current IL to the short circuit current 
</p>
<p>at the point of common coupling (PCC) at the utility Isc&middot; Stricter limits are imposed on large loads than 
</p>
<p>on small loads. The limits are similar in magnitude to IEC 1000, and cover high voltage loads (of much 
</p>
<p>higher power) not addressed by IEC 1000. Enforcement of this standard is presently up to the local utility 
</p>
<p>company. 
</p>
<p>The odd harmonic limits for general distribution systems at voltages of 120 V to 69 kV are 
</p>
<p>listed in Table 16.2. The limits for even harmonics are 25% of the odd harmonic limits. Limits for gen-
</p>
<p>eral distribution systems at 69.001 kV to 161 kV are 50% of the values listed in Table 16.2. De current 
</p>
<p>components and half-wave rectifiers are not allowed. 
</p>
<p>It is the responsibility of the power consumer to meet these current harmonic standards. Stan-
dard IEEE-519 also specifies maximum allowable voltage harmonics, listed in Table 16.3. It is the 
</p>
<p>responsibility of the utility, or power supplier, to meet these limits. Both total harmonic distortion and 
</p>
<p>maximum individual harmonic magnitudes are limited. 
</p>
<p>Table 16.2 IEEE-519 Maximum odd harmonic current limits for general distribution systems, 120 V to 69 kV 
</p>
<p>ISCIIL n&lt; 11 11:s;n&lt;17 17:s;n&lt;23 23::; n &lt; 35 35::; n THD 
</p>
<p>&lt;20 4.0% 2.0% 1.5% 0.6% 0.3% 5.0% 
</p>
<p>20-50 7.0% 3.5% 2.5% 1.0% 0.5% 8.0% 
</p>
<p>50-100 10.0% 4.5% 4.0% 1.5% 0.7% 12.0% 
</p>
<p>100-1000 12.0% 5.5% 5.0% 2.0% 1.0% 15.0% 
</p>
<p>&gt; 1000 15.0% 7.0% 6.0% 2.5% 1.4% 20.0% </p>
<p/>
</div>
<div class="page"><p/>
<p>Table 16.3 IEEE-519 Voltage distortion limits 
</p>
<p>Bus voltage at PCC 
</p>
<p>69 kV and lower 
</p>
<p>69.001 kV to 161 kV 
</p>
<p>Above 161 kV 
</p>
<p>BIBLIOGRAPHY 
</p>
<p>Individual harmonics 
</p>
<p>3.0% 
</p>
<p>1.5% 
</p>
<p>1.0% 
</p>
<p>Bibliography 605 
</p>
<p>THD 
</p>
<p>5.0% 
</p>
<p>2.5% 
</p>
<p>1.5% 
</p>
<p>[1] J. ARRILLAGA, D. BRADLEY, and P. BODGER, Power System Harmonics, New York: John Wiley &amp; Sons, 
</p>
<p>1985. 
</p>
<p>[2] R. SMITY and R. STRATFORD, "Power System Harmonics Effects from Adjustable-Speed Drives," IEEE 
</p>
<p>Transactions on Industry Applications, Vol. IA-20, No.4, pp. 973-977, July/August 1984. 
</p>
<p>[3] A. EMANUEL, "Powers in Nonsinusoidal Situations-A Review of Definitions and Physical Meaning," 
</p>
<p>IEEE Transactions on Power Delivery, Vol. 5, No.3, pp. 1377-1389, July 1990. 
</p>
<p>[4] N. MOHAN, T. UNDELAND, and W. ROBBINS, Power Electronics: Converters, Applications, and Design, 
</p>
<p>Second edition, New York: John Wiley &amp; Sons, 1995. 
</p>
<p>[5] J. KASSAKIAN, M. SCHLECHT, and G. VERGESE, Principles of Power Electronics, Massachusetts: Addison-
</p>
<p>Wesley, 1991. 
</p>
<p>[6] R. GRETSCH, "Harmonic Distortion of the Mains Voltage by Switched-Mode Power Supplies-Assess-
</p>
<p>ment of the Future Development and Possible Mitigation Measures," European Power Electronics Confer-
</p>
<p>ence, 1989 Record, pp. 1255-1260. 
</p>
<p>[7] IEC 1000-3-2, First Edition, Commission Electrotechnique Internationale, Geneva, 1995. 
</p>
<p>PROBLEMS 
</p>
<p>16.1 Passive rectifier circuit. In the passive rectifier circuit of Fig. 16.13, Lis very large, such that the inductor 
</p>
<p>current i(t) is essentially de. All components are ideal. 
</p>
<p>v8(t) 
</p>
<p>230Vrms 
</p>
<p>50Hz 
</p>
<p>sl 
</p>
<p>Fig. 16.13 Passive rectifier circuit of Problem 16.1 
</p>
<p>(a) Determine the de output voltage, current, and power. 
</p>
<p>+ 
</p>
<p>v R 40Q </p>
<p/>
</div>
<div class="page"><p/>
<p>606 Power and Harmonics in Nonsinusoidal Systems 
</p>
<p>(b) Sketch the ac line current waveform igCt) and the rectifier output voltage waveform vR(t). 
</p>
<p>(c) Determine the ac line current rms magnitude, fundamental rms magnitude, and third harmonic 
</p>
<p>rrns magnitude. Does this rectifier network conform to the IEC-1 000 harmonic current limits? 
</p>
<p>(d) Determine the power factor, measured at surfaces S 1 and S2&bull; 
</p>
<p>16.2 The three-phase rectifier of Fig. 16.14 is connected to a balanced 60Hz 3&cent;ac 480 V (rms, line-line) sinu-
</p>
<p>soidal source as shown. All elements are ideal. The inductance L is large, such that the current i(t) is 
</p>
<p>essentially constant, with negligible 360Hz ripple. 
</p>
<p>Balanced 
3&cent;ac 
</p>
<p>480V 
</p>
<p>&lt;Pa 
</p>
<p>ia(t) 
</p>
<p>&lt;Pb 
</p>
<p>ib(t) 
</p>
<p>ic(t) 
&lt;Pc --+-' 
</p>
<p>Fig. 16.14 Three-phase rectifier circuit of Problem 16.2 
</p>
<p>(a) Sketch the waveform v it). 
</p>
<p>(b) Determine the de output voltage V. 
</p>
<p>(c) Sketch the line current waveforms iJt), ib(t), and ic(t). 
</p>
<p>(d) Find the Fourier series of ia(t). 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>v R 
20Q 
</p>
<p>(e) Find the distortion factor, displacement factor, power factor, and line current THD. 
</p>
<p>16.3 Harmonic pollution police. In the network of Fig. 16.15, voltage harmonics are observed at the indicated 
</p>
<p>surface. The object of this problem is to decide whether to blame the source or the load for the observed 
</p>
<p>harmonic pollution. Either the source element or the load element contains a nonlinearity that generates 
</p>
<p>harmonics, while the other element is linear. 
</p>
<p>--------------------------------------------1 
</p>
<p>Source 
</p>
<p>i(t) 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>Surface 
s 
</p>
<p>Fig. 16.15 Single-phase power system of Problems 16.3 to 16.5 
</p>
<p>r&middot;--------------------1 
</p>
<p>l ' : I 
</p>
<p>lz2 
</p>
<p>I 
I Load 
'---------------------
</p>
<p>(a) Consider first the case where the load is a passive linear impedance Zis), and hence its phase 
</p>
<p>lies in the range - 90' :::; L.Z2Uw) :::; + 90' for all positive w. The source generates harmonics. 
Express the average power P in the form 
</p>
<p>P= i; p" 
n=O 
</p>
<p>where P11 is the average power transmitted to the load by harmonic number n. What can you say 
</p>
<p>about the polarities of the P 11 s? </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 607 
</p>
<p>(b) Consider next the case where the load is nonlinear, while the source is linear and can be modeled 
</p>
<p>by a Thevenin-equivalent sinusoidal voltage source and linear impedance Z1 (s). Again express 
</p>
<p>the average power P as a sum of average powers, as in part (a). What can you say about the 
</p>
<p>polarities of the Pn sin this case? 
</p>
<p>(c) The following Fourier series are measured: 
</p>
<p>Harmonic v(t) 
</p>
<p>number Magnitude Phase 
</p>
<p>230V 0' 
</p>
<p>3 20V 180' 
</p>
<p>5 8V 60' 
</p>
<p>Who do you accuse? Explain your reasoning. 
</p>
<p>Magnitude 
</p>
<p>6A 
</p>
<p>4A 
</p>
<p>lA 
</p>
<p>i(t) 
</p>
<p>Phase 
</p>
<p>-20' 
</p>
<p>20' 
</p>
<p>- 110' 
</p>
<p>16.4 For the network and waveforms of Problem 16.3, determine the power factor at the indicated surface, 
</p>
<p>and the average power flowing to the load. Harmonics higher in frequency than the fifth harmonic are 
</p>
<p>negligible in magnitude. 
</p>
<p>16.5 Repeat Problem 16.3(c), using the following Fourier series: 
</p>
<p>Harmonic v(t) 
</p>
<p>number Magnitude Phase 
</p>
<p>I 120V 0' 
</p>
<p>3 4V 60' 
</p>
<p>5 2V -160' 
</p>
<p>Magnitude 
</p>
<p>5A 
</p>
<p>0.5A 
</p>
<p>0.2A 
</p>
<p>i(t) 
</p>
<p>Phase 
</p>
<p>25' 
</p>
<p>40' 
</p>
<p>-100' 
</p>
<p>16.6 A balanced three-phase wye-connected load is constructed using a 20 Q resistor in each phase. This load 
</p>
<p>is connected to a balanced three-phase wye-connected voltage source, whose fundamental voltage com-
</p>
<p>ponent is 380 Vrms line-to-line. In addition, each (line-to-neutral) voltage source produces third and 
</p>
<p>fifth harmonics. Each harmonic has amplitude 20 Vrms, and is in phase with the (line-to-neutral) funda-
</p>
<p>mental. 
</p>
<p>(a) The source and load neutral points are connected, such that a four-wire system is obtained. Find 
</p>
<p>the Fourier series of the line currents and the neutral current. 
</p>
<p>(b) The neutral connection is broken, such that a three-wire system is obtained. Find the Fourier 
</p>
<p>series of the line currents. Also find the Fourier series of the voltage between the source and load 
</p>
<p>neutral points. </p>
<p/>
</div>
<div class="page"><p/>
<p>17 
Line-Commutated Rectifiers 
</p>
<p>Conventional diode peak-detection rectifiers are inexpensive, reliable, and in widespread use. Their 
</p>
<p>shortcomings are the high harmonic content of their ac line currents, and their low power factors. In this 
</p>
<p>chapter, the basic operation and ac line current waveforms of several of the most common single-phase 
</p>
<p>and three-phase diode rectifiers are summarized. Also introduced are phase-controlled three-phase recti-
</p>
<p>fiers and inverters, and passive harmonic mitigation techniques. Several of the many references in this 
</p>
<p>area are listed at the end of this chapter [ 1-15]. 
</p>
<p>Rigorous analytical design of line-commutated rectifier and filter circuits is unfeasible for all 
</p>
<p>but the simplest of circuits. Typical peak-detection rectifiers are numerically ill-conditioned, because 
</p>
<p>small changes in the de-side ripple voltage lead to large changes in the ac line current waveforms. There-
</p>
<p>fore, the discussions of this chapter are confined to mostly qualitative arguments, with the objective of 
</p>
<p>giving the reader some insight into the physical operation of rectifier/filter circuits. Waveforms, harmonic 
</p>
<p>magnitudes, and power factors are best determined by measurement or computer simulation. 
</p>
<p>17.1 THE SINGLE-PHASE FULL-WAVE RECTIFIER 
</p>
<p>A single-phase full-wave rectifier, with uncontrolled diode rectifiers, is shown in Fig. 17.1. The circuit 
</p>
<p>includes a de-side L-C filter. There are two conventional uses for this circuit. In the traditional full-wave 
</p>
<p>rectifier, the output capacitor is large in value, and the de output voltage v(t) has negligible ripple at the 
</p>
<p>second harmonic of the ac line frequency. Inductor L is most often small or absent. Additional small 
</p>
<p>inductance may be in series with the ac source v8(t). A second conventional use of this circuit is in the 
</p>
<p>low-harmonic rectifiers discussed in the next chapter. In this case, the resistive load is replaced by a de-
</p>
<p>de converter that is controlled such that its power input port obeys Ohm's law. For the purposes of under-
</p>
<p>standing the rectifier waveforms, the converter can be modeled by an effective resistance R, as in the cir-</p>
<p/>
</div>
<div class="page"><p/>
<p>610 Line-Commutated Rectifiers 
</p>
<p>+ 
</p>
<p>v(t) R 
</p>
<p>Fig. 17.1 Conventional single-phase full-wave rectifier, with de-side L-C filter. 
</p>
<p>cuit of Fig. 17 .1. In this application, the L-C filter is required to filter the conducted electromagnetic 
</p>
<p>interference (EMI) generated by the converter. The inductor and capacitor element values are typically 
</p>
<p>small in value, and v(t) is approximately a rectified sinusoid. More generally, there may be several sec-
</p>
<p>tions of L-C filter networks, connected to both the de and ac sides of the diode rectifier, which filter EMI, 
</p>
<p>smooth the de output voltage, and reduce the ac line current harmonics. 
</p>
<p>The presence of any filter degrades the ac current waveform of the rectifier. With no reactive 
</p>
<p>elements (L = 0 and C = 0), the rectifier presents a purely resistive load to the ac input. The output volt-
age v(t) is then a rectified sinusoid, there are no ac line current harmonics, and the power factor is unity. 
</p>
<p>Addition of reactive elements betWeen the rectifier diodes and the load leads in general to ac line current 
</p>
<p>harmonics. Given that such a filter is necessary, one might ask what can be done to keep these harmonics 
</p>
<p>as small as possible. In this section, the dependence of the ac line current total harmonic distortion on the 
</p>
<p>filter parameters is described. 
</p>
<p>The circuit of Fig. 17.1 generates odd harmonics of the ac line voltage in the ac line current. The 
</p>
<p>de output voltage contains de and even harmonics of the ac line voltage. The circuit exhibits several 
</p>
<p>modes of operation, depending on the relative values of L, C, and R. It is easiest to understand these 
</p>
<p>modes by considering the limiting cases, as follows. 
</p>
<p>17.1.1 Continuous Conduction Mode 
</p>
<p>When the inductor L is very large, then the inductor current iL(t) is essentially constant. This follows 
</p>
<p>from the inductor definition vL(t) = LdiL(t)ldt. For a given applied inductor voltage waveform vL(t), the 
</p>
<p>slope diL(t)/dt can be made arbitrarily small by making L sufficiently large. In the limiting case where L 
</p>
<p>is infinite, the slope diL(t)ldt becomes zero, and the inductor current is constant de. To provide a path for 
</p>
<p>the constant inductor to flow, at least two of the rectifier diodes must conduct at any given instant in time. 
</p>
<p>For the circuit of Fig. 17.1, diodes D 1 and D3 conduct when the ac line voltage v 8(t) is positive, and D2 
and D4 conduct when vgCt) is negative. The ac line current waveform is therefore a square wave, with 
</p>
<p>igCt) = iL(t) when vgCt) is positive, and igCt) =- iL(t) when vgCt) is negative. The diode conduction angle~. 
</p>
<p>defined as the angle through which one of the diodes conducts, is equal to 180" in CCM. 
</p>
<p>The rms value of a square wave is equal to its peak value Ipk' in this case the de load current. 
</p>
<p>The fundamental component of a square wave is equal to 4IP/n. The square-wave contains odd harmon-
</p>
<p>ics which vary as 1/n. The distortion factor is therefore 
</p>
<p>distortion factor= I;&middot; '"lS = 4, = 90.0% 
rms nv2 
</p>
<p>(17.1) 
</p>
<p>The total harmonic distortion is </p>
<p/>
</div>
<div class="page"><p/>
<p>17.1 The Single-Phase Full-Wave Rectifier 611 
</p>
<p>THD==29% 
</p>
<p>Fig. 17.2 Typical ac line current and voltage waveforms, continuous conduction mode.f0!JL = 5, Q = 0.25. 
</p>
<p>THD= ( 1 ) 2 . . -1 =48.3% 
distortiOn factor 
</p>
<p>(17.2) 
</p>
<p>So the limiting case of the large inductor leads to some significant harmonic distortion, although it is not 
</p>
<p>as bad as the peak detection rectifier case. Since the square wave is in phase with the ac input voltage, the 
</p>
<p>displacement factor is unity, and hence the power factor is equal to the distortion factor. 
</p>
<p>Whenever the inductor is sufficiently large, the rectifier diodes conduct continuously (i.e., there 
</p>
<p>is no time interval in which all four diodes are reverse-biased). This is called the continuous conduction 
</p>
<p>mode (CCM). A typical ac line current waveform is plotted in Fig. 17.2 for a finite but large value of L. It 
</p>
<p>can be seen that the ac line current is discontinuous at the ac line voltage zero crossing, as in the square-
</p>
<p>wave limiting case. Some ringing is also present. This waveform contains a total harmonic distortion of 
</p>
<p>approximately 29%. 
</p>
<p>17.1.2 Discontinuous Conduction Mode 
</p>
<p>The opposite case occurs when the inductor is very small and the capacitor C is very large. This is the 
</p>
<p>peak detector circuit. In the limit as L goes to zero and C goes to infinity, the ac line current approaches a 
</p>
<p>string of delta (impulse) functions that coincide with the peaks of the sinusoidal input voltage waveform. 
</p>
<p>It can be shown that, in this limiting case, the THD becomes infinite while the distortion factor and 
</p>
<p>power factor become zero. Of course, in the practical case the current is not infinite; nonetheless, large 
</p>
<p>THD with low power factor is quite possible. The diodes conduct for less than one-half of the ac line 
</p>
<p>period, and hence~&lt; 180&deg; in DCM. 
</p>
<p>Whenever the capacitor is large and the inductor is small, the rectifier tends to "peak detect," 
</p>
<p>and the rectifier operates in the discontinuous conduction mode (DCM). There exist time intervals of 
</p>
<p>nonzero length where all four rectifier diodes are reverse-biased. A typical set of waveforms is plotted in 
</p>
<p>Fig. 17.3, where the capacitor is large but finite, and the inductor is small but nonzero. The ac line volt-
</p>
<p>age and the value of the load resistance are the same as in Fig. 17 .2, yet the peak current is substantially 
</p>
<p>larger. The THD for this waveform is 145%, and the distortion factor is 57%. </p>
<p/>
</div>
<div class="page"><p/>
<p>612 Line-Commutated Rectifiers 
</p>
<p>THD= 145% 
</p>
<p>Fig. 17.3 Typical ac line current and voltage waveforms, discontinuous conduction mode.f0/fL = 8.4. Q = 121. 
</p>
<p>17.1.3 Behavior When Cis Large 
</p>
<p>A variety of authors have discussed the solution of passive rectifier circuits; several works are listed in 
</p>
<p>the references [8-15]. Analysis of even the simple circuit of Fig. 17.1 is surprisingly complex. For the 
</p>
<p>case when Cis infinite, it was shown in [8] that the rectifier waveshapes can be expressed as a function of 
</p>
<p>a single dimensionless parameter Kv defined as 
</p>
<p>(17.3) 
</p>
<p>where TL = l!A is the ac line period. Equation (17 .3) is of the same form as Eq. (5.6), used to define the 
dimensionless parameter K which governs the DCM behavior of PWM converters. Figure 17.4 illustrates 
</p>
<p>the behavior of the single-phase rectifier circuit of Fig. 17.1, as a function of KL and for infinite C [8]. 
</p>
<p>When KL is greater than approximately 0.1, the rectifier operates in CCM, with waveforms similar to 
</p>
<p>those in Fig. 17.2. 
</p>
<p>The voltage conversion ratio M is defined as 
</p>
<p>(17.4) 
</p>
<p>where Vm is the peak value of the sinusoidal ac input voltage. In CCM, the output voltage is ideally inde-
</p>
<p>pendent of load, with M = 2/n. Addition of ac-side inductance can cause the output voltage to exhibit a 
</p>
<p>dependence on load current. The total harmonic distortion in CCM is nearly constant and equal to the 
</p>
<p>value given by Eq. (17.2). 
</p>
<p>Near the boundary between CCM and DCM, the fundamental component of the line current 
</p>
<p>significantly lags the line voltage. The displacement factor reaches a minimum value slightly less than 
</p>
<p>80%, and power factors between 70% and 80% are observed. 
</p>
<p>For KL &lt;ik'::: 0.1, the rectifier operates heavily in DCM, as a peak-detection rectifier. As KL is 
</p>
<p>decreased, the displacement factor approaches unity, while the THD increases rapidly. The power factor 
</p>
<p>is dominated by the distortion factor. The output voltage becomes dependent on the load, and hence the 
</p>
<p>rectifier exhibits a small but nonzero output impedance. 
</p>
<p>For KL less than approximately 0.05, the waveforms are unchanged when some or all of the 
</p>
<p>inductance is shifted to the ac side of the diode bridge. Figure 17.4 therefore applies to rectifiers contain-</p>
<p/>
</div>
<div class="page"><p/>
<p>cos (&lt;pi- 81), 
</p>
<p>PF, M 
</p>
<p>1.0 
</p>
<p>0.9 
</p>
<p>0.8 
</p>
<p>0.7 
</p>
<p>0.6 
</p>
<p>0.5 
</p>
<p>17.1 The Single-Phase Full-Wave Rectifier 613 
</p>
<p>THD 
</p>
<p>180&deg; 
</p>
<p>PF 
150% 135&deg; 
</p>
<p>100% 90&deg; 
</p>
<p>M 
</p>
<p>r----=:::-----=t 50% 45&deg; 
THD 
</p>
<p>DCM +----[:.___. CCM 
</p>
<p>0.4 -0 
0 
0 
0 
</p>
<p>KL 
</p>
<p>Fig. 17.4 Diode conduction angle B. displacement factor, power factor, conversion ratio, and total harmonic distor-
tion of the rectifier circuit of Fig. 17.1, with infinite capacitance. 
</p>
<p>ing both ac-side and de-side inductance, provided that the circuit operates sufficiently deeply in DCM. 
</p>
<p>The parameter KL is computed according to Eq. (17.3), with L taken to be the total ac-side plus de-side 
</p>
<p>inductance. A common example is the case where the circuit contains no physical discrete inductor; the 
</p>
<p>performance is then determined by parasitic elements such as the capacitor equivalent series inductance, 
</p>
<p>the inductance of the utility distribution wiring, and transformer leakage inductances. 
</p>
<p>17 .1.4 Minimizing THD When C is Small 
</p>
<p>Let us now consider the performance of the second case, in which the inductor and capacitor are small 
</p>
<p>and are intended solely to prevent load-generated EMI from reaching the ac line. In this case, de-side fil-
</p>
<p>tering of the low-frequency even voltage harmonics of the ac line frequency is not necessary. The filter 
</p>
<p>can be characterized by a comer frequency f0 , characteristic impedance R0 , and Q-factor, where 
</p>
<p>(17.5) </p>
<p/>
</div>
<div class="page"><p/>
<p>614 Line-Commutated Rectifiers 
</p>
<p>To obtain good filtering of the EMI, the comer frequency fo should be selected to be sufficiently low. 
</p>
<p>However, as can be seen from Eq. (I7.5), reducing the value ofj0 requires increasing the values of L 
</p>
<p>and/or C. As described above, it is undesirable to choose either element value too large, because large 
</p>
<p>distortion results. So fo should not be too low, and there is a limit to the amount of filtering that can be 
</p>
<p>obtained without significantly distorting the ac line current waveform. 
</p>
<p>How low canf0 be? Oncef0 is chosen, how should Land C be chosen such that THD is mini-
</p>
<p>mized? We might expect that THD is increased when the phase of the filter input impedance - Z;(jw), 
</p>
<p>evaluated at the second harmonic of the line frequency or 2fL, differs significantly from o&middot;. When the 
zero crossings of the voltage and current waveforms do not coincide, then diode switching distorts the 
</p>
<p>current waveform. To a lesser extent, input impedance phase shift at the higher-order even harmonic fre-
</p>
<p>quencies of the ac line frequency should also affect the THD. The input impedance Z;(s) contains two 
</p>
<p>zeroes at frequency f0, and a pole at frequency !p = f0/Q. To obtain small phase shift at low frequency,J0 
must be sufficiently large. In addition, Q must be neither too small nor too large: small Q causes the 
</p>
<p>zeroes atf0 to introduce low-frequency phase shift, while large Q causes the pole at!p to occur at low fre-
quency. 
</p>
<p>An approximate plot ofTHD vs. the choice ofj0 and Q is given in Fig. I7.5. It can be seen that 
</p>
<p>there is an optimum choice for Q: minimum THD occurs when Q lies in the range 0.5 to I. A typical 
</p>
<p>waveform is plotted for the choicef0/fL = 10, Q =I, in Fig. I7.6. The THD for this waveform is 3.6%, 
</p>
<p>and the distortion factor is 99.97%. 
</p>
<p>Small Q corresponds to CCM operation, with large L and small C. In the extreme case as 
</p>
<p>Q -+ 0, the ac line current tends to a square wave with THD = 48%. Large Q corresponds to DCM opera-
</p>
<p>tion, with small L and large C. In the extreme case as Q -+ oo, the ac line current tends to a string of delta 
</p>
<p>functions with THD-+ oo, The optimum choice of Q leads to operation near the CCM-DCM boundary, 
</p>
<p>such that the ac line current waveform contains neither step changes nor subintervals of zero current. 
</p>
<p>In the case when the load resistance R varies over a wide range of values, it may be difficult to 
</p>
<p>optimize the circuit such that low THD is always obtained. It can be seen that increasing f0/ft leads to 
low THD for a wider range of load resistance. For example, whenf0 = 5fv THD :o; 10% can be obtained 
</p>
<p>only for Q between approximately 0.6 and 1.5, which is a 2.5: I range of load resistance variations. If the 
</p>
<p>50 
</p>
<p>10 
</p>
<p>10 
</p>
<p>folft 
</p>
<p>THD=30%! THD=lO% 
</p>
<p>THD=3% 
</p>
<p>THD=l% 
</p>
<p>THD=0.5% 
</p>
<p>100 
</p>
<p>Fig. 17.5 Approximate total harmonic distortion of the single-phase diode rectifier with de-side L-C filter. </p>
<p/>
</div>
<div class="page"><p/>
<p>17.2 The Three-Phase Bridge Rectifier 615 
</p>
<p>THD=3.6% 
</p>
<p>Fig. 17.6 Typical ac line current and voltage waveforms, near the boundary between continuous and discontinu-
</p>
<p>ous modes and with small de filter capacitor.f0ifL = 10, Q = 1. 
</p>
<p>filter cutoff frequency f0 is increased to 20fv then THD :&lt;::: 10% is obtained for Q between approximately 
0.15 and 7, or nearly a 50:1 range of resistance variations. In most cases, maximum harmonic limits are 
</p>
<p>enforced only at full load, and hence it is possible to design with relatively low values off0/fL if desired. 
</p>
<p>17.2 THE THREE-PHASE BRIDGE RECTIFIER 
</p>
<p>A basic full-wave three-phase uncontrolled rectifier with LC output filter is shown in Fig. 17 .7. Its behav-
</p>
<p>ior is similar to the single-phase case, in that it exhibits both continuous and discontinuous conduction 
</p>
<p>modes, depending on the values of L and C. The rectifier generates odd non-triplen harmonics in the ac 
line current. So the ac line current may contain 1st, 5th, 7th, I 1 th, 13th, etc. harmonics. The de output may 
</p>
<p>contain de and even triplen harmonics: 0, 6, 12, 18, etc. 
</p>
<p>In the basic circuit of Fig. 17.7, no more than two of the six diodes can conduct during each 
</p>
<p>interval, and hence the line current waveforms must contain intervals of nonzero length during which the 
</p>
<p>current is zero. Unlike the single-phase case, the ac line current waveform must contain distortion even 
</p>
<p>when the filter elements are removed. 
</p>
<p>17.2.1 Continuous Conduction Mode 
</p>
<p>In the continuous conduction mode, each ac line current is nonzero for 120 degrees out of each line half-
</p>
<p>cycle. For the remaining 60 degrees, the current is zero. This mode occurs when the inductance L is suf-
</p>
<p>ia(t) iL(t) L 
</p>
<p>&cent;a 
+ 
</p>
<p>D3 
3&cent; 
</p>
<p>&cent;b c v de load ac R 
</p>
<p>&cent;c 
</p>
<p>Fig. 17.7 Basic uncontrolled 30 bridge rectifier circuit, with de-side ~C filter. </p>
<p/>
</div>
<div class="page"><p/>
<p>616 Line-Commutated Rectifiers 
</p>
<p>Fig. 17.8 Ac line current waveform ia(t), for the case 
</p>
<p>when inductor L is large. The phase is drawn with respect 
</p>
<p>to the zero crossing of the line-to-neutral voltage v an(t). 
</p>
<p>ficiently large, as well as when the filter elements Land Care removed entirely. 
</p>
<p>In the limit, when L is very large, then the current iL(t) is essentially constant. The current in 
</p>
<p>phase a, iaCt), is then as shown in Fig. 17 .8. It can be shown that the Fourier series for this waveform is 
</p>
<p>ia(t) = n= l.~.ll, n'h I L sin ( ~) sin ( ;n) sin ( ncot) (17.6) 
</p>
<p>which is similar to the spectrum of the square wave of the single-phase case, but with the trip len harmon-
</p>
<p>ics missing. The THD of this waveform is 31%, and the distortion factor is 3/n = 95.5%. As in the case of 
</p>
<p>the square wave, the amplitude of the odd nontriplen n1h harmonic is (lin) times the fundamental ampli-
</p>
<p>tude. So this waveform contains 20% fifth harmonic, 14% seventh harmonic, 9% eleventh harmonic, etc. 
</p>
<p>It is interesting that, in comparison with the square-wave single-phase case, the missing 60&deg; in the three-
</p>
<p>phase case improves the THD and power factor, by removing the trip len harmonics. 
</p>
<p>With a less-than-infinite value of inductance, the output ripple causes the ac line currents to be 
</p>
<p>rounded, as in the typical waveform of Fig. 17.9. This waveform has a 31.9% THD, with a distortion fac-
</p>
<p>tor that is not much different from the waveform of Fig. 17 .8. 
</p>
<p>THD = 31.9% 
</p>
<p>Fig. 17.9 Continuous conduction mode ac line-neutral voltages and phase a current, for a moderate value of 
</p>
<p>inductance. 
</p>
<p>17.2.2 Discontinuous Conduction Mode 
</p>
<p>If the inductance is further reduced, then the three-phase rectifier enters the discontinuous conduction 
</p>
<p>mode. The rectifier then begins to peak-detect, and the current waveforms become narrow pulses of high 
</p>
<p>amplitude, occurring near the peaks of the line-line voltages. The phase a line current ia(t) contains two 
</p>
<p>positive and two negative pulses, at the positive and negative peaks of the line-line voltages vab(t) and 
</p>
<p>v ac(t). As in the single-phase case, the total harmonic distortion becomes quite large in this case, and the </p>
<p/>
</div>
<div class="page"><p/>
<p>17.3 Phase Control 617 
</p>
<p>THD=99.3% 
</p>
<p>Fig. 17.10 Discontinuous conduction mode ac line-neutral voltages and phase a current. 
</p>
<p>power factor can be significantly degraded. 
</p>
<p>A typical waveform is given in Fig. 17.1 0. This waveform has a THD of 99 .3%, and a distortion 
</p>
<p>factor of 71%. This would be considered unacceptable in high-power applications, except perhaps at 
</p>
<p>light load. 
</p>
<p>17.3 PHASE CONTROL 
</p>
<p>There are a wide variety of schemes for controlling the de output of a 3&cent; rectifier using thyristors [1,2]. 
</p>
<p>The most common one is shown in Fig. 17.11, in which the six diodes of Fig. 17.7 are replaced by silicon 
</p>
<p>controlled rectifiers (SCRs). Typical waveforms are given in Fig. 17.12, for large de-side filter induc-
</p>
<p>tance. 
</p>
<p>If Q 1 were an uncontrolled diode, it would conduct whenever the line-to-line voltage v ab or v ac is 
the largest in magnitude of the six line-line voltages vab' vbc&bull; vca' vba' vcb' and vca&middot; This occurs for 120' of 
</p>
<p>each cycle, beginning at the point where vab = vcb&middot; In Fig. 17.12, this occurs at wt = 60'. The output volt-
</p>
<p>age of the controlled rectifier is controlled by delaying the firing of Q 1 by an angle a, such that Q 1 begins 
</p>
<p>conducting at wt = 60' + a. This has the effect of reducing the de output voltage. 
There can be no de component of voltage across inductor L. Hence, in steady-state, the de com-
</p>
<p>ponent of the rectifier output voltage vR(t) must equal the de load voltage V. But vR(t) is periodic, with 
period equal to six times the ac line period (or 60'). So the de component of vR(t) can be found by Fou-
</p>
<p>rier analysis, and is equal to the average value of vR(t). Over one 60' interval, for example 
</p>
<p>(60' +a):::; wt:::; (120' +a), vR(t) follows the line-line voltage vab(t) = 3Vm sin (wt + 30'). The average is 
</p>
<p>therefore 
</p>
<p>L 
</p>
<p>3&cent; 
ac 
</p>
<p>&cent;c 
</p>
<p>Fig. 17.11 Basic controlled 3&cent; bridge rectifier circuit, with de-side L-C filter. 
</p>
<p>+ 
</p>
<p>v de load 
R </p>
<p/>
</div>
<div class="page"><p/>
<p>618 Line-Commutated Rectifiers 
</p>
<p>Fig. 17.12 Waveforms for the 
</p>
<p>controlled rectifier of Fig. 17.11, 
</p>
<p>with large de filter inductance. 
</p>
<p>Upper thyristor: 
</p>
<p>Lower thyristor: 
</p>
<p>Q3 
: 
</p>
<p>Ql 
: 
</p>
<p>Q5 : Qs 
: 
</p>
<p>Ql Q2 
: 
</p>
<p>Q2 
: 
</p>
<p>Q3 
: 
</p>
<p>Q6 Q6 
: 
</p>
<p>Q4 Q4 
</p>
<p>(17.7) 
</p>
<p>where VL-L, rms is the rms line-to-line voltage. This equation is plotted in Fig. 17.13. It can be seen that, if 
</p>
<p>it is necessary to reduce the de output voltage to values close to zero, then the delay angle a must be 
</p>
<p>Fig. 17.13 Variation of the de output 
</p>
<p>voltage V with delay angle a, for the 
</p>
<p>phase-controlled circuit of Fig. 17 .11. 
</p>
<p>_v_ 1.5 
V L-L,rms 
</p>
<p>0 30 
</p>
<p>+---~ 
</p>
<p>Rectification I Inversion 
</p>
<p>60 90 120 150 180 
</p>
<p>a, degrees </p>
<p/>
</div>
<div class="page"><p/>
<p>17.3 Phase Control 619 
</p>
<p>increased to close to 90'. With a small inductance, the controlled rectifier can also operate in discontinu-
</p>
<p>ous conduction mode, with modified output voltage characteristics. 
</p>
<p>17.3.1 Inverter Mode 
</p>
<p>If the de load is capable of supplying power, then it is possible for the direction of power flow to reverse. 
</p>
<p>For example, consider the three-phase controlled rectifier circuit of Fig. 17.14. The resistive load is 
</p>
<p>replaced by a voltage source and thevenin-equivalent resistance, capable of either supplying or consum-
</p>
<p>ing power. The de load power is equal to Vlv which is positive (rectifier mode) when both V and IL are 
</p>
<p>positive. The thyristor .is a unidirectional-current switch, which cannot conduct negative current, and 
</p>
<p>hence IL must always be positive. However, it is possible to cause the output voltage V to be negative, by 
</p>
<p>increasing the delay angle a. The de load power VIL then becomes a negative quantity (inverter mode), 
</p>
<p>meaning that power flows from the de load into the 3&cent;ac system. 
</p>
<p>Provided that the de-side filter inductance Lis sufficiently large, then Eq. (17.7) is valid even 
</p>
<p>when the delay angle a is greater than 90'. It can be seen in Fig. 17.13 that the de output voltage V 
</p>
<p>becomes negative for a&gt; 90', and hence the power flow indeed reverses. Delay angles approaching 180' 
</p>
<p>are possible, with the maximum angle limited by commutation of the thyristor devices. 
</p>
<p>17.3.2 Harmonics and Power Factor 
</p>
<p>Let us next consider the harmonic content and power factor of the phase-controlled rectifier with large 
</p>
<p>inductance. Comparison of the line current waveform of Fig. 17.12 with that of the uncontrolled rectifier 
</p>
<p>(Fig. 17 .8) reveals that the waveshapes are identical. The only difference is the phase lag a present in the 
</p>
<p>phase-controlled rectifier. This has the effect of shifting the fundamental component of current (and the 
</p>
<p>harmonics as well) by angle a. The Fourier series is therefore 
</p>
<p>(17.8) 
</p>
<p>Hence the harmonic amplitudes are the same (the fifth harmonic amplitude is 20% of the fundamental, 
</p>
<p>etc.), the THD is again 31%, and the distortion factor is again 95.5%. But there is phase lag in the funda-
</p>
<p>mental component of current, which leads to a displacement factor of cos(a). The power factor is there-
</p>
<p>fore 
</p>
<p>3&cent; 
ac 
</p>
<p>&cent;c 
</p>
<p>L 
</p>
<p>Fig. 17.14 If the load is capable of supplying power, then the 3&cent; bridge circuit functions as an inverter for V &lt; 0 
and a:&gt; 90'. </p>
<p/>
</div>
<div class="page"><p/>
<p>620 Line-Commutated Rectifiers 
</p>
<p>Fig. 17.15 Fundamental component complex power diagram 
</p>
<p>for the 311! bridge circuit operating in rectifier mode. 
</p>
<p>Q 
</p>
<p>II s II sin a 
</p>
<p>II Sll cos a P 
</p>
<p>power factor= 0.9551 cos (a) I ( 17.9) 
</p>
<p>which can be quite low when the de output voltage Vis low. 
</p>
<p>It is at first somewhat puzzling that the introduction of phase control can cause the fundamental 
</p>
<p>current to lag the voltage. Apparently, the rectifier consumes reactive power equal to 
</p>
<p>Q=f3 la,rmsVL-L,rmssina=lL 3{1 VL-L,rmssina (17.10) 
</p>
<p>We normally associate lagging current and the consumption of reactive power with inductive energy 
</p>
<p>storage. But this is not what is happening in the rectifier; indeed, the inductor and capacitor can be 
</p>
<p>removed entirely from the rectifier circuit, and a lagging fundamental current is still obtained by phase 
</p>
<p>control. It is simply the delay of the switching of the rectifiers that causes the current to lag, and no 
</p>
<p>energy storage is involved. So two mechanisms cause the phase-controlled rectifier to operate with low 
</p>
<p>power factor: the lagging fundamental component of current, and the generation of current harmonics. 
</p>
<p>Equation (17.10) can be further interpreted. Note that the de output power Pis equal to the de 
</p>
<p>inductor current IL times the de output voltage V. By use of Eq. (17.7), this can be written 
</p>
<p>312 
p =I L --n VL-L, rms cos a (17.11) 
</p>
<p>Comparison of Eqs. (17.10) and (17.11) reveals that the rectifier fundamental volt-amperes can be 
</p>
<p>expressed using the conventional concepts of complex powerS= P + jQ, where Pis the real (average) 
power consumed and Q is the fundamental reactive power consumed. The complex power phasor dia-
gram, treating the fundamental components only, is illustrated in Fig. 17.15. 
</p>
<p>17.3.3 Commutation 
</p>
<p>Let's consider next what happens during the switching transitions. In the phase-controlled rectifier circuit 
</p>
<p>of Fig. 17 .16, the de-side inductor Ld is large in value, such that its current ripple is negligible. Inductors 
</p>
<p>La, Lb, and Lc are also present in the ac lines; these may be physical inductors of the rectifier circuit, or 
</p>
<p>they may represent the source impedance of the power system, typically the leakage inductances of a 
</p>
<p>nearby transformer. These inductors are relatively small in value. 
</p>
<p>Consider the switching transition illustrated in Fig. 17.17. Thyristors Q3 and Q5 initially con-
duct. At time tel, thyristor Q1 is gated on, and the de current iL begins to shift from Q3 to Q1&bull; The ac line 
</p>
<p>currents ia(t) and ic(t) cannot be discontinuous, since inductors La and Lc are present in the lines. So dur-</p>
<p/>
</div>
<div class="page"><p/>
<p>17.3 Phase Control 621 
</p>
<p>Fig. 17.16 Controlled 30 rectifier circuit, with small ac-side inductances. 
</p>
<p>ing the interval tc 1 &lt; t &lt; tcz&bull; thyristors Q1 and Q3 both conduct, and the voltage vac' is zero. Voltage is 
applied across inductors La and Lc, causing their currents to change; for successful commutation, suffi-
</p>
<p>cient volt-seconds must be applied to cause the currents to change from iL to zero, and vice versa. Any 
</p>
<p>stored charge that remains in thyristor Q3 when current i/t) reaches zero must also be removed, and 
</p>
<p>hence ic(t) actually continues negative as discussed in Chapter 4. When the reverse recovery process of 
</p>
<p>Q3 is complete, then Q3 is finally in the off-state, and the next subinterval begins with the conduction of 
thyristors Q1 and Q5&bull; 
</p>
<p>The commutation process described above has several effects on the converter behavior. First, it 
</p>
<p>can be seen that the thyristor bridge de-side voltage v it) is reduced in value during the commutation 
</p>
<p>interval. Hence, its average value ( v d) and the de output voltage V are reduced. The amount of reduction 
</p>
<p>is dependent on the de load current: a larger de load current leads to a longer commutation interval, and 
</p>
<p>hence to a greater reduction in ( v d). So the rectifier has an effective output resistance. Second, the maxi-
mum value of the delay angle a is limited to some value less than 180&deg;. If a exceeds this limit, then 
insufficient volt-seconds are available to change inductor current ic(t) from iL to zero, leading to commu-
</p>
<p>tation failure. Third, when the rectifier ac-side inductors are small or zero, so that La, Lb, and Lc represent 
</p>
<p>Fig. 17.17 Switching transition waveforms, 
</p>
<p>for the rectifier of Fig. 17 .16. 
</p>
<p>:Q3: Qli Conducting Q3 Ql Ql 
thyristors: 
</p>
<p>~ 
Q6: 
</p>
<p>Q5 Q5 
Q5. 
</p>
<p>Q6 
</p>
<p>i.(t) 1 iL 
</p>
<p>0 
</p>
<p>I' 
i/&lt;) 1 iL hl 01 'I </p>
<p/>
</div>
<div class="page"><p/>
<p>622 Line-Commutated Rectifiers 
</p>
<p>Fig. 17.18 Notching of the ac line-line 
</p>
<p>voltage waveforms during the commutation 
</p>
<p>intervals. 
</p>
<p>essentially only the power system source impedance, then commutation causes significant notching of 
</p>
<p>the ac voltage waveforms (Fig. 17 .18) at the point of common coupling of the rectifier to the power sys-
</p>
<p>tem. Other elements connected locally to the power system will experience voltage distortion. Limits for 
</p>
<p>the areas of these notches are suggested in IEEE/ ANSI standard 519. 
</p>
<p>17.4 HARMONIC TRAP FILTERS 
</p>
<p>Passive filters are often employed to reduce the current harmonics generated by rectifiers, such that har-
</p>
<p>monic limits are met. The filter network is designed to pass the fundamental and to attenuate the signifi-
</p>
<p>cant harmonics such as the fifth, seventh, and perhaps several higher-order odd nontriplen harmonics. 
</p>
<p>Such filters are constructed using resonant tank circuits tuned to the harmonic frequencies. These net-
</p>
<p>works are most commonly employed in balanced three-phase systems. A schematic diagram of one 
</p>
<p>phase of the filter is given in Fig. 17.19. 
</p>
<p>The ac power system is modeled by the thevenin-equivalent network containing voltage source 
</p>
<p>vs and impedance Z/. Impedance Z/ is usually inductive in nature, although resonances may occur due to 
nearby power-factor-correction capacitors. In most filter networks, a series inductor L,' is employed; the 
filter is then called a harmonic trap filter. For purposes of analysis, the series inductor L/ can be lumped 
into Z,', as follows: 
</p>
<p>Z,(s) = Z,'(s) + sL,' (17.12) 
</p>
<p>The rectifier and its current harmonics are modeled by current source ir. Shunt impedances Z1, Z2, ... are 
</p>
<p>ac source 
model 
</p>
<p>Harmonic traps 
(series resonant networks) 
</p>
<p>Fig. 17.19 A harmonic trap filter. One phase is illustrated, on a line-to-neutral basis. 
</p>
<p>Rectifier 
model </p>
<p/>
</div>
<div class="page"><p/>
<p>17.4 Harmonic Trap Filters 623 
</p>
<p>tuned such that they have low impedance at the harmonic frequencies, and hence the harmonic currents 
</p>
<p>tend to flow through the shunt impedances rather than into the ac power system. 
</p>
<p>The approximate algebra-on-the-graph method described in Chapter 8 is used here to construct 
</p>
<p>the filter transfer function, in terms of impedance Zs and the shunt impedances Z1, Z2 , .... This approach 
</p>
<p>yields a simple intuitive understanding of how the filter operates. Since the harmonic frequencies are 
</p>
<p>close in value, the pole and zero frequencies of the filter are never well separated in value. So the approx-
</p>
<p>imate algebra-on-the-graph method is, in general, not sufficiently accurate for the complete design of 
</p>
<p>these filters, and the pole frequencies must be found by numerical methods. A typical design approach 
</p>
<p>might involve estimating element values using the algebra-on-the-graph method, then refining the values 
</p>
<p>using a computer simulation package. 
</p>
<p>The filter transfer function H(s) is given by the current divider ratio 
</p>
<p>(17.13) 
</p>
<p>As discussed in Chapter 8, another way to write this transfer function is 
</p>
<p>(17.14) 
</p>
<p>So we can construct H(s) by first constructing the parallel combination Zs II Z1 II Z2 II ... , then dividing by 
the total line impedance Zs. It can be shown that, if Z,(s) contains no poles, then the numerator of H(s) is 
the product of the zeroes of the shunt impedances Z1, Z2 , .... So this graphical method yields the exact 
</p>
<p>zeroes of H(s), which coincide with the series resonances of the shunt impedances. But the poles of H(s), 
</p>
<p>which arise from parallel resonances in the filter, require more work to compute. 
</p>
<p>Let us first consider the simple case illustrated in Fig. 17 .20, where Z1 consists of a series reso-
</p>
<p>nant circuit tuned to eliminate the fifth harmonic, and Zs is composed of a single inductor Ls. Construc-
</p>
<p>tion of the impedance of a series resonant network is described in Chapter 8. The II Z1 II asymptotes 
follow the capacitor impedance magnitude l!wC1 at low frequency, and the inductor impedance magni-
</p>
<p>tude wL1 at high frequency. At the resonant frequency, II Z1 II is equal to R1&bull; The asymptotes for II Z1 II are 
constructed in Fig. 17.2l(a). 
</p>
<p>Figure 17.2l(a) also illustrates the impedance magnitude II Zs II= wLs, as well as construction of 
</p>
<p>Fig. 17.20 Simple harmonic trap filter example, contain-
</p>
<p>ing a series resonant trap tuned to the fifth harmonic, and 
</p>
<p>inductive line impedance. 
</p>
<p>l Fifth-harmonic l 
! trapZ1 1 
~-- ... &middot;&middot;------ -------------&middot;-&middot; .. .l 
</p>
<p>t i, </p>
<p/>
</div>
<div class="page"><p/>
<p>624 Line-Commutated Rectifiers 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Rot=~ 
Q _Rot 
</p>
<p>t- Rt 
</p>
<p>Rl 
</p>
<p>_L_t_ 
</p>
<p>Lt +L, 
</p>
<p>Fig. 17.21 Construction of approximate frequency response using the algebra-on-the-graph method: (a) imped-
</p>
<p>ance asymptotes, (b) transfer function asymptotes II H 11. 
</p>
<p>the approximate asymptotes for the parallel combination (Zs II Z1). Recall that, to construct the approxi-
mate asymptotes for the parallel combination, we simply select the smaller of the Z8 and Z1 asymptotes. 
</p>
<p>The result is the shaded set of asymptotes shown in the figure: the parallel combination follows WL8 at 
</p>
<p>low frequency, and II Z1 II at high frequency. Note that, in addition to the intended series resonance at fre-
quency / 1, a parallel resonance occurs at frequency fp&middot; 
</p>
<p>The filter transfer function II H(s) II is now constructed using Eq. (17.14). As illustrated in Fig. 
17.2l(b), II H(s) II= 1 at low frequencies where both the numerator and the denominator of Eq. (17.14) 
are equal to WL8 &bull; The parallel resonance at frequency fp leads to resonant poles and peaking in II H(s) 11. 
The resonance at frequency f 1 leads to resonant zeroes and attenuation in II H(s) 11. At high frequency, the 
gain is L1/(L1 + L8 ). 
</p>
<p>So if we want to attenuate fifth harmonic currents, we should choose the element values such 
</p>
<p>that the series resonant frequency / 1 coincides with the fifth harmonic frequency. This frequency is sim-</p>
<p/>
</div>
<div class="page"><p/>
<p>17.4 Harmonic Trap Filters 625 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>(c) 
</p>
<p>Fig. 17.22 Construction of approximate frequency response for a harmonic trap filter that attenuates the fifth, 
</p>
<p>seventh, and eleventh harmonics: (a) impedance asymptotes, (b) transfer function asymptotes. 
</p>
<p>ply the resonant frequency of the shunt impedance 2 1, or 
</p>
<p>(J)l 1 
fi = 2n = 2n~ 
</p>
<p>1 1 
</p>
<p>(17.15) </p>
<p/>
</div>
<div class="page"><p/>
<p>626 Line-Commutated Rectifiers 
</p>
<p>In addition, care must be exercised regarding the parallel resonance. Since no three-phase system is 
</p>
<p>exactly balanced, small amounts of third harmonic currents always occur. These currents usually have 
</p>
<p>negligible effect; however, the parallel resonance of the harmonic trap filter can increase their magni-
</p>
<p>tudes significantly. Even worse, the Q-factor of the parallel resonance, QP, is greater than the series-reso-
</p>
<p>nance Q-factor Q1&bull; 
</p>
<p>The filter circuit of Fig. 17.20 is simple enough that an exact analysis can be performed easily. 
</p>
<p>The exact transfer function is 
</p>
<p>(17.16) 
</p>
<p>where 
</p>
<p>The resonant zeroes do indeed appear at the series resonant frequency, while the parallel resonance and 
</p>
<p>its associated resonant poles appear at frequency !p determined by the series combination of L1 and LP. 
To attenuate several harmonics-for example, the fifth, seventh, and eleventh-series resonant 
</p>
<p>networks can be tuned to provide resonant zeroes at each. A circuit is given in Fig. 17.22(a), with the 
</p>
<p>impedance asymptotes of Fig. 17.22(b). The resulting approximate II H(s) II is given in Fig. 17.22(c). It 
can be seen that, associated with each series resonance is a parallel resonance. Each parallel resonant fre-
</p>
<p>quency should be chosen such that it is not significantly excited by harmonics present in the network. 
</p>
<p>The filter transfer function can be given high-frequency single-pole rolloff by addition of a 
</p>
<p>bypass resistor Rbp' as illustrated in Fig. 17.23(a). Typical impedance and transfer function asymptotes 
</p>
<p>for this network are constructed in Fig. 17 .24. The bypass resistor allows some additional attenuation of 
</p>
<p>the higher-order harmonics, without need for series resonant traps tuned to each harmonic. The network 
</p>
<p>of Fig. 17.23(a) is sometimes called a "high pass" network, because it allows high-frequency currents to 
</p>
<p>flow through the shunt branch. But it causes the overall filter transfer function H(s) to reject high fre-
</p>
<p>quencies. A simple harmonic trap filter that contains series resonances that can be tuned to the fifth and 
</p>
<p>Fig. 17.23 Addition of bypass resistor Rbp to a 
</p>
<p>series resonant network, to obtain a high-frequency 
</p>
<p>rolloff characteristic: (a) basic circuit, (b) addition 
</p>
<p>of blocking capacitor Cb to reduce power consump-
</p>
<p>tion at the fundamental frequency. 
</p>
<p>(a) (b) </p>
<p/>
</div>
<div class="page"><p/>
<p>17.4 Harmonic Trap Filters 627 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Fig. 17.24 Construction of approximate frequency response for a harmonic trap filter containing bypass resistor: 
</p>
<p>(a) impedance asymptotes, (b) transfer function asymptotes. 
</p>
<p>seventh harmonics, with a single-pole rolloff to attenuate higher-order harmonics such as the eleventh 
</p>
<p>and thirteenth, is illustrated in Fig. 17.25. 
</p>
<p>Power loss in the bypass resistor can be an issue: since Rbp is not part of the resonant network, 
</p>
<p>significant fundamental (50 Hz or 60 Hz) currents can flow through Rhp' The power loss can be reduced 
</p>
<p>by addition of blocking capacitor Cb as illustrated in Fig. 17.23(b). This capacitor is chosen to increase 
</p>
<p>the impedance of the Rbp -Cb leg at the fundamental frequency, but have negligible effect at the higher-
</p>
<p>Fig. 17.25 A harmonic trap filter containing series 
</p>
<p>resonances tuned to the fifth and seventh harmonics, 
</p>
<p>and high-frequency roll off characteristic. 
</p>
<p>Rs R? 
</p>
<p>Ls L? cb 
</p>
<p>Cs 
</p>
<p>I 
c7 
</p>
<p>I 
Fifth-harmonic!! Seventh-harmonic 
</p>
<p>trap ! j trap with high-
! ! frequency rolloff 
</p>
<p>:. ............................... : :. ....................................... : </p>
<p/>
</div>
<div class="page"><p/>
<p>628 Line-Commutated Rectifiers 
</p>
<p>order harmonic frequencies. 
</p>
<p>The harmonic trap filter network can also supply significant reactive power to the rectifier and 
</p>
<p>power system. As given by Eq. (17.10), the rectifier fundamental current lags the voltage, and the recti-
</p>
<p>fier consumes reactive power. As seen in Fig. 17 .22(a), the impedances of the series resonant tank net-
</p>
<p>works are dominated by their capacitor asymptotes at low frequency. Hence, at the fundamental 
</p>
<p>frequency, the filter impedance reduces to an equivalent capacitor, equal to the parallel combination of 
</p>
<p>the tank capacitors. The current through this capacitance leads the ac line voltage, and hence as men-
</p>
<p>tioned in the previous chapter, the capacitor is a source of reactive power. 
</p>
<p>17.5 TRANSFORMER CONNECTIONS 
</p>
<p>A final conventional approach to reducing the input harmonics of three-phase rectifiers is the use of 
</p>
<p>phase-shifting transformer circuits. With these schemes, the low-order harmonics, such as the fifth and 
</p>
<p>seventh, can be eliminated. The remaining harmonics are smaller in magnitude, and also are easier to fil-
</p>
<p>ter. 
</p>
<p>The rectifier circuit of Fig. 17.7 is known as a six-pulse rectifier because the diode output volt-
</p>
<p>age waveform contains six pulses per ac line period. The output voltage ripple has a fundamental fre-
</p>
<p>quency that is six times the ac line frequency. As illustrated in Fig. 17 .8, the ac line current waveforms 
</p>
<p>contain three steps: at any given instant, ia(t) is equal to either iL, 0, or- iL. The spectrum of the current 
</p>
<p>waveform contains fundamental and odd nontriplen harmonics (1, 5, 7, 11, 13, ... ), whose amplitudes 
</p>
<p>vary as lin. 
</p>
<p>It is possible to shift the phase of the ac line voltage using three-phase transformer circuits. For 
</p>
<p>example, in the delta-wye transformer circuit of Fig. 17 .26, the transformer primary windings are driven 
</p>
<p>by the primary-side line-to-line voltages, while the transformer secondaries supply the secondary-side 
</p>
<p>line-to-neutral voltages. In an ideal transformer, the secondary voltage is equal to the primary voltage 
</p>
<p>multiplied by the turns ratio; hence, the phasor representing the secondary voltage is in phase with the 
</p>
<p>Fig. 17.26 Three-phase delta-wye trans-
former connection: (a) circuit, (b) voltage 
phasor diagram. 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Primary voltages 
</p>
<p>13: n a' 
</p>
<p>a' 
</p>
<p>b' 
</p>
<p>Secondary voltages </p>
<p/>
</div>
<div class="page"><p/>
<p>17.5 Transformer Connections 629 
</p>
<p>(a) 
a 
</p>
<p>L 
</p>
<p>3&cent;ac b 
source ---r+---, 
</p>
<p>c 
</p>
<p>(b) 
</p>
<p>Wt 
</p>
<p>360" 
</p>
<p>Fig. 17.27 Twelve-pulse rectifier: (a) circuit, (b) input phase a current waveforms. 
</p>
<p>primary voltage phasor, and is scaled in magnitude by the turns ratio. So in the delta-wye transformer 
</p>
<p>connection, the secondary line-to-neutral voltages are in phase with the primary line-to-line voltages. In 
</p>
<p>a balanced three-phase system, the line-to-line voltages are shifted in phase by 30' with respect to the 
</p>
<p>line-to-neutral voltages, and are increased in magnitude by a factor of J3 . Hence the secondary line-to-
neutral voltages lag the primary line-to-neutral voltages by 30'. The wye-delta connection is also com-
</p>
<p>monly used; this circuit causes the secondary voltages to lead the primary voltages by 30'. Many other 
</p>
<p>more complicated transformer circuits are known, such as the zig-zag, forked-wye, and extended-delta 
</p>
<p>connections, which can lead to phase shifts of any desired amount. 
</p>
<p>The 30' phase shift of the delta-wye transformer circuit is used to advantage in the twelve-pulse 
</p>
<p>rectifier circuit of Fig. 17.27(a). This circuit consists of two bridge rectifier circuits driven by 3&cent; voltages </p>
<p/>
</div>
<div class="page"><p/>
<p>63() Line-Commutated Rectifiers 
</p>
<p>that differ in phase by 30&deg;. The bridge rectifier outputs are connected in series to the de filter inductor and 
</p>
<p>load. The total rectifier output voltage v it) has a fundamental frequency that is twelve times the ac line 
</p>
<p>frequency. The input phase a ac line current ia(t) is the sum of currents in three windings, and has the 
</p>
<p>stepped waveshape illustrated in Fig. 17.27 (b). It can be shown that this waveform contains Fourier com-
</p>
<p>ponents at the fundamental frequency and at the 11th, 13th, 23'd, 25th, ... harmonic frequencies, whose 
</p>
<p>amplitudes vary as lin. Doing so is left as a homework problem. Thus, the twelve-pulse rectifier elimi-
nates the sth, 7th, 17th, 19th, ... harmonics. 
</p>
<p>An eighteen-pulse rectifier can be constructed using three six -pulse bridge rectifiers, with trans-
</p>
<p>former circuits that shift the applied voltages by 0&deg;, + 20&deg;, and -20&deg;. A twenty-four pulse rectifier 
requires four six-pulse bridge rectifiers, fed by voltages shifted by 0&deg;, + 15&deg;,- IY, and 30&deg;. If pis the 
pulse number, then the rectifier produces line current harmonics of number n = pk &plusmn; 1, where k = 0, 1, 2, 
</p>
<p>3, .... If the de current ripple can be neglected, then the magnitudes of the remaining current harmonics 
</p>
<p>vary as lin. The de-side harmonics are of number pk. 
</p>
<p>So by use of polyphase transformer connections and rectifier circuits having high pulse number, 
</p>
<p>quite good ac line current waveforms can be obtained. As the pulse number is increased, the current 
</p>
<p>waveforms approaches a sinusoid, and contains a greater number of steps having smaller amplitude. The 
</p>
<p>low-order harmonics can be eliminated, and the remaining high-frequency harmonics are easily filtered. 
</p>
<p>17.6 SUMMARY 
</p>
<p>1. With a large de filter inductor, the single-phase full-wave rectifier produces a square-wave line current 
</p>
<p>waveform, attaining a power factor of 90% and 48% THD. With smaller values of inductance, these fig-
</p>
<p>ures are degraded. In the discontinuous conduction mode, THD greater than 100%, with power factors of 
</p>
<p>55% to 65% are typical. When the capacitance is large, the power factor, THD, displacement factor, and 
</p>
<p>conversion ratio can be expressed as a function of only the dimensionless parameter KL' 
</p>
<p>2. In the three-phase case, the bridge rectifier with large de filter inductor produces a stepped waveform sim-
</p>
<p>ilar to the square wave, but missing the triplen harmonics. This waveform has 31% THD, and leads to a 
</p>
<p>power factor of 95.5%. Reduced de inductor values again lead to increased THD and reduced power factor, 
</p>
<p>and as L tends to zero, the THD tends to infinity while the power factor tends to zero. In practice, the min-
</p>
<p>imum effective series inductance is limited by the power system source inductance. 
</p>
<p>3. With a large de inductor, phase control does not influence the distortion factor or THD, but does lead to a 
</p>
<p>lagging fundamental current and decreased displacement factor. Phase-controlled rectifiers and inverters 
</p>
<p>are consumers of reactive power. 
</p>
<p>4. If the load is capable of supplying power, then the phase-controlled rectifier can become an inverter. The 
</p>
<p>delay angle a is greater than 90&deg;, and the output voltage polarity is reversed with respect to rectifier opera-
tion. The maximum delay angle is limited by commutation failure to a value less than 180&deg;. 
</p>
<p>5. Harmonic trap filters and multipulse-rectifier/polyphase transformer circuits find application in high-
</p>
<p>power applications where their large size and weight are less of a consideration than their low cost. In the 
</p>
<p>harmonic trap filter, series resonant tank circuits are tuned to the offending harmonic frequencies, and 
</p>
<p>shunt the harmonic currents away from the utility power network. Parallel resonances may cause 
</p>
<p>unwanted peaks in the filter transfer function. Operation of these filters may be understood using the alge-
</p>
<p>bra-on-the-graph method, and computer simulations can be used to refine the accuracy of the analysis or 
</p>
<p>design. Rectifiers of higher pulse number can also yield improved current waveforms, whose harmonics 
</p>
<p>are of high frequency and small amplitude, and are easily filtered. </p>
<p/>
</div>
<div class="page"><p/>
<p>References 631 
</p>
<p>REFERENCES 
</p>
<p>[1] G.K. DUBEY, S.R. DORADLA, A. JOSHI, and R.M.K. SINHA, Thyristorized Power Controllers, New Delhi: 
</p>
<p>Wiley Eastern, Ltd., 1986. 
</p>
<p>[2] J. VITHAYATHIL, Power Electronics: Principles and Applications, New York: McGraw-Hill, 1995. 
</p>
<p>[3] N. MOHAN, T. UNDELAND, and W. ROBBINS, Power Electronics: Converters, Applications, and Design, 
</p>
<p>Second edition, New York: John Wiley &amp; Sons, 1995. 
</p>
<p>[4] J. PHIPPS, "Phase-Shifting Transformers and Passive Harmonic Filters: Interfacing for Power Electronic 
</p>
<p>Motor Drive Controllers," M.S. Thesis, University of Colorado at Denver, 1993. 
</p>
<p>[5] J. KASSAKIAN, M. SCHLECHT, and G. VERGESE, Principles of Power Electronics, Massachusetts: Addison-
</p>
<p>Wesley, 1991. 
</p>
<p>[6] J. ARRILLAGA, D. BRADLEY, and P. BODGER, Power System Harmonics, New York: John Wiley &amp; Sons, 
</p>
<p>1985. 
</p>
<p>[7] A. DOMIJAN and E. EMBRIZ-SANTANDER, "A Summary and Evaluation of Recent Developments on Har-
</p>
<p>monic Mitigation Techniques Useful to Adjustable-Speed Drives," IEEE Transactions on Energy Conver-
</p>
<p>sion, Vol. 7, No.1, pp. 64-71, March 1992. 
</p>
<p>[8] S. FREELAND, "I. A Unified Analysis of Converters with Resonant Switches, II. Input-Current Shaping for 
Single-Phase Ac-dc Power Converters," Ph.D. Thesis, California Institute of Technology, 1988, Chapter 
</p>
<p>12. 
</p>
<p>[9] F. C. SCHWARZ, "A Time-Domain Analysis of the Power Factor for Rectifier Systems with Over- and Sub-
</p>
<p>critical Inductance," IEEE Transactions on Industrial Electronics and Control Instrumentation, Vol. 20, 
</p>
<p>No.2, May 1973, pp. 61-68. 
</p>
<p>[10] S. B. DEWAN, "Optimum Input and Output Filters for Single-Phase Rectifier Power Supply," IEEE Trans-
</p>
<p>actions on Industry Applications, Vol. 17, No.3, May/June 1981, pp. 282-288. 
</p>
<p>[11] A. KELLEY and W. F. YADUSKY, "Rectifier Design for Minimum Line-Current Harmonics and Maximum 
</p>
<p>Power Factor," IEEE Transactions on Power Electronics, Vol. 7, No.2, April1992, pp. 332-341. 
</p>
<p>[12] A. W. KELLEY and W. F. YADUSKY, "Phase-Controlled Rectifier Line-Current Harmonics and Power Fac-
</p>
<p>tor as a Function of Firing Angle and Output Filter Inductance," IEEE Applied Power Electronics Confer-
</p>
<p>ence, 1990 Proceedings, March 1990, pp. 588-597. 
</p>
<p>[13] P. C. SEN, Thyristorized DC Drives, New York: Wiley Interscience, 1981. 
</p>
<p>[14] S. DEWAN AND A. STRAUGHEN, Power Semiconductor Circuits, New York: John Wiley &amp; Sons, 1975. 
</p>
<p>[15] B. PELLY, Thyristor Phase-Controlled Converters and Cycloconverters: Operation, Control, and Perfor-
</p>
<p>mance, New York: John Wiley &amp; Sons, 1971. </p>
<p/>
</div>
<div class="page"><p/>
<p>632 Line-Commutated Rectifiers 
</p>
<p>PROBLEMS 
</p>
<p>17.1 The half-controlled single-phase rectifier circuit of Fig. 17.28 contains a large inductor L, whose current 
</p>
<p>iL(t) contains negligible ripple. The thyristor delay angle is a. 
</p>
<p>i.(t) iL(t) L 
</p>
<p>+ + 
Dl 
</p>
<p>vd(t) c v de load 
R 
</p>
<p>D2 
</p>
<p>Fig. 17.28 Half-controlled rectifier circuit of Problem 17.1. 
</p>
<p>(a) Sketch the waveforms v it) and i.(t). Label the conduction intervals of each thyristor and diode. 
</p>
<p>(b) Derive an expression for the de output voltage V, as a function of the rms line-line voltage and 
</p>
<p>the delay angle. 
</p>
<p>(c) Derive an expression for the power factor. 
</p>
<p>(d) Over what range of a are your expressions of parts (b) and (c) valid? 
</p>
<p>17.2 The half-controlled rectifier circuit of Fig. 17.29 contains a large inductor L, whose current iL(t) contains 
</p>
<p>negligible ripple. The thyristor delay angle is a. 
</p>
<p>L 
</p>
<p>&cent;c 
</p>
<p>+ 
</p>
<p>v de load 
R 
</p>
<p>Fig. 17.29 Three-phase half-controlled rectifier circuit of Problem 17 .2. 
</p>
<p>(a) Sketch the waveforms v d(t) and i.(t). Label the conduction intervals of each thyristor and diode. 
</p>
<p>(b) Derive an expression for the de output voltage V, as a function of the rms line-line voltage and 
</p>
<p>the delay angle. 
</p>
<p>(c) Derive an expression for the power factor. 
</p>
<p>(d) Over what range of a are your expressions of parts (b) and (c) valid? 
</p>
<p>17.3 A 3!il SCR bridge is connected directly to a resistive load, as illustrated in Fig. 17.30. This circuit oper-
</p>
<p>ates in the continuous conduction mode for small delay angle a, and in the discontinuous conduction 
mode for sufficiently large a. 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>&cent;c 
</p>
<p>Fig. 17.30 Three-phase controlled rectifier circuit of Problem 17.3. 
</p>
<p>de load 
R </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 633 
</p>
<p>(a) Sketch the output voltage waveform v(t), for CCM operation and for DCM operation. Clearly 
</p>
<p>label the conduction intervals of each SCR. 
</p>
<p>(b) Under what conditions does the rectifier operate in CCM? in DCM? 
</p>
<p>(c) Derive an expression for the de component of the output voltage in CCM. 
</p>
<p>(d) Repeat part (c), for DCM operation. 
</p>
<p>17.4 A rectifier is connected to the 60 Hz utility system. It is desired to design a harmonic trap filter that has 
</p>
<p>negligible attenuation or amplification of 60 Hz currents, but which attenuates both the fifth- and sev-
</p>
<p>enth-harmonic currents by a factor of 10 (- 20 dB). The ac line inductance Ls is 500 JLH. 
</p>
<p>(a) Select L5, the inductance of the fifth harmonic trap, equal to 500 JLH, and~. the inductance of 
</p>
<p>the seventh harmonic trap, equal to 250 JLH. Compute first-pass values for the resistor and capac-
</p>
<p>itor values of the fifth and seventh harmonic trap circuits, neglecting the effects of parallel reso-
</p>
<p>nance. 
</p>
<p>(b) Plot the frequency response of your filter. It is suggested that you do this using SPICE or a simi-
</p>
<p>lar computer program. Does your filter meet the attenuation specifications? Are there significant 
</p>
<p>parallel resonances? What is the gain or attenuation at the third harmonic frequency? 
</p>
<p>(c) Modify your element values, to obtain the best design you can. You must choose Ls = 500 JLH, 
but you may change all other element values. Plot the frequency response of your improved fil-
</p>
<p>ter. "Best" means that the 20 dB attenuations are obtained at the fifth and seventh harmonic fre-
</p>
<p>quencies, that the gain at 60 Hz is essentially 0 dB, and that the Q-factors of parallel resonances 
</p>
<p>are minimized. 
</p>
<p>17.5 A rectifier is connected to the 50 Hz utility system. It is desired to design a harmonic trap filter that has 
</p>
<p>negligible attenuation or amplification of 50 Hz currents, but that attenuates the fifth-, seventh-, and 
</p>
<p>eleventh-harmonic currents by a factor of 5 (- 14 dB). In addition, the filter must contain a single-pole 
</p>
<p>response that attenuates the thirteenth and higher harmonics by a factor of 5nl13, where n is the har-
</p>
<p>monic number. The ac line inductance Ls is 100 JLH. 
</p>
<p>Design a harmonic trap filter that meets these specifications. Design the best filter you can, 
</p>
<p>which meets the attenuation specifications, that has nearly unity (0 dB &plusmn; 1 dB) gain at 50 Hz, and that 
</p>
<p>has minimum gains at the third and ninth harmonics. Plot the frequency response of your filter, and spec-
</p>
<p>ify your circuit element values. 
</p>
<p>17.6 A single-phase rectifier operates from a 230 Vrms 50 Hz European single-phase source. The rectifier 
</p>
<p>must supply a 1000 W de load, and must meet the IEC-1000 class A or class D harmonic current limits. 
</p>
<p>The circuit of Fig. 17.1 is to be used. The de load voltage may have 100Hz ripple whose peak-to-peak 
</p>
<p>amplitude is no greater than 5% of the de voltage component. 
</p>
<p>(a) Estimate the minimum value of inductance that will meet these requirements. 
</p>
<p>(b) Specify values of L and C that meet these requirements, and prove (by simulation) that your 
</p>
<p>design is correct. 
</p>
<p>17.7 Figure 17.31 illustrates a twelve-pulse rectifier, containing six controlled (SCR) devices and six uncon-
</p>
<p>trolled (diode) devices. The de filter inductance L is large, such that its current ripple is negligible. The 
</p>
<p>SCRs operate with delay angle a. The SCR bridge is driven by a wye-wye connected three-phase trans-
former circuit, while the diode bridge is driven by a wye-delta connected three-phase transformer circuit. 
</p>
<p>Since both transformer circuits have wye-connected primaries, they can be combined to realize the cir-
</p>
<p>cuit with a single wye-connected primary. 
</p>
<p>(a) Determine the rms magnitudes and phases of the line-to-line output voltages of the transformer 
</p>
<p>secondaries val'bl' and va2'b2,, as a function of the applied line-line primary voltage vab&middot; 
</p>
<p>(b) Sketch the waveforms of the voltages vd1(t) and vd2(t). Label the conduction intervals of each 
</p>
<p>thyristor and diode. </p>
<p/>
</div>
<div class="page"><p/>
<p>634 Line-Commutated Rectifiers 
</p>
<p>3&cent;ac 
source 
</p>
<p>I: 13 n 
</p>
<p>+ 
</p>
<p>de 
load 
</p>
<p>Fig. 17.31 Twelve-pulse rectifier circuit, with one controlled and one uncontrolled bridge, Problem 
</p>
<p>17.7. 
</p>
<p>(c) Derive an expression for the de component of the output voltage, as a function of the rms line-
</p>
<p>line input voltage, the delay angle a, and the turns ration. 
</p>
<p>(d) Over what range of a is your expression of part (c) valid? What output voltages can be produced 
by this rectifier? 
</p>
<p>17.8 For the twelve-pulse rectifier circuit of Fig. 17.27(a), determine the Fourier coefficients, for the funda-
</p>
<p>mental through the thirteenth harmonic, ofthe primary-side currents ia1(t) and ia2(t), as well as for the ac 
</p>
<p>line current ia(t). Express your results in terms of the turns ratio n and the de load current IL" You may 
</p>
<p>assume that the de filter inductance L is large and that the transformers are ideal. 
</p>
<p>17.9 The single-phase controlled-bridge rectifier of Fig. 17.32 operates in the continuous conduction mode. It 
</p>
<p>is desired to regulate the load voltage v(t) in the presence of slow variations in the amplitude of the sinu-
</p>
<p>soidal input voltage vgCt). Hence, a controller must be designed that varies the delay angle a such that 
v(t) is kept constant, and it is of interest to derive a small-signal ac model for the de side of the rectifier 
</p>
<p>circuit. 
</p>
<p>Fig. 17.32 Single-phase controlled rectifier, Problem 17.9. 
</p>
<p>(a) Sketch v,(t) and vgCt), and label the delay angle a. 
</p>
<p>+ 
</p>
<p>v(t) de load 
R 
</p>
<p>(b) Use the circuit averaging method to determine the small-signal transfer functions 
</p>
<p>v(s) control-to-output transfer function 
&amp;.(s) 
</p>
<p>and </p>
<p/>
</div>
<div class="page"><p/>
<p>il(s) line-to-output transfer function 
vg(s) 
</p>
<p>as well as the steady-state relationship 
</p>
<p>where 
</p>
<p>a(t) =A + a(t) 
</p>
<p>v(t) = v + v(t) 
vg(t) = ( Vg + vg(t)) sin (Wt) 
</p>
<p>Problems 635 
</p>
<p>You may assume that the frequencies of the variations in a, v, and v g are much slower that the ac 
</p>
<p>line frequency w, and that the inductor current ripple is small. </p>
<p/>
</div>
<div class="page"><p/>
<p>18 
Pulse-Width Modulated Rectifiers 
</p>
<p>To obtain low ac line current THD, the passive techniques described in the previous chapter rely on low-
</p>
<p>frequency transformers and/or reactive elements. The large size and weight of these elements are objec-
</p>
<p>tionable in many applications. This chapter covers active techniques that employ converters having 
</p>
<p>switching frequencies much greater than the ac line frequency. The reactive elements and transformers of 
</p>
<p>these converters are small, because their sizes depend on the converter switching frequency rather than 
</p>
<p>the ac line frequency. 
</p>
<p>Instead of making do with conventional diode rectifier circuits, and dealing after-the-fact with 
</p>
<p>the resulting low-frequency harmonics, let us consider now how to build a rectifier that behaves as ide-
</p>
<p>ally as possible, without generation of line current harmonics. In this chapter, the properties of the ideal 
</p>
<p>rectifier are explored, and a model is described. The ideal rectifier presents an effective resistive load to 
</p>
<p>the ac power line; hence, if the supplied ac voltage is sinusoidal, then the current drawn by the rectifier is 
</p>
<p>also sinusoidal and is in phase with the voltage. Converters that approximate the properties of the ideal 
</p>
<p>rectifier are sometimes called power factor corrected, because their input power factor is essentially 
</p>
<p>unity [1]. 
</p>
<p>The boost converter, as well as a variety of other converters, can be controlled such that a near-
</p>
<p>ideal rectifier system is obtained. This is accomplished by control of a high-frequency switching con-
</p>
<p>verter, such that the ac line current waveform follows the applied ac line voltage. Both single-phase and 
</p>
<p>three-phase rectifiers can be constructed using PWM techniques. A typical de power supply system that 
</p>
<p>is powered by the single-phase ac utility contains three major power-processing elements. First, a high-
</p>
<p>frequency converter with a wide-bandwidth input-current controller functions as a near-ideal rectifier. 
</p>
<p>Second, an energy-storage capacitor smooths the pulsating power at the rectifier output, and a low-band-
</p>
<p>width controller causes the average input power to follow the power drawn by the load. Finally, a de-de 
</p>
<p>converter provides a well-regulated de voltage to the load. In this chapter, single-phase rectifier systems 
</p>
<p>are discussed, expressions for rms currents are derived, and various converter approaches are compared. </p>
<p/>
</div>
<div class="page"><p/>
<p>638 Pulse- Width Modulated Rectifiers 
</p>
<p>The techniques developed in earlier chapters for modeling and analysis of de-de converters are 
</p>
<p>extended in this chapter to treat the analysis, modeling, and control of low-harmonic rectifiers. The CCM 
</p>
<p>models of Chapter 3 are used to compute the average losses and efficiency of CCM PWM converters 
</p>
<p>operating as rectifiers. The results yield insight that is useful in power stage design. Several converter 
</p>
<p>control schemes are known, including peak current programming, average current control, critical con-
</p>
<p>duction mode control, and nonlinear carrier control. Ac modeling of the rectifier control system is also 
</p>
<p>covered. 
</p>
<p>18.1 PROPERTIES OF THE IDEAL RECTIFIER 
</p>
<p>It is desired that the ideal single-phase rectifier present a resistive load to the ac system. The ac line cur-
</p>
<p>rent and voltage will then have the same waveshape and will be in phase. Unity power factor rectification 
</p>
<p>is the result. Thus, the rectifier input current iac(t) should be proportional to the applied input voltage 
</p>
<p>Vac(t): 
</p>
<p>(18.1) 
</p>
<p>where Re is the constant of proportionality. An equivalent circuit for the ac port of an ideal rectifier is 
</p>
<p>therefore an effective resistance Re, as shown in Fig. 18.l(a). Re is also known as the emulated resistance. 
</p>
<p>It should be noted that the presence of Re does not imply the generation of heat: the power apparently 
</p>
<p>(a) 
</p>
<p>(c) 
</p>
<p>+ 
</p>
<p>ac 
input 
</p>
<p>(b) 
</p>
<p>Ideal rectifier (LFR) 
</p>
<p>i 
vcontrol 
</p>
<p>2 
p(t) = V ac /Re 
</p>
<p>~ 
</p>
<p>+ 
</p>
<p>t 
Vcontrol 
</p>
<p>i(t) 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>de 
output 
</p>
<p>Fig. 18.1 Development of the ideal rectifier equivalent circuit model: (a) input port resistor emulation; (b) the 
</p>
<p>value of the emulated resistance, and hence the power throughput, is controllable; (c) output port power source char-
</p>
<p>acteristic, and complete model. </p>
<p/>
</div>
<div class="page"><p/>
<p>18.1 Properties of the Ideal Rectifier 639 
</p>
<p>(a) (b) (c) i(t) 
</p>
<p>i(t) i(t) v(t)i(t) = p(t) 
</p>
<p>+ + 
</p>
<p>p(t) v(t) v(t) p(t) 
v(t) 
</p>
<p>Fig. 18.2 The dependent power source: (a) power source schematic symbol, (b) power sink schematic symbol, 
</p>
<p>(c) i-v characteristic. 
</p>
<p>"consumed" by Re is actually transferred to the rectifier de output port. Re simply models how the ideal 
</p>
<p>rectifier loads the ac power system. 
</p>
<p>Output regulation is accomplished by variation of the effective resistance Re, and hence the 
</p>
<p>value of Re must depend on a control signal vcontrol(t) as in Fig. 18.l(b). This allows variation of the recti-
</p>
<p>fier power throughput, since the average power consumed by Re is 
</p>
<p>v2 
p = ac,rms 
</p>
<p>av Re(vcontrol) 
(18.2) 
</p>
<p>Note that changing Re results in a time-varying system, with generation of harmonics. To avoid genera-
</p>
<p>tion of significant amounts of harmonics and degradation of the power factor, variations in Re and in the 
</p>
<p>control input must be slow with respect to the ac line frequency. 
</p>
<p>To the extent that the rectifier is lossless and contains negligible internal energy storage, the 
</p>
<p>instantaneous power flowing into Re must appear at the rectifier output port. Note that the instantaneous 
</p>
<p>power throughput 
</p>
<p>(18.3) 
</p>
<p>is dependent only on V0 c(t) and the control input vcontrol(t), and is independent of the characteristics of the 
</p>
<p>load connected to the output port. Hence, the output port must behave as a source of constant power, 
</p>
<p>obeying the relationship 
</p>
<p>v2 (t) 
v(t)i(t) = p(t) = R 
</p>
<p>e 
</p>
<p>(18.4) 
</p>
<p>The dependent power source symbol of Fig. 18.2(a) is used to denote such an output characteristic. As 
</p>
<p>illustrated in Fig. 18.l(c), the output port is modeled by a power source that is dependent on the instanta-
</p>
<p>neous power flowing into Re. 
</p>
<p>Thus, a two-port model for the ideal unity-power-factor single-phase rectifier is as shown in Fig. 
</p>
<p>18.l(c) [2-4]. The two port model is also called a loss-free resistor (LFR) because (1) its input port obeys 
</p>
<p>Ohm's law, and (2) power entering the input port is transferred directly to the output port without loss of </p>
<p/>
</div>
<div class="page"><p/>
<p>640 Pulse-Width Modulated Rectifiers 
</p>
<p>energy. The defining equations of the LFR are: 
</p>
<p>. ( ) _ vacCt) 
lac I - ( ) 
</p>
<p>Re vcontrot 
</p>
<p>(18.5) 
</p>
<p>v(t)i(t) = p(t) (18.6) 
</p>
<p>(18.7) 
</p>
<p>When the LFR output port is connected to a resistive load of valueR, the de output rms voltages and cur-
</p>
<p>rents Vrms and Irnzs are related to the ac input rms voltages and currents Vac,rms and Iac,rms as follows: 
</p>
<p>(18.8) 
</p>
<p>(18.9) 
</p>
<p>The properties of the power source and loss-free resistor network are discussed in Chapter 11. Regard-
</p>
<p>less of the specific converter implementation, any single-phase rectifier having near-ideal properties can 
</p>
<p>be modeled using the LFR two-port model. 
</p>
<p>18.2 REALIZATION OF A NEAR-IDEAL RECTIFIER 
</p>
<p>Feedback can be employed to cause a converter that exhibits controlled de transformer characteristics to 
</p>
<p>obey the LFR equations. In the single-phase case, the simplest and least expensive approach employs a 
</p>
<p>full-wave diode rectifier network, cascaded by a de-de converter, as in Fig. 18.3. The de-de converter is 
</p>
<p>represented by an ideal de transformer, as discussed in Chapter 3. A control network varies the duty 
</p>
<p>cycle, as necessary to cause the converter input current igCt) to be proportional to the applied input volt-
</p>
<p>de-de converter 
</p>
<p>I : M(d(t)) i(t) 
</p>
<p>+ 
</p>
<p>v(t) c R 
</p>
<p>Fig. 18.3 Synthesis of an ideal rectifier by varying the duty cycle of a PWM de-de converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>18.2 Realization of a Near-Ideal Rectifier 641 
</p>
<p>age vgCt) as in Eq. (18.1). The effective turns ratio of the ideal transformer then varies with time. Ideal 
</p>
<p>waveforms are illustrated in Fig. 18.4. If the applied input voltage v ac(t) is sinusoidal, 
</p>
<p>(18.10) vaJt) 
</p>
<p>then the rectified voltage v gCt) is 
</p>
<p>(18.11) 
</p>
<p>It is desired that the converter output voltage be a con-
</p>
<p>stant de value v(t) = V. The converter conversion ratio &middot; (t) 
1ac 
</p>
<p>must therefore be 
</p>
<p>(18.12) 
</p>
<p>This expression neglects the converter dynamics. As can 
</p>
<p>be seen from Fig. 18.4, the controller must cause the 
</p>
<p>conversion ratio to vary between infinity (at the ac line 
</p>
<p>voltage zero crossings) and some minimum value Mmin 
</p>
<p>(at the peaks of the ac line voltage waveform). Mmin is 
</p>
<p>given by 
</p>
<p>M - V 
min-v 
</p>
<p>M 
</p>
<p>(18.13) 
</p>
<p>Any converter topology whose ideal conversion ratio 
</p>
<p>can be varied between these limits can be employed in 
</p>
<p>this application. 
</p>
<p>To the extent that the de-de converter is ideal 
</p>
<p>(i.e., if the losses can be neglected and there is negligible 
</p>
<p>low-frequency energy storage), the instantaneous input 
</p>
<p>and output powers are equal. Hence, the output current 
</p>
<p>i(t) in Fig. 18.3 is given by 
</p>
<p>(18.14) 
</p>
<p>Substitution of Eq. (18.11) into Eq. (18.14) then leads to 
</p>
<p>&middot;c) v~ . \ ) 
l t = VRe sm Wt 
</p>
<p>v2 
= 2 V~e ( 1- cos (2wt)) 
</p>
<p>(18.15) 
</p>
<p>v(t)l '--___ v ____ _ 
</p>
<p>M(t)l\lJVV 
Fig. 18.4 Waveforms of the rectifier system of 
</p>
<p>Fig. 18.3. 
</p>
<p>Hence, the converter output current contains a de component and a component at the second harmonic of 
</p>
<p>the ac line frequency. One of the functions of capacitor C in Fig. 18.3 is to filter out the second harmonic 
</p>
<p>component of i(t), so that the load current (flowing through resistor R) is essentially equal to the de com-
</p>
<p>ponent </p>
<p/>
</div>
<div class="page"><p/>
<p>642 Pulse-Width Modulated Rectifiers 
</p>
<p>(18.16) 
</p>
<p>where TL is the period of the applied ac line voltage. 
</p>
<p>The average power is 
</p>
<p>P= v~ 
2R, 
</p>
<p>(18.17) 
</p>
<p>The above equations are generally valid for PWM converters used as single-phase low-harmonic rectifi-
</p>
<p>ers. 
</p>
<p>18.2.1 CCM Boost Converter 
</p>
<p>A system based on the CCM boost converter is illustrated in Fig. 18.5 [1,5,6]. Ideally, the boost converter 
</p>
<p>can produce any conversion ratio between one and infinity. Hence, the boost converter is capable of pro-
</p>
<p>ducing the M(d(t)) given by Eq. (18.12), provided that V ~ V M&middot; Further, the boost converter can produce 
</p>
<p>very low THD, with better transistor utilization than other approaches. 
</p>
<p>If the boost converter operates in continuous conduction mode, and if the inductor is small 
</p>
<p>enough that its influence on the low-frequency components of the converter waveforms is negligible, 
</p>
<p>then the duty ratio should follow M(d(t)) = 11(1- d(t)). This implies that the duty ratio should follow the 
</p>
<p>function 
</p>
<p>d(t) = 1- vg(t) 
v 
</p>
<p>(18.18) 
</p>
<p>This expression is true only in the continuous conduction mode. The boost converter operates in the con-
</p>
<p>tinuous conduction mode provided that the inductor current ripple 
</p>
<p>(18.19) 
</p>
<p>Boost converter 
i g &lt; t) r-------------------&middot;-----&middot;-------------------1 i( t) 
</p>
<p>+ + 
</p>
<p>c v(t) R 
</p>
<p>Fig. 18.5 Rectifier system based on the boost converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>18.2 Realization of a Near-Ideal Rectifier 643 
</p>
<p>is greater than the average inductor current, or 
</p>
<p>(18.20) 
</p>
<p>Hence, the converter operates in CCM when 
</p>
<p>(18.21) 
</p>
<p>Substitution of Eq. (18.18) into (18.21) and solution for Re leads to 
</p>
<p>Re &lt; ( ) for CCM v8(t) 
T, 1--v 
</p>
<p>2L 
(18.22) 
</p>
<p>Since vg(t) varies according to Eq. (18.11), Eq. (18.22) may be satisfied at some points on the ac line 
</p>
<p>cycle, and not at others. Since 0 :S: v gCt) :S: V M' we can conclude that the converter operates in CCM over 
the entire ac line cycle when 
</p>
<p>R &lt; 2L 
e Ts 
</p>
<p>Equations (18.18) and (18.22) then hold for all t. The converter always operates in DCM when 
</p>
<p>Re &gt; ( ) 
T 1- VM 
</p>
<p>s v 
</p>
<p>2L 
</p>
<p>(18.23) 
</p>
<p>(18.24) 
</p>
<p>For Re between these limits, the converter operates in DCM when v g(t) is near zero, and in CCM when 
</p>
<p>v/t) approaches VM. 
</p>
<p>The static input characteristics of the open-loop boost converter are sketched in Fig. 18.6. The 
</p>
<p>input current igCt) is plotted vs. input voltage v 8(t), for various duty cycles d(t). In CCM, the input charac-
</p>
<p>teristics of the boost converter are described by 
</p>
<p>vgs) = 1 - d(t) inCCM 
</p>
<p>To obtain a general plot, we can normalize the input current and input voltage as follows: 
</p>
<p>Equation (18.25) then becomes 
</p>
<p>v (t) 
m (t)=-8 -
</p>
<p>g v 
</p>
<p>(18.25) 
</p>
<p>(18.26) 
</p>
<p>(18.27) 
</p>
<p>(18.28) 
</p>
<p>This equation is independent of the input current igCt), and hence is represented by vertical lines in Fig. </p>
<p/>
</div>
<div class="page"><p/>
<p>644 Pulse-Width Modulated Rectifiers 
</p>
<p>Fig. 18.6 Static input characteristics 
</p>
<p>of the boost converter. A typical linear 
</p>
<p>resistive input characteristic is super-
</p>
<p>imposed. 
</p>
<p>18.6. 
</p>
<p>s 
&middot;-'" 
</p>
<p>;..llh" N;::,. 
</p>
<p>s 
-~ 
</p>
<p>0.75 
</p>
<p>0.5 
</p>
<p>0.25 
</p>
<p>0 
</p>
<p>0 
</p>
<p>00 
</p>
<p>0 
II 
</p>
<p>"&lt;::! 
</p>
<p>0.25 0.5 0.75 
</p>
<p>N 
</p>
<p>0 
II 
</p>
<p>"&lt;::! 
</p>
<p>0 
</p>
<p>II 
"&lt;::! 
</p>
<p>To derive the boost input characteristic for DCM operation, we can solve the steady-state equiv-
</p>
<p>alent circuit model of Fig. 11.12(b) (reproduced in Fig. 18.7). Beware: the natural DCM effective resis-
</p>
<p>tance of Chapter 11, Re = 2L/d2Ts, does not necessarily coincide with the emulated resistance Re = v/i8 
ofEq. (18.1). In this chapter, the quantity Re is defined according to Eq. (18.1). Solution of Fig. 18.7 for 
</p>
<p>the input current igCt) leads to: 
</p>
<p>The instantaneous power consumed by the effective resistor in the model of Fig. 18.7 is 
</p>
<p>Substitution of Eq. (18.30) into Eq. (18.29) and simplification leads to 
</p>
<p>Fig. 18.7 Averaged equivalent circuit model of the boost 
</p>
<p>converter operating in DCM, derived in Chapter 11. 
</p>
<p>2L 
</p>
<p>d 2T s 
</p>
<p>p(t) 
</p>
<p>V -vg(t) 
</p>
<p>(18.29) 
</p>
<p>(18.30) 
</p>
<p>+ 
</p>
<p>v </p>
<p/>
</div>
<div class="page"><p/>
<p>18.2 Realization of a Near-Ideal Rectifier 645 
</p>
<p>inDCM (18.31) 
</p>
<p>Normalization of this equation according to Eqs. (18.26) and (18.27) yields 
</p>
<p>(18.32) 
</p>
<p>This equation describes the curved (DCM) portions of the Fig. 18.6 input characteristics, for low igCt). 
</p>
<p>To express the CCM/DCM mode boundary as a function of vgCt) and igCt), Eqs. (18.1) and 
</p>
<p>(18.22) can be combined, leading to 
</p>
<p>forCCM (18.33) 
</p>
<p>Normalization of this equation, according to Eqs. (18.26) and (18.27), results in 
</p>
<p>forCCM (18.34) 
</p>
<p>This equation describes a parabola having roots at mg = 0 and m8 = 1, with the maximum value jg = 0.25 
at mg = 0.5. The mode boundary equation is plotted as a dashed line in Fig. 18.6 
</p>
<p>The complete input characteristics for the boost converter were plotted in Fig. 18.6 using Eqs. 
</p>
<p>(18.28), (18.32), and (18.34). Figure 18.6 also illustrates the desired linear resistive input characteristic, 
</p>
<p>Eq. (18.1). For the value of Re illustrated, the converter operates in DCM for vgCt) near zero, and in CCM 
</p>
<p>for vgCt) near V M' The intersections of boost input characteristics with the desired linear input characteris-
</p>
<p>tic illustrate how the controller must choose the duty cycle at various values of vgCt). 
</p>
<p>Other converters capable of producing the M(d(t)) of Eq. (18.12) include the buck-boost, 
</p>
<p>SEPIC, and Cuk converters. The boost, SEPIC, and Cuk converters share the desirable property of non-
</p>
<p>pulsating input current, and hence require minimal input EM&pound; filtering. The SEPIC produces a non 
</p>
<p>inverted output voltage. Isolated versions of these converters (see Chapter 6) are also sometimes 
</p>
<p>employed [7-9]. Schemes involving the parallel resonant converter, as well as several types of quasi-res-
</p>
<p>onant converters, are also documented in the literature [10-13]. 
</p>
<p>The open-loop boost converter, when operated in discontinuous conduction mode, is also some-
</p>
<p>times used as an approximation of an ideal rectifier. The DCM effective resistance 2L/d2(t)Ts of Fig. 18.7 
</p>
<p>is then taken as an approximation of the desired emulated resistance of Eq. (18.1). The model differs 
</p>
<p>from that of the ideal rectifier model of Fig. 18.1(c) in that the power source is connected between the 
</p>
<p>input and output terminals. As a result, harmonics are present in the input current waveform. For exam-
</p>
<p>ple, if v 8(t) is a rectified sinusoid, then the current through the effective resistance 2Lid2(t)T, will also be 
</p>
<p>a rectified sinusoid. However, the input current ( i8(t) &gt;r, is now equal to the sum of the current through Re 
</p>
<p>and the current flowing through the power source element. Since the power source is a nonlinear ele-
</p>
<p>ment, (igCt))r, contains harmonics. For large C, the output voltage is essentially constant. The input cur-
</p>
<p>rent waveform is then given by Eq. (18.31). If Vis sufficiently large, then the term (1 - vgCt)IV) is 
</p>
<p>approximately equal to one, and the harmonics in (igCt) )r, are small. The zero crossings of vgCt), p(t), and 
</p>
<p>(igCt))r, coincide. So although the DCM boost converter generates some current harmonics, it is nonethe-
</p>
<p>less possible to construct a low harmonic rectifier that meets harmonic limits. Again, this approach has 
</p>
<p>the disadvantages of the increased peak currents of DCM, and the need for additional filtering of the 
</p>
<p>high-frequency pulsating input currents. Computer simulation of a DCM boost rectifier is described in 
</p>
<p>Appendix B, Section B.2.3. </p>
<p/>
</div>
<div class="page"><p/>
<p>646 Pulse-Width Modulated Rectifiers 
</p>
<p>A similar approach is to operate the boost converter at the boundary between the continuous and 
</p>
<p>discontinuous conduction modes. This approach is known as "critical conduction mode" operation. It 
</p>
<p>eliminates the distortion mechanism described above, but requires variable switching-frequency control. 
</p>
<p>This approach is quite popular at low power levels, and is described further in Section 18.3.3. 
</p>
<p>Other converters not capable of producing the M(d(t)) of Eq. (18.12), such as the buck con-
</p>
<p>verter, are sometimes employed as the de-de converter of Fig. 18.3. Distortion of the ac line current 
</p>
<p>waveform must then occur. Nonetheless, at low power levels it may be possible to meet the applicable ac 
</p>
<p>line current harmonic standards using such an approach. 
</p>
<p>18.2.2 DCM Flyback Converter 
</p>
<p>In Chapter 11, the loss-free resistor network is used to model converters operating in discontinuous con-
</p>
<p>duction mode. This suggests that DCM converters can also be used as near-ideal rectifiers. Indeed, the 
</p>
<p>buck-boost, ftyback, SEPIC, and Cuk converters, when operated in discontinuous conduction mode with-
</p>
<p>out additional control, inherently behave as natural loss-free resistors. The DCM effective resistance R., 
</p>
<p>found in Chapter 11 to be equal to 2UD2T8 , then coincides with the rectifier emulated resistance of 
</p>
<p>Eq. (18.1). At low power levels, this can be an effective and low-cost approach. Inrush current limiting is 
</p>
<p>also inherent in this approach, and isolation and scaling via a turns ratio are provided by the transformer. 
</p>
<p>Disadvantages are the increased peak currents of DCM, and the need for additional filtering of the high-
</p>
<p>frequency pulsating input currents. 
</p>
<p>A simple low-harmonic rectifier system based on the transformer-isolated ftyback converter is 
</p>
<p>illustrated in Fig. 18.8 [2]. The ac line voltage is connected through an input EMI filter to a bridge recti-
</p>
<p>fier and a ftyback converter. The ftyback converter is operated at constant switching frequency fs and con-
stant duty cycle D. The converter is designed such that it operates in the discontinuous conduction mode 
</p>
<p>under all conditions. The input EMI filter smooths the pulsating input current waveform, so that iac(t) is 
</p>
<p>approximately sinusoidal. 
</p>
<p>The ftyback converter is replaced by its averaged equivalent circuit in Fig. 18.9. As discussed in 
</p>
<p>Chapter 11, the terminal waveforms of the ftyback converter have been averaged over the switching 
</p>
<p>period Ts, resulting in the loss-free resistor model. This model illustrates how the DCM ftyback converter 
</p>
<p>presents a resistive load to the ac input. It also illustrates how the power flow can be controlled, by varia-
</p>
<p>-------------------, 
i 
</p>
<p>Flyback converter 
,-&middot;----&middot;-&middot;-;;-;-i-&middot;---&middot;-&middot;-&middot;---, i( t) 
</p>
<p>~~ .. +--+~-r----~ 
</p>
<p>EM/filter 
</p>
<p>v(t) c R 
</p>
<p>L----&middot;-&middot;&middot;&middot;------------&middot;------
</p>
<p>tv 
Fig. 18.8 Low-harmonic rectifier system incorporating a flyback converter that operates in the discontinuous con-
</p>
<p>duction mode. </p>
<p/>
</div>
<div class="page"><p/>
<p>18.2 Realization of a Near-Ideal Rectifier 647 
</p>
<p>EM! filter Averaged model &lt; i c t) &gt; r---------------------------------------------1 
g r, i i ( i(t) &gt;rs -------------------------------1 
</p>
<p>.--+---;-' 
+ 
</p>
<p>c R 
</p>
<p>Fig. 18.9 Averaged equivalent circuit that models the system of Fig. 18.8. 
</p>
<p>tion of D to control the value of the emulated resistance Re. 
</p>
<p>To design this converter, one must select the value of inductance to be sufficiently small, such 
</p>
<p>that the converter operates in DCM at all points on the ac sine wave, at maximum load. If we denote the 
</p>
<p>lengths of the transistor conduction interval, diode conduction interval, and discontinuous interval as 
</p>
<p>DTs, d2Ts, and d3Ts, respectively, then the converter operates in DCM provided that d3 is greater than 
</p>
<p>zero. This implies that 
</p>
<p>By volt-second balance on the transformer magnetizing inductance, we can express dit) as 
</p>
<p>Substitution of Eq. (18.36) into Eq. (18.35) and solution forD yields 
</p>
<p>D&lt; 1 
</p>
<p>( vg(t)) 1+~&shy;
nV 
</p>
<p>(18.35) 
</p>
<p>(18.36) 
</p>
<p>(18.37) 
</p>
<p>During a given switching period, the converter will operate in DCM provided that the above inequality is 
</p>
<p>satisfied. The worst case occurs when the rectified sinusoid v gCt) is equal to its peak value V M&middot; The ine-
</p>
<p>quality then becomes 
</p>
<p>(18.38) 
</p>
<p>If Eq. (18.38) is satisfied, then the converter operates in DCM at all points on the ac line sinusoid. 
</p>
<p>In steady state, the de output voltage is given by Eq. (18.8). Upon substitution of the expression 
</p>
<p>for Re and solution forD, this equation becomes 
</p>
<p>(18.39) 
</p>
<p>Insertion of this relationship into Eq. (18.38), and solution for L, yields </p>
<p/>
</div>
<div class="page"><p/>
<p>648 Pulse-Width Modulated Rectifiers 
</p>
<p>(18.40) 
</p>
<p>For variations in load R and peak ac input voltage V M&bull; the worst case will occur at minimum R (maxi-
</p>
<p>mum power) and minimum V M' Hence, the designer should choose L to satisfy 
</p>
<p>L L - RminT, 
&lt; crit-min- ( V )2 
</p>
<p>4 1+-n-
VM-min 
</p>
<p>(18.41) 
</p>
<p>If this equation is violated, then at maximum load power and minimum input voltage amplitude, the con-
</p>
<p>vert will operate in CCM near the peak of the ac sinewave. This will lead to an input current waveform 
</p>
<p>having substantial distortion. 
</p>
<p>18.3 CONTROL OF THE CURRENT WAVEFORM 
</p>
<p>A wide variety of approaches are known for active control of the input current waveform to attain input 
</p>
<p>resistor emulation [14-33]. Average current control [17,18], input voltage feedforward [17], current-pro-
</p>
<p>grammed control [19-22], hysteretic control and critical conduction mode control [23-27], and nonlin-
</p>
<p>ear carrier control [28-30] are briefly surveyed here. Other approaches include sliding-mode control 
</p>
<p>[31], charge control [32], andASDTIC control [33]. 
</p>
<p>18.3.1 Average Current Control 
</p>
<p>Average current control is a popular method of implementing control of the input current waveform in a 
</p>
<p>low-harmonic rectifier. This approach works in both continuous and discontinuous conduction modes, 
</p>
<p>and can produce high-quality current waveforms over a wide range of input voltages and load powers. 
</p>
<p>The problems of crossover distortion, found in some competing schemes such as current programmed 
</p>
<p>control, are largely avoided. Several popular integrated circuits are available that implement average cur-
</p>
<p>rent control. 
</p>
<p>Figure 18.10 illustrates average current control of the input current waveform (igCt))Ts in a boost 
converter. The input current igCt) flows through a shunt resistor. The voltage across this shunt resistor is 
</p>
<p>amplified by an op amp circuit. This op amp circuit contains a low-pass filter characteristic that attenu-
</p>
<p>ates the high-frequency switching harmonics. The output voltage va(t) of the op amp circuit is propor-
</p>
<p>tional to the low-frequency average value of i/t): 
</p>
<p>(18.42) 
</p>
<p>This signal is compared to the reference voltage v /t), to produce an error signal that drives the compen-
</p>
<p>sator network and pulse-width modulator as illustrated. If the feedback loop is well designed, then the 
</p>
<p>error signal is small: 
</p>
<p>(18.43) </p>
<p/>
</div>
<div class="page"><p/>
<p>18.3 Control of the Current Waveform 649 
</p>
<p>Boost converter 
i g c t) 1------------------------------------------------1 i( t) 
</p>
<p>+ + 
</p>
<p>c v(t) R 
</p>
<p>V r(t) 
</p>
<p>= kx vg(t) Vcontrol(t) 
Controller 
</p>
<p>Fig. 18.11 Average current control of a boost converter, to obtain a low-harmonic rectifier. 
</p>
<p>The average current controller causes the sensed current i8(t) to follow the reference waveform v/t). 
To cause the input current to be proportional to the input voltage, the reference voltage v /f) is 
</p>
<p>derived from the sensed input voltage waveform, as in Fig. 18.11. The current reference signal v/t) is 
</p>
<p>derived from the sensed input voltage vgCt). and hence has a sinusoidal waveshape. Hence, the average 
current controller causes the average input current ig(t) to be proportional to the input voltage v 8(t). The 
</p>
<p>multiplier illustrated in Fig. 18.11 allows adjustment of the constant of proportionality, so that the magni-
</p>
<p>tude of the emulated resistance can be controlled via a control signal vcontrol(t). Let us assume that the 
</p>
<p>multiplier terminal equations are 
</p>
<p>Fig. 18.10 Average current 
</p>
<p>control of the input current in a 
</p>
<p>boost converter. 
</p>
<p>:&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>Current! 
sense! 
</p>
<p>circuit l 
</p>
<p>Current v (t) 
reference r 
</p>
<p>+ 
</p>
<p>v(t) </p>
<p/>
</div>
<div class="page"><p/>
<p>650 Pulse- Width Modulated Rectifiers 
</p>
<p>(iit))r, Ideal rectifier (LFR) (i(t))r, 
..----+;&middot;_----_---...,------------------------------------------,_---_----_---_-----+-+--.-------. 
</p>
<p>+ ! + 
</p>
<p>(" ,(&lt;)),, I R, 
</p>
<p>L------~---------~~--~ ; 
</p>
<p>R c 
</p>
<p>~------------------------------------------------------------------
</p>
<p>R (t) = R, Vcontrol(t) 
e k X VCO/llrolt) 
</p>
<p>Fig. 18.12 Model of the system of Fig. 18.5, based on the loss-free resistor model of Fig. 18.1(c), which predicts 
</p>
<p>the low-frequency system waveforms. This model assumes that the feedback loop of Fig. 18.5 operates ideally. 
</p>
<p>(18.44) 
</p>
<p>Then the emulated resistance is 
</p>
<p>(18.45) 
</p>
<p>Here, Eqs. (18.44) and (18.42) have been used to eliminate vg and ig. Substitution of Eq. (18.43) leads to 
</p>
<p>the result 
</p>
<p>(18.46) 
</p>
<p>Hence, if the feedback loop is well designed, then the system of Fig. 18.11 can be represented by the 
</p>
<p>LFR model as in Fig. 18.12. The average current controller scheme of Fig. 18.11 and the model of Fig. 
</p>
<p>18.12 are independent of the de-de converter topology, and can be applied to systems containing CCM 
</p>
<p>boost, buck-boost, Cuk, SEPIC, and other topologies. 
</p>
<p>Average power flow and the output voltage are regulated by variation of the emulated resistance 
</p>
<p>Re, in average current control as well as in most other schemes. This is usually accomplished by use of a 
</p>
<p>multiplier in the input voltage sensing path, as shown in Fig. 18.13. This control loop continually adjusts 
</p>
<p>Re to maintain balance of the average rectifier power P av = V~. rm/ Re and the load power P1oad&bull; such that 
the following relation is obeyed: 
</p>
<p>(18.47) 
</p>
<p>Average current control works quite well. Its only disadvantages are the need to sense the average input 
</p>
<p>current, rather than the transistor current, and the need for a multiplier in the controller circuit. 
</p>
<p>Most average current control implementations include provisions for feedforward of the input 
</p>
<p>voltage amplitude. This allows disturbances in the ac input voltage amplitude to be canceled out by the </p>
<p/>
</div>
<div class="page"><p/>
<p>18.3 Control of the Current Waveform 651 
</p>
<p>+ 
</p>
<p>C v(t) 
</p>
<p>Compensator 
</p>
<p>Fig. 18.13 Average current control incorporating a multiplier for regulation of the output voltage. 
</p>
<p>controller, such that the de output voltage is unaffected. 
</p>
<p>Combination of Eqs. (18.44), (18.46), and (18.47), and solution for vrefl(t) leads to 
</p>
<p>(18.48) 
</p>
<p>This equation shows how the reference voltage should be varied to maintain a given rectifier average 
</p>
<p>power throughput Pav&middot; Apparently, it is necessary to divide by the square of the rms input voltage ampli-
</p>
<p>tude. A controller that implements Eq. (18.48) is illustrated in Fig. 18.14. The multiplier block of Fig. 
</p>
<p>18.13 has been generalized to perform the function kvxy/z2&bull; It is somewhat complicated to compute the 
</p>
<p>rms value of a general ac waveform; however, the ac input voltage v8(t) normally is sinusoidal with neg" 
</p>
<p>ligible harmonics. Hence, the peak value of v 8(t) is directly proportional to its rms value, and we can use 
</p>
<p>the peak value V Min place of Vg,rms&middot; So the controller of Fig. 18.14 produces the reference voltage 
</p>
<p>(18.49) 
</p>
<p>Comparison of Eqs. (18.48) and (18.49) leads to the conclusion that 
</p>
<p>(18.50) 
</p>
<p>So the average power throughput is directly controlled by vcontrol(t), and is independent of the input volt-
</p>
<p>age vgU). 
</p>
<p>Feedforward can cause the rectifier de output voltage to be less sensitive to variations in the ac </p>
<p/>
</div>
<div class="page"><p/>
<p>652 Pulse-Width Modulated Rectifiers 
</p>
<p>Peak 
detector 
</p>
<p>X 
</p>
<p>multiplier 
</p>
<p>VM y 
~--~ ~------~ 
</p>
<p>V control ( t) 
</p>
<p>Compensator 
</p>
<p>Fig. 18.14 Average current control incorporating input voltage feedforward. 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>line voltage. A disadvantage is the ac line current distortion introduced by variations in the voltage pro-
</p>
<p>duced by the peak detector. 
</p>
<p>To aid in the design of the inner feedback loop that controls the ac line current waveshape, a 
</p>
<p>converter model is needed that describes how the converter average input current depends on the duty 
</p>
<p>cycle. We would prefer to apply the averaged small-signal modeling techniques of Chapter 7 here. The 
</p>
<p>problem is that the variations in the duty cycle d(t), as well as in the ac input voltage v gCt) and current 
</p>
<p>igCt), are not small. As a result, in general the small-signal assumptions are violated, and we are faced 
</p>
<p>with the design of a control system that exhibits significant nonlinear time-varying behavior. 
</p>
<p>When the rectifier operates near periodic steady state, the output voltage v(t) of a well-designed 
</p>
<p>system exhibits small variations. So we can write 
</p>
<p>(v(t))T = V + v(t) 
s 
</p>
<p>(18.51) 
</p>
<p>with 
</p>
<p>(18.52) 
</p>
<p>In other words, the small-signal assumption continues to be valid with respect to the rectifier output volt-
</p>
<p>age. In the case of the boost converter, this allows us to linearize the converter input characteristics. 
</p>
<p>Following the approach of Chapter 7, we can express the average inductor voltage of the boost 
</p>
<p>converter as </p>
<p/>
</div>
<div class="page"><p/>
<p>18.3 Control of the Current Waveform 653 
</p>
<p>Fig. 18.15 Linearized model describing the boost 
</p>
<p>converter input characteristics, corresponding to Eq. 
</p>
<p>(18.55) 
</p>
<p>L 
</p>
<p>d'(t)V 
</p>
<p>(18.53) 
</p>
<p>This equation contains the nonlinear term d'(t) ( v(t) \;.&middot; Substitution of Eq. (18.51) into (18.53) yields 
</p>
<p>(18.54) 
</p>
<p>When Eq. (18.52) is satisfied, then the nonlinear term- d'(t)V(t) is much smaller in magnitude than the 
</p>
<p>linear term- d'(t)V Therefore, we can discard the nonlinear term to obtain 
</p>
<p>(18.55) 
</p>
<p>This linear differential equation is valid even though igCt), vgCt), and d(t) contain large variations. 
</p>
<p>An equivalent circuit corresponding to Eq. (18.55) is given in Fig. 18.15. The averaged control-
</p>
<p>to-input-current transfer function is found by setting the independent inputs other than d(t) to zero, and 
</p>
<p>then solving for ig; the model predicts that this transfer function is 
</p>
<p>(18.56) 
</p>
<p>where igCs) is the Laplace transform of (igCt) )r,. So the input characteristics of the boost rectifier can be 
linearized, even though the ac input variations are not small. 
</p>
<p>Unfortunately, Eq. (18.52) is not sufficient to linearize the equations describing the input char-
</p>
<p>acteristics of the buck-boost, SEPIC, Cuk, and most other single-phase rectifiers. The control system 
</p>
<p>design engineer must then deal with a truly nonlinear time-varying dynamical system. 
</p>
<p>One approach that is sometimes suggested employs the quasi-static approximation [34,35]. It is 
</p>
<p>assumed that the ac line variations are much slower than the rectifier system dynamics, such that the rec-
</p>
<p>tifier always operates near equilibrium. The quiescent operating point changes slowly along the input 
</p>
<p>sinusoid; an equilibrium analysis can be performed to find expressions for the slowly-varying "equilib-
</p>
<p>rium" duty ratio and converter voltages and currents. The small-signal de-de converter transfer functions 
</p>
<p>derived in Chapters 7 and 8 are evaluated using this time-varying operating point. The converter poles, 
</p>
<p>zeroes, and gains are found to vary along the ac input sinusoid. An average current controller is designed 
</p>
<p>using these time-varying transfer functions, such that the current loop gain has a positive phase margin at 
</p>
<p>all operating points. 
</p>
<p>We expect that the quasi-static approximation should be valid if the rectifier system dynamics 
</p>
<p>are sufficiently fast, and it is reasonable to anticipate that high-frequency PWM converters have dynam-</p>
<p/>
</div>
<div class="page"><p/>
<p>654 Pulse- Width Modulated Rectifiers 
</p>
<p>ics that are much faster than the ac line frequency. The problem is that no good condition on system 
</p>
<p>parameters, which can justify the approximation, is known for the basic converter topologies. There is 
</p>
<p>room for additional research in this area. 
</p>
<p>It is well-understood in the field of control systems that, when the rectifier system dynamics are 
</p>
<p>not sufficiently fast, the quasi-static approximation yields neither sufficient nor necessary conditions for 
</p>
<p>stability of the resulting design. Time-varying "loop gains" that always have a positive phase margin may 
</p>
<p>nonetheless be unstable, and a negative phase margin does not always imply instability. Such phenomena 
</p>
<p>are sometimes observed in rectifier systems. Even worse, it is difficult to justify the use of the Laplace 
</p>
<p>transform on rectifiers described by time-varying differential equations, unless the quasi-static approxi-
</p>
<p>mation can be validated. 
</p>
<p>18.3.2 Current Programmed Control 
</p>
<p>Another well-known approach to attaining input resistor emulation is the use of current-programmed 
</p>
<p>control. As illustrated in Fig. 18.16, the programmed current ic(t) is made proportional to the ac input 
</p>
<p>voltage. This causes the average inductor current, and hence also (igCt) )r,.&bull; to approximately follow vgCt). 
</p>
<p>As in average current control, a multiplier is used to adjust the emulated resistance and average power 
</p>
<p>flow; the control signal vcontrol(t) is typically used to stabilize the de output voltage magnitude. Several 
</p>
<p>rectifier control ICs are commercially available, which implement current-programmed control. 
</p>
<p>As discussed in Chapter 12, several mechanisms cause the average inductor current and hence 
</p>
<p>also (igCt))Ts to differ from the programmed iJt). These mechanisms introduce crossover distortion and 
</p>
<p>line current harmonics. An artificial ramp having sufficiently large slope rna is necessary to stabilize the 
</p>
<p>Boost converter 
</p>
<p>I 
! Multiplier 
I Vt) Comparator Latch 
' = kx vgCt) Vcontrol(t) 
!_ ____________________________________________________________________________________________________________________________________________ _: 
</p>
<p>Current-programmed controller 
</p>
<p>Fig. 18.16 Current-programmed control of a boost rectifier. 
</p>
<p>R </p>
<p/>
</div>
<div class="page"><p/>
<p>18.3 Control of the Current Waveform 655 
</p>
<p>current-programmed boost converter when it operates in CCM with d(t) &gt; 0.5. The addition of this ramp 
causes (igCt))r, to differ from ic(t). Additional deviation is introduced by the inductor current ripple. Both 
</p>
<p>mechanisms are most pronounced when the inductor current is small, near the zero-crossings of the ac 
</p>
<p>line waveforms. 
</p>
<p>The static input characteristics, that is, the average input current vs. the input voltage, of the cur-
</p>
<p>rent-programmed boost converter are given by 
</p>
<p>inDCM 
</p>
<p>(18.57) 
</p>
<p>inCCM 
</p>
<p>The converter operates in the continuous conduction mode when 
</p>
<p>/&middot; ( )) T,V v8(t) (1- vgCt)) 
\ 18 t T, &gt; 2L v v 
</p>
<p>(18.58) 
</p>
<p>In terms of the control current iJt), the condition for operation in CCM can be expressed 
</p>
<p>i (t) &gt; T,V (maL+ vgCt)) (1- vgCt)) 
c L V V V 
</p>
<p>(18.59) 
</p>
<p>In the conventional current-programmed rectifier control scheme, the control current ic(t) is simply pro-
</p>
<p>portional to the ac input voltage: 
</p>
<p>(18.60) 
</p>
<p>where Re is the emulated resistance that would be obtained if the average input current exactly followed 
</p>
<p>the reference current ic(t). The static input characteristics given by Eqs. (18.57) to (18.60) are plotted in 
</p>
<p>Fig. 18.17. The average input current (igCt))r, is plotted as a function of the applied input voltage vgCt), for 
</p>
<p>several values of emulated resistance Re. The region near the CCM-DCM boundary is shown. The 
</p>
<p>curves are plotted for a fixed artificial ramp having slope 
</p>
<p>(18.61) 
</p>
<p>This is the minimum value of artificial ramp that stabilizes the boost current-programmed controller at 
</p>
<p>all static operating points. Decreasing rna below this value leads to instability at operating points in the 
</p>
<p>continuous conduction mode at low vgCt)IV. 
</p>
<p>To obtain resistor emulation, it is desired that the static input characteristics be linear and pass 
</p>
<p>through the origin. It can be seen from Fig. 18.17 that this is not the case: the curves are reasonably linear 
</p>
<p>in the continuous conduction mode, but exhibit significant curvature as the CCM-DCM boundary is 
</p>
<p>approached. The resulting average current waveforms are summarized in Fig. 18.8. 
</p>
<p>To minimize the line current THD, it is apparent that the converter should be designed to oper-
</p>
<p>ate deeply in the continuous conduction mode for most of the ac line cycle. This is accomplished with 
</p>
<p>emulated resistances Re that are much smaller than Rbase == 2LIT,. In addition, the artificial ramp slope rna </p>
<p/>
</div>
<div class="page"><p/>
<p>656 Pulse- Width Modulated Rectifiers 
</p>
<p>0.8 
</p>
<p>~, 
r:J::.:2 :::.. 
</p>
<p>h 0.6 
Q 
'--' 
</p>
<p>"" ..:.::::..-
0.4 
</p>
<p>-;::;-
'--' 
-~ 
</p>
<p>0.2 
</p>
<p>0 
</p>
<p>0.0 0.2 0.4 0.6 0.8 1.0 
</p>
<p>vg(t) 
</p>
<p>v 
Fig. 18.17 Static input characteristics of a current-programmed boost converter, with minimum stabilizing artifi-
</p>
<p>cial ramp ofEq. (18.61). 
</p>
<p>iit) 
1.0 
</p>
<p>- v Peak ig ma- 2L 
0.8 R _ 2L 
</p>
<p>base- ---;y; 
</p>
<p>0.6 
</p>
<p>0.4 
</p>
<p>0.2 
</p>
<p>0.0 
(f)( 
</p>
<p>Fig. 18.18 Input current waveshapes predicted by the static input characteristics of Fig. 18.17, compared with ll 
</p>
<p>pure sinusoid. Curves are plotted for the case V M = 0.8V, with minimum stabilizing artificial ramp. 
</p>
<p>should be no greater than otherwise necessary. In practice, THD of 5% to 10% can easily be obtained in 
</p>
<p>rectifiers that function over a narrow range of rms input voltages and load currents. However, low THD 
</p>
<p>cannot be obtained at all operating points in universal-input rectifiers; THD of 20% to 50% may be 
</p>
<p>observed at maximum ac input voltage. This problem can be solved by biasing the current reference 
</p>
<p>waveform. Design of current-programmed rectifiers is discussed in [19-22], and some strategies for 
</p>
<p>solving this problem are addressed in [ 19]. </p>
<p/>
</div>
<div class="page"><p/>
<p>18.3 Control of the Current Waveform 657 
</p>
<p>(a) 
</p>
<p>wt 
</p>
<p>(b) .&middot;&middot;&middot;&middot;&middot; &middot;&middot;&middot; ... 
.... &middot;&middot;&middot; &middot;&middot;&middot;&middot;&middot; ... 
</p>
<p>&middot;&middot;&middot;&middot;&middot;&middot; ... 
</p>
<p>&middot;&middot;&middot;&middot;&middot; ... 
</p>
<p>Wt 
</p>
<p>Fig. 18.19 Input current waveforms of two boost converters with hysteretic control: (a)&plusmn; 10% regulation band, (b) 
critical conduction mode operation (&plusmn; 100% regulation band). 
</p>
<p>18.3.3 Critical Conduction Mode and Hysteretic Control 
</p>
<p>Another control scheme sometimes used in low-harmonic rectifiers, as well as in de-de converters and 
</p>
<p>dc-ac inverters, is hysteretic control. Rather than operating at a fixed switching frequency and duty 
</p>
<p>cycle, the hysteretic controller switches the transistor on and off as necessary to maintain a waveform 
</p>
<p>within given limits. A special case of hysteretic control, called critical conduction mode control, is 
</p>
<p>implemented in several commercially-available ICs, and is popular for low-harmonic rectifiers rated 
</p>
<p>below several hundred Watts [23-25]. 
</p>
<p>An example is the sinusoid of Fig. 18.19(a), in which the boost converter input current is con-
</p>
<p>trolled to follow a sinusoidal reference with a &plusmn; 10% tolerance. The inductor current increases when the 
</p>
<p>transistor is on, and decreases when the transistor is off. So this hysteretic controller switches the transis-
</p>
<p>tor on whenever the input current falls below 90% of the reference input. The controller switches the 
</p>
<p>transistor off whenever the input current exceeds 110% of the reference. Hysteretic controllers tend to 
</p>
<p>have simple implementations. However, they have the disadvantages of variable switching frequency and 
</p>
<p>reduced noise immunity. 
</p>
<p>Another example of hysteretic control is the waveform of Fig. 18.19(b). The lower limit is cho-
</p>
<p>sen to be zero, while the upper limit is twice the reference input. This controller operates the boost con-
</p>
<p>verter at the boundary between the continuous and discontinuous conduction modes. An alternative 
</p>
<p>control scheme that generates the same waveform simply operates the transistor with constant on-time: 
</p>
<p>the transistor is switched on when the inductor current reaches zero, and is switched off after a fixed </p>
<p/>
</div>
<div class="page"><p/>
<p>658 Pulse-Width Modulated Rectifiers 
</p>
<p>EM/filter 
r&middot;M&middot;&middot;----------------------~ 
</p>
<p>'-r-+----, 
</p>
<p>Boost converter 
i / t) r&middot;&middot;----------------------------------------------1 i( t) 
</p>
<p>+ + 
</p>
<p>c v(t) R 
</p>
<p>L------------------------J I : r&middot;&middot;---------------------------- -------------- __ .... ___________________ -.:-.... ---------.:-.:-.----&middot;, .. ,.-.-::-.-.---.:-.:-.-.:-.:-.-_ ...... , .. ,_ ... -_.,. _________________________________ 1 
</p>
<p>vco/ltro/t) i i 
</p>
<p>i I 
I Multiplier l 
</p>
<p>r ,I 
</p>
<p>I 
~------------~-~:.-~-~~:~-~~~!'!!.~!.~t!__ ________ ~:=~-~~~::~-----------------------~:~:: ________ __1 
</p>
<p>Controller 
</p>
<p>Fig. 18.20 A typical implementation of critical conduction mode control. 
</p>
<p>interval of length ton&middot; The resulting inductor current waveform will have a peak value that depends 
</p>
<p>directly on the applied input voltage, and whose average value is one-half of its peak. With either control 
</p>
<p>approach, the converter naturally exhibits loss-free-resistor or ideal rectifier behavior. The emulated 
</p>
<p>resistance is 
</p>
<p>R = 2L 
e ton 
</p>
<p>(18.62) 
</p>
<p>This scheme has the advantage of small inductor size and low-cost control ICs. Disadvantages are 
</p>
<p>increased peak currents, variable switching frequency, and the need for additional input EMI filtering. 
</p>
<p>A typical critical conduction mode controller is illustrated in Fig. 18.20. A zero-current detector 
</p>
<p>senses when the inductor current is zero; this is typically accomplished by monitoring the voltage across 
</p>
<p>the inductor. The zero-current detector sets a latch, turning on the transistor and initiating the switching 
</p>
<p>period. The transistor current is also monitored, and is compared to a sinusoidal reference v/t) that is 
</p>
<p>proportional to the applied input voltage vgCt). When the sensed current is equal to the reference, the latch 
</p>
<p>is reset and the transistor is turned off. 
</p>
<p>Since the switching frequency can vary, possibly over a wide range, it is important to carefully 
</p>
<p>design the converter power stage. For a given power P, the required transistor on-time ton can be found by 
</p>
<p>combining Eqs. (18.17) and (18.62), and solving for t0 n: 
</p>
<p>4LP 
to"=VZ 
</p>
<p>M 
</p>
<p>(18.63) 
</p>
<p>Application of the principle of volt-second balance to inductor L of Fig. 18.20 leads to the following 
</p>
<p>equation: 
</p>
<p>(18.64) 
</p>
<p>Hence, the transistor off-time is given by </p>
<p/>
</div>
<div class="page"><p/>
<p>18.3 Control of the Current Waveform 659 
</p>
<p>(18.65) 
</p>
<p>The switching period Ts is equal to 
</p>
<p>(18.66) 
</p>
<p>Substitution of Eqs. (18.63) and (18.65) into Eq. (18.66) yields 
</p>
<p>(18.67) 
</p>
<p>The following expression for switching frequency is found by substitution of Eq. (18.11) into Eq. 
</p>
<p>(18.67): 
</p>
<p>1 v~ ( vM I . I) fs = T, = 4LP 1-V sm (Wt) 
</p>
<p>The maximum switching frequency occurs when sin (mt) equals zero: 
</p>
<p>vz 
maxfs= 4L7&gt; 
</p>
<p>The minimum switching frequency occurs at the peak of the sine wave: 
</p>
<p>(18.68) 
</p>
<p>(18.69) 
</p>
<p>(18.70) 
</p>
<p>Equations (18.69) and (18.70) can be used to select the value of the inductance Land the output voltage 
</p>
<p>V, so that the switching frequency varies over an acceptable range. 
</p>
<p>18.3.4 Nonlinear Carrier Control 
</p>
<p>The nonlinear-carrier controller (NLC) is capable of attaining input resistor emulation in boost and other 
</p>
<p>converters that operate in the continuous conduction mode. Implementation of the controller is quite sim-
</p>
<p>ple, with no need for sensing of the input voltage or input current. There is also no need for a current loop 
</p>
<p>error amplifier. The boost nonlinear-carrier charge controller is inherently stable and is free from the sta-
</p>
<p>bility problems that require addition of an artificial ramp in current programmed controllers. 
</p>
<p>A CCM boost rectifier system with nonlinear-carrier charge control is illustrated in Fig. 18.21, 
</p>
<p>and waveforms are given in Fig. 18.22. The reasoning behind this approach is as follows. It is desirable 
</p>
<p>to control the transistor switch current i,.(t). This pulsating current is much easier to sense than the contin-
</p>
<p>uous converter input current-a simple current transformer can be used, as in Fig. 18.21. Further, it is 
</p>
<p>desirable to control the integral of this current, or the charge, for two reasons: (1) integration of the wave-
</p>
<p>form leads to improved noise immunity, and (2) the integral of the waveform is directly related to its 
</p>
<p>average value, </p>
<p/>
</div>
<div class="page"><p/>
<p>660 Pulse-Width Modulated Rectifiers 
</p>
<p>Boost converter 
</p>
<p>R 
</p>
<p>Fig. 18.21 Nonlinear-carrier charge control of a boost converter. 
</p>
<p>i.(t) 
</p>
<p>Fig. 18.22 Transistor current i8(t), parabolic carrier voltage v /t), and integrator voltage v;(t) waveforms for the 
</p>
<p>NLC-controlled boost rectifier of Fig. 18.21. </p>
<p/>
</div>
<div class="page"><p/>
<p>I 8.3 Control of the Current Waveform 661 
</p>
<p>1 ft+T, 
(i/t))T =T i,(T)dT 
</p>
<p>S s I 
</p>
<p>(18.71) 
</p>
<p>In a fixed-frequency system, T,. is constant, and the integral over one switching period is proportional to 
</p>
<p>the average value. Hence the average switch current can be controlled to be proportional to a reference 
</p>
<p>signal by simply switching the transistor off when the integral of the switch current is equal to the refer-
</p>
<p>ence. In the controller of Fig. 18.21, the switch current is(t) is scaled by the transformer turns ration, and 
</p>
<p>then integrated by capacitor C;, such that 
</p>
<p>- 1 fdTs i,(T) 
v/t) - C; Jo -n- d-r; for 0 &lt; t &lt; dT, 
</p>
<p>(18.72) 
</p>
<p>The integrator voltage v;(t) is reset to zero at the end of each switching period, and the integration process 
</p>
<p>begins anew at the beginning of the next switching period. So at the instant that the transistor is switched 
</p>
<p>off, the voltage v;(dTs) is proportional to the average switch current: 
</p>
<p>(i,) T 
v/dT,) = cf 
</p>
<p>n lJs 
for interval 0 &lt; t &lt; T, 
</p>
<p>(18.73) 
</p>
<p>How should the average switch current be controlled? To obtain input resistor emulation, it is 
</p>
<p>desired that 
</p>
<p>(18.74) 
</p>
<p>It is further desired to avoid sensing either igCt) or vgCt). As with other schemes, we will sense the de out-
put voltage ( v(t) )T,, to construct a low-bandwidth feedback loop that balances the average input and out-
</p>
<p>put powers. So let us determine the relationship between (i,(t))Ts and (v(t))r, implied by Eq. (18.74). If 
</p>
<p>we assume that the boost converter operates in the continuous conduction mode, then we can write 
</p>
<p>(18.75) 
</p>
<p>and 
</p>
<p>(18.76) 
</p>
<p>Substitution of Eqs. (18.75) and (18.76) into Eq. (18.74) leads to 
</p>
<p>(v(t))T 
( i,(t)) T = d(t) ( 1 - d(t)) R ( ') 
</p>
<p>s e V control 
</p>
<p>(18.77) 
</p>
<p>The controller of Fig. 18.21 implements this equation. 
</p>
<p>The nonlinear carrier generator of Fig. 18.21 produces the parabolic waveform vc(t), given by </p>
<p/>
</div>
<div class="page"><p/>
<p>662 Pulse-Width M adulated Rectifiers 
</p>
<p>vJt) = Vcontml ( J,) ( 1- J,) for 0:::; t:::; T, (18.78) 
vc(t + T,) = vc(t) 
</p>
<p>This waveform is illustrated in Fig. 18.22. Note that Eq. (18.78) resembles Eq. (18.77), with d(t) 
</p>
<p>replaced by (tiTs). The controller switches the transistor off at time t = dTs when the integrator voltage 
</p>
<p>v;(t) is equal to the carrier waveform vc(t). Hence, it is true that 
</p>
<p>v;(dT,) = vJdT,) = Vcoutrolfl d(t) ( 1- d(t)) (18.79) 
</p>
<p>Substitution of Eq. (18.73) yields 
</p>
<p>(i,(t))T 
-C.J s = V coutmlt) d(t) ( 1 - d(t)) 
n , s 
</p>
<p>(18.80) 
</p>
<p>This is of the same form as Eq. (18.77). Comparison of Eqs. (18.77) and (18.80) reveals that the emu-
</p>
<p>lated resistance Re is given by 
</p>
<p>(18.81) 
</p>
<p>If the de output voltage and the control voltage have negligible ac variation, then Re is essentially con-
</p>
<p>stant, and the ac line current will exhibit low harmonic distortion. So neither the input voltage nor the 
</p>
<p>input current need be sensed, and input resistor emulation can be obtained in CCM boost converters by 
</p>
<p>sensing only the switch current. 
</p>
<p>A simple way to generate the parabolic carrier waveform uses two integrators, as illustrated in 
</p>
<p>Fig. 18.23. The slowly varying control voltage vcontro/t) is integrated, to obtain a ramp waveform v/t) 
</p>
<p>whose peak amplitude is proportional to vcontroz(t). The de component of this waveform is removed, and 
</p>
<p>then integrated again. The output of the second integrator is the parabolic carrier v c(t), illustrated in Fig. 
</p>
<p>18.22 and given by Eq. (18.78). Both integrators are reset to zero before the end of each switching period 
</p>
<p>V control (f) : :&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;---&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; .. -&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;: 
</p>
<p>---+---!&middot; j 
': 
': 
': 
': 
': 
': 
"'~- .. 
</p>
<p>Integrator with reset 
</p>
<p>Removal of de 
........ , component 
</p>
<p>l r&middot; .. &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;-------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;--&middot;------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;--&middot;&middot;&middot;&middot;: 
</p>
<p>... .11 i 
': 
': 
': 
</p>
<p>\ .... 
</p>
<p>. . 
'&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;--&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;---------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;' 
</p>
<p>Integrator with reset 
</p>
<p>; Clock 
</p>
<p>Fig. 18.23 Generation of parabolic carrier waveform by double integration. 
</p>
<p>vJt) </p>
<p/>
</div>
<div class="page"><p/>
<p>18.4 Single-Phase Converter Systems Incorporating Ideal Rectifiers 663 
</p>
<p>by the clock generator. The amplitude of the parabolic carrier, and hence also the emulated resistance, 
</p>
<p>can be controlled by variation ofvcontrJt). 
</p>
<p>Equations (18.75) and (18.76) are valid only when the converter operates in the continuous con-
</p>
<p>duction mode. In consequence, the ac line current waveform is distorted when the converter operates in 
</p>
<p>DCM. Since this occurs near the zero crossings of the ac line voltage, crossover distortion is generated. 
</p>
<p>Nonetheless, the harmonic distortion is less severe than in current-programmed schemes, and it is feasi-
</p>
<p>ble to construct universal-input rectifiers that employ the NLC control approach. Total harmonic distor-
</p>
<p>tion is analyzed and plotted in [28]. 
</p>
<p>Nonlinear carrier control can be applied to current-programmed boost rectifiers, as well as to 
</p>
<p>other rectifiers based on the buck-boost, SEPIC, Cuk, or other topologies, with either integral charge 
</p>
<p>control or peak-current-programmed control [28,29]. In these cases, a different carrier waveform must be 
</p>
<p>employed. A nonlinear-carrier controller in which the ac input voltage vit) is sensed, rather than the 
</p>
<p>switch current i,(t), is described in [30]. 
</p>
<p>18.4 SINGLE-PHASE CONVERTER SYSTEMS INCORPORATING 
</p>
<p>IDEAL RECTIFIERS 
</p>
<p>An additional issue that arises in PWM rectifier systems is the control of power drawn from the ac line, 
</p>
<p>the power delivered to the de load, and the energy stored in a bulk energy storage capacitor. 
</p>
<p>18.4.1 Energy Storage 
</p>
<p>It is usually desired that the de output voltage of a converter system be regulated with high accuracy. In 
practice, this is easily accomplished using a high-gain wide-bandwidth feedback loop. A well-regulated 
</p>
<p>de output voltage v(t) = Vis then obtained, which has negligible ac variations. For a given constant load 
</p>
<p>characteristic, the load current I and the instantaneous load power Piaait) = P1oad' are also constant: 
</p>
<p>Ptoad(t) = v(t)i(t) = VI (18.82) 
</p>
<p>However, the instantaneous input power p ac(t) of a single-phase ideal rectifier is not constant: 
</p>
<p>(18.83) 
</p>
<p>If vit) is given by Eq. (18.11), and if i/t) follows Eq. (18.1), then the instantaneous input power 
becomes 
</p>
<p>v2 vz 
Pac(t) = / sin 2 ((J)t) = 2J: ( 1- cos (2(J)t)) 
</p>
<p>e e 
</p>
<p>(18.84) 
</p>
<p>which varies with time. The instantaneous input power is zero at the zero crossings of the ac input volt-
</p>
<p>age. Equations (18.82) and (18.84) are illustrated in Fig. 18.24(a). Note that the desired instantaneous 
</p>
<p>load power Pioad(t) is not equal to the desired instantaneous rectifier input power Pac(t). Some element 
</p>
<p>within the rectifier system must supply or consume the difference between these two instantaneous pow-
</p>
<p>ers. 
</p>
<p>Since the ideal rectifier does not consume or generate power, nor does it contain significant 
</p>
<p>internal energy storage, it is necessary to add to the system a low-frequency energy storage element such </p>
<p/>
</div>
<div class="page"><p/>
<p>664 Pulse-Width Modulated Rectifiers 
</p>
<p>Fig. 18.24 Waveforms of a single-
</p>
<p>phase ideal rectifier system: (a) pulsating 
</p>
<p>ac input power Pac(t), and constant de 
</p>
<p>load power Pload; (b) energy storage 
</p>
<p>capacitor voltage v c(t). 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>as an electrolytic capacitor. The difference between the instantaneous input and load powers flows 
</p>
<p>through this capacitor. 
</p>
<p>The waveforms of rectifier systems containing reactive elements can be determined by solution 
</p>
<p>of the rectifier energy equation [36,37]. If the energy storage capacitor C is the only system element 
</p>
<p>capable of significant low-frequency energy storage, then the power Pc(t) flowing into the capacitor is 
</p>
<p>equal to the difference between the instantaneous input and output powers: 
</p>
<p>(18.85) 
</p>
<p>where Cis the capacitance, vc(t) is the capacitor voltage, and Ec(t) is the energy stored in the capacitor. 
</p>
<p>Hence as illustrated in Fig. 18.24(b), whenp0 c(t) &gt; Ptaad(t) then energy flows into the capacitor,and vc(t) 
</p>
<p>increases. Likewise, v cCt) decreases when p 0 Jt) &lt; Ptoait). So the capacitor voltage v c(t) must be allowed 
to increase and decrease as necessary to store and release the required energy. In steady-state, the average 
</p>
<p>values of p 0 Jt) and Ptaait) must be equal, so that over one ac line cycle there is no net change in capaci-
</p>
<p>tor stored energy. 
</p>
<p>Where can the energy storage capacitor be placed? It is necessary to separate the energy storage 
</p>
<p>capacitor from the regulated de output, so that the capacitor voltage is allowed to independently vary as 
</p>
<p>illustrated in Fig. 18.24(b). A conventional means of accomplishing this isillustrated in Fig. 18.25. A 
</p>
<p>second de-de converter is inserted, between the energy storage capacitor and the regulated de load. A 
</p>
<p>wide-bandwidth feedback loop controls this converter, to attain a well-regulated de load voltage. The 
</p>
<p>capacitor voltage vc(t) is allowed to vary. Thus, this system configuration is capable of (1) wide-band-
</p>
<p>width control of the ac line current waveform, to attain unity power factor, (2) internal low-frequency 
</p>
<p>energy storage, and (3) wide-bandwidth regulation of the de output voltage. It is also possible to integrate 
</p>
<p>these functions into a single converter, provided that the required low-frequency independence of the 
</p>
<p>input, output, and capacitor voltages is maintained [38]. 
</p>
<p>The energy storage capacitor also allows the system to function in other situations in which the 
</p>
<p>instantaneous input and output powers differ. For example, it is commonly required that the output volt-</p>
<p/>
</div>
<div class="page"><p/>
<p>18.4 Single-Phase Converter Systems Incorporating Ideal Rectifiers 665 
</p>
<p>De-de 
converter 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>Fig. 18.25 Elements of a single-phase-ac to de power supply, in which the ac line current and de load voltage are 
</p>
<p>independently regulated with high bandwidth. An internal independent energy storage capacitor is required. 
</p>
<p>age remain regulated during ac line voltage failures of short duration. The hold-up time is the duration 
</p>
<p>that the output voltage v(t) remains regulated after v ac(t) has become zero. A typical requirement is that 
</p>
<p>the system continue to supply power to the load during one complete missing ac line cycle, that is, for 
</p>
<p>20 msec in a 50 Hz system. During the hold-up time, the load power is supplied entirely by the energy 
</p>
<p>storage capacitor. The value of capacitance should be chosen such that at the end of the hold-up time, the 
</p>
<p>capacitor voltage v c(t) exceeds the minimum value that the de-de converter requires to produce the 
</p>
<p>desired load voltage. 
</p>
<p>The energy storage function could be performed by an element other than a capacitor, such as 
</p>
<p>an inductor. However, use of an inductor is a poor choice, because of its high weight and cost. For exam-
</p>
<p>ple, a 100 ~-tF 100 V electrolytic capacitor and a 100 ~-tH 100 A inductor can each store 1 Joule of energy. 
</p>
<p>But the capacitor is considerably smaller, lighter, and less expensive. 
</p>
<p>A problem introduced by the energy storage capacitor is the large inrush current observed dur-
</p>
<p>ing the system tum-on transient. The capacitor voltage v c(t) is initially zero; substantial amounts of 
</p>
<p>charge and energy are required to raise this voltage to its equilibrium value. The boost converter is not 
</p>
<p>capable of limiting the magnitude of the resulting inrush current: even when d(t) = 0, a large current 
flows through the boost converter diode to the capacitor, as long as the converter output voltage is less 
</p>
<p>than the input voltage. Some additional circuitry is required to limit the inrush current of the boost con-
</p>
<p>verter. Converters having a buck-boost type conversion ratio are inherently capable of controlling the 
</p>
<p>inrush current. This advantage comes at the cost of additional switch stress. 
</p>
<p>It is also possible to design the ideal rectifier to operate correctly when connected to utility 
</p>
<p>power systems anywhere in the world. Universal input rectifiers can operate with nominal ac rms voltage 
</p>
<p>magnitudes as low as the 100 V encountered in a portion of Japan, or as high as the 260 V found in west-
</p>
<p>em Australia, with ac line frequencies of either 50 Hz or 60 Hz. Regardless of the ac input voltage, the 
</p>
<p>universal-input rectifier produces a constant nominal de output voltage Vc. 
</p>
<p>Let us now consider in more detail the low-frequency energy storage process of the system of 
</p>
<p>Fig. 18.25. Let us assume that the de-de converter contains a controller having bandwidth much greater 
</p>
<p>than the ac line frequency, such that the load voltage contains negligible low-frequency variations. A 
</p>
<p>low-frequency model of the de-de converter is then as illustrated in Fig. 18.26. The de-de converter pro-
</p>
<p>duces constant voltage v(t) = V, modeled by a voltage source as shown. This causes the load to draw con-
</p>
<p>stant current i(t) = I, leading to load power P!oait) = Pload&middot; To the extent that converter losses can be 
neglected, the de-de converter input port draws power Pload&bull; regardless of the value of v c(t). So the de-de 
</p>
<p>converter input port can be modeled as a constant power sink, of value Pload' 
</p>
<p>The model of Fig. 18.26 implies that the difference between the rectifier power Pac(t) and the 
</p>
<p>load power Pload flows into the capacitor, as given by Eq. (18.85). The capacitor voltage increases when 
</p>
<p>p ac(t) exceeds Pload' and decreases when p ac(t) is less than Pload' In steady state, the average values of 
</p>
<p>PaJt) and Pload must be equal. But note that Pa/t) is determined by the magnitudes of V0 c(t) andRe, and </p>
<p/>
</div>
<div class="page"><p/>
<p>666 Pulse- Width Modulated Rectifiers 
</p>
<p>[ ____________________________________________ _: 
</p>
<p>Ideal rectifier (LFR) 
</p>
<p>:_ ______________________ _! 
</p>
<p>Energy storage 
capacitor 
</p>
<p>Fig. 18.26 Low-frequency equivalent circuit of the system of Fig. 18.25. 
</p>
<p>De-de 
converter 
</p>
<p>not by the load. The system of Fig. 18.26 contains no mechanism to cause the average rectifier power and 
</p>
<p>load power to be equal. In consequence, it is necessary to add an additional control system that adjusts Re 
</p>
<p>as necessary, to cause the average rectifier output power and de-de converter input power to balance. The 
</p>
<p>conventional way to accomplish this is simply to regulate the de component of v c(t). 
</p>
<p>A complete system containing ideal rectification, energy storage, and wide-bandwidth output 
</p>
<p>voltage regulation is illustrated in Fig. 18.27. This system incorporates the boost converter and controller 
</p>
<p>of Fig. 18.5, as well as a generic de-de converter with output voltage feedback. In addition, the system 
</p>
<p>contains a low-bandwidth feedback loop, which regulates the de component of the energy-storage capac-
</p>
<p>itor voltage to be equal to a reference voltage vref2 . This is accomplished by slow variations of vcontroz(t) 
</p>
<p>andRe. This controller should have sufficiently small loop gain at the even harmonics of the ac line fre-
</p>
<p>quency, so that variations in Re are much slower than the ac line frequency. 
</p>
<p>Increasing the bandwidth of the energy storage capacitor voltage controller can lead to signifi-
</p>
<p>cant ac line current harmonics. When this controller has wide bandwidth and high gain, then it varies 
</p>
<p>R/t) quickly, distorting the ac line current waveform. In the extreme limit of perfect regulation of the 
</p>
<p>Boost converter 
r-------------------------------
</p>
<p>c 
</p>
<p>Wide-bandwidth input current controller 
</p>
<p>DC-DC 
Converter 
</p>
<p>d(t) 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>I v(t) 
</p>
<p>I
, Compensator _ 
</p>
<p>and modulator '+-
</p>
<p>,_ --------- -- --- ---- -- ------ -- --- ------ --------- --- _j 
Wide-bandwidth output voltage controller 
</p>
<p>r&middot;----------------------------------------------------------------------;-;~(1) -------------1 
</p>
<p>! v,e ! 
L-------+-------1 Compensator ~+ fl I 
</p>
<p>l _______________________________________________________________________ _j 
Low-bandwidth energy-storage capacitor voltage controller 
</p>
<p>Fig. 18.27 A complete de power supply system incorporating a near-ideal single-phase boost rectifier system, 
</p>
<p>energy storage capacitor, and de-de converter. Wide-bandwidth feedback loops regulate the ac line current wave-
</p>
<p>form and the de load voltage, and a slow feedback loop regulates the energy storage capacitor voltage. </p>
<p/>
</div>
<div class="page"><p/>
<p>18.4 Single-Phase Converter Systems Incorporating Ideal Rectifiers 667 
</p>
<p>Fig. 18.28 Ac line current waveform of the single-phase ideal rectifier with output voltage feedback, when it sup-
</p>
<p>plies constant instantaneous power to a de load. The THD tends to infinity, and the power factor tends to zero. 
</p>
<p>energy storage capacitor voltage v c(t) = V c&bull; then the capacitor stored energy is constant, and the instanta-
neous input ac line power Pac(t) and load power P!oad(t) are equal. The controller prevents the energy-
</p>
<p>storage capacitor from performing its low-frequency energy storage function. The ac line current then 
</p>
<p>becomes 
</p>
<p>(18.86) 
</p>
<p>This waveform is sketched in Fig. 18.28. In this idealized limiting case, the ac line current tends to infin-
</p>
<p>ity at the zero crossings of the ac line voltage waveform, such that the instantaneous&middot; input power is con-
</p>
<p>stant. It can be shown that the THD of this current waveform is infinite, and its distortion factor and 
</p>
<p>power factor are zero. So the bandwidth of this controller should be limited. 
</p>
<p>The energy storage capacitor voltage ripple can be found by integration of Eq. (18.85). Under 
</p>
<p>steady-state conditions, where the average value of p ac(t) = Pload' integration of Eq. ( 18.85) yields 
</p>
<p>Ec(t) = 1 Cv~(t) = Ec(O) + J: (- Pload cos (2Wt) )dt (18.87) 
</p>
<p>where w is the ac line frequency. Evaluation of the integral leads to 
</p>
<p>(18.88) 
</p>
<p>Therefore, the capacitor voltage waveform is 
</p>
<p>Vc(t) = J 2E(:(t) = J v~(O)- d;C' sin (2wt) (18.89) 
It can be verified that the rms value of this waveform is Vc,rms = vc(O). Hence, Eq. (18.89) can be written 
</p>
<p>1 - Pload sin (2wt) 
</p>
<p>wcv~.rms 
(18.90) 
</p>
<p>This waveform is sketched in Fig. 18.24(b). The minimum and maximum values of the capacitor voltage 
</p>
<p>occur when sin (2wt) is equal to 1 and -1, respectively. Therefore, the peak-to-peak capacitor voltage rip-</p>
<p/>
</div>
<div class="page"><p/>
<p>668 Pulse-Width Modulated Rectifiers 
</p>
<p>ple is 
</p>
<p>1 + pload 
roCV~.rms 
</p>
<p>1- pload "'~ 
roCV~,rms roCV C,rms 
</p>
<p>(18.91) 
</p>
<p>The approximation is valid for P 1 oad/(roCV~,rm,) sufficiently less than one, a condition that is satisfied 
whenever the ac voltage ripple is sufficiently less than V c.nns. 
</p>
<p>18.4.2 Modeling the Outer Low-Bandwidth Control System 
</p>
<p>As discussed above, the outer low-bandwidth controller, which varies the emulated resistance as neces-
</p>
<p>sary to balance the average ac input and de load powers, is common to all near-ideal rectifier systems. 
</p>
<p>For design of this controller, the rectifier can be modeled using the loss-free resistor (LFR) model. Per-
</p>
<p>turbation and linearization of the LFR leads to a small-signal equivalent circuit that predicts the relevant 
</p>
<p>small-signal transfer functions. Such a model is derived in this section [2,39,40]. 
</p>
<p>It is desirable to stabilize the rectifier output voltage against variations in load power, ac line 
</p>
<p>voltage, and component characteristics. Hence, a voltage feedback loop is necessary. As discussed in 
</p>
<p>Section 18.4.1, this loop cannot attempt to remove the capacitor voltage ripple that occurs at the second 
</p>
<p>harmonic of the ac line frequency, 2ro, since doing so would require that R.(t) change significantly at the 
</p>
<p>second harmonic frequency. This would introduce significant distortion, phase shift, and power factor 
</p>
<p>degradation into the ac line current waveform. In consequence this loop must have sufficiently small gain 
</p>
<p>at frequency 2ro, and hence its bandwidth must be low. Therefore, for the purposes of designing the low-
</p>
<p>bandwidth outer control loop, it is unnecessary to model the system high-frequency behavior. It can be 
</p>
<p>assumed that any inner wide-bandwidth controller operates ideally at low frequencies, such that the ideal 
</p>
<p>rectifier model of Fig. 18.29(a) adequately represents the low-frequency system behavior. 
</p>
<p>A small-signal model is derived here that correctly predicts the control-to-output transfer func-
</p>
<p>tion and output impedance of any rectifier system that can be modeled as a loss-free resistor. The model 
</p>
<p>neglects the complicating effects of high-frequency switching ripple, and is valid for control variations at 
</p>
<p>frequencies sufficiently less than the ac line frequency. Both resistive and de-de converter/regulator loads 
</p>
<p>are treated. 
</p>
<p>The steps in the derivation of the small-signal ac model are summarized in Fig. 18.29. Figure 
</p>
<p>18.29(a) is the basic ideal rectifier model, in which the converter high frequency switching ripple is 
</p>
<p>removed via averaging over the switching period T,, but waveform frequency components slower than 
</p>
<p>the switching frequency are correctly modeled, including the 2ro second-harmonic and de components of 
</p>
<p>output voltage. It is difficult to use this model in design of the feedback loop because it is highly nonlin-
</p>
<p>ear and time-varying. 
</p>
<p>If the ac input voltage v gCt) is 
</p>
<p>vg(t) = .ff vg,rms I sin (rot) I (18.92) 
</p>
<p>then the model of Fig. 18.29(a) predicts that the instantaneous output power (p(t) )T, is 
</p>
<p>(18.93) </p>
<p/>
</div>
<div class="page"><p/>
<p>(a) 
</p>
<p>(b) 
</p>
<p>(c) 
</p>
<p>(d) 
</p>
<p>ac 
input 
</p>
<p>18.4 Single-Phase Converter Systems Incorporating Ideal Rectifiers 669 
</p>
<p>Ideal rectifier (LFR) ( i2(t))y 
;-----------------------------------------------------------------r&middot;--_--_---_-------t&middot;-:-+-.'-----:+----, 
</p>
<p>I ~ 
i Re ( V control) 
</p>
<p>I 
</p>
<p>i 
V control 
</p>
<p>c 
</p>
<p>de 
output 
</p>
<p>(v(t))y 
s 
</p>
<p>(ilt))y 
r--------------------------------------------------------------------------------------------~ , 
</p>
<p>+ 
</p>
<p>I 
l 
</p>
<p>I 
! 
</p>
<p>v~,nns 2 (2 t). ---cos Ol 
Re 
</p>
<p>v~,rms 
</p>
<p>1--------------------------------------------------------------------------------------------J 
</p>
<p>Rectifier output port 
</p>
<p>( iit))y 
r--------------------------------------~ 2L 
</p>
<p>c 
</p>
<p>+ 
1 
</p>
<p>I 
! 
[ 
</p>
<p>c ( v(t))y 
2L 
</p>
<p>I 
i 
</p>
<p>L-------------------------------------1 
</p>
<p>Rectifier output port 
</p>
<p>r----------------------------------------------------------------------------------------: 
</p>
<p>i 
</p>
<p>I 
I g20g,rms c 
</p>
<p>I 
L----------------------------------------------------------------------------------------J 
</p>
<p>Rectifier output port 
</p>
<p>( v(t))y 
s 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>Fig. 18.29 Steps in the derivation of low-frequency small-signal rectifier model: (a) large-signal LFR model, 
</p>
<p>averaged over one switching period T,; (b) separation of power source into its constant and time-varying compo-
</p>
<p>nents; (c) removal of second-harmonic components by averaging over one-half of the ac line period, T2L; (d) small-
</p>
<p>signal model obtained by perturbation and linearization of Fig. 18.29(c). </p>
<p/>
</div>
<div class="page"><p/>
<p>670 Pulse-Width Modulated Rectifiers 
</p>
<p>v(t) 
</p>
<p>Fig. 18.30 Removal of components of v(t) at the harmonics of the ac line frequency, by averaging over one-half oJ 
</p>
<p>the ac line period, T2L. 
</p>
<p>The output power is comprised of a constant term v:. '"',/ Re, and a term that varies at the second har-
monic of the ac line frequency. These two terms are explicitly identified in Fig. 18.29(b). 
</p>
<p>The second-harmonic variation in (p(t))Ts leads to time-varying system equations, and slow 
</p>
<p>variations in vcontrol(t) lead to an output voltage spectrum containing components not only at the frequen-
</p>
<p>cies present in v control(t), but also at the even harmonics of the ac line frequency and their sidebands, as 
</p>
<p>well as at the switching frequency and its harmonics and sidebands. It is desired to model only the low-
</p>
<p>frequency components excited by slow variations in vcontrol(t), the load, and the ac line voltage amplitude 
</p>
<p>vg,rms&middot; The even harmonics of the ac line frequency can be removed by averaging over one-half of the ac 
</p>
<p>line period 
</p>
<p>(18.94) 
</p>
<p>Hence, we average over the switching period Ts to remove the switching harmonics, and then average 
</p>
<p>again over one-half of the ac line period T2L to remove the even harmonics of the ac line frequency. The 
</p>
<p>resulting model is valid for frequencies sufficiently less than the ac line frequency w. Averaging of the 
</p>
<p>rectifier output voltage is illustrated in Fig. 18.30: averaging over T2L removes the ac line frequency har-
</p>
<p>monics, leaving the underlying low-frequency variations. By averaging the model of Fig. 18.29(b) over 
</p>
<p>T2L, we obtain the model of Fig. 18.29(c). This step removes the second-harmonic variation in the power 
</p>
<p>source. 
</p>
<p>The equivalent circuit of Fig. 18.29(c) is time-invariant, but nonlinear. We can now perturb and 
</p>
<p>linearize as usual, to construct a small-signal ac model that describes how slow variations in vcontrot(t), 
</p>
<p>vg,rms' and the load, affect the rectifier output waveforms. Let us assume that the averaged output voltage 
</p>
<p>( v(t) \L, rectifier averaged output current ( iz(t) &gt;r2L, rms line voltage amplitude v g,rms' and control voltage 
</p>
<p>v control(t), can be represented as quiescent values plus small slow variations: 
</p>
<p>with 
</p>
<p>(vCtl)r2L = v + v(t) 
</p>
<p>(iitl)TzL =lz+i2(t) 
</p>
<p>V g,miS = vg,nns + v g,rms(f) 
V control f) = V control + V colltro/ f) 
</p>
<p>(18.95) </p>
<p/>
</div>
<div class="page"><p/>
<p>i8.4 Single-Phase Converter Systems incorporating ideal Rectifiers 
</p>
<p>v &raquo; 1 v(t) 1 
</p>
<p>I 2 &raquo; I i itl I 
vg.nn, &raquo; I vg.rn./t) I 
</p>
<p>vcontrol &gt;&gt; 1 vcontroit) I 
</p>
<p>In the averaged model of Fig. 18.29(c), (iit))r,L is given by 
</p>
<p>671 
</p>
<p>(18.96) 
</p>
<p>(18.97) 
</p>
<p>This equation resembles DCM buck-boost Eq. (11.45), and linearization proceeds in a similar manner. 
</p>
<p>Expansion of Eq. (18.97) in a three-dimensional Taylor series about the quiescent operating point, and 
</p>
<p>elimination of higher-order nonlinear terms, leads to 
</p>
<p>where 
</p>
<p>df( vg,rms&bull; V, Vcontrol) 
j2 = -'---=-----'-
</p>
<p>dvcontrol 
</p>
<p>- 2 vg,rms 
- R / V control) V 
</p>
<p>vg,mls= vg,rms 
</p>
<p>- v~,nns dRe(vcontrol) I 
-- VR;(vcontroz) dvcontrol 
</p>
<p>V control = V control v control = V control 
</p>
<p>(18.98) 
</p>
<p>(18.99) 
</p>
<p>(18.100) 
</p>
<p>(18.101) 
</p>
<p>A small-signal equivalent circuit based on Eq. (18.98) is given in Fig. 18.29(d). Expressions for the 
</p>
<p>parameters g2,j2, and r2 for several controllers are listed in Table 18.1. This model is valid for the condi-
</p>
<p>tions of Eq. (18.96), with the additional assumption that the output voltage ripple is sufficiently small. 
</p>
<p>Figure 18.29(d) is useful only for determining the various ac transfer functions; no information regarding 
</p>
<p>de conditions can be inferred. The ac resistance r2 is derived from the slope of the average value of the 
</p>
<p>power source output characteristic, evaluated at the quiescent operating point. The other coefficients, j 2 
and g2, are also derived from the slopes of the same characteristic, taken with respect to vcontrol(t) and 
</p>
<p>v g,rms and evaluated at the quiescent operating point. The resistance R is the incremental resistance of the 
</p>
<p>load, evaluated at the quiescent operating point. In the boost converter with hysteretic control, the tran-
</p>
<p>sistor on-time ton replaces v control as the control input; likewise, the transistor duty cycle dis taken as the </p>
<p/>
</div>
<div class="page"><p/>
<p>672 Pulse- Width Modulated Rectifiers 
</p>
<p>Table 18.1 Small-signal model parameters for several types of rectifier control schemes 
</p>
<p>Controller type g2 j2 rz 
</p>
<p>Average current control with 
0 pav 
</p>
<p>vz 
feedforward, Fig. 18.14 vvcontrol pav 
</p>
<p>Current-programmed control, 2Pav pav vz 
Fig. 18.16 vvg,nns vvcontrol pav 
</p>
<p>Nonlinear-carrier charge control 2Pav pav y2 
of boost rectifier, Fig. 18.21 vvg,nns vvcontrol 2Pav 
</p>
<p>Boost with critical conduction mode 2Pav pav y2 
control, Fig. 18.20 vvg,nns vvcontrol pav 
</p>
<p>DCM buck-boost, flyback, SEPIC, 2Pav 2Pav y2 
or Cuk converters vvg,mts VD pav 
</p>
<p>control input to the DCM buck-boost, flyback, SEPIC, and Cuk converters. Harmonics are ignored for 
</p>
<p>the current-programmed and NLC controllers; the expressions given in Table 18.1 assume that the con-
</p>
<p>verter operates in CCM with negligible harmonics. 
</p>
<p>The control-to-output transfer function is 
</p>
<p>(18.102) 
</p>
<p>The line-to-output transfer function is 
</p>
<p>(18.103) 
</p>
<p>Thus, the small-signal transfer functions of the high quality rectifier contain a single pole, ascribable to 
</p>
<p>the output filter capacitor operating in conjunction with the incremental load resistance R and r2, the 
</p>
<p>effective output resistance of the power source. Although this model is based on the ideal rectifier, its 
</p>
<p>form is similar to that of the de-de DCM buck-boost converter ac model of Chapter 11. This is natural, 
</p>
<p>because the DCM buck-boost converter is itself a natural loss-free resistor. The major difference is that 
</p>
<p>the rms value of the ac input voltage must be used, and that the second harmonic components of r2, j 2, 
</p>
<p>and g2 must additionally be removed via averaging. Nonetheless, the equivalent circuit and ac transfer 
</p>
<p>functions are of similar form. 
</p>
<p>When the rectifier drives a regulated de-de converter as in Fig. 18.25, then the de-de converter 
</p>
<p>presents a constant power load to the rectifier, as illustrated in Fig. 18.26. In equilibrium, the rectifier and 
</p>
<p>de-de converter operate with the same average power Pav and the same de voltage V. The incremental 
</p>
<p>resistance R of the constant power load is negative, and is given by 
</p>
<p>(18.104) 
</p>
<p>which is equal in magnitude but opposite in polarity to the rectifier incremental output resistance r 2 , for 
</p>
<p>all controllers except the NLC controller. The parallel combination r2 11 R then tends to an open circuit, 
</p>
<p>and the control-to-output and line-to-output transfer functions become </p>
<p/>
</div>
<div class="page"><p/>
<p>18.5 RMS Values of Rectifier Waveforms 673 
</p>
<p>v(s) }2 (18.105) 
Ocantro~s):::: sC 
</p>
<p>and 
</p>
<p>(18.106) 
</p>
<p>In the case of the NLC controller, the parallel combination r 2 11 R becomes equal to r 212, and Eqs. 
</p>
<p>(18.102) and (18.103) continue to apply. 
</p>
<p>18.5 RMS VALUES OF RECTIFIER WAVEFORMS 
</p>
<p>To correctly specify the power stage elements of a near-ideal rectifier, it is necessary to compute the root-
</p>
<p>mean-square values of their currents. A typical waveform such as the transistor current of the boost con-
</p>
<p>verter (Fig. 18.31) is pulse-width modulated, with both the duty cycle and the peak amplitude varying 
</p>
<p>with the ac input voltage. When the switching frequency is much larger than the ac line frequency, then 
</p>
<p>the rrns value can be well-approximated as a double integral. The square of the current is integrated first 
</p>
<p>to find its average over a switching period, and the result is then integrated to find the average over the ac 
</p>
<p>line period. 
</p>
<p>Computation of the rms and average values of the waveforms of a PWM rectifier can be quite 
</p>
<p>tedious, and this can impede the effective design of the power stage components. In this section, several 
</p>
<p>approximations are developed, which allow relatively simple analytical expressions to be written for the 
</p>
<p>rms and average values of the power stage currents, and which allow comparison of converter 
</p>
<p>approaches [14,41]. The transistor current in the boost rectifier is found to be quite low. 
</p>
<p>The rms value of the transistor current is defined as 
</p>
<p>/Qnns= 
(18.107) 
</p>
<p>where Tac is the period of the ac line waveform. The integral can be expressed as a sum of integrals over 
</p>
<p>all of the switching periods contained in one ac line period: 
</p>
<p>J Qrms = (18.108) 
</p>
<p>l111 ~~~ 
Fig. 18.31 Modulated transistor current waveform, boost rectifier. </p>
<p/>
</div>
<div class="page"><p/>
<p>674 Pulse- Width Modulated Rectifiers 
</p>
<p>where Ts is the switching period. The quantity inside the parentheses is the value of i~ averaged over the 
nth switching period. The summation can be approximated by an integral in the case when Ts is much less 
</p>
<p>than Tac&middot; This approximation corresponds to taking the limit as Ts tends to zero, as follows: 
</p>
<p>/ Qrms;::;: 
</p>
<p>(18.109) 
</p>
<p>So i~(t) is first averaged over one switching period. The result is then averaged over the ac line period, 
</p>
<p>and the square root is taken of the result. 
</p>
<p>18.5.1 Boost Rectifier Example 
</p>
<p>For the boost rectifier, the transistor current iQ(t) is equal to the input current when the transistor con-
</p>
<p>ducts, and is zero when the transistor is off. Therefore, the average of i~(t) over one switching period is 
</p>
<p>(18.110) 
</p>
<p>If the input voltage is given by 
</p>
<p>(18.111) 
</p>
<p>then the input current will be 
</p>
<p>iaJt) = ~M I sin Wt I 
e 
</p>
<p>(18.112) 
</p>
<p>where Re is the emulated resistance. With a constant output voltage V, the transistor duty cycle must obey 
</p>
<p>the relationship 
</p>
<p>_____I_ = _1_ 
V aJt) 1 - d(t) 
</p>
<p>(18.113) 
</p>
<p>This assumes that the converter dynamics are fast compared to the ac line frequency. Substitution of Eq. 
</p>
<p>(18.111) into (18.113) and solution for d(t) yields 
</p>
<p>d(t) = 1 - V; I sin wt I (18.114) 
</p>
<p>Substitution ofEqs. (18.112) and (18.114) into Eq. (18.110) yields the following expression </p>
<p/>
</div>
<div class="page"><p/>
<p>18.5 RMS Values of Rectifier Waveforms 675 
</p>
<p>One can now plug this expression into Eq. (18.109): 
</p>
<p>I Qnns= 
</p>
<p>which can be further simplified to 
</p>
<p>IQnns= 
</p>
<p>This involves integration of powers of sin(oot) over a complete 
</p>
<p>half-cycle. The integral can be evaluated with the help of the fol-
</p>
<p>lowing formula: 
</p>
<p>{ 
</p>
<p>2 2-4&middot;6&middot;&middot;&middot;(n- 1) 
</p>
<p>1 n n 1&middot;3&middot;5&middot;&middot;&middot;n 
n l sin"(9)de = 1&middot;3&middot;5 .. &middot;(n-1) 
</p>
<p>2&middot;4&middot;6 .. &middot;n 
</p>
<p>ifn is odd 
(18.118) 
</p>
<p>ifn is even 
</p>
<p>This type of integral commonly arises in rms calculations 
</p>
<p>involving PWM rectifiers. The values of the integral for several 
</p>
<p>choices of n are listed in Table 18.2. Evaluation of the integral in 
</p>
<p>Eq. (18.117) using Eq. (18.118) leads to the following result: 
</p>
<p>(18.119) 
</p>
<p>It can be seen that the rms transistor current is minimized by 
</p>
<p>choosing the output voltage V to be as small as possible. The 
</p>
<p>best that can be done is to choose V = V M, which leads to 
</p>
<p>I Qnns = 0.39 I ac rnrs 
</p>
<p>Larger values of V lead to a larger rms transistor current. 
</p>
<p>(18.116) 
</p>
<p>(18.117) 
</p>
<p>Table 18.2 Solution of the integral of 
</p>
<p>Eq. (18.118), for several values of n 
</p>
<p>n 
</p>
<p>2 
</p>
<p>3 
</p>
<p>4 
</p>
<p>5 
</p>
<p>6 
</p>
<p>!r r sin" (9)d9 
2 
n 
</p>
<p>1 
2 
</p>
<p>4 
31t 
</p>
<p>3 
8 
</p>
<p>16 
151t 
</p>
<p>15 
48 
</p>
<p>(18.120) 
</p>
<p>A similar analysis for the rms diode current leads to the following expression 
</p>
<p>(18.121) 
</p>
<p>The choice V = V M maximizes the rms diode current, with the result </p>
<p/>
</div>
<div class="page"><p/>
<p>676 Pulse- Width Modulated Rectifiers 
</p>
<p>[ Dm1s = 0.92/ ac rms (18.122) 
</p>
<p>Larger values of V lead to smaller rms diode current. 
</p>
<p>Average currents can be computed in a similar way. The results are 
</p>
<p>(18.123) 
</p>
<p>Expressions for rms, average, and peak currents of the power stage components of the continuous con-
</p>
<p>duction mode boost converter are summarized in Table 18.3. Expressions are also tabulated for ftyback 
</p>
<p>and SEPIC topologies, operating in the continuous conduction mode. In the case of the ftyback converter, 
</p>
<p>an L1-C1 input filter is also included. In all cases, the effects of switching ripple are neglected. 
</p>
<p>18.5.2 Comparison of Single-Phase Rectifier Topologies 
</p>
<p>When isolation is not a rectifier requirement, and when it is acceptable that the de output voltage be mar-
</p>
<p>ginally larger than the peak ac input voltage, then the boost converter is a very effective approach. For 
</p>
<p>example, consider the design of a 1 kW rectifier operating from the 240 Vrms input line voltage. If the 
</p>
<p>converter efficiency and power factor are both approximately unity, then the rms input current is 
</p>
<p>lrms = (1000 W)/(240 V) = 4.2 A. The de output voltage is chosen to be 380 V, or slightly larger than the 
peak ac input voltage. By use of Eq. (18.119), the rms transistor current is found to be 2 A. This is quite 
</p>
<p>a low value-less than half of the rms input current, which demonstrates how effectively the converter 
</p>
<p>utilizes the power switch. The rms diode current is 3.6 A, and the transistor and diode blocking voltages 
</p>
<p>are 380 V. With a 120 A ac input voltage, the transistor and diode rms currents increase to 6.6 A and 5.1 
</p>
<p>A, respectively. 
</p>
<p>The only real drawback of the boost converter is its inability to limit inrush currents. When the 
</p>
<p>de. output voltage is less than the instantaneous input voltage, the control circuit of the boost rectifier 
</p>
<p>loses control of the inductor current waveform. A very large inrush current occurs when the de output 
</p>
<p>capacitor is initially charged. Additional circuitry must be employed to limit the magnitude of this cur-
</p>
<p>rent. 
</p>
<p>Buck-boost, SEPIC, and Cuk topologies can be used to solve the inrush current problem. Since 
</p>
<p>these converters have a d/(1 - d) conversion ratio, their waveforms can be controlled when the output 
</p>
<p>voltage is any positive value. But the price paid for this capability is increased component stresses. For 
</p>
<p>the same 1 kW rectifier with 240 Vrms ac input and 380 V output, the transistor rms current and peak 
</p>
<p>voltage of the nonisolated SEPIC are 5.5 A and 719 V. The rms diode current is 4.85 A. The semiconduc-
</p>
<p>tor voltage stresses can be reduced by reducing the output voltage, at the expense of increased rms cur-
</p>
<p>rents. With a 120 V ac input voltage, the transistor and diode rms currents increase to 9.8 A and 6.1 A, 
</p>
<p>respectively. 
</p>
<p>Isolation can also be obtained in the SEPIC and other topologies, as discussed in Chapter 6. The 
</p>
<p>turns ratio of the isolation transformer can also be used to reduce the primary-side currents when the de 
</p>
<p>output voltage is low. But the transformer winding rrns currents are higher than those of a de-de con-
</p>
<p>verter, because of the pulsating (twice-line-frequency) power flow. For the 1 kW, 240 V ac input SEPIC 
</p>
<p>example, with a 42 V 23.8 A de load, and a 4:1 transformer turns ratio, the rms transformer currents are 
</p>
<p>5.5 A (primary) and 36.4 A (secondary). The rms transistor current is 6.9 A. At 120 V ac input voltage, </p>
<p/>
</div>
<div class="page"><p/>
<p>18.5 RMS Values of Rectifier Waveforms 677 
</p>
<p>Table 18.3 Summary of rectifier current stresses for several converter topologies 
</p>
<p>rms Average Peak 
</p>
<p>CCMboost 
</p>
<p>Transistor J 8 VM 
Iaerms 1 - 3n V Iaenns 2 ~(1-~ v;) IaemJSI2 
</p>
<p>Diode !&laquo; Ide v Ide 2Idev M 
Inductor J ac rms 212 [ ac m1s -----,r- IaemJSI2 
</p>
<p>CCM fly back, with n: 1 isolation transformer and input filter 
</p>
<p>Transistor, xfmr primary J 8 VM 
IaemJS 1 + 3n nV 
</p>
<p>212 
J ac rms ----n Iaerms 12 (I+ ~V) 
</p>
<p>Ll J ac rms 212 [acnns~ I aennsl2 
</p>
<p>cl 
/ ac n11s JIW 0 laerms 12 max ( 1. ~V) 
</p>
<p>Diode, xfmr secondary I Jl+JfJ.. nV 
de 2 3nVM Ide 2/de ( 1 + ~~) 
</p>
<p>CCM SEPIC, nonisolated 
</p>
<p>Transistor J 8 VM 
/aem&gt;S 1 + 3n V 
</p>
<p>212 
/ ac m1s ----n laenns12(1+ V;) 
</p>
<p>Ll / ac rms 212 / ac rms ----n- / acrmsl2 
</p>
<p>cl 
/ ac nns ill 0 Iaenns 12 max ( 1, V;) 
</p>
<p>L2 VM .J3 [acnns VM VM 12 faerms V T 12V /acrms V 2 
</p>
<p>Diode J3 16 v Ide 2+3nVM Ide 21 de (I + J'M) 
</p>
<p>CCM SEPIC, with n: I isolation transformer 
</p>
<p>Transistor J 8 VM 
IaernJS I+ 3n nV 
</p>
<p>212 
/acrms ---n laem,12(1+ ~v) 
</p>
<p>LI [ ac rms 212 J ac rms ----n- I aermsl2 
</p>
<p>Cp xfmr primary JIW Jacrms 3 0 lac mrs 12 max (I, ~V) 
Diode, xfmr secondary I Jl+JfJ.. nV 
</p>
<p>de 2 3nVM Ide 2Ide(1+v~) 
</p>
<p>&middot; h &middot; ]] I aerms r;;2 V &middot; I V . ( ) d J wit , m a cases, - 1- = ,y.::V, ac mput vo tage = M sm Wt, c output vo tage = V. 
de M </p>
<p/>
</div>
<div class="page"><p/>
<p>678 Pulse- Width Modulated Rectifiers 
</p>
<p>these currents increase to 7.7 A, 42.5 A, and ll.4 A, respectively. 
</p>
<p>18.6 MODELING LOSSES AND EFFICIENCY IN CCM HIGH-QUALITY RECTIFIERS 
</p>
<p>As in the case of de-de converters, we would like to model the converter loss elements so that we can 
</p>
<p>correctly specify the power stage components. The equivalent circuit approach used in the de-de case 
</p>
<p>can be generalized to include ac-dc low harmonic rectifiers, although the resulting equations are more 
</p>
<p>complicated because of the low-frequency ac modulation of the waveforms. 
</p>
<p>A de-de boost converter and its steady-state equivalent circuit are illustrated in Fig. 18.32. 
</p>
<p>When the converter operates in equilibrium, the modeJ.of Fig. 18.32(b) can be solved to determine the 
</p>
<p>converter losses and efficiency. In the ac-dc case, the input voltage v /t) is a rectified sinusoid, and the 
controller varies the duty cycle d(t) to cause ig(t) to follow v/t) according to 
</p>
<p>(18.124) 
</p>
<p>The emulated resistance Re is chosen by the controller such that the desired de output voltage is obtained. 
</p>
<p>Ac variations in d(t), v/t), and several other system waveforms are not small, and hence the small-signal 
</p>
<p>approximation employed in Chapters 7 to 12 is not justified. We can continue to model the low-fre-
</p>
<p>quency components of the converter via averaging, but the resulting equivalent circuits are, in general, 
</p>
<p>time-varying and nonlinear. 
</p>
<p>For the purposes of determining the rectifier efficiency, it is assumed that (1) the inductor is suf-
</p>
<p>ficiently small, such that it has negligible influence on the ac-line-frequency components of the system 
</p>
<p>waveforms, and (2) the capacitor is large, so that the output voltage v(t) is essentially equal to its equilib-
</p>
<p>rium de value, with negligible low- or high-frequency ac variations. So in the ac-dc case, the model 
</p>
<p>becomes as shown in Fig. 18.33. Low-frequency components ( &lt; fs) of the controller waveforms are 
sketched in Fig. 18.34. 
</p>
<p>(a) 
i(t) 
</p>
<p>+ 
</p>
<p>R v(t) 
</p>
<p>(b) 
</p>
<p>i(t) 
</p>
<p>+ 
</p>
<p>R v(t) 
</p>
<p>Fig. 18.32 De-de boost converter, (a), and a steady-state equivalent circuit, (b), which models the inductor resis-
</p>
<p>tance RL, MOSFET on-resistance Ron' and diode forward voltage drop VF. </p>
<p/>
</div>
<div class="page"><p/>
<p>18.6 Modeling Losses and Efficiency in CCM High-Quality Rectifiers 679 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Controller 
</p>
<p>c 
(Large) 
</p>
<p>i(t) =I 
</p>
<p>R 
</p>
<p>i(t) 
</p>
<p>+ 
</p>
<p>c v(t) R 
</p>
<p>+ 
</p>
<p>v(t) = V 
</p>
<p>Fig. 18.33 Ac-dc boost rectifier, (a), and a low-frequency equivalent circuit, (b), that models converter losses and 
</p>
<p>efficiency. 
</p>
<p>To find the rectifier waveforms, losses, and efficiency, we must solve the circuit of Fig. 
</p>
<p>18.33(b), under the conditions that the controller varies the duty cycle d(t) such that Eq. (18.124) is satis-
</p>
<p>fied. This leads to time-varying circuit elements d(t)R011 and the d'(t): 1 transformer. The solution that fol-
</p>
<p>lows involves the following steps: (1) solve for the d(t) waveform; (2) average iit) to find its de 
component, equal to the load current/; and (3) find other quantities of interest such as the rectifier effi-
</p>
<p>ciency. 
</p>
<p>The simplified boost converter circuit model of Fig. 18.35, in which only the MOSFET conduc-
</p>
<p>tion loss is accounted for, is solved here. However, the results can be generalized directly to the circuit of 
</p>
<p>Fig. 18.33(b); doing so is left as a homework problem. A similar procedure can also be followed to derive 
</p>
<p>expressions for the losses and efficiencies of other rectifier topologies. 
</p>
<p>18.6.1 Expression for Controller Duty Cycle d(t) 
</p>
<p>The controller varies the duty cycle d(t) such that Eq. (18.124) is satisfied. By solving the input-side loop 
</p>
<p>of Fig. 18.35, we obtain 
</p>
<p>(18.125) 
</p>
<p>Substitute Eq. (18.124) into (18.125) to eliminate igCt): 
</p>
<p>(18.126) </p>
<p/>
</div>
<div class="page"><p/>
<p>680 Pulse- Width Modulated Rectifiers 
</p>
<p>vgCt) igCt) 
</p>
<p>300 10 
</p>
<p>8 
</p>
<p>200 
6 
</p>
<p>4 
100 
</p>
<p>2 
</p>
<p>0 0 
</p>
<p>oo 30&deg; 60&deg; 90&deg; 120&deg; 150&deg; 180&deg; 
</p>
<p>d(t) 
</p>
<p>0.8 
</p>
<p>0.6 
</p>
<p>0.4 
</p>
<p>0.2 
</p>
<p>0 
</p>
<p>oo 30&deg; 60&deg; 90&deg; 120&deg; 150&deg; 180&deg; 
</p>
<p>6 
</p>
<p>5 
</p>
<p>4 
</p>
<p>3 
</p>
<p>2 
</p>
<p>0 
</p>
<p>oo 30&deg; 60&deg; 90&deg; 120&deg; 150&deg; 180&deg; 
Wt 
</p>
<p>Fig. 18.34 Typical low-frequency components of the boost rectifier waveforms. 
</p>
<p>with vgCt) = V M I sin WI I (18.127) 
</p>
<p>We can now solve for the duty cycle d(t). The result is </p>
<p/>
</div>
<div class="page"><p/>
<p>18.6 Modeling Losses and Efficiency in CCM High-Quality Rectifiers 681 
</p>
<p>ig(t) 
d'(t): 1 i(t) =I 
</p>
<p>iit) + 
</p>
<p>vgCt) c 
(Large) 
</p>
<p>R v(t) = V 
</p>
<p>Fig. 18.35 Simplified boost power stage low-frequency equivalent circuit, in which only the MOSFET on-resis-
</p>
<p>tance is modeled. 
</p>
<p>(18.128) 
</p>
<p>This expression neglects the converter dynamics, an assumption that is justified when these dynamics are 
</p>
<p>sufficiently faster than the ac line voltage variation. The expression also neglects operation in the discon-
</p>
<p>tinuous conduction mode near the zero-crossing of the ac line voltage waveform. This is justified when 
</p>
<p>the rectifier operates in the continuous conduction mode for most of the ac line cycle, because the power 
</p>
<p>loss near the zero-crossing is negligible. 
</p>
<p>18.6.2 Expression for the DC Load Current 
</p>
<p>By charge balance on output capacitor C, the de load current I is equal to the de component of the diode 
</p>
<p>current id: 
</p>
<p>Solution of Fig. 18.35 for id(t) yields 
</p>
<p>v (t) 
iit) = d'(t)ig(t) = d'(t) _g_ 
</p>
<p>Re 
</p>
<p>From Eq. (18.128), d'(t) = 1- d(t) is given by 
</p>
<p>so 
</p>
<p>(1_Roo) 
. ( )- vM Re 
zd t --x- R 
</p>
<p>e V- V (f)--"!!. 
g R, 
</p>
<p>(18.129) 
</p>
<p>(18.130) 
</p>
<p>(18.131) 
</p>
<p>(18.132) </p>
<p/>
</div>
<div class="page"><p/>
<p>682 Pulse- Width Modulated Rectifiers 
</p>
<p>Now substitute vgCt) = V M sin Wt, and integrate to find (iit) )Tac: 
</p>
<p>(18.133) 
</p>
<p>Again, Tac = 2nlw is the ac line period. Equation (18.133) can be rewritten as 
</p>
<p>V2 ( R ) lTa!2 sin2 (rot) 
l=_]._____M_ 1----"". dt 
</p>
<p>Tac V Re Re 0 1 -a sin (rot) 
(18.134) 
</p>
<p>where 
a= ( V; )( ~:') (18.135) 
</p>
<p>By waveform symmetry, we need only integrate from 0 to TaJ4. Also, make the substitution 8 = wt: 
</p>
<p>I = ~ 1 - Ron ~ sm de z ( ) Jrr1z . 2 (e) 
VRe Re 0 1-asin(e) 
</p>
<p>(18.136) 
</p>
<p>Evaluation of this integral is tedious. It arises in not only the boost rectifier, but in a number of other 
</p>
<p>high-quality rectifier topologies as well. The derivation is not given here, but involves the substitution 
</p>
<p>z = tan(8/2), performing a partial fraction expansion of the resulting rational function of z, and integra-
tion of the results. The solution is: 
</p>
<p>41"12 sin 2 (e) __ 2 ( 4sin- 1 (a)+2cos- 1 (a)) n . ( ) de-F(a)--2- -2a-n+ ~ 
0 1 -a Sill e a 1t V 1- a-
</p>
<p>(18.137) 
</p>
<p>This equation is somewhat complicated, but it is in closed form, and can easily be evaluated by computer 
</p>
<p>spreadsheet. The quantity a, which is a measure of the loss resistance R011 relative to the emulated resis-
</p>
<p>tance Re, is typically much smaller than 1. F(a) is plotted in Fig. 18.36. The function F(a) can be well-
</p>
<p>approximated as follows: 
</p>
<p>F(a)"' 1 + 0.862a + 0.78a 2 (18.138) 
</p>
<p>For I a I:::; 0.15, the F(a) predicted by this approximate expression is within 0.1% of the exact value. If the 
a2 term is omitted, then the accuracy drops to &plusmn; 2% over the same range of a. The rectifier efficiency ll 
</p>
<p>calculated in the next section depends directly on F(a), and hence the accuracy of F(a) coincides with the 
</p>
<p>accuracy of ll&middot; </p>
<p/>
</div>
<div class="page"><p/>
<p>18.6 Modeling Losses and Efficiency in CCM High-Quality Rectifiers 683 
</p>
<p>1.15 
</p>
<p>1.1 
</p>
<p>1.05 
</p>
<p>F(a) 
</p>
<p>0.95 
</p>
<p>0.9 
</p>
<p>0. 85 +-+-++-+-+-+-+--+-+-+-+--+-+-++-+-+--+-+-+-+-+-+-+-t-+-+-+-+--l 
</p>
<p>-0.15 -0.10 -0.05 0.00 0.05 0.10 0.15 
</p>
<p>a 
</p>
<p>Fig. 18.36 Plot of the integral F(a) vs. a. 
</p>
<p>18.6.3 Solution for Converter Efficiency 11 
</p>
<p>Now that we have found the de load current, we can calculate the converter efficiency 11&middot; The average 
</p>
<p>input power is 
</p>
<p>(18.139) 
</p>
<p>The average load power is 
</p>
<p>P =Vl=(v)(v~ (1-R"")F(a)) 
our VR, R, 2 
</p>
<p>(18.140) 
</p>
<p>where 
a = ( VV )( ~~') (18.141) 
</p>
<p>Here, we have substituted Eq. (18.136) for I. The efficiency is therefore 
</p>
<p>(18.142) 
</p>
<p>by substitution of Eqs. (18.139) and (18.140). If desired, the parabolic approximation for F(a), Eq. 
</p>
<p>(18.138), can be employed. This leads to 
</p>
<p>T/"'(1-R"")(1+0.862 VM R""+0.78(VM Ron)
2
</p>
<p>] 
Re V R, V R, 
</p>
<p>(18.143) 
</p>
<p>Equations (18.142) and (18.143) show how the efficiency varies with MOSFET on resistance Ron and </p>
<p/>
</div>
<div class="page"><p/>
<p>684 Pulse-Width Modulated Rectifiers 
</p>
<p>11 
</p>
<p>0.95 
</p>
<p>0.9 
</p>
<p>0.85 
</p>
<p>0.8 
</p>
<p>0.75 
</p>
<p>0.0 0.2 0.4 0.6 0.8 1.0 
</p>
<p>VMIV 
</p>
<p>Fig. 18.37 Boost rectifier efficiency, Eq. (18.142), accounting for MOSFET on resistance. 
</p>
<p>with ac peak voltage V M" Equation ( 18.142) is plotted in Fig. 18.37. It can be seen that high efficiency is 
</p>
<p>obtained when the peak ac line voltage V M is close to the de output voltage V. Efficiencies in the range 
</p>
<p>90% to 95% can then be obtained, even with MOSFET on-resistances as high as 0.2Re. Of course, Fig. 
</p>
<p>18.37 is optimistic because it neglects sources of loss other than the MOSFET conduction loss. 
</p>
<p>18.6.4 Design Example 
</p>
<p>Let us utilize Fig. 18.37 to design for a given efficiency. Consider the following specifications: 
</p>
<p>Output voltage 390 V 
</p>
<p>Output power 500 W 
rrns input voltage 120 V 
</p>
<p>Efficiency 95% 
</p>
<p>Assume that losses other than the MOSFET conduction loss are negligible. The average input power is 
</p>
<p>p. = pout = 500 W = 526 W 
"' TJ 0.95 
</p>
<p>(18.144) 
</p>
<p>The emulated resistance is therefore 
</p>
<p>y2 2 
R = g,rms=(120V) = 274 Q 
</p>
<p>e P;, 526W . 
(18.145) 
</p>
<p>Also, 
</p>
<p>VM = 12012V =0435 
V 390V . 
</p>
<p>(18.146) 
</p>
<p>From Fig. 18.37, or by evaluation of the exact equation (18.142), 95% efficiency with VMIV = 0.435 
</p>
<p>occurs with R0 n!Re"' 0.077. So we require a MOSFET having an on-resistance of </p>
<p/>
</div>
<div class="page"><p/>
<p>18.7 ideal Three-Phase Rectifiers 685 
</p>
<p>Ron$ (0.077) Re = (0.077) (27.4 Q) = 2.11 Q (18.147) 
</p>
<p>Of course, other converter losses have not been accounted for, which will reduce the efficiency. 
</p>
<p>It is instructive to compare this result&middot; with that obtained using the expressions for rms current 
</p>
<p>from Section 18.5. The rms transistor current of the ideal CCM boost converter is given by Eq. (18.119). 
</p>
<p>The rms input current will be equal to PiJVg,rms = (526 W)/(120 V) = 4.38 A. Hence, Eq. (18.119) pre-
dicts an rms transistor current of 
</p>
<p>I 8 VM 
[Qrms=[acrmsy 1-3nV 
</p>
<p>= ( 4 38 A) /,--~-_-8----:c(l:-:::2-::-0 o-::V):-12c=2~ 
&middot; V 3n (390 V) 
</p>
<p>(18.148) 
</p>
<p>= 3.48 A 
</p>
<p>Hence, the MOSFET on-resistance should be chosen according to 
</p>
<p>R &lt; P;n-Pour = (526 W)-(500W) =217 Q 
on- [~rms (4.38 A)2 , 
</p>
<p>(18.149) 
</p>
<p>This calculation is approximate because Eq. (18.119) was derived using the waveforms of the ideal (loss-
</p>
<p>less) converter. Nonetheless, it gives an answer that is very close to the more exact result ofEq. (18.147). 
</p>
<p>We would expect this approximate approach to exhibit good accuracy in this example, because of the 
</p>
<p>high 95% efficiency. 
</p>
<p>18.7 IDEAL THREE-PHASE RECTIFIERS 
</p>
<p>The single-phase ideal rectifier concepts of the previous sections can be generalized to cover ideal three-
</p>
<p>phase rectifiers. Figure 18.38(a) illustrates the properties of an ideal three-phase rectifier, which presents 
</p>
<p>a balanced resistive load to the utility system. A three-phase converter system is controlled such that 
resistor emulation is obtained in each input phase. The rectifier three-phase input port can then be mod-
</p>
<p>eled by per-phase effective resistances Re, as illustrated in Fig. 18.38(a). The instantaneous powers 
</p>
<p>apparently consumed by these resistors are transferred to the rectifier de output port. The rectifier output 
</p>
<p>port can therefore be modeled by power sources equal to the instantaneous powers flowing into the effec-
</p>
<p>tive resistances Re. It is irrelevant whether the three power sources are connected in series or in parallel; 
</p>
<p>in either event, they can be combined into a single source equal to the total three-phase instantaneous 
</p>
<p>input power as illustrated in Fig. 18.38(b). 
</p>
<p>If the three-phase ac input voltages are 
</p>
<p>van(t) = VM sin (wt) 
</p>
<p>vbn(t) = V M sin ( wt- 120&deg;) 
</p>
<p>vC/.(t) = V M sin ( wt- 240&deg;) 
</p>
<p>then the instantaneous powers flowing into the phase a, b, and c effective resistances Re are 
</p>
<p>(18.150) </p>
<p/>
</div>
<div class="page"><p/>
<p>686 Pulse- Width Modulated Rectifiers 
</p>
<p>v 2 (t) V2 ( ) pJt) = ___!!'!____ = _M_ 1- cos ( 2mt) 
R, 2R, 
</p>
<p>v 2 (t) V 2 ( ) Pb(t) = _b_"- = _M_ 1 -cos ( 2mt- 240&deg;) 
R, 2R, 
</p>
<p>(18.151) 
</p>
<p>v 2 (t) V 2 ( ) pJt) = -'-&middot;"- = _M_ 1- cos ( 2mt- 120&deg;) 
R, 2R, 
</p>
<p>Each instantaneous phase power contains a de term V~/(2R,), and a second-harmonic term. The total 
instantaneous three-phase power is 
</p>
<p>(18.152) 
</p>
<p>This is the instantaneous power which flows out of the rectifier de output port. Note that the second har-
</p>
<p>monic terms add to zero, such that the rectifier instantaneous output power is constant. This is a conse-
</p>
<p>quence of the fact that the instantaneous power flow in any balanced three-phase ac system is constant. 
</p>
<p>So, unlike the single-phase case, the ideal three-phase rectifier can supply constant instantaneous power 
</p>
<p>to a de load, without the need for internal low-frequency energy storage. 
</p>
<p>(a) 3&cent;ae 
input 
</p>
<p>de output 
</p>
<p>ia 
&cent;a 
</p>
<p>+ 
</p>
<p>ib Re 
</p>
<p>&cent;b R v 
</p>
<p>ic 
&cent;c 
</p>
<p>(b) 3&cent;ae 
input 
</p>
<p>de output 
</p>
<p>ia 
&cent;a 
</p>
<p>+ 
</p>
<p>ib 
R &cent;b v 
</p>
<p>ic 
&cent;c 
</p>
<p>Fig. 18.38 Development of the ideal three-phase rectifier model: (a) three ideal single-phase rectifiers, (b) combi-
</p>
<p>nation of the three power sources into an equivalent single power source. </p>
<p/>
</div>
<div class="page"><p/>
<p>3&cent;ac 
input 
</p>
<p>0 
</p>
<p>Fig. 18.39 Boost-type 3&cent;ac-dc PWM rectifier. 
</p>
<p>18.7 Ideal Three-Phase Rectifiers 687 
</p>
<p>de output 
</p>
<p>+ 
</p>
<p>c 
</p>
<p>A variety of 30ac-dc PWM rectifiers are known; a few of the many references on this subject 
</p>
<p>are listed in the references [42-59]. The most well-known topology is the three-phase ac-dc boost recti-
</p>
<p>fier, illustrated in Fig. 18.39. This converter requires six SPST current-bidirectional two-quadrant 
</p>
<p>switches. The inductors and capacitor filter the high-frequency switching harmonics, and have little 
</p>
<p>influence on the low-frequency ac components of the waveforms. The switches of each phase are con-
</p>
<p>trolled to obtain input resistor emulation, either with a multiplying controller scheme similar to Fig. 18.5, 
</p>
<p>or with some other approach. To obtain undistorted line current waveforms, the de output voltage V must 
</p>
<p>be greater than or equal to the peak line-to-line ac input voltage VL.pk&middot; In a typical realization, Vis some-
</p>
<p>what greater than V L.pk" This converter resembles the voltagecsource inverter, discussed briefly in Chapter 
</p>
<p>4, except that the converter is operated as a rectifier, and the converter input currents are controlled via 
</p>
<p>high-frequency pulse-width modulation. 
</p>
<p>The three-phase boost rectifier of Fig. 18.39 has several attributes that make it the leading can-
</p>
<p>didate for most 30ac-dc rectifier applications. The ac input currents are nonpulsating, and hence very lit-
</p>
<p>tle additional input EMI filtering is required. As in the case of the single-phase boost rectifier, the rms 
</p>
<p>transistor currents and also the conduction losses of the three-phase boost rectifier are low relative to 
</p>
<p>other 30ac-dc topologies such as the current-source inverter. The converter is capable of bidirectional 
</p>
<p>power flow. A disadvantage is the requirement for six active devices: when compared with a de-de con-
</p>
<p>verter of similar ratings, the active semiconductor utilization (discussed in Chapter 6) is low. Also, since 
</p>
<p>the rectifier has a boost characteristic, it is not suitable for direct replacement of traditional buck-type 
</p>
<p>phase-controlled rectifiers. 
</p>
<p>The literature contains a wide variety of schemes for controlling the switches of a six-switch 
</p>
<p>three-phase bridge network, which are applicable for control of the switches of Fig. 18.39. The basic 
</p>
<p>operation of the converter can be most easily understood by assuming that the switches are controlled via 
</p>
<p>simple sinusoidal pulse-width modulation. Transistor Q1 is driven with duty cycle d1(t), while transistor 
Q4 is driven by the complement of d 1(t), or d1'(t) = 1- d1(t). Transistors Q2 and Q5 are driven with duty 
cycles dz(t) and d2'(t), respectively, and transistors Q3 and Q6 are driven with duty cycles d3(t) and d3'(t), 
respectively. The switch voltage waveforms of Fig. 18.40 are obtained. The average switch voltages are </p>
<p/>
</div>
<div class="page"><p/>
<p>688 Pulse-Width Modulated Rectifiers 
</p>
<p>Fig. 18.40 Switch waveforms, 3!1lac-dc 
</p>
<p>boost rectifier. 
</p>
<p>v3o(t) 
</p>
<p>v 
</p>
<p>( v10(t))T = d1 ( v(t))T ________________________ -!..____________ _ ___ &sect;____________ -&middot; 
</p>
<p>0 
</p>
<p>0 
</p>
<p>dl 
v 
</p>
<p>( Vzo(t))T = dz ( v(t))T _______________ .,:! ___________________ .&sect;____________ -
</p>
<p>jo 
0 y T, 
</p>
<p>v 
</p>
<p>( v3o(t)); = d3 ( v(t))T _____________________ .,:! ________________ ..&sect; __________ --
</p>
<p>i 0 
9 l d3Ts Tf 
</p>
<p>Conducting i,_-Q1 t v1 l i i+Q4 / D4 +!.&middot;, 
devices: 
</p>
<p>!-Qz!Dz &bull;= : QsiDs&bull;l 
l-Q31 D3 -i- Q6/ D6 -.i 
</p>
<p>The averaged line-to-line switch voltages are therefore 
</p>
<p>(v12(t))r, =(vw(t))T, -(v20(t))T, =(d1(t)-d2(t)) (v(t))T, 
</p>
<p>( Vz3(t)) T, = ( Vzo{t)) T,- ( V3o(t)) T, = ( dz(t)- d3(t)) ( v(t)) T, 
</p>
<p>(v3J(t))T, = (v3o(t))r,- (vw(t))r, = (d3(t)-d1(t)) (v(t))r, 
</p>
<p>In a similar manner, the average switch currents can be shown to be 
</p>
<p>(18.153) 
</p>
<p>(18.154) </p>
<p/>
</div>
<div class="page"><p/>
<p>18.7 Ideal Three-Phase Rectifiers 689 
</p>
<p>Equations (18.154) and (18.155) lead to the circuit-averaged model of Fig. 18.41. 
</p>
<p>With sinusoidal PWM, the duty cycles are varied sinusoidally in synchronism with the ac line, 
</p>
<p>as follows: 
</p>
<p>d 1(t) = D0 + ~ Dm sin (wt -&lt;p) 
dz(t) = D0 + ~ Dm sin ( Wt- &lt;p- 120&deg;) 
</p>
<p>d3(t) = D0 + t Dm sin ( Wt- &lt;p- 240&deg;) 
</p>
<p>(18.156) 
</p>
<p>where w is the ac line frequency. Since each instantaneous duty cycle must lie in the interval [0,1], the de 
bias D0 is required. The factor Dm is called the modulation index; for D0 = 0.5, Dm must be less than or 
equal to one. Other choices of D0 further restrict Dm. In general, the modulation index can be defined as 
</p>
<p>equal to the peak-to-peak amplitude of the fundamental component of the duty cycle variation. 
</p>
<p>If the switching frequency is sufficiently large, then filter inductors L can be small in value, such 
</p>
<p>that they have negligible effect on the low-frequency ac waveforms. The averaged switch voltage 
</p>
<p>(v12(t))T, then becomes approximately equal to the ac line-line voltage vab(t): 
</p>
<p>(18.157) 
</p>
<p>Substitution ofEqs. (18.150) and (18.156) leads to 
</p>
<p>~ D m l sin ( wt - (jl) - sin ( Wt - (jl - 120&deg;) j ( v(t)) T, = V M [sin ( Wt) - sin ( Wt - 120&deg;)] (18.158) 
For small L, the angle &lt;p must tend to zero, and hence the sinusoidal terms in Eq. (18.158) cancel out. In 
</p>
<p>steady-state, the de output voltage is (v(t))T, = V. Equation (18.158) then becomes 
</p>
<p>(18.159) 
</p>
<p>Solution for the de output voltage V leads to 
</p>
<p>Fig. 18.41 Averaged model of the open-loop 3&cent;ac-dc boost rectifier. </p>
<p/>
</div>
<div class="page"><p/>
<p>690 Pulse- Width Modulated Rectifiers 
</p>
<p>V=2VM 
Dm 
</p>
<p>Equation (18.160) can be written in terms of the peak line-to-line voltage VL,pk&bull; as 
</p>
<p>(18.160) 
</p>
<p>(18.161) 
</p>
<p>With Dm::::; 1, the de output voltage V must be greater than or equal to 1.15 times the peak line-to-line ac 
</p>
<p>input voltage. Thus, the rectifier has a boost characteristic. 
</p>
<p>The sinusoidal PWM approach of Eq. (18.156) is not the only way to vary the duty cycles to 
</p>
<p>obtain sinusoidal ac voltages and currents. For example, trip len harmonics can be added to the duty cycle 
</p>
<p>expressions of Eq. (18.156). These triplen harmonics cancel out in Eq. (18.154), such that the average 
</p>
<p>inverter input voltages ( v1it) )Ts' ( v23(t) \;&bull; and ( v31 (t) )J:, contain only fundamental. Figure 18.42 illus-
</p>
<p>trates duty cycle variations that lead to a de output voltage V equal to VL.pk&middot; The effective modulation 
</p>
<p>index in this case is 1.15. The ac-side voltages and currents are again undistorted. Further increases in the 
</p>
<p>modulation index can be attained only by introduction of distortion in the ac-side voltages and currents. 
</p>
<p>Of course, in practice the duty cycle modulations are usually generated by the feedback loops that con-
</p>
<p>trol the input current waveforms to attain resistor emulation. 
</p>
<p>Three-phase ac-to-de rectifiers having buck, buck-boost, or other characteristics, are possible, 
</p>
<p>but find much less use than the boost topology. A 3&cent;ac-dc rectifier system can also be constructed simply 
</p>
<p>using three separate single-phase rectifiers [34]; however, each single-phase rectifier must then contain 
</p>
<p>transformer isolation, leading to substantially increased switch stress and loss. Other unconventional 
</p>
<p>approaches to three-phase low-harmonic rectification have also been recently explored, such as the 
</p>
<p>Vienna rectifier [56,59], single-switch approaches [49-55], and other circuits[44,45,46,57,58]. 
</p>
<p>Yet another approach to solving the problem of three-phase rectifier harmonics is the harmonic 
</p>
<p>correction scheme illustrated in Fig. 18.43. An active six-switch three-phase bridge removes the harmon-
</p>
<p>ics generated by a nonlinear three-phase load such as an uncontrolled rectifier. The harmonic corrector is 
</p>
<p>controlled such that its ac line currents contain harmonics that are equal in magnitude but opposite in 
</p>
<p>phase to the harmonics generated by the nonlinear load. No average power flows into the harmonic cor-
</p>
<p>rector. The total kVA rating of the harmonic corrector semiconductor devices depends on the magnitudes 
</p>
<p>of the harmonics produced by the nonlinear load. If the THD generated by the load is not too large, then 
</p>
<p>Fig. 18.42 A modula-
tion strategy that leads to a 0.5 
de output voltage equal to 
the peak input line-line 
</p>
<p>voltage. 0 
</p>
<p>-0.5 
</p>
<p>(f)f 
</p>
<p>00 60&deg; 120&deg; 180&deg; 240&deg; 300&deg; 360&deg; </p>
<p/>
</div>
<div class="page"><p/>
<p>18.8 Summary of Key Points 691 
</p>
<p>Nonlinear load 
r&middot;-----------------------------------------------------------------------------------------------------------------------------1 
</p>
<p>-----.-+'J ! 
i 
i 
! 
! 
i 
</p>
<p>! 
</p>
<p>i 
' ' L------------------------------------------------------------------------------------------------------------------------------: 
</p>
<p>~--- - -- ---- -------- - - - - - -- ------ -I 
</p>
<p>! 
i 
i 
! 
! 
! 
</p>
<p>! 
1 
</p>
<p>! 
</p>
<p>i 
L---------------------------------------------------------------------------------------------------------------------------------------------------------------.! 
</p>
<p>Harmonic corrector 
</p>
<p>Fig. 18.43 A harmonic corrector, based on the 30ac-dc CCM boost converter of Fig. 18.39. 
</p>
<p>the harmonic corrector scheme requires less total active silicon than the CCM boost-type rectifier of Fig. 
</p>
<p>18.39. But if the uncontrolled rectifier contains small ac line inductances, such that it operates in the dis-
</p>
<p>continuous conduction mode with large THD, then it is probably better to simply replace the uncon-
</p>
<p>trolled rectifier with the CCM boost-type rectifier of Fig. 18.39. 
</p>
<p>18.8 
</p>
<p>1. 
</p>
<p>2. 
</p>
<p>3. 
</p>
<p>SUMMARY OF KEY POINTS 
</p>
<p>The ideal rectifier presents an effective resistive load, the emulated resistance Re, to the ac power system. 
</p>
<p>The power apparently "consumed" by Re is transferred to the de output port. In a three-phase ideal recti-
</p>
<p>fier, input resistor emulation is obtained in each phase. In both the single-phase and three-phase cases, the 
</p>
<p>output port follows a power source characteristic, dependent on the instantaneous ac input power. Ideal 
</p>
<p>rectifiers can perform the function of low-harmonic rectification, without need for low-frequency reactive 
</p>
<p>elements. 
</p>
<p>The de-de boost converter, as well as other converters capable of increasing the voltage according to Eq. 
</p>
<p>(18.12), can be adapted to the ideal rectifier application. A control system causes the input current to be 
</p>
<p>proportional to the input voltage. The converter may operate in CCM, DCM, or in both modes. The mode 
</p>
<p>boundary can be expressed as a function of Re, 2L/Ts, and the instantaneous voltage ratio v/t)IV. A well-
</p>
<p>designed average current controller leads to resistor emulation regardless of the operating mode; however, 
</p>
<p>other schemes may lead to distorted current waveforms when the mode boundary is crossed. 
</p>
<p>In a single-phase system, the instantaneous ac input power is pulsating, while the de load power is con-
</p>
<p>stant. Whenever the instantaneous input and output powers are not equal, the ideal rectifier system must </p>
<p/>
</div>
<div class="page"><p/>
<p>692 Pulse- Width Modulated Rectifiers 
</p>
<p>contain energy storage. A large capacitor is commonly employed; the voltage of this capacitor must be 
</p>
<p>allowed to vary independently, as necessary to store and release energy. A slow feedback loop regulates the 
</p>
<p>de component of the capacitor voltage, to ensure that the average ac input power and de load power are 
</p>
<p>balanced. 
</p>
<p>4. RMS values of rectifiers waveforms can be computed by double integration. In the case of the boost con-
</p>
<p>verter, the rms transistor current can be as low as 39% ofthe rms ac input current, when the de output volt-
</p>
<p>age Vis close in value to the peak ac input voltage V M" Other converter topologies such as the buck-boost, 
</p>
<p>SEPIC, and Cuk converters exhibit significantly higher rms transistor currents but are capable of limiting 
</p>
<p>the converter inrush current. 
</p>
<p>5. In the three-phase case, a boost-type rectifier based on the PWM voltage-source inverter also exhibits low 
</p>
<p>rms transistor currents. This approach requires six active switching elements, and its de output voltage 
</p>
<p>must be greater than the peak input line-to-line voltage. Average current control can be used to obtain input 
</p>
<p>resistor emulation. An equivalent circuit can be derived by averaging the switch waveforms. The converter 
</p>
<p>operation can be understood by assuming that the switch duty cycles vary sinusoidally; expressions for the 
</p>
<p>average converter waveforms can then be derived. 
</p>
<p>6. Converter losses and efficiency can be modeled using the steady-state equivalent circuit models of Chapter 
</p>
<p>3, with a time-varying duty cycle. The output current is averaged over one ac line period, to determine its 
</p>
<p>de component. The converter losses and efficiency can then be computed. This approach is approximate, in 
</p>
<p>that (i) it assumes that the converter dynamics are much faster than the ac line frequency, and (ii) it 
</p>
<p>neglects operation in the discontinuous conduction mode. 
</p>
<p>7. Average current control involves direct regulation of the low-frequency components of the rectifier input 
</p>
<p>current to follow the input voltage. Feedforward can also be added, to cancel the influence of ac line volt-
</p>
<p>age variations on the de output voltage. 
</p>
<p>8. Current programmed control can also be adapted to attain input resistor emulation in rectifiers. The pro-
</p>
<p>grammed current reference signal ic(t) is made proportional to the ac input voltage. The difference 
</p>
<p>between ic(t) and the average inductor current leads to distortion, owing to the inductor current ripple and 
</p>
<p>the need for a stabilizing artificial ramp. Several approaches are known for reducing the resulting har-
</p>
<p>monic distortion of the line current waveform. 
</p>
<p>9. Hysteretic control, particularly with 100% current ripple, has a simple controller implementation. The dis-
</p>
<p>advantages are variable switching frequency, and increased peak currents. 
</p>
<p>10. Nonlinear carrier control also leads to a simple controller implementation, and has the advantage of CCM 
</p>
<p>operation with small peak transistor current. 
</p>
<p>11. The outer low-bandwidth control system, which regulates the de output voltage to balance the rectifier and 
</p>
<p>load powers, can be modeled by averaging the rectifier waveforms over one-half of the ac line period T2L. 
</p>
<p>This causes the de-side system equations to become time-invariant. A small-signal model is then obtained 
</p>
<p>by perturbation and linearization. 
</p>
<p>12. The inner high-bandwidth control system, which regulates the ac input current waveform to attain resistor 
</p>
<p>emulation, is in general highly nonlinear. However, in the case of the boost rectifier, a valid small-signal 
</p>
<p>model can be derived. This approach is unsuccessful in the case of other converters; one must then resort 
</p>
<p>to other approaches such as the quasi-static approximation or simulation. 
</p>
<p>REFERENCES 
</p>
<p>[1] D. CHAMBERS and D. WANG, "Dynamic Power Factor Correction in Capacitor Input Off-Line Convert-
</p>
<p>ers," Proceedings Sixth National Solid-State Power Conversion Conference (Powercon 6), pp. B3-1 to B3-
</p>
<p>6, May 1979. </p>
<p/>
</div>
<div class="page"><p/>
<p>References 693 
</p>
<p>[2] R. ERICKSON, M. MADIGAN, and S. SINGER, "Design of a Simple High Power Factor Rectifier Based on 
</p>
<p>the Flyback Converter," IEEE Applied Power Electronics Conference, 1990 Record, pp. 792-801. 
</p>
<p>[3] S. SINGER and R.W. ERICKSON, "Power Source Element and Its Properties," lEE Proceedings-Circuits 
Devices Systems, Vol. 141, No.3, pp. 220-226, June 1994. 
</p>
<p>[4] S. SINGER, "Realization of Loss-Free Resistive Elements," IEEE Transactions on Circuits and Systems, 
Vol. CAS-36, No. 12, January 1990. 
</p>
<p>[5] W. E. RIPPEL, "Optimizing Boost Chopper Charger Design," Proceedings Sixth National Solid-State 
Power Conversion Conference (Powercon 6), 1979, pp. D1-1- D1-20. 
</p>
<p>[6] M. F. SCHLECHT and B. A. MIWA, "Active Power Factor Correction for Switching Power Supplies," IEEE 
Transactions on Power Electronics, Vol. 2, No.4, October 1987, pp. 273-281. 
</p>
<p>[7] J. SEBASTIAN, J. UCEDA, J. A. COBOS, J. ARAU, and F. ALDANA, "Improving Power Factor Correction in 
Distributed Power Supply Systems Using PWM and ZCS-QR SEPIC Topologies," IEEE Power Electron-
ics Specialists Conference, 1991 Record, pp. 780-791. 
</p>
<p>[8] E. YANG, Y. JIANG, G. HUA, and F. C. LEE, "Isolated Boost Circuit for Power Factor Correction," IEEE 
Applied Power Electronics Conference, 1993 Record, pp. 196-203. 
</p>
<p>[9] C. A. CANESIN and I BARBI, "A Unity Power Factor Multiple Isolated Outputs Switching Mode Power 
</p>
<p>Supply Using a Single Switch," IEEE Applied Power Electronics Conference, 1991 Record, pp. 430-436. 
</p>
<p>[10] S. FREELAND, "1. A Unified Analysis of Converters with Resonant Switches, II. Input-Current Shaping for 
</p>
<p>Single-Phase Ac-&lt;ic Power Converters," Ph.D. Thesis, California Institute of Technology, 1988. 
</p>
<p>[11] M. J. SCHUTTEN, R. L. STEIGERWALD, and M. H. KHERALUWALA, "Characteristics of Load-Resonant 
Converters Operated in a High Power Factor Mode," IEEE Applied Power ElectroniCs Conference, 1991 
Record, pp. 5-16. 
</p>
<p>[12] J. HONG, E. ISMAIL, R. ERICKSON, and I. KHAN, "Design of the Parallel Resonant Converter as a Low Har-
</p>
<p>monic Rectifier," IEEE Applied Power Electronics Conference, 1993 Record, pp. 833-840. 
</p>
<p>[13] I. BARB! and S. A. 0. DASILVA, "Sinusoidal Line Current Rectification at Unity Power Factor with Boost 
Quasi-Resonant Converters," IEEE Applied Power Electronics Conference, 1990 Record, pp. 553-562. 
</p>
<p>[14] R. REDL and L. BALOGH, "RMS, DC, Peak, and Harmonic Currents in High-Frequency Power-Factor Cor-
rectors with Capacitive Energy Storage," IEEE Applied Power Electronics Conference, 1992 Record, pp. 
533-540. 
</p>
<p>[15] J. SEBASTIAN, J. A. COBOS, P. GIL, and J. UCEDA, "The Determination of the Boundaries Between Contin-
</p>
<p>uous and Discontinuous Conduction Modes in PWM De-to-De Converters Used as Power Factor Preregu-
</p>
<p>lators," IEEE Power Electronics Specialists Conference, 1992 Record, pp. 1061-1070. 
</p>
<p>[16] M. NALBANT, "Design of a 1 kW Power Factor Corrector," Power Conversion, October 1989 Proceedings, 
pp. 121-135. 
</p>
<p>[17] R. MAMMANO and R. NEIDORFF, "Improving Input Power Factor-A New Active Controller Simplifies 
</p>
<p>the Task," Power Conversion, October 1989 Proceedings, pp. 100-109. </p>
<p/>
</div>
<div class="page"><p/>
<p>694 Pulse- Width Modulated Rectifiers 
</p>
<p>[18] J. BAZIMET and J. O'CONNOR, "Analysis and Design of a Zero Voltage Transition Power Factor Correction 
</p>
<p>Circuit," IEEE Applied Power Electronics Conference, 1994 Record, pp. 591-597. 
</p>
<p>[19] R. REDL and B. ERISMAN, "Reducing Distortion in Peak-Current,Controlled Boost Power Factor Correc-
</p>
<p>tors," IEEE Applied Power Electronics Conference, 1994 Record, pp. 576-583. 
</p>
<p>[20] C. ZHOU and M. JOVANOVIC, "Design Tradeoffs in Continuous Current-Mode Controlled Boost Power 
</p>
<p>Factor Correction Circuits," High Frequency Power Conversion Conference, 1992 Proceedings, pp. 209-
</p>
<p>220. 
</p>
<p>[21] D. MAKSIMOVIC, "Design of the Clamped-Current High-Power-Factor Boost Rectifier," IEEE Applied 
</p>
<p>Power Electronics Conference, 1994 Record, pp. 584-590. 
</p>
<p>[22] C. CANESIN and I. BARB!, "Analysis and Design of Constant-Frequency Peak-Current-Controlled High-
</p>
<p>Power-Factor Boost Rectifier with Slope Compensation," IEEE Applied Power Electronics Conference, 
</p>
<p>1996 Record, pp. 807-813. 
</p>
<p>[23] J. LA! and D. CHEN, "Design Considerations for Power Factor Correction Boost Converter Operating at 
</p>
<p>the Boundary of Continuous Conduction Mode and Discontinuous Conduction Mode," IEEE Applied 
</p>
<p>Power Electronics Conference, 1993 Record, pp. 267-273. 
</p>
<p>[24] C. ZHOU, R. RIDLEY, and F. C. LEE, "Design and Analysis of a Hysteretic Boost Power Factor Correction 
</p>
<p>Circuit," IEEE Power Electronics Specialists Conference, 1990 Record, pp. 800-807. 
</p>
<p>[25] S. AHMED, "Controlled On-Time Power Factor Correction Circuit with Input Filter," M.S. Thesis, Virginia 
</p>
<p>Polytechnic Institute and State University, Blacksburg VA, May 1990. 
</p>
<p>[26] M. DAWANDE and G. DUBEY, "Programmable Input Power Factor Correction Method for Switch Mode 
</p>
<p>Rectifiers," IEEE Applied Power Electronics Conference, 1993 Record, pp. 274-280. 
</p>
<p>[27] J. SPANGLER and A. BEHERA, "A Comparison Between Hysteretic and Fixed Frequency Boost Converters 
</p>
<p>Used for Power Factor Correction," IEEE Applied Power Electronics Conference, 1993 Record, pp. 281-
</p>
<p>286. 
</p>
<p>[28] D. MAKSIMOVIC, Y. JANG, and R. ERICKSON, "Nonlinear-Carrier Control for High Power Factor Boost 
</p>
<p>Rectifiers," IEEE Applied Power Electronics Conference, 1995 Record, pp. 635-641 
</p>
<p>[29] R. ZANE and D. MAKSIMOVIC, "Nonlinear Carrier Control for High Power Factor Rectifiers Based on Fly-
</p>
<p>back, Cuk, or SEPIC Converters," IEEE Applied Power Electronics Conference, 1996 Record, pp. 814-
</p>
<p>820. 
</p>
<p>[30] Z. LA!, K. SMEDLEY, andY. MA, 'Time Quantity One-Cycle Control for Power Factor Controllers," IEEE 
</p>
<p>Applied Power Electronics Conference, 1996 Record, pp. 821-827. 
</p>
<p>[31] L. ROSSETTO, G. SPIAZZI, P. TENT!, B. FABIANO, and C. LICITRA, "Fast-Response High-Quality Rectifier 
</p>
<p>with Sliding-Mode Control," IEEE Applied Power Electronics Conference, 1993 Record, pp. 175-181. 
</p>
<p>[32] W. TANG, Y. JIANG, G. HUA, F. C. LEE, and I. COHEN, "Power Factor Correction with Flyback Converter 
</p>
<p>Employing Charge Control," IEEE Applied Power Electronics Conference, 1993 Record, pp. 293-298. 
</p>
<p>[33] F. C. SCHWARZ, "An Improved Method of Resonant Current Pulse Modulation for Power Converters," 
</p>
<p>IEEE Power Electronics Specialists Conference, 1975 Record, pp. 194-204. </p>
<p/>
</div>
<div class="page"><p/>
<p>References 695 
</p>
<p>[34] M. J. KOCHER and R. L. STEIGERWALD, "An Ac-to-de Converter with High Quality Input Waveforms," 
</p>
<p>IEEE Power Electronics Specialists Conference, 1982 Record, pp. 63-75. 
</p>
<p>[35] M. SCHLECHT, "Time-Varying Feedback Gains for Power Circuits with Active Waveshaping," IEEE Power 
</p>
<p>Electronics Specialists Conference, 1981 Record, pp. 52-59. 
</p>
<p>[36] I. KHAN and R. W. ERICKSON, "Control of Switched-Mode Converter Harmonic-Free Terminal Wave-
</p>
<p>forms Through Internal Energy Storage," IEEE Power Electronics Specialists Conference, 1986 Record, 
</p>
<p>pp. 13-26. 
</p>
<p>[37] K. MAHABIR, G. VERGESE, J THOTTUVELIL, and A. HEYMAN, "Linear Averaged and Sampled Data Mod-
</p>
<p>els for Large Signal Control of High Power Factor Ac-dc Converters," IEEE Power Electronics Specialists 
</p>
<p>Conference, 1990 Record, pp. 372-381. 
</p>
<p>[38] MICHAEL MADIGAN, ROBERT ERICKSON, and ESAM ISMAIL, "Integrated High Quality Rectifier-Regula-
</p>
<p>tors," IEEE Power Electronics Specialists Conference, 1992 Record, pp. 1043-1051. 
</p>
<p>[39] K. MAHABIR, G. VERGESE, J THOTTUVELIL, and A. HEYMAN, "Linear Averaged and Sampled Data Mod-
</p>
<p>els for Large Signal Control of High Power Factor AC-DC Converters," IEEE Power Electronics Special-
</p>
<p>ists Conference, 1990 Record, pp. 372-381. 
</p>
<p>[ 40] R. RIDLEY, "Average Small-Signal Analysis of the Boost Power Factor Correction Circuit," Proceedings of 
</p>
<p>the Virginia Power Electronics Center Seminar, Blacksburg, VA, Sept. 1989, pp. 108-120. 
</p>
<p>[41] M. MADIGAN, "Single-Phase High-Quality Rectifier-Regulators," Ph.D. Thesis, University of Colorado at 
</p>
<p>Boulder, 1992. 
</p>
<p>[42] N. MOHAN, T. UNDELAND and W. ROBBINS, Power Electronics: Converters, Applications, and Design, 
</p>
<p>Second edition, New York: John Wiley &amp; Sons, 1995, Chapters 8 and 18. 
</p>
<p>[43] H. MAO, D. BOROYEVICH, A. RAVINDRA, and F. LEE, "Analysis and Design of a High Frequency Three-
</p>
<p>Phase Boost Rectifier," IEEE Applied Power Electronics Conference, 1996 Record, pp. 538-544. 
</p>
<p>[44] B. T. 001, J. C. SALMON, J. W. DIXON, and A. B. KULKARNI, "A Three-Phase Controlled-Current PWM 
</p>
<p>Converter with Leading Power Factor," IEEE Transactions on Industry Applications, Vol. 23, No. 1, pp. 
</p>
<p>78-84, 1987. 
</p>
<p>[45] P. TENT! and L. MALSANI, "Three-Phase AC/DC PWM Converter with Sinusoidal AC Currents and Mini-
</p>
<p>mum Filter Requirements," IEEE Transactions on Industry Applications, Vol. 23, No. 1, pp. 71-77, 1987. 
</p>
<p>[46] A-M. MAJED, T. C. GREEN, and B. W. WILLIAMS, "Dynamic Properties of a Step-Down Sinusoidal Cur-
</p>
<p>rentAC/DC Converter Under State-Feedback Control," IEEE Applied Power Electronics Conference, 1993 
</p>
<p>Record, pp. 161-167. 
</p>
<p>[47] M. RASTOGI, N. MOHAN, and C. HENZE, "Three-Phase Sinusoidal Current Rectifier with Zero Current 
</p>
<p>Switching," IEEE Applied Power Electronics Conference, 1994 Record, pp. 718-724. 
</p>
<p>[48] K. D. T. NGO, S. CUK, and R. D. MIDDLEBROOK, "A New Flyback De-to-Three-Phase Converter with 
</p>
<p>Sinusoidal Outputs," IEEE Power Electronics Specialists Conference, 1983 Record, pp. 377-388. 
</p>
<p>[49] A. R. PRASAD, P. D. ZIOGAS, and S. MANIAS, "An Active Power Factor Correction Technique for Three-
</p>
<p>Phase Diode Rectifiers," IEEE Power Electronics Specialists Conference, 1989 Record, pp. 58-66. </p>
<p/>
</div>
<div class="page"><p/>
<p>696 Pulse- Width Modulated Rectifiers 
</p>
<p>[50] J. KOLAR, H. ERTL, and F. ZACH, "Space Vector Based Analysis of the Input Current Distortion of a Three 
</p>
<p>Phase Discontinuous Conduction Mode Boost Rectifier System," IEEE Power Electronics Specialists 
</p>
<p>Conference, 1993 Record, pp. 696-703. 
</p>
<p>[51] R. ITOH and K. ISHITAKA, "Three-Phase Flyback Ac-dc Converter with Sinusoidal Supply Currents," lEE 
</p>
<p>Proceedings, Vol. 136, Part B, No.4, pp. 143-151, 1991. 
</p>
<p>[52] 0. APELDOORN and P. SCHMIDT, "Single Transistor Three-Phase Power Conditioners with High Power 
</p>
<p>Factor and Isolated Output," IEEE Applied Power Electronics Conference, 1994 Record, pp. 731-737. 
</p>
<p>[53] E. H. ISMAIL and R. W. ERICKSON, "A Single Transistor Three-Phase Resonant Switch for High Quality 
</p>
<p>Rectification," IEEE Power Electronics Specialists Conference, 1992 Record, pp. 1341-1351. 
</p>
<p>[54] Y. lANG and R. ERICKSON, "New Single-Switch Three-Phase High Power Factor Rectifiers Using Multi-
</p>
<p>Resonant Zero Current Switching," IEEE Applied Power Electronics Conference, 1994 Record, pp. 711-
</p>
<p>717. 
</p>
<p>[55] Y. lANG and R. ERICKSON, "Design and Experimental Results of a 6kW Single-Switch Three-Phase High 
</p>
<p>Power Factor Rectifier Using Multi-Resonant Zero Current Switching," IEEE Applied Power Electronics 
</p>
<p>Conference, 1996 Record, pp. 524-530. 
</p>
<p>[56] J. KOLAR, H. ERTL, and F. ZACH, "Design and Experimental Investigation of a Three-Phase High Power 
</p>
<p>Density High-Efficiency Unity-Power-Factor PWM (VIENNA) Rectifier Employing a Novel Integrated 
</p>
<p>Power Semiconductor Module," IEEE Applied Power Electronics Conference, 1996 Record, pp. 514-523. 
</p>
<p>[57] M. RASTOGI, N. MOHAN, and C. HENZE, "Three-Phase Sinusoidal Current Rectifier with Zero Current 
</p>
<p>Switching," IEEE Applied Power Electronics Conference, 1994 Record, pp. 718-724. 
</p>
<p>[58] S. GATARIC, D. BOROYEVICH, and F. C. LEE, "Soft-Switched Single-Switch Three-Phase Rectifier with 
</p>
<p>Power Factor Correction," IEEE Applied Power Electronics Conference, 1994 Record, pp. 738-744. 
</p>
<p>[59] J. KOLAR, U. DROFENIK, AND F. ZACH, "Vienna Rectifier II-A Novel Single-Stage High-Frequency Iso-
</p>
<p>lated Three-Phase PWM Rectifier System," IEEE Applied Power Electronics Conference, 1998 Record, 
</p>
<p>pp. 23-33. 
</p>
<p>PROBLEMS 
</p>
<p>18.1 The boost converter of Fig. 18.5 is replaced by a buck-boost converter. Inductor energy storage has neg-
</p>
<p>ligible influence on the low-frequency components of the converter waveforms. The average load power 
</p>
<p>is Pload&middot; The de output voltage is V and the sinusoidal ac input voltage has peak amplitude V M&middot; 
</p>
<p>(a) Determine expressions for the duty cycle variations d(t) and the inductor current variation i(t), 
</p>
<p>assuming that the converter operates in the continuous conduction mode. 
</p>
<p>(b) Derive the conditions for operation in the continuous conduction mode. Manipulate your result 
</p>
<p>to show that the converter operates in CCM when Re is less than Re.cr;,(L, Ts, v8(t), V), and deter-
</p>
<p>mine Re,crir&middot; 
</p>
<p>(c) For what values of Redoes the converter always operate in CCM? in DCM? 
</p>
<p>(d) The ac input voltage has rms amplitude in the range 108 V to 132 V. The maximum load power 
</p>
<p>is 100 W, and the minimum load power is 10 W. The de output voltage is 120 V. The switching 
</p>
<p>frequency is 75 kHz. What value of L guarantees that the converter always operates in CCM? in 
</p>
<p>DCM? </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 697 
</p>
<p>18.2 Derive expressions for the input characteristics of the buck-boost converter, similar to Eqs. (I8.25) to 
</p>
<p>(I8.33). Sketch the converter input characteristics, and label the CCM-DCM boundary. 
</p>
<p>18.3 Derive expressions for the rms transistor and diode currents of rectifiers based on the single-phase CCM 
</p>
<p>Cuk topology. Express your results in forms similar to those of Table I8.3. 
</p>
<p>18.4 To obtain an isolated de output, the boost converter in Fig. I8.5 is replaced by the full-bridge trans-
</p>
<p>former-isolated CCM boost converter of Fig. 6.35. Derive an expression for the rms transistor current. 
</p>
<p>Express your result as a function of lac rms' n, II, and V M" 
</p>
<p>18.5 Comparison of CCM boost and isolated SEPIC topologies as universal-input single-phase rectifiers. You 
</p>
<p>are given that the de output voltage is V = 400 V, the load power is P = 500 W, and the rms input voltage 
varies between 90 and 270 V, such that the peak ac input voltage V M varies between V Mmin = I27 V and 
V Mmax = 382 V. Define the transistor stress S as the product of the worst-case peak transistor voltage and 
the worst-case rms transistor current. It is desired to minimizeS. 
</p>
<p>(a) DetermineS for the boost converter in this application. 
</p>
<p>(b) Briefly discuss your result of part (a): if universal input operation was not required, and hence 
</p>
<p>V M = 382 V always, what S would result? 
</p>
<p>In the isolated SEPIC, the transformer turns ratio n : I can be chosen to optimize the design. 
</p>
<p>(c) Express S for the SEPIC as a function of n, II, P, V Mmin' and V Mmax&middot; 
</p>
<p>(d) Choose n for the SEPIC such that Sis minimized in this application. Compare with the results of 
parts (a) and (b). 
</p>
<p>18.6 In the boost-type dc-3(11ac rectifier of Fig. I8.39, the ac-side inductances L are not small: they exhibit 
line-frequency impedances that should not be ignored. The three-phase ac voltages are given by Eq. 
</p>
<p>(I8.I50), and the duty cycles are modulated as in Eq. (I8.I56). The converter operates in the continuous 
</p>
<p>conduction mode. 
</p>
<p>(a) Determine the magnitudes and phases of the line-to-neutral average voltages at the ac inputs to 
</p>
<p>the switch network. Express your result in terms of Dm, II, and &lt;p. 
</p>
<p>(b) Determine the real power P and reactive power Q drawn from the 3(11ac source. Express your 
</p>
<p>results as functions of V M&bull; II, D m' &lt;p, and ooL. 
</p>
<p>(c) How must &lt;p be chosen to obtain unity power factor? 
</p>
<p>18.7 In the boost-type dc-3!!Sac rectifier of Fig. 18.39, the switch duty ratios are modulated as illustrated in 
</p>
<p>Fig. 18.42. When the inductances L are sufficiently small, a de output voltage V equal to the peak line-to-
</p>
<p>line ac input voltage can be obtained, with undistorted ac line currents. As illustrated in Fig. I8.42, d1(t) 
</p>
<p>is equal to I for 0' :5 rot :5 60', where rot= 0' when ( v12(t) &gt;r, = V. 
</p>
<p>(a) Derive expressions for d2(t) and d3(t), over the interval 0' :5 rot :5 60'. 
</p>
<p>(b) State how d 1(t), d2(t), and d3(t) should vary over each 60' interval. 
</p>
<p>18.8 The buck-type 3(11ac-dc rectifier of Fig. I8.44 operates in the continuous conduction mode. Transistors 
</p>
<p>Q1 to Q6 operate with duty cycles d1(t) to d6(t), respectively. 
</p>
<p>(a) Determine the constraints on switch operation. Which transistors must not conduct simulta-
</p>
<p>neously? Which duty cycles must total unity? 
</p>
<p>(b) Average the 3!11 bridge switch network, to determine expressions for the average ac-side switch 
</p>
<p>currents (i.(t) &gt;r,&bull; (ib(t) &gt;r,, and (ic(t) &gt;r,. 
</p>
<p>(c) Show that the average de-side switch voltage can be expressed as 
</p>
<p>(d) The duty cycles are varied as follows: </p>
<p/>
</div>
<div class="page"><p/>
<p>698 Pulse-Width Modulated Rectifiers 
</p>
<p>3&cent;ac 
input 
</p>
<p>Fig. 18.44 Buck-type 31'!ac-dc rectifier, Problem 18.8. 
</p>
<p>d 1(t) = t + tvm sin (mt-&lt;v) 
dz(t) =t + t Dm sin {mt-&lt;p-120&deg;) 
d3(t) = t + t Dm sin { mt- &lt;p- 240&deg;) 
dit) = t- t Dm sin (mt- &lt;v) 
ds(t) = t- t Dm sin { mt- ql- 120&deg;) 
d6(t) = t- t Dm sin { mt- ql- 240&deg;) 
</p>
<p>L de output 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>with the ac input voltages given by Eq. (18.150). The input filter has negligible effect of the low-
</p>
<p>frequency components of the converter waveforms. Determine the steady-state de output voltage 
</p>
<p>V, as a function of V M' D m' and (jJ. 
</p>
<p>(e) Determine the power factor. You may assume that the input filter completely removes the switch-
</p>
<p>ing harmonics from the currents i.(t), ib(t), and ic(t). However, the input filter elements consume 
</p>
<p>or supply negligible line-frequency reactive power. 
</p>
<p>18.9 In the three-phase DCM ftyback rectifier of Fig. 18.45, the input filter has negligible effect on the low-
</p>
<p>frequency components of the input ac waveforms. The transistor operates with switching frequency fs 
and duty cycle d. Fly back transformers T1, T2 , and T3 each have magnetizing inductance L referred to the 
</p>
<p>primary, turns ratio n : 1, and have negligible leakage inductances. 
</p>
<p>~ &middot;~ input 
</p>
<p>c 
</p>
<p>Input filter 
</p>
<p>Fig. 18.45 Isolated 31'!ac-dc rectifier based on the ftyback converter operating in discontinuous 
</p>
<p>conduction mode: Problem 18.9. 
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>(a) Determine expressions for the low-frequency components of the ac input and de output currents. 
</p>
<p>(b) Derive an averaged equivalent circuit model for the converter, and give expressions for the ele-</p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 699 
</p>
<p>ment values. 
</p>
<p>(c) Derive the conditions for operation in the discontinuous conduction mode. 
</p>
<p>18.10 Power stage design of a universal-input boost rectifier. The objective of this problem is to work out the 
</p>
<p>power stage design of a low harmonic rectifier based on the boost converter. This converter is to be 
</p>
<p>designed to operate anywhere in the world, and hence the input voltage may vary over the range 90 to 
</p>
<p>270 Vrms, 50 to 60 Hz. The converter produces a regulated 385 V de output, at 1000 W. The switching 
</p>
<p>frequency fs is 100kHz. You may assume that the controller operates perfectly, to produce an undistorted 
ac line current waveform and a well-regulated de output voltage. 
</p>
<p>(a) Derive an expression for how the duty cycle d(t) will vary over the ac line cycle. You may 
</p>
<p>neglect converter dynamics and losses. Sketch d(t) under conditions of maximum and minimum 
</p>
<p>ac line voltage. 
</p>
<p>(b) Specify the inductor: 
</p>
<p>(i) Specify the value of L such that, at the peak of the sinusoidal input voltage, and 
</p>
<p>under worst-case conditions, the inductor current ripple !li8 is 20% of the instanta-
</p>
<p>neous low frequency current i8(t). 
</p>
<p>(ii) Specify the worst-case values of the peak and rms inductor current, assuming 100% 
</p>
<p>efficiency. 
</p>
<p>(c) Determine the worst-case rms currents of the MOSFET and diode, assuming 100% efficiency. 
</p>
<p>(d) Specify the value of C that leads to a worst-case low-frequency ( ~f,) output voltage peak-peak 
</p>
<p>ripple of 5 V. 
</p>
<p>(e) Given the following loss elements 
</p>
<p>Inductor winding resistance 0.1 Q 
</p>
<p>MOSFET on-resistance 0.4 Q 
</p>
<p>Diode forward voltage drop 1.5 V 
</p>
<p>Switching loss: model as i~(t)(0.25 Q) 
</p>
<p>For a constant 1000 W load, and assuming that the controller operates perfectly as described 
</p>
<p>above, find the rectifier efficiency 
</p>
<p>(i) at an ac input voltage of 90 V rms 
</p>
<p>(ii) at an ac input voltage of 270 V rms 
</p>
<p>18.11 The flyback converter shown in Fig. 18.46 operates in the continuous conduction mode. The MOSFET 
</p>
<p>i(t) 
</p>
<p>+ 
</p>
<p>v(t) R 
</p>
<p>Fig. 18.46 Low-harmonic rectifier system based on the CCM flyback converter, Problem 18.11. 
</p>
<p>has on-resistance Ron' and diode D1 has a constant forward voltage drop V 0 . All other loss elements can </p>
<p/>
</div>
<div class="page"><p/>
<p>700 Pulse-Width Modulated Rectifiers 
</p>
<p>be neglected. The turns ratio of the fly back transformer is 1:1. The controller varies the duty cycle such 
</p>
<p>that (igCt) &gt;r, is equal to v8(t)/Re, where Re is the emulated resistance. The input voltage is V;n(t) = V M sin 
(wt). The input filter removes the switching harmonics from the input current i8(t), but has negligible 
</p>
<p>effect on the low-frequency components of the converter waveforms. 
</p>
<p>(a) Derive an expression for the rectifier efficiency, in terms of V M&bull; V, V0 , Ron' andRe. 
</p>
<p>(b) Given the following values, find the value of MOSFET on-resistance which leads to an effi-
</p>
<p>ciency of96%. 
</p>
<p>rms input voltage 
</p>
<p>De output voltage 
</p>
<p>Diode D1 forward voltage drop 
</p>
<p>Load power 
</p>
<p>120V 
</p>
<p>120V 
</p>
<p>1.5 v 
200W 
</p>
<p>18.12 Derive an expression for the emulated resistance Re(Vg,rms&bull; Rs, kv, vcontml) of the average-current-con-
</p>
<p>trolled boost rectifier with ac line voltage feedforward, Fig. 18.14. 
</p>
<p>18.13 Derive the CPM boost rectifier static input characteristics, Eq. (18.57). 
</p>
<p>18.14 The boost rectifier system of Fig. 18.47 employs average current control with ac line voltage feedfor-
</p>
<p>ward. 
</p>
<p>The ac line frequency is 50 Hz. The rectifier drives a constant-power load of 500 W. The pulse-width 
</p>
<p>modulator contains a ramp having a peak-to-peak amplitude of 3 V. There is no compensator in the inner 
</p>
<p>wide-bandwidth average current control feedback loop. The average current sensing circuit has gain 
</p>
<p>Fig. 18.47 Average current controlled boost rectifier with input voltage feedforward, Problem 18.14. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 701 
</p>
<p>Other converter parameter values are 
</p>
<p>fs =100kHz L=2.5 mH 
</p>
<p>fo =~~=10kHz R, = 1 Q 
</p>
<p>v = 385 v vg.rms = 230 v 
(a) Construct the magnitude and phase Bode diagrams of the loop gain T;(s) of the average-current-
</p>
<p>control loop. Label important features. 
</p>
<p>(b) Determine numerical values of the crossover frequency and phase margin ofT;(s). 
</p>
<p>The outer low-bandwidth feedback loop has loop gain Tv(s). The compensator of this loop has constant 
</p>
<p>gain Gc/s) = 330. The multiplier gain is k, = 2. The capacitor value is C = 680 JIF. The reference voltage 
</p>
<p>vrej2(t) is 3.85 V. 
</p>
<p>(c) Determine the peak magnitude of the output 100Hz voltage ripple. 
</p>
<p>(d) Determine the quiescent control voltage Vcontrot&middot; 
</p>
<p>(e) Construct the magnitude and phase Bode diagrams of the loop gain T/s) of the outer feedback 
</p>
<p>loop. Label important features. 
</p>
<p>(f) Determine numerical values of the crossover frequency and phase margin of T/s). 
</p>
<p>18.15 A critical conduction mode controller causes a boost rectifier to exhibit an ac input current waveform 
</p>
<p>similar to Fig. 18.19(b). The ac input voltage is 120 Vrms at 60Hz. The rectifier supplies 225 Vdc to a 
</p>
<p>120 W load. The boost converter inductance is L = 600 JIH. 
</p>
<p>(a) Determine the emulated resistance Re. 
</p>
<p>(b) Write the numerical expression for the converter switching frequency J,, as a function of t0 n and 
the applied terminal voltages. Sketch/, vs. time. 
</p>
<p>(c) What is the maximum switching frequency? What is the minimum switching frequency? 
</p>
<p>(d) Derive an analytical expression for the rms transistor current for this control method, as a func-
</p>
<p>tion of the magnitude of the sinusoidal line current. Compare the rms transistor current of this 
</p>
<p>approach with a CCM boost rectifier having negligible current switching ripple. </p>
<p/>
</div>
<div class="page"><p/>
<p>PartV 
</p>
<p>Resonant Converters </p>
<p/>
</div>
<div class="page"><p/>
<p>19 
Resonant Conversion 
</p>
<p>Part V of this text deals with a class of converters whose operation differs significantly from the PWM 
</p>
<p>converters covered in Parts I to IV. Resonant power converters [1-36] contain resonant L---C networks 
</p>
<p>whose voltage and current waveforms vary sinusoidally during one or more subintervals of each switch-
</p>
<p>ing period. These sinusoidal variations are large in magnitude, and hence the small ripple approximation 
</p>
<p>introduced in Chapter 2 does not apply. 
</p>
<p>Dc-to-high-frequency-ac inverters are required in a variety of applications, including electronic 
</p>
<p>ballasts for gas discharge lamps [3,4], induction heating, and electrosurgical generators. These applica-
</p>
<p>tions typically require generation of a sinusoid of tens or hundreds of kHz, having moderate or low total 
</p>
<p>harmonic distortion. A simple resonant inverter system is illustrated in Fig. 19.1(a). A switch network 
</p>
<p>produces a square wave voltage v/t). As illustrated in Fig. 19.2, the spectrum of v,(t) contains fundamen-
</p>
<p>tal plus odd harmonics. This voltage is applied to the input terminals of a resonant tank network. The 
</p>
<p>tank network resonant frequency f 0 is tuned to the fundamental component of v/t), that is, to the switch-
ing frequency f,, and the tank exhibits negligible response at the harmonics of fs&middot; In consequence, the 
tank current is(t), as well as the load voltage v(t) and load current i(t), have essentially sinusoidal wave-
</p>
<p>forms of frequency fs, with negligible harmonics. By changing the switching frequency fs (closer to or 
further from the resonant frequency f0 ), the magnitudes of is(t), v(t), and i(t) can be controlled. Other 
schemes for control of the output voltage, such as phase-shift control of the bridge switch network, are 
</p>
<p>also possible. A variety of resonant tank networks can be employed; Fig. 19.1(b) to (d) illustrate the well-
</p>
<p>known series, parallel, and LCC tank networks. Inverters employing the series resonant tank network are 
</p>
<p>known as the series resonant, or series loaded, inverter. In the parallel resonant or parallel loaded 
</p>
<p>inverter, the load voltage is equal to the resonant tank capacitor voltage. The LCC inverter employs tank 
</p>
<p>capacitors both in series and in parallel with the load. 
</p>
<p>Figure 19.3 illustrates a high-frequency inverter of an electronic ballast for a gas-discharge 
</p>
<p>lamp. A half-bridge configuration of the LCC inverter drives the lamp with an approximately sinusoidal </p>
<p/>
</div>
<div class="page"><p/>
<p>706 Resonant Conversion 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>de 
source 
</p>
<p>vgCt) 
</p>
<p>:. .................................. : 
Switch network Resonant tank network 
</p>
<p>(c) &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; ' ' ' ' ' ' 
: L C,. : 
</p>
<p>rH-
' ' : ........................................ : 
</p>
<p>Series tank network 
</p>
<p>......................................... 
' ' ' ' 
</p>
<p>L 
' ' : : 
</p>
<p>' 
' ' ' 
' ' ' ' 
' ' : 
' ' 
</p>
<p>I c,II 
Parallel tank network 
</p>
<p>(d) 
</p>
<p>i(t) 
</p>
<p>+ 
</p>
<p>v(t) 
Resistive 
load 
R 
</p>
<p>&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; ' ' ' ' 
' ' 
: L Cs : 
</p>
<p>~II 
i c,Ti 
</p>
<p>LCC tank network 
</p>
<p>Fig. 19.1 A basic class of resonant inverters that consist of (a) a switch network N5 that drives a resonant tank net-
</p>
<p>work NT near resonance. Several common tank networks: (b) series, (c) parallel, (d) LCC. 
</p>
<p>Switch 
</p>
<p>1 
</p>
<p>output 
</p>
<p>I voltage spectrum t 
fs 3fs 5fs f 
</p>
<p>Resonant 
</p>
<p>1 A 
Fig. 19.2 The tank network responds tank 
primarily to the fundamental component 
</p>
<p>response 
of the applied waveforms. 
</p>
<p>/, 3fs 5fs f 
</p>
<p>Tank 
</p>
<p>1 
</p>
<p>current 
</p>
<p>I spectrum 
J; Sf, f </p>
<p/>
</div>
<div class="page"><p/>
<p>707 
</p>
<p>+ 
</p>
<p>Fig. 19.3 Half-bridge LCC inverter circuit, as an electronic ballast for a gas-discharge lamp. 
</p>
<p>de 
source 
</p>
<p>vit) 
</p>
<p>t ............ .':!.L ............... ! 
Switch network 
</p>
<p>i,.(t) 
</p>
<p>+ 
</p>
<p>Transfer function 
H(s) 
~ 
</p>
<p>L 
</p>
<p>l .............. !!.T. ............... ! 
Resonant tank network 
</p>
<p>i(t) , ............................ ] r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>+ 
</p>
<p>v(t) R 
</p>
<p>............... .. !!J!... .. ... .. .. . .... 1\'F. .... .: 
Rectifier network Low-pass 
</p>
<p>filter 
network 
</p>
<p>de 
load 
</p>
<p>Fig. 19.4 Derivation of a resonant de-de converter, by rectification and filtering of the output of a resonant 
</p>
<p>inverter. 
</p>
<p>high-frequency ac waveform. The converter is controlled to provide a relatively high voltage to start the 
</p>
<p>lamp, and a lower voltage thereafter. When the ballast is powered by the ac utility, a low-harmonic recti-
</p>
<p>fier typically provides the input de voltage for the inverter. 
</p>
<p>A resonant de-de converter can be constructed by rectifying and filtering the ac output of a res-
</p>
<p>onant inverter. Figure 19.4 illustrates a series-resonant de-de converter, in which the approximately sinu-
</p>
<p>soidal resonant tank output current iR(t) is rectified by a diode bridge rectifier, and filtered by a large 
</p>
<p>capacitor to supply a de load having current I and voltage V. Again, by variation of the switching fre-
</p>
<p>quency f, (closer to or further from the resonant frequency f0 ), the magnitude of the tank current iR(t), 
and hence also the de load current I, can be controlled. Resonant de-de converters based on series, paral-
</p>
<p>lel, LCC, and other resonant tank networks are well understood. These converters are employed when 
</p>
<p>specialized application requirements justify their use. For example, they are commonly employed in high 
</p>
<p>voltage de power supplies [5,6], because the substantial leakage inductance and winding capacitance of 
</p>
<p>high-voltage transformers leads unavoidably to a resonant tank network. The same principle can be 
</p>
<p>employed to construct resonant link inverters or resonant link cycloconverters [7-9]; controllable switch 
</p>
<p>networks are then employed on both sides of the resonant tank network. 
</p>
<p>Figure 19.5 illustrates another approach to resonant power conversion, in which resonant ele-</p>
<p/>
</div>
<div class="page"><p/>
<p>708 Resonant Conversion 
</p>
<p>(a) 
</p>
<p>PWM switch network 
i l (t) [----------------------------------------: i2(t) 
</p>
<p>+ 
</p>
<p>T 
</p>
<p>t ....................................... .: 
</p>
<p>(c) 
</p>
<p>+ 
</p>
<p>Switch 
network 
</p>
<p>(b) ZCS quasi-resonant 
switch network 
</p>
<p>i1 (t) r&middot;--------------------------------------------------------------1 i2(t) 
</p>
<p>+ + 
</p>
<p>T 
</p>
<p>L 
i(t) 
</p>
<p>+ + 
</p>
<p>c R v(t) 
</p>
<p>Fig. 19.5 Derivation of a quasi-resonant converter: (a) conventional PWM switch network, (b) a ZCS quasi-reso-
</p>
<p>nant switch network, (c) a quasi-resonant buck converter is obtained by employing a quasi-resonant switch network 
</p>
<p>such as (b) in a buck converter. 
</p>
<p>ments are inserted into the switch network of an otherwise-PWM converter. A resonant switch network, 
</p>
<p>or quasi-resonant converter, is then obtained. For example, in Fig. 19.5(b), resonant elements Lr and C, 
are combined with the switch network transistor and diode. The resonant frequency of these elements is 
</p>
<p>somewhat higher than the switching frequency. This causes the switch network waveforms i 1(t) and vit) 
</p>
<p>to become quasi-sinusoidal pulses. The resonant switch network of Fig. 19.5(b) can replace the PWM 
</p>
<p>switch network of Fig. 19.5(a) in nearly any PWM converter. For example, insertion of the resonant 
</p>
<p>switch network of Fig. 19.5(b) into the converter circuit of Fig. 19.5(c) leads to a quasi-resonant buck 
</p>
<p>converter. Numerous resonant switch networks are known, which lead to a large number of resonant 
</p>
<p>switch versions of buck, boost, buck-boost, and other converters. Quasi-resonant converters are 
</p>
<p>described in Chapter 20. 
</p>
<p>The chief advantage of resonant converters is their reduced switching loss, via mechanisms 
</p>
<p>known as zero-current switching (ZCS), and zero-voltage switching (ZVS). The tum-on and/or tum-off 
</p>
<p>transitions of the various converter semiconductor elements can occur at zero crossings of the resonant 
</p>
<p>converter quasi-sinusoidal waveforms. This eliminates some of the switching loss mechanisms described 
</p>
<p>in Chapter 4. Hence, switching loss is reduced, and resonant converters can operate at switching frequen-
</p>
<p>cies that are higher than in comparable PWM converters. Zero-voltage switching can also eliminate some 
</p>
<p>of the sources of converter-generated electromagnetic interference. 
</p>
<p>Resonant converters exhibit several disadvantages. Although the resonant element values can be 
</p>
<p>chosen such that good performance with high efficiency is obtained at a single operating point, typically 
</p>
<p>it is difficult to optimize the resonant elements such that good performance is obtained over a wide range 
</p>
<p>of load currents and input voltages. Significant currents may circulate through the tank elements, even 
</p>
<p>when the load is removed, leading to poor efficiency at light load. Also, the quasi-sinusoidal waveforms 
</p>
<p>of resonant converters exhibit greater peak values than those exhibited by the rectangular waveforms of 
</p>
<p>PWM converters, provided that the PWM current spikes due to diode stored charge are ignored. For </p>
<p/>
</div>
<div class="page"><p/>
<p>19.1 Sinusoidal Analysis of Resonant Converters 709 
</p>
<p>these reasons, resonant converters exhibit increased conduction losses, which can offset their reduced 
</p>
<p>switching losses. 
</p>
<p>In this chapter, the properties of the series, parallel, and other resonant inverters and de-de con-
</p>
<p>verters are investigated using the sinusoidal approximation [3, 10-12]. Harmonics of the switching fre-
</p>
<p>quency are neglected, and the tank waveforms are assumed to be purely sinusoidal. This allows simple 
</p>
<p>equivalent circuits to be derived for the bridge inverter, tank, rectifier, and output filter portions of the 
</p>
<p>converter, whose operation can be understood and solved using standard linear ac analysis. This intuitive 
</p>
<p>approach is quite accurate for operation in the continuous conduction mode with a high-Q response, but 
</p>
<p>becomes less accurate when the tank is operated with a low Q-factor or for operation of de--de resonant 
</p>
<p>converters in or near the discontinuous conduction mode. 
</p>
<p>For de--de resonant converters, the important result of this approach is that the de voltage con-
</p>
<p>version ratio of a continuous conduction mode resonant converter is given approximately by the ac trans-
</p>
<p>fer function of the tank circuit, evaluated at the switching frequency. The tank is loaded by an effective 
</p>
<p>output resistance, having a value nearly equal to the output voltage divided by the output current. It is 
</p>
<p>thus quite easy to determine how the tank components and circuit connections affect the converter behav-
</p>
<p>ior. The influence of tank component losses, transformer nonidealities, etc., on the output voltage and 
</p>
<p>converter efficiency can also be found. Several resonant network theorems are presented, which allow the 
</p>
<p>load dependence of conduction loss and of the zero-voltage- or zero-current-switching properties to be 
</p>
<p>explained in a simple and intuitive manner. 
</p>
<p>It is found that the series resonant converter operates with a step-down voltage conversion ratio. 
</p>
<p>With a 1: 1 transformer turns ratio, the de output voltage is ideally equal to the de input voltage when the 
</p>
<p>transistor switching frequency is equal to the tank resonant frequency. The output voltage is reduced as 
</p>
<p>the switching frequency is increased or decreased away from resonance. On the other hand, the parallel 
</p>
<p>resonant converter is capable of both step-up and step-down of voltage levels, depending on the switch-
</p>
<p>ing frequency and the effective tank Q-factor. The exact steady-state solutions of the ideal series and par-
</p>
<p>allel resonant de--de converters are stated in Section 19.5. 
</p>
<p>Zero-voltage switching and zero-current switching mechanisms of the series resonant converter 
</p>
<p>are described in Section 19.3. In Section 19.4, the dependence of resonant inverter properties on load is 
</p>
<p>examined. A simple frequency-domain approach explains why some resonant converters, over certain 
</p>
<p>ranges of operating points, exhibit large circulating tank currents and low efficiency. The boundaries of 
zero-voltage switching and zero-current switching are also determined. 
</p>
<p>It is also possible to modify the PWM converters of the previous chapters, so that zero-current 
</p>
<p>or zero-voltage switching is obtained. A number of diverse approaches are known that lead to soft switch-
</p>
<p>ing in buck, boost, forward, flyback, bridge, and other topologies. Chapter 20 summarizes some of the 
</p>
<p>well-known schemes, including resonant switches, quasi-square wave switches, the full-bridge zero-volt-
</p>
<p>age transition converter, and zero-voltage switching in forward and flyback converters containing active-
</p>
<p>clamp snubbers. A detailed description of soft-switching mechanisms of diodes, MOSFETs, and IGBTs 
</p>
<p>is also given. 
</p>
<p>19.1 SINUSOIDAL ANALYSIS OF RESONANT CONVERTERS 
</p>
<p>Consider the class of resonant converters that contain a controlled switch network Ns that drives a linear 
</p>
<p>resonant tank network N r&middot; In a resonant inverter, the tank network drives a resistive load as in Fig. 19 .1. 
The reactive component of the load impedance, if any, can be effectively incorporated into the tank net-
</p>
<p>work. In the case of a resonant de--de converter, the resonant tank network is connected to an uncon-
</p>
<p>trolled rectifier network NR, filter network NF and load R, as illustrated in Fig. 19.4. Many well-known 
converters can be represented in this form, including the series, parallel, and LCC topologies. </p>
<p/>
</div>
<div class="page"><p/>
<p>710 Resonant Conversion 
</p>
<p>In the most common modes of operation, the controlled switch network produces a square wave 
</p>
<p>voltage output v,(t) whose frequency f, is close to the tank network resonant frequency f 0&bull; In response, 
the tank network rings with approximately sinusoidal waveforms of frequency fs. In the case where the 
resonant tank responds primarily to the fundamental component!, of the switch waveform v,(t), and has 
</p>
<p>negligible response at the harmonic frequencies nfs, n = 3, 5, 7, ... , then the tank waveforms are well 
</p>
<p>approximated by their fundamental components. As shown in Fig. 19.2, this is indeed the case when the 
</p>
<p>tank network contains a high-Q resonance at or near the switching frequency, and a low-pass characteris-
</p>
<p>tic at higher frequencies. Hence, let us neglect harmonics, and compute the relationships between the 
</p>
<p>fundamental components of the tank terminal waveforms vs(t), i5(t), iR(t), and vR(t). 
</p>
<p>19.1.1 Controlled Switch Network Model 
</p>
<p>If the switch network of Fig. 19.6 is controlled to produce a 
</p>
<p>square wave of frequency fs = wJ2n as in Fig. 19.7, then its out-
put voltage waveform v,(t) can be expressed in the Fourier series 
</p>
<p>4Vg "" 1 
v,(t) = 1t ..:.... 11 sin (nw,t) (19.1) 
</p>
<p>n =I, 3, 5, ... 
</p>
<p>The fundamental component is 
</p>
<p>4Vg . . 
v,/t) = 1t sm (wJ) = V,1 sm (w,t) 
</p>
<p>(19.2) 
</p>
<p>+ 
</p>
<p>vs(t) 
</p>
<p>L...--+-1---~ 
: ................................... J 
</p>
<p>Switch network 
</p>
<p>Fig. 19.6 An ideal switch network. 
which has a peak amplitude of (4/rr) times the de input voltage 
</p>
<p>Vg, and is in phase with the original square wave v,(t). Hence, the switch network output terminal is mod-
</p>
<p>eled as a sinusoidal voltage generator, V51 (t). 
</p>
<p>It is also of interest to model the converter de input port. This requires computation of the de 
</p>
<p>component !8 of the switch input current igCt). The switch input current igCt) is equal to the output current 
</p>
<p>is(t) when the switches are in position 1, and its inverse- i,(t) when the switches are in position 2. Under 
</p>
<p>the conditions described above, the tank rings sinusoidally and i,(t) is well approximated by a sinusoid of 
</p>
<p>some peak amplitude /51 and phase &lt;ps: 
</p>
<p>Fig. 19.7 Switch network output voltage v,(t) and its 
</p>
<p>fundamental component v,1(t). 
</p>
<p>(19.3) 
</p>
<p>Fundamental component 
-1---t:;...._--T----, V s I (t) </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 19.8 Switch network waveforms i,(t) and i8(t). 
</p>
<p>+ 
</p>
<p>2!,1 
1t cos (&lt;p,) 
</p>
<p>19.1 Sinusoidal Analysis of Resonant Converters 711 
</p>
<p>v,1(t) = 
</p>
<p>4V8 &bull; 
1t sm (ffi,t) 
</p>
<p>.. 
........ . .. &middot;&middot;&middot;&middot; 
</p>
<p>Fig. 19.9 An equivalent circuit for the switch network, which models the fundamental component of the output 
</p>
<p>voltage waveform and the de component of the input current waveform. 
</p>
<p>The input current waveform is shown in Fig. 19.8. 
</p>
<p>The de component, or average value, of the input current can be found by averaging igCt) over 
</p>
<p>one half switching period: 
</p>
<p>(19.4) 
</p>
<p>Thus, the de component of the converter input current depends directly on the peak amplitude of the tank 
</p>
<p>input current Is! and on the cosine of its phase shift &lt;p5 &bull; 
</p>
<p>An equivalent circuit for the switch is given in Fig. 19.9. This circuit models the basic energy 
</p>
<p>conversion properties of the switch: the de power supplied by the voltage source Vg is converted into ac 
</p>
<p>power at the switch output. Note that the de power at the source is the product of V8 and the de compo-
</p>
<p>nent of igCt), and the ac power at the switch is the average of v/t)i,(t). Furthermore, if the harmonics of 
</p>
<p>v/t) are negligible, then the switch output voltage can be represented by its fundamental component, a 
</p>
<p>sinusoid v,1(t) of peak amplitude 4V/n. It can be verified that the switch network de input power and 
fundamental average output power, predicted by Fig. 19.9, are equal. 
</p>
<p>19.1.2 Modeling the Rectifier and Capacitive Filter Networks 
</p>
<p>In the series resonant de-de converter, the output rectifier is driven by the nearly sinusoidal tank output 
</p>
<p>current iR(t). A large capacitor C F is placed at the de output, so that the output voltage v(t) contains negli-
</p>
<p>gible harmonics of the switching frequency fs, as shown in Fig. 19.10. Hence, we can make the small-rip-</p>
<p/>
</div>
<div class="page"><p/>
<p>712 Resonant Conversion 
</p>
<p>fi!!" 19.10 Uncontrqlled rectifier with can!lcitiv~ 
filter network, as in the series resonant converter. 
</p>
<p>iR(t) r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;i I iR(t) I r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;i i(t) 
</p>
<p>+ &bull; ' A 1....---....-1 &bull; ....;....-.,-1-+---+-,1 +.I 
</p>
<p>,~,) iM lTT 
! ................ 1!../i ............ : L &bull;&bull;&bull;&bull; ~f ..... ! 
Rectifier network Low-pass 
</p>
<p>filter 
network 
</p>
<p>de 
load 
</p>
<p>pie approximation as usual: v(t)"' V, i(t) "'I. The diode rectifiers switch when iR(t) passes through zero, as 
</p>
<p>shown in Fig. 19.11. The rectifier input voltage vR(t) is essentially a square wave, equal to+ v(t) when 
</p>
<p>iR(t) is positive and- v(t) when iR(t) is negative. Note that vR(t) is in phase with iR(t). 
</p>
<p>If the tank output current iR(t) is a sinusoid with peak amplitude IR1 and phase shift cpR: 
</p>
<p>(19.5) 
</p>
<p>then the rectifier input voltage may be expressed in the Fourier series 
</p>
<p>(19.6) 
</p>
<p>where cpR is the phase shift of iR(t), with respect to v,(t). This voltage waveform is impressed on the out-
</p>
<p>put port of the resonant tank network. Again, if the tank network responds primarily to the fundamental 
</p>
<p>component (j.) of vR(t), and has negligible response at the harmonic frequencies nfs, n = 3, 5, 7 ... , then 
the harmonics of vR(t) can be ignored. The voltage waveform vR(t) is then well approximated by its fun-
</p>
<p>damental component vR1(t): 
</p>
<p>(19.7) 
</p>
<p>The fundamental voltage component vR!(t) has a peak value of (4/n:) times the de output voltage V, and is 
</p>
<p>in phase with the current iit). 
</p>
<p>(a) (b) 
</p>
<p>v 
</p>
<p>+----+j 
(jlR (jlR 
</p>
<p>R=j__2 R 
e 1t 
</p>
<p>Fig. 19.11 Rectifier network input terminal waveforms: (a) actual waveforms vR(t) and iR(t), (b) fundamental 
components vRI(t) and iRI(t). </p>
<p/>
</div>
<div class="page"><p/>
<p>19.1 Sinusoidal Analysis of Resonant Converters 713 
</p>
<p>Fig. 19.12 An equivalent circuit for the rectifier and fil-
</p>
<p>ter network, which models the fundamental components 
</p>
<p>of the rectifier ac input waveforms and the de components 
</p>
<p>of the load waveforms. The rectifier presents an effective 
</p>
<p>resistive load Re to the tank network. 
</p>
<p>+ 
</p>
<p>Re=~R 
n 
</p>
<p>2 
1f IR! v R 
</p>
<p>The rectified tank output current, I iR(t) I, is filtered by capacitor C F. Since no de current can 
pass through CF, the de component of I iR(t) I must be equal to the steady-state load current/. By equat-
ing de components we obtain: 
</p>
<p>(19.8) 
</p>
<p>Therefore, the load current and the tank output current amplitudes are directly related in steady state. 
</p>
<p>Since vRl(t), the fundamental component of vR(t), is in phase with iR(t), the rectifier presents an 
</p>
<p>effective resistive load Re to the tank circuit. The value of Re is equal to the ratio of vR1 (t) to iR(t). Divi-
</p>
<p>sion ofEq. (19.7) by Eq. (19.5), and elimination of IR 1 using Eq. (19.8) yields 
</p>
<p>With a resistive load R equal to VII, this equation reduces to 
</p>
<p>Re = ~ R = 0.8106R 
n 
</p>
<p>(19.9) 
</p>
<p>(19.10) 
</p>
<p>Thus, the tank network is damped by an effective load resistance Re equal to 81% of the actual load resis-
tance R. An equivalent circuit that models the rectifier network input port fundamental components and 
</p>
<p>output port de components is given in Fig. 19.12. 
</p>
<p>19.1.3 Resonant Tank Network 
</p>
<p>We have postulated that the effects of harmonics can be neglected, and we have consequently shown that 
</p>
<p>the bridge can be modeled as a fundamental voltage source v,it). In the case of a de-de converter, the 
</p>
<p>rectifier can be modeled using an effective resistor of value Re. We can now solve the resonant tank net-
</p>
<p>work by standard linear analysis. 
</p>
<p>As shown in Fig. 19.13, the tank circuit is a linear network with the following voltage transfer 
</p>
<p>function: 
</p>
<p>(19.11) </p>
<p/>
</div>
<div class="page"><p/>
<p>714 Resonant Conversion 
</p>
<p>Hence, the ratio VRI!Vs 1 of the peak magnitudes 
</p>
<p>ofvR1(t) and vs1(t) is given by: 
</p>
<p>VRI =II H(s) II . 
v.&lt;d S=JWs 
</p>
<p>(19.12) 
</p>
<p>In addition, iR(s) is given by: 
</p>
<p>(19.13) 
</p>
<p>So the peak magnitude of iR(t) is: 
</p>
<p>isl(t) 
</p>
<p>Z; 
vsl (t) -
</p>
<p>Transfer Junction 
H(s) ----------... 
</p>
<p>iRI(t) 
</p>
<p>+ 
</p>
<p>Resonant 
network VRI(t) Re 
</p>
<p>II H(s) II . J - s:JOJs V 
Rl- R, sl 
</p>
<p>(19.14) 
</p>
<p>Fig. 19.13 The linear tank network, excited by an 
</p>
<p>effective sinusoidal input source and driving an effec-
</p>
<p>tive resistive load. 
</p>
<p>Thus, the magnitude of the tank transfer function is found, with an effective resistive load. 
</p>
<p>19.1.4 Solution of Converter Voltage Conversion Ratio M = V!Vg 
</p>
<p>An equivalent circuit of a complete de--de resonant converter is depicted in Fig. 19.14. The voltage con-
</p>
<p>version ratio of the resonant converter can now be found: 
</p>
<p>Simplification by use ofEq. (19.10) yields: 
</p>
<p>Transfer Junction 
H(s) ----------... 
</p>
<p>is I (t) 
</p>
<p>Z; Resonant vg - network 
4Vg . 
1I sm (w,t) 
</p>
<p>iRI(t) 
</p>
<p>+ 
</p>
<p>vRI(t) Re 
</p>
<p>- 8 R --2 R 
e n 
</p>
<p>(19.15) 
</p>
<p>I 
</p>
<p>+ 
</p>
<p>2 
'ft'/RI v R 
</p>
<p>Fig. 19.14 Steady-state equivalent circuit that models the de and fundamental components of resonant converter 
</p>
<p>waveforms. </p>
<p/>
</div>
<div class="page"><p/>
<p>19.2 Examples 715 
</p>
<p>~ =II H(s) 11s=Jws (19.16) 
g 
</p>
<p>Equation (19.16) is the desired result. It states that the de conversion ratio of the resonant converter is 
</p>
<p>approximately the same as the ac transfer function of the resonant tank circuit, evaluated at the switching 
</p>
<p>frequency fs&middot; This intuitive result can be applied to converters with many different types of tank circuits. 
</p>
<p>However, it should be reemphasized that Eq. (19.16) is valid only if the response ofthe tank circuit to the 
</p>
<p>harmonics of vs(t) is negligible compared to the fundamental response, an assumption that is not always 
</p>
<p>justified. In addition, we have assumed that the switch network is controlled to produce a square wave 
</p>
<p>and that the rectifier network drives a capacitive-type filter network. Finally, the transfer function H(s) is 
</p>
<p>evaluated using the effective load resistance Regiven by Eq. (19.9). 
</p>
<p>19.2 EXAMPLES 
</p>
<p>19.2.1 Series Resonant DC-DC Converter Example 
</p>
<p>The series resonant converter with switching frequency control is shown in Fig. 19.4. Current-bidirec-
</p>
<p>tional two-quadrant switches are necessary. For this circuit, the tank network consists of a series L-C cir-
</p>
<p>cuit, and Fig. 19.14 can be redrawn as in Fig. 19.15. The transfer function H(s) is therefore: 
</p>
<p>where 
</p>
<p>H(s)=~= Re 
ZJs) R +sL+_j_ 
</p>
<p>e sC 
</p>
<p>( Q:wo) 
</p>
<p>Transfer function H(s) 
</p>
<p>-------------.. 
L c 
</p>
<p>Series tank network 
</p>
<p>+ 
</p>
<p>Fig. 19.15 Steady-state equivalent circuit of the series resonant converter. 
</p>
<p>- 8 R --2 R e n 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>(19.17) 
</p>
<p>I 
</p>
<p>R </p>
<p/>
</div>
<div class="page"><p/>
<p>716 Resonant Conversion 
</p>
<p>The magnitude of H(jws), which coincides with the converter de conversion ratio M = V/Vg, is 
</p>
<p>(19.18) 
</p>
<p>where 
</p>
<p>F=f/!0 (19 .19) 
</p>
<p>The Bode diagrams of Z;(s) and H(s) are constructed in Fig. 19.16, using the graphical construc-
</p>
<p>tion method of Chapter 8. The series resonant impedance Z;(s) is dominated by the capacitor Cat low 
</p>
<p>frequency, and by the inductor L at high frequency. At the resonant frequency f 0 , the impedances of the 
inductor and capacitor are equal in magnitude and opposite in phase; hence, they cancel. The series reso-
</p>
<p>nant impedance Z;(s) is equal to Re at f = !0 . 
The transfer function II H(jw) II 
</p>
<p>is constructed graphically, by division of 11 z; 11 
Re by the II Z; II asymptotes of Fig. 19.16. 
At resonance, one obtains II H II = R/Re 
= 1. At frequencies above or below the 
resonant frequency, II Z; II&gt; Re and hence 
II H II &lt; 1. So the conversion ratio M is 
less than or equal to 1. It can also be 
</p>
<p>seen that a decrease in the load resis-
</p>
<p>tance R, which increases the effective 
</p>
<p>quality factor Qe, causes a more peaked 
</p>
<p>response in the vicinity of resonance. 
</p>
<p>Exact characteristics of the series reso- 11 H 11 
</p>
<p>nant converter are plotted in Fig. 19.45. 
</p>
<p>Over what range of switching 
</p>
<p>frequencies is Eq. (19.18) accurate? The 
</p>
<p>response of the tank to the fundamental 
</p>
<p>component of v,(t) must be sufficiently 
</p>
<p>greater than the response to the harmon-
</p>
<p>ics of v,(t). This is certainly true for 
</p>
<p>operation above resonance because H(s) 
</p>
<p>contains a bandpass characteristic that 
</p>
<p>decreases with a single pole slope for fs 
&gt; f0 . For the same reason, Eq. (19.18) is Fig. 19.16 Construction of the Bode diagrams of Z;(s) and H(s) 
valid when the switching frequency is for the series resonant converter. 
below but near resonance. 
</p>
<p>However, for switching frequencies fs much less than the resonant frequency f 0 , the sinusoidal 
approximation breaks down completely because the tank responds more strongly to the harmonics of </p>
<p/>
</div>
<div class="page"><p/>
<p>19.2 Examples 717 
</p>
<p>~::;~~ ], __ it._____,__ _ _,____ __ voltage 
spectrum _ t + 
</p>
<p>Fig. 19.17 Excitation of the tank network 
</p>
<p>by the third harmonic of the switching fre-
</p>
<p>quency. 
</p>
<p>3fs Sfs f 
</p>
<p>Reso;::~ 1 A 
response . 
</p>
<p>~----------L--~------------
3fs Sfs f 
</p>
<p>Tank ], _ _____.___ 
current 
</p>
<p>spectrum 
</p>
<p>t 
fs 3fs Sf, f 
</p>
<p>v/f) than to its fundamental. For example, at!,.= f0/3, the third harmonic of v,(t) is equal tof0 and directly 
</p>
<p>excites the tank resonance. Some other type of analysis must be used to understand what happens at 
</p>
<p>these lower frequencies. Also, in the low-Q case, the approximation is less accurate because the filter 
</p>
<p>response is less peaked, and hence does not favor the fundamental component as strongly. As shown in a 
</p>
<p>later section, discontinuous conduction modes may then occur whose waveforms are highly nonsinusoi-
</p>
<p>dal. 
</p>
<p>19.2.2 Subharmonic Modes of the Series Resonant Converter 
</p>
<p>If the nth harmonic of the switch output waveform v,(t) is close to the resonant tank frequency, nf,- j 0 , 
</p>
<p>and if the tank effective quality factor Qe is sufficiently large, then as illustrated in Fig. 19.17, the tank 
</p>
<p>responds primarily to harmonic n. All other components of the tank waveforms can then be neglected, 
and it is a good approximation to replace v,(t) with its nth harmonic component: 
</p>
<p>4V8 &bull; 
v,(t) ~ v,,(t) = l'i'ft sm (nw,t) (19.20) 
</p>
<p>This expression differs from Eq. (19.2) because the amplitude is reduced by a factor of lin, and the fre-
</p>
<p>Fig. 19.18 The subharmonic modes of the series 
</p>
<p>resonant converter. These modes occur when the har-
</p>
<p>monics of the switching frequency excite the tank res-
</p>
<p>onance. 
</p>
<p>M 
</p>
<p>1 
3 
J 
5 </p>
<p/>
</div>
<div class="page"><p/>
<p>718 Resonant Conversion 
</p>
<p>quency is nfs rather thanfs. 
The arguments used to model the tank and rectifier/filter networks are unchanged from Section 
</p>
<p>19.1. The rectifier presents an effective resistive load to the tank, of value Re = 8R/n2&bull; In consequence, the 
</p>
<p>converter de conversion ratio is given by 
</p>
<p>V ~ H(jnw,) ~ 
M=v= n 
</p>
<p>g 
</p>
<p>(19.21) 
</p>
<p>This is a good approximation provided that nfs is close to f0 , and that Q. is sufficiently large. Typical 
characteristics are sketched in Fig. 19.18. 
</p>
<p>The series resonant converter is not generally designed to operate in a subharmonic mode, since 
</p>
<p>the fundamental modes yield greater output voltage and power, and hence higher efficiency. Nonetheless, 
</p>
<p>the system designer should be aware of their existence, because inadvertent operation in these modes can 
</p>
<p>lead to large signal instabilities. 
</p>
<p>19.2.3 Parallel Resonant DC-DC Converter Example 
</p>
<p>The parallel resonant de-de converter is diagrammed in Fig. 19.19. It differs from the series resonant 
</p>
<p>converter in two ways. First, the tank capacitor appears in parallel with the rectifier network rather than 
</p>
<p>in series: this causes the tank transfer function H(s) to have a different form. Second, the rectifier drives 
</p>
<p>an inductive-input low-pass filter. In consequence, the value of the effective resistance Re differs from 
</p>
<p>that of the rectifier with a capacitive filter. Nonetheless, sinusoidal approximations can be used to under-
</p>
<p>stand the operation of the parallel resonant converter. 
</p>
<p>As in the series resonant converter, the switch network is controlled to produce a square wave 
</p>
<p>vsCf). If the tank network responds primarily to the fundamental component of vs(t), then arguments iden-
</p>
<p>tical to those of Section 19.1 can be used to model the output fundamental components and input de 
</p>
<p>components of the switch waveforms. The resulting equivalent circuit is identical to Fig. 19.9. 
</p>
<p>The uncontrolled rectifier with inductive filter network can be described using the dual of the 
</p>
<p>arguments of Section 19.1.2. In the parallel resonant converter, the output rectifiers are driven by the 
</p>
<p>nearly sinusoidal tank capacitor voltage vR(t), and the diode rectifiers switch when vR(t) passes through 
</p>
<p>zero as in Fig. 19.20. If the filter inductor current ripple is small, then in steady-state the filter inductor 
</p>
<p>current is essentially equal to the de load current I. The rectifier input current iR(t) is therefore a square 
</p>
<p>wave of amplitude I, and is in phase with the tank capacitor voltage vR(t): 
</p>
<p>r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;1 i,(t) r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-1 iR(t) r-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;: &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; i(t) 
</p>
<p>+ 
</p>
<p>v(t) R 
</p>
<p>l ............. ~~---&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;.: L ............ l!..r. ............... : &middot;&middot;&middot;&middot;--------~r. ............... . 
Switch network Resonant tank network Rectifier network Low-pass filter de 
</p>
<p>network load 
</p>
<p>Fig. 19.19 Block diagram of the parallel resonant converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>19.2 Examples 719 
</p>
<p>(a) (b) 
</p>
<p>&lt;pR 
</p>
<p>Fig. 19.20 Rectifier network input terminal waveforms, for the parallel resonant converter: (a) actual waveforms 
</p>
<p>vR(t) and iR(t), (b) fundamental components vR1(t) and iR1(t). 
</p>
<p>where &lt;pR is the phase shift of vR(t). 
</p>
<p>The fundamental component of iit) is 
</p>
<p>(19.23) 
</p>
<p>Hence, the rectifier again presents an effective resis-
</p>
<p>tive load to the tank circuit, equal to 
</p>
<p>(19.24) 
</p>
<p>The ac components of the rectified tank capacitor 
</p>
<p>voltage I vR(t) I are removed by the output low pass 
filter. In steady state, the output voltage Vis equal to 
</p>
<p>the de component of I v R(t) I: 
</p>
<p>v =f. rr/2 VRll sin (W/- &lt;pR) I dt = ~ VRl (19.25) 
s Jo 
</p>
<p>(19.22) 
</p>
<p>I 
</p>
<p>+ + 
</p>
<p>v R 
</p>
<p>nz 
Re=--gR 
</p>
<p>Fig. 19.21 An equivalent circuit for the rectifier 
and inductive filter network of the parallel resonant 
</p>
<p>converter, which models the fundamental compo-
</p>
<p>nents of the rectifier ac input waveforms and the de 
</p>
<p>components of the load waveforms. 
</p>
<p>So the load voltage V and the tank capacitor voltage amplitude are directly related in steady state. Substi-
</p>
<p>tution of Eq. (19.25) and resistive load characteristics V = IR into Eq. (19.24) yields: 
</p>
<p>nz 
Re = 8 R = 1.2337R (19.26) 
</p>
<p>An equivalent circuit for the uncontrolled rectifier with inductive filter network is given in Fig. 
</p>
<p>19.21. This model is similar to the one used for the series resonant converter, Fig. 19.12, except that the 
</p>
<p>roles of the rectifier input voltage vR(t) and current iR(t) are interchanged, and the effective resistance Re 
</p>
<p>has a different value. The model for the complete converter is given in Fig. 19.22. 
</p>
<p>Solution of Fig. 19.22 yields the converter de conversion ratio: </p>
<p/>
</div>
<div class="page"><p/>
<p>720 Resonant Conversion 
</p>
<p>4V8 &bull; ---n- sm ( w,t) 
</p>
<p>Transfer function H(s) 
</p>
<p>----------... 
</p>
<p>L 
</p>
<p>c 
</p>
<p>Parallel tank network 
</p>
<p>I 
</p>
<p>+ + 
</p>
<p>v R 
</p>
<p>Fig. 19.22 Equivalent circuit for the parallel resonant converter, which models the fundamental components of the 
</p>
<p>tank waveforms, and the de components of the converter input current and output voltage. 
</p>
<p>(19.27) 
</p>
<p>where H(s) is the tank transfer function 
</p>
<p>H(s) = z;t) (19.28) 
</p>
<p>and 
</p>
<p>(19.29) 
</p>
<p>The Bode magnitude diagrams of H(s) and Z0 (s) are constructed in Fig. 19.23, using the graphi-
</p>
<p>cal construction method of Chapter 8. The impedance Z 0 (s) is the parallel combination of the impedances 
</p>
<p>of the tank inductor L, capacitor C, and effective load Re. The magnitude asymptote of the parallel com-
bination of these components, at a given frequency, is equal to the smallest of the individual asymptotes 
</p>
<p>ffiL, 1/ffiC, andRe. Hence, at low frequency where the inductor impedance dominates the parallel combi-
</p>
<p>nation, II Z0 (s) II = wL, while at high frequency the capacitor dominates and II Z0 (s) II = l!wC. At reso-
nance, the impedances of the inductor and capacitor are equal in magnitude but opposite in phase, so that 
</p>
<p>their effects cancel. The impedance II Z0 (s) II is then equal toRe: 
</p>
<p>II Z(s)ll = 1 =R o s:::: Jms 1 . 1 e 
...,--L + JWoC + -R 
]Wo e 
</p>
<p>(19.30) 
</p>
<p>with 
</p>
<p>The de conversion ratio is therefore </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 19.23 Construction of Bode diagrams 
</p>
<p>of Z;(s) and H(s) for the parallel resonant 
</p>
<p>converter. 
</p>
<p>where F = f/f0 &bull; 
</p>
<p>\IHII 
</p>
<p>At resonance, the conversion ratio is 
</p>
<p>19.3 Soft Switching 721 
</p>
<p>(19.31) 
</p>
<p>(19.32) 
</p>
<p>The actual peak value of M occurs at a switching frequency slightly below the resonant frequency, with 
</p>
<p>peak M slightly greater than Eq. (19.32). Provided that the load resistance R is greater than the tank char-
</p>
<p>acteristic impedance Re, the parallel resonant converter can produce conversion ratios both greater than 
</p>
<p>and less than one. In fact, the ideal parallel resonant converter can produce conversion ratios approaching 
</p>
<p>infinity, provided that the output current is limited to values less than V/R0 . Of course, losses limit the 
</p>
<p>maximum output voltage that can be produced by practical converters. 
</p>
<p>19.3 SOFT SWITCHING 
</p>
<p>As mentioned previously, the soft-switching phenomena known as zero-current switching (ZCS) and 
</p>
<p>zero-voltage switching (ZVS) can lead to reduced switching loss. When the turn-on and/or turn-off tran-</p>
<p/>
</div>
<div class="page"><p/>
<p>722 Resonant Conversion 
</p>
<p>+ 
</p>
<p>Fig. 19.24 A series resonant converter incorporating a full-bridge switch network. 
</p>
<p>sitions of a semiconductor switching device coincide with the zero crossings of the applied waveforms, 
</p>
<p>some of the switching loss mechanisms discussed in Section 4.3 are eliminated. In converters containing 
</p>
<p>MOSFETs and diodes, zero-voltage switching mitigates the switching loss otherwise caused by diode 
</p>
<p>recovered charge and semiconductor output capacitance. Zero-current switching can mitigate the switch-
</p>
<p>ing loss caused by current tailing in IGBTs and by stray inductances. Zero-current switching can also be 
</p>
<p>used for commutation of SCRs. In the majority of applications, where diode recovered charge and semi-
</p>
<p>conductor output capacitances are the dominant sources of PWM switching loss, zero-voltage switching 
</p>
<p>is preferred. 
</p>
<p>19.3.1 Operation of the Full Bridge Below 
</p>
<p>Resonance: Zero-Current Switching 
</p>
<p>When the series and parallel resonant inverters and 
</p>
<p>de-de converters are operated below resonance, the 
</p>
<p>zero-current switching phenomenon can occur, in 
</p>
<p>which the circuit causes the transistor current to go to 
</p>
<p>zero before the transistor is turned off. Let us consider 
</p>
<p>the operation of the full bridge switch network of the 
</p>
<p>series resonant converter in detail. 
</p>
<p>A full bridge circuit, realized using power 
</p>
<p>MOSFETs and antiparallel diodes, is shown in Fig. 
</p>
<p>19.24. The switch output voltage v,(t), and its funda-
</p>
<p>mental component vs1(t), as well as the approximately 
</p>
<p>sinusoidal tank current waveform i.(t), are illustrated 
in Fig. 19.25. At frequencies less than the tank reso-
</p>
<p>nant frequency, the input impedance of the series reso-
</p>
<p>nant tank network Z;(s) is dominated by the tank 
</p>
<p>capacitor impedance [see Fig. 19.16(a)]. Hence, the 
</p>
<p>tank presents an effective capacitive load to the 
</p>
<p>bridge, and switch current i/t) leads the switch volt-
</p>
<p>age fundamental component vs1(t), as shown in Fig. 
</p>
<p>19.25. In consequence, the zero crossing of the cur-
</p>
<p>rent waveform i/t) occurs before the zero crossing of 
</p>
<p>the voltage vs(t). 
</p>
<p>Conducting 
devices: 
</p>
<p>Q, 
</p>
<p>Q, 
</p>
<p>"Hard" "Soft" "Hard" 
turn-on of tum-off of turn-on of 
</p>
<p>Ql' Q. Ql, Q. Q,, Q, 
</p>
<p>p, 
!D, 
t 
</p>
<p>"Soft" 
tum-off of 
</p>
<p>Q,,QJ 
</p>
<p>Fig. 19.25 Switch network output waveforms for 
the series resonant converter, operated below reso-
</p>
<p>nance in the k = 1 CCM. Zero-current switching 
aids the transistor turn-off process. </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 19.26 Transistor Q1 voltage and current wave-
forms, for operation of the series resonant converter id,(t) 
</p>
<p>below resonance in the k = 1 CCM. 
</p>
<p>Conducting 
devices: 
</p>
<p>t 
"Hard" turn-on 
</p>
<p>ofQI' Q4 
</p>
<p>19.3 Soft Switching 723 
</p>
<p>t~ i 
iDI 
!D4 
</p>
<p>t 
"Soft" turn-off 
</p>
<p>ofQ 1, Q4 
</p>
<p>For the half cycle 0 &lt; t &lt; TJ2, the switch voltage vs is equal to+ Vg. For 0 &lt; t &lt; t~, the current 
i,(t) is positive and transistors Q1 and Q4 conduct. Diodes D 1 and D4 conduct when i/t) is negative, over 
the interval t~ &lt; t &lt; T,f2. The situation during T,/2 &lt; t &lt; Ts is symmetrical. Since is1 (t) leads vs1 (t), the 
transistors conduct before their respective antiparallel diodes. Note that, at any given time during the D1 
conduction interval t~ &lt; t &lt; TJ2, transistor Q1 can be turned off without incurring switching loss. The 
circuit naturally causes the transistor turn-off transition to be lossless, and long turn-off switching times 
</p>
<p>can be tolerated. 
</p>
<p>In general, zero current switching can occur when the resonant tank presents an effective capac-
</p>
<p>itive load to the switches, so that the switch current zero crossings occur before the switch voltage zero 
</p>
<p>crossings. In the bridge configuration, zero current switching is characterized by the half-bridge conduc-
</p>
<p>tion sequence Q1-D1-Q2-D2, such that the transistors are turned off while their respective antiparallel 
</p>
<p>diodes conduct. It is possible, if desired, to replace the transistors with naturally commutated thyristors 
whenever the zero-current-switching property occurs at the turn-off transition. 
</p>
<p>The transistor turn-on transition in Fig. 19.26 is similar to that of a PWM switch: it is hard-
</p>
<p>switched and is not lossless. During the turn-on transition of Q1, diode D2 must turn off. Neither the tran-
</p>
<p>sistor current nor the transistor voltage is zero, Q1 passes through a period of high instantaneous power 
dissipation, and switching loss occurs. As in the PWM case, the reverse recovery current of diode D2 
flows through Q1&bull; This current spike can be the largest component of switching loss. In addition, the 
energy stored in the drain-to-source capacitances of Q1 and Q2 and in the depletion layer capacitance of 
D 1 is lost when Q1 turns on. These turn-on transition switching loss mechanisms can be a major disad-
vantage of zero-current-switching schemes. Since zero-current switching does not address the switching 
</p>
<p>loss mechanisms that dominate in MOSFET converters, improvements in efficiency are typically not 
</p>
<p>observed. 
</p>
<p>19.3.2 Operation of the Full Bridge Above Resonance: Zero-Voltage Switching 
</p>
<p>When the series resonant converter is operated above resonance, the zero-voltage switching phenomenon 
</p>
<p>can occur, in which the circuit causes the transistor voltage to become zero before the controller turns the </p>
<p/>
</div>
<div class="page"><p/>
<p>724 Resonant Conversion 
</p>
<p>Fig. 19.27 Switch network output waveforms for the 
</p>
<p>series resonant converter, operated above resonance in the 
</p>
<p>continuous conduction mode. Zero-voltage switching aids 
</p>
<p>the transistor tum-on process. 
</p>
<p>Conducting D1 
devices: D4 
</p>
<p>t 
"Soft" 
</p>
<p>turn-on of 
</p>
<p>Ql' Q4 
</p>
<p>I 
"Hard" "Soft" "Hard" 
</p>
<p>tum-off of turn-on of tum-off of 
</p>
<p>Ql' Q4 Q2' Q3 Q2' Q3 
</p>
<p>transistor on. With a minor circuit modification, the transistor tum-off transitions can also be caused to 
</p>
<p>occur at zero voltage. This process can lead to significant reductions in the switching losses of converters 
</p>
<p>based on MOSFETs and diodes. 
</p>
<p>For the full bridge circuit of Fig. 19.24, the switch output voltage v/(), and its fundamental 
</p>
<p>component vs1(t), as well as the approximately sinusoidal tank current waveform i,(t), are plotted in Fig. 
</p>
<p>19.27. At frequencies greater than the tank resonant frequency, the input impedance of the tank network 
</p>
<p>Z;(s) is dominated by the tank inductor impedance. Hence, the tank presents an effective inductive load to 
</p>
<p>the bridge, and the switch current i,.(t) lags the switch voltage fundamental component vs1(t), as shown in 
</p>
<p>Fig. 19.27. In consequence, the zero crossing of the voltage waveform v,.(t) occurs before the current 
</p>
<p>waveform is(t). 
</p>
<p>For the half cycle 0 &lt; t &lt; TJ2, the switch voltage vs(t) is equal to+ V8 . For 0 &lt; t &lt; ta, the current 
is(t) is negative and diodes D 1 and D4 conduct. Transistors Q1 and Q4 conduct when i,(t) is positive, over 
</p>
<p>the interval ta &lt; t &lt; TJ2. The waveforms during TJ2 &lt; t &lt; Ts are symmetrical. Since the zero crossing of 
v,.(t) leads the zero crossing of i,.(t), the transistors conduct after their respective anti parallel diodes. Note 
</p>
<p>that, at any given time during the D1 conduction interval 0 &lt; t &lt; ta, transistor Q1 can be turned on without 
incurring switching loss. The circuit naturally causes the transistor tum-on transition to be lossless, and 
</p>
<p>long tum-on switching times can be tolerated. A particularly significant implication of this is that the 
</p>
<p>switching loss associated with reverse recovery of the antiparallel diodes is avoided. Relatively slow 
</p>
<p>diodes, such as the MOSFET body diodes, can be employed for realization of diodes D 1 to D4 . In addi-
</p>
<p>tion, the output capacitances of transistors Q1 to Q4 and diodes D1 to D4 do not lead to switching loss. 
</p>
<p>In general, zero-voltage switching can occur when the resonant tank presents an effective induc-
</p>
<p>tive load to the switches, and hence the switch voltage zero crossings occur before the switch current 
</p>
<p>zero crossings. In the bridge configuration, zero-voltage switching is characterized by the half-bridge 
</p>
<p>conduction sequence D 1-Q1-D2-Q2 , such that the transistors are turned on while their respective anti par-</p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 19.28 Transistor Q1 voltage and current wave-
forms, for operation of the series resonant converter 
above resonance in the k = 0 CCM. 
</p>
<p>Ita 
Conducting D 1 j 
</p>
<p>devices: v4 ! 
</p>
<p>t 
</p>
<p>19.3 Soft Switching 725 
</p>
<p>"Soft" "Hard" 
tum-on of tum-off of 
</p>
<p>Ql' Q4 Ql' Q4 
</p>
<p>allel diodes conduct. Since the transistor voltage is zero during the entire tum on transition, switching 
</p>
<p>loss due to slow tum-on times or due to energy storage in any of the device capacitances does not occur 
</p>
<p>at tum-on. 
</p>
<p>The transistor tum-off transition in Fig. 19.28 is similar to that of a PWM switch. In converters 
</p>
<p>that employ IGBTs or other minority-carrier devices, significant switching loss may occur at the tum-off 
transitions. The current tailing phenomenon causes Q1 to pass through a period of high instantaneous 
power dissipation, and switching loss occurs. 
</p>
<p>To assist the transistor tum off process, small capacitors C 1eg may be introduced into the legs of 
</p>
<p>the bridge, as demonstrated in Fig. 19.29. In a converter employing MOSFETs, the device output capac-
</p>
<p>itances are sufficient for this purpose, with no need for external discrete capacitors. A delay is also intro-
duced into the gate drive signals, so that there is a short commutation interval when all four transistors 
are off. During the normal Q1, D1, Q2, and D2 conduction intervals, the leg capacitors appear in parallel 
with the semiconductor switches, and have no effect on the converter operation. However, these capaci-
</p>
<p>tors introduce commutation intervals at transistor tum-off. When Q1 is turned off, the tank current 
i8 (T/2) flows through the switch capacitances Cleg instead of Q1, and the voltage across Q1 and C 1eg 
increases. Eventually, the voltage across Q1 reaches Vg; diode D2 then becomes forward-biased. If the 
MOSFET tum-off time is sufficiently fast, then the MOSFET is switched fully off before the drain volt-
age rises significantly above zero, and negligible tum-off switching loss is incurred. The energy stored in 
the device capacitances, that is, in Cteg' is transferred to the tank inductor. The fact that none of the semi-
</p>
<p>conductor device capacitances or stored charges lead to switching loss is the major advantage of zero-
</p>
<p>voltage switching, and is the most common motivation for its use. MOSFET converters can typically be 
</p>
<p>operated in this manner, using only the internal drain-to-source capacitances. However, other devices 
such as IGBTs typically require substantial external capacitances to reduce the losses incurred during the 
IGBT tum-off transitions. 
</p>
<p>An additional advantage of zero-voltage switching is the reduction of EMI associated with 
</p>
<p>device capacitances. In conventional PWM converters and also, to some extent, in zero-current switching 
</p>
<p>converters, significant high-frequency ringing and current spikes are generated by the rapid charging and 
</p>
<p>discharging of the semiconductor device capacitances during the tum-on and/or tum-off transitions. </p>
<p/>
</div>
<div class="page"><p/>
<p>726 Resonant Conversion 
</p>
<p>(a) 
</p>
<p>+ 
</p>
<p>Fig. 19.29 Introduction of small capacitors C1eg' 
</p>
<p>which reduce the turn-off-transition switching loss 
</p>
<p>when the series resonant converter is operated above 
</p>
<p>resonance: (a) bridge circuit, (b) transistor voltage 
</p>
<p>waveform. 
</p>
<p>+ 
</p>
<p>V dsi (t) 
</p>
<p>(b) 
</p>
<p>L 
</p>
<p>to remainder 
of converter 
</p>
<p>Ringing is conspicuously absent from the waveforms of converters in which all semiconductor devices 
</p>
<p>switch at zero voltage; these converters inherently do not generate this type of EMI. 
</p>
<p>19.4 LOAD-DEPENDENT PROPERTIES 
OF RESONANT CONVERTERS 
</p>
<p>The properties of the CCM PWM converters studied in previous chapters are largely unaffected by the 
</p>
<p>load current. In consequence, these converters exhibit several desirable properties that are often taken for 
</p>
<p>granted. The transistor current is proportional to the load current; hence conduction losses become small 
</p>
<p>at light load, leading to good light-load efficiency. Also, the output impedance is low, and hence the de 
</p>
<p>output voltage does not significantly depend on the load i-v characteristic (at least, in CCM). Unfortu-
</p>
<p>nately, these good properties are not necessarily shared by resonant converters. Of central importance in 
</p>
<p>design of a resonant converter is the selection of the resonant tank topology and element values, so that 
</p>
<p>the transistor conduction losses at light load are minimized, so that zero-voltage switching is obtained 
</p>
<p>over a wide range of load currents (preferably, for all anticipated loads, but at least at full and intermedi-
</p>
<p>ate load powers), and so that the converter dynamic range is compatible with the load i-v characteristic. 
</p>
<p>These design issues are addressed in this section. 
</p>
<p>The conduction loss caused by circulating tank currents is well-recognized as a problem in res-
</p>
<p>onant converter design. These currents are independent of, or only weakly dependent on, the load cur-
</p>
<p>rent, and lead to poor efficiency at light load. In Fig. 19.30, the switch current i/s) is equal to vs(s)/Z;(s). 
If we want the switch current to track the load current, then at the switching frequency II Z; II should be 
dominated by, or at least strongly influenced by, the load resistance R. Unfortunately, this is often not 
</p>
<p>consistent with the requirement for zero-voltage switching, in which Z; is dominated by a tank inductor. </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 19.30 Resonant inverter model. 
</p>
<p>19.4 Load-Dependent Properties of Resonant Converters 727 
</p>
<p>Transfer function 
H(s) 
</p>
<p>~ 
i,(t) i(t) 
</p>
<p>Resonant 
network + 
</p>
<p>Z; zo v(t) - -Purely reactive 
Effective 
resistive 
load 
R 
</p>
<p>To design a resonant converter that exhibits good properties, the engineer must develop physical insight 
</p>
<p>into how the load resistance R affects the tank input impedance and output voltage. 
</p>
<p>In this section, the inverter output characteristics, zero-voltage switching boundary, and the 
</p>
<p>dependence of transistor current on load resistance, are related to the properties of the tank network 
</p>
<p>under the extreme conditions of an open-circuited or short-circuited load. The undamped tank network 
</p>
<p>responses are easily plotted, and the insight needed to optimize the tank network design can be gained 
</p>
<p>quickly. 
</p>
<p>19.4.1 Inverter Output Characteristics 
</p>
<p>Let us first investigate how the magnitude of the inverter output voltage II v II depends on the load current 
magnitude II i 11. Consider the resonant inverter system of Fig. 19.30. Let Hjs) be the open-circuit 
(R --&gt; oo) transfer function of the tank network: 
</p>
<p>(19.33) 
</p>
<p>and let Z00(s) be the output impedance, determined when the source vs1(s) is short-circuited. Then we can 
</p>
<p>model the output port of the tank network using the Thevenin-equivalent circuit of Fig. 19.31. Solution 
</p>
<p>of this circuit using the voltage divider formula leads to 
</p>
<p>(19.34) 
</p>
<p>At a given angular switching frequency ffis = 2nfs, the phasor representing the magnitude and phase of 
the ac output voltage is found by letting s = jffi,: 
</p>
<p>(19.35) 
</p>
<p>The magnitude can be found by noting that 
</p>
<p>(19.36) 
</p>
<p>where v*(jffis) is the complex conjugate of v(jffi). Substitution of Eq. (19.35) into Eq. (19.36) leads to </p>
<p/>
</div>
<div class="page"><p/>
<p>728 Resonant Conversion 
</p>
<p>,-------------------------------------------~----_-----+&middot;1 _ _,...., 
</p>
<p>[ + 
</p>
<p>I Hoovsl I V 
I .:i 
I 
' 'j -
</p>
<p>! 
</p>
<p>R 
</p>
<p>! ________________ T_~l_!-~_l_!_f!_0Y__r:_:_~---------i 
Fig. 19.31 Thevenin-equivalent circuit that models the output port of the tank network. 
</p>
<p>(19.37) 
</p>
<p>This result can be further simplified with the assumption that the tank network contains only purely reac-
</p>
<p>tive elements, i.e., that any losses or other resistive elements within the tank network have negligible 
</p>
<p>effect. Then the output impedance Z00(joos), as well as all other driving-point impedances of the tank net-
</p>
<p>work, are purely imaginary quantities. This implies that the complex conjugate Z: 00(joos) is given by 
</p>
<p>(19.38) 
</p>
<p>Substitution of Eq. (19.38) into Eq. (19.37) and simplification leads to 
</p>
<p>(19.39) 
</p>
<p>with 
</p>
<p>II v(}w,) II 
R=---
</p>
<p>11 i(Jw,) II 
</p>
<p>(19.40) 
</p>
<p>Substitution of Eq. (19.40) into Eq. (19.39) and rearrangement of terms yields 
</p>
<p>(19.41) 
</p>
<p>Hence, at a given frequency, the inverter output characteristic, that is, the relationship between II v(Joo,) II 
and II i(Joo,) II, is elliptical. Equation (19.41) can be further rearranged, into the form </p>
<p/>
</div>
<div class="page"><p/>
<p>19.4 Load-Dependent Properties of Resonant Converters 729 
</p>
<p>II iII 
Inverter output 
characteristic 
</p>
<p>Fig. 19.32 Elliptical output I,c 
characteristics of resonant ,f2 
inverters. A resistive matched 
load is also illustrated. 
</p>
<p>where the open-circuit voltage Voc and short-circuit current Isc are given by 
</p>
<p>V oc = II H =(jm,) 1111 v ,(jm) II 
</p>
<p>1 Jl H =(jw,) 1111 v,(jw,) ~ = Voc 
sc II 2 aoUW,) II II 2 ao(jm,) II 
</p>
<p>(19.43) 
</p>
<p>These inverter output characteristics are constructed in Fig. 19.32. This characteristic describes how, at a 
</p>
<p>given switching frequency, the ac output voltage magnitude varies as the circuit is loaded. The equilib-
</p>
<p>rium output voltage is given by the intersection of this elliptical characteristic with the load i-v character-
</p>
<p>istic. For example, Fig. 19.32 also illustrates a superimposed resistive load line having slope 1/R, in the 
</p>
<p>special case where R = II Z00(jm)ll. This value of R corresponds to matched load operation, in which the 
converter output power is maximized. It can be shown that the operating point is then given by 
</p>
<p>II v(jwJII 2 = h 
II i(jw,) 11 2 =A 
</p>
<p>(19.44) 
</p>
<p>Note that Fig. 19.32 can also be applied to the output i-v characteristics of resonant de-de converters, 
</p>
<p>since the output rectifier then loads the tank with an effective resistive load Re. 
</p>
<p>19.4.2 Dependence of Transistor Current on Load 
</p>
<p>The transistors must conduct the current appearing at the input port of the tank network, i,(t). This cur-
</p>
<p>rent is determined by the tank network input impedance Z;(jws): </p>
<p/>
</div>
<div class="page"><p/>
<p>730 Resonant Conversion 
</p>
<p>(a) L (b) 
</p>
<p>Fig. 19.33 Tank network, parallel resonant converter example: (a) tank circuit, (b) Bode plot of input impedance 
magnitude II Z; II for the limiting cases R -&gt; 0 and R -+ oo. 
</p>
<p>i ( &middot;w)- v,/}W,) 
sl J s - z .( &middot;w ) 
</p>
<p>' J s 
</p>
<p>(19.45) 
</p>
<p>As described previously, obtaining good light-load efficiency requires that II Z;(jw,.) II increase as the load 
resistance R increases. To understand how II Z;(Jws) II depends on R, let us sketch II Z;(Jws) II in the 
extreme cases of an open-circuited (R--+ oo) and short-circuited (R--+ 0) load: 
</p>
<p>Z;o(Jw,) = Z;(Jw,) IR-&gt;O 
</p>
<p>Z;=(jw) = Z;(jw,) IR--+= 
(19.46) 
</p>
<p>For example, consider the parallel resonant converter of Figs. 19.19 to 19.23. The Bode dia-
</p>
<p>grams of the impedances II ZiO(jws) II and II Zi=(jw,.) II are constructed in Fig. 19.33. Z;o(s) is found with 
the load R shorted, and is equal to the inductor impedance sL. Z;=(s), found with the load R open-cir-
</p>
<p>cuited, is given by the series combination (sL + 1/sC). It can be seen in Fig. 19.33 that the impedance 
magnitudes II Z;0CJws) II and II Z;=(Jw,.) II intersect at frequency fm. If the switching frequency is chosen 
such that..t; &lt;fm, then II Zi=(jW8 ) II &gt; II ZiO(Jw,) 11. The converter then exhibits the desirable characteristic 
that the no-load switch current magnitude II v,(Jw,.) II I II Z;=CJw,.) II is smaller than the switch current 
under short-circuit conditions, II v,(Jws) II I II Z;0CJws) If. In fact, the short-circuit switch current is limited 
by the impedance of the tank inductor, while the open-circuit switch current is determined primarily by 
</p>
<p>the impedance of the tank capacitor. 
</p>
<p>If the switching frequency is chosen such that..t; &gt; fm, then II Z;=(Jw,.) II &lt; II Z;0(Jw,.) If. The no-
load switch current is then greater in magnitude than the switch current when the load is short-circuited! 
</p>
<p>When the load current is reduced or removed, the transistors will continue to conduct large currents and 
</p>
<p>generate high conduction losses. This causes the efficiency at light load to be poor. It can be concluded 
</p>
<p>that, to obtain good light-load efficiency in the parallel resonant converter, one should choose fs suffi-
ciently less than fm&middot; Unfortunately, this requires operation below resonance, leading to reduced output 
</p>
<p>voltage dynamic range and a tendency to lose the zero-voltage switching property. 
</p>
<p>A remaining question is how II Z;CJws) II behaves for intermediate values of load between the 
open-circuit and short-circuit conditions. The answer is given by Theorem 1 below: II Z;CJW8 ) II varies 
monotonically with R, and therefore is bounded by II ZiO(jw,) II and II Z;=CJw,.) If. Hence, the Bode plots of </p>
<p/>
</div>
<div class="page"><p/>
<p>19.4 Load-Dependent Properties of Resonant Converters 731 
</p>
<p>Fig. 19.34 Series, parallel, 
</p>
<p>and LCC resonant tank net-
works, and their input imped-
</p>
<p>ances Z;o and Z1=. 
</p>
<p>Parallel 
L 
</p>
<p>~~ 
</p>
<p>LCC 
</p>
<p>iuz,_ll 
</p>
<p>f 
</p>
<p>IIZ,oll-
</p>
<p>f 
</p>
<p>the limiting cases II Zi0(jwJ II and II Zi=(jws) II provide a correct qualitative understanding of the behavior 
of II Zi II for all R. The theorem is valid for loss less tank networks. 
</p>
<p>Theorem 1: If the tank network is purely reactive, then its input impedance II Zi II is a monotonic 
function of the load resistance R. 
</p>
<p>This theorem is proven by use of Middlebrook's Extra Element Theorem (see Appendix C). The tank 
</p>
<p>network input impedance Zi(s) can be expressed as a function of the load resistance Rand the tank net-
</p>
<p>work driving-point impedances, as follows: 
</p>
<p>(19.47) 
</p>
<p>where ZiO and Zi= are the resonant network input impedances, with the load short-circuited or open-cir-
</p>
<p>cuited, respectively, and Z00 and Zo= are the resonant network output impedances, with the source input 
</p>
<p>short-circuited or open-circuited, respectively. These terminal impedances are simple functions of the 
</p>
<p>tank elements, and their Bode diagrams are easily constructed. The input impedances of the series reso-</p>
<p/>
</div>
<div class="page"><p/>
<p>732 Resonant Conversion 
</p>
<p>nant, parallel resonant, and LCC inverters are listed in Fig. 19.34. Since these impedances do not depend 
</p>
<p>on the load, they are purely reactive, ideally have zero real parts [38], and their complex conjugates are 
</p>
<p>given by Z00* =- Z00 , Zo=* =- Zo=' etc. Again, recall that the magnitude of a complex impedance Z(jw) 
</p>
<p>can be expressed as the square root of Z(jw)z*(jw). Hence, the magnitude of Z;(s) is given by 
</p>
<p>(19.48) 
</p>
<p>where Z/ is the complex conjugate of Z;. 
</p>
<p>Next, let us differentiate Eq. (19.48) with respect toR: 
</p>
<p>(19.49) 
</p>
<p>The derivative has roots at (i) R = 0, (ii) R = =, and in the special case (iii) where II Zm II = II Zi= 11. Since 
the derivative is otherwise nonzero, the resonant network input impedance II Z; II is a monotonic function 
of R, over the range 0 &lt; R &lt; =. In special case (iii), II Z; II is independent of R. Therefore, Theorem 1 is 
proved. 
</p>
<p>An example is given in Figs. 19.36 and 19.35, for the LCC inverter. Figure 19.35 illustrates the 
</p>
<p>impedance asymptotes of the limiting cases II Z;o II and II Zi= 11. Variation of II Z; II between these limits, 
for finite nonzero R, is illustrated in Fig. 19.36. The open-circuit resonant frequency f= and the short-cir-
</p>
<p>cuit resonant frequency fo are given by 
</p>
<p>f'- 1 
10 - 2n/LC; 
</p>
<p>t = 1 
= 2n.j L C,IIC P 
</p>
<p>(19.50) 
</p>
<p>where Csll CP denotes inverse addition of Cs and CP: 
</p>
<p>(19.51) 
</p>
<p>For the LCC inverter, the impedance magnitudes II Z;o II and II Zi= II are equal at frequency fm, given by 
</p>
<p>(19.52) </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 19.35 Construction of 
</p>
<p>the quantities II Z;0 II and 
II zi= II' for the LCC inverter. 
</p>
<p>Fig. 19.36 Variation of tank 
</p>
<p>network input impedance 
</p>
<p>II Z; II with load resistance R, 
LCC inverter. As the load 
</p>
<p>resistance is increased, II Z; II 
changes monotonically from 
</p>
<p>II Z;o II to II Z;= 11. 
</p>
<p>liZ; II 
</p>
<p>liZ; II 
</p>
<p>-~ 
"'"-..:;r 
</p>
<p>19.4 Load-Dependent Properties of Resonant Converters 733 
</p>
<p>fo 
</p>
<p>--
</p>
<p>fr- 1 
o- 2n.jLC, 
</p>
<p>J&gt; l 
= 2nJLC,IICP 
</p>
<p>!, - 1 
'"- 2nJ LC,II2C P 
</p>
<p>f 
</p>
<p>f 
</p>
<p>If the switching frequency is chosen to be greater than fm, then II zi= II is less than II Z;o II- This implies 
that, as the load current is decreased, the transistor current will increase. Such a converter will have poor 
</p>
<p>efficiency at light load, and will exhibit significant circulating currents. If the switching frequency is cho-
</p>
<p>sen to be less thanfm, then the transistor current will increase with decrease with decreasing load current. 
</p>
<p>The short-circuit current is limited by II Z;o II, while the circulating currents under open-circuit conditions 
are determined by II Z;= 11. In general, iff&gt; fm, then the transistor current is greater than or equal to the 
short-circuit current for all R. The inequality is reversed whenf &lt;fm&middot; 
</p>
<p>The impedance magnitudes II Z;o II and II Zi= II are illustrated in Fig. 19.34 for the series, parallel, 
and LCC tank networks. In the case of the series tank network, II Zi= II= oo. In consequence, the no-load 
transistor current is zero, both above resonance and below resonance. Hence, the series resonant inverter 
</p>
<p>exhibits the desirable property that the transistor current is proportional to the load current. In addition, 
</p>
<p>when the load is short-circuited, the current magnitude is limited by the impedance of the series resonant 
</p>
<p>tank. For the parallel and LCC inverters, it is desirable to operate below the frequency fm&middot; 
</p>
<p>Thus, the dependence of the transistor current on load can be easily determined, using an intui-
</p>
<p>tive frequency-domain approach. </p>
<p/>
</div>
<div class="page"><p/>
<p>734 Resonant Conversion 
</p>
<p>19.4.3 Dependence of the ZVS/ZCS Boundary 
</p>
<p>on Load Resistance 
</p>
<p>It is also necessary to determine the critical load resistance R = Rcrit at the boundary between ZVS and 
</p>
<p>ZCS. This boundary can also be expressed as a function of the impedances Z;o and Z;=&middot; 
</p>
<p>As discussed in Section 19.3, zero-voltage switching occurs when the switch current i,.(t) lags 
</p>
<p>the switch voltage v,.(t). Zero-voltage switching occurs when i,(t) leads v,(t). This definition ignores the 
</p>
<p>effects of semiconductor output capacitances, and hence gives an approximate ZVS/ZCS boundary. The 
</p>
<p>phase between the switch current and switch voltage is again determined by the input impedance of the 
</p>
<p>tank network: 
</p>
<p>i ( &middot;w) = v,I(jw) 
st J s z.( &middot;w) 
</p>
<p>I j S 
</p>
<p>(19.53) 
</p>
<p>Hence, zero-voltage switching occurs when ZJjw,) is inductive in nature, zero-current switching occurs 
</p>
<p>when Z;()w,) is capacitive in nature, and the ZVS/ZCS boundary occurs where Z;(jw,) has zero phase. 
</p>
<p>It is instructive to again consider the limiting cases of a short-circuited and open-circuited load. 
</p>
<p>The Bode plots of ZiO(jws) and Zi=(jw,.) for an LCC inverter example are sketched in Fig. 19.37. Since, in 
</p>
<p>these limiting cases, the input impedance Z; is composed only of the reactive tank elements, ZiO(jws) and 
</p>
<p>Zi=(jws) are purely imaginary quantities having phase of either- 90&deg; or + 90&deg;. For!,. &lt;J0 , both Z;0(jws) 
and Zi=(jws) are dominated by the tank capacitor or capacitors; the phase of Z;(jws) is therefore- 90&deg;. 
</p>
<p>Hence, zero-current switching is obtained under both short-circuit and open-circuit conditions. For 
</p>
<p>is&gt; L, both Z;oVWs) and zi=(jw,) are dominated by the tank inductor; hence the phase of Z;()w) is+ 90&deg; 0 
Zero-voltage switching is obtained for both a short-circuited and an open-circuited load. For f0 &lt;fs &lt;L, 
Z;0(jws) is dominated by the tank inductor while Zi=(jws) is dominated by the tank capacitors. This 
</p>
<p>implies that zero-voltage switching is obtained under short-circuit conditions, and zero-voltage switch-
ing is obtained under open-circuit conditions. For this case, there must be some critical value of load 
</p>
<p>resistance R = Rcrit that represents the boundary between ZVS and ZCS, and that causes the phase of 
</p>
<p>Z;(jws) to be equal to 0&deg;. 
</p>
<p>The behavior of ZJJws) for nonzero finite R is easily extrapolated from the limiting cases dis-
</p>
<p>Fig. 19.37 Use of the input 
</p>
<p>impedance quantities Z;o and 
</p>
<p>Z;= to determine the ZCS/ZVS 
boundaries, LCC example. 
</p>
<p>liZ; II 
</p>
<p>fo L 
</p>
<p>zcs lzcs: R &gt; R l zvs 
: cnt: 
</p>
<p>for all R izvs:R&lt;R . ! for all R 
: cnt: 
</p>
<p>' [---+ 
</p>
<p>f </p>
<p/>
</div>
<div class="page"><p/>
<p>19.4 Load-Dependent Properties of Resonant Converters 735 
</p>
<p>cussed above. Theorem 2 below shows that: 
</p>
<p>1. If zero-current switching occurs for both an open-circuited load and a short-circuited load [i.e., Z;0(jws) 
</p>
<p>and Z;=(jws) both have phase+ 90'], then zero-current switching occurs for all loads. 
</p>
<p>2. If zero-voltage switching occurs for both an open-circuited load and a short-circuited load [i.e., Z;o(jws) 
</p>
<p>and Z;=(jws) both have phase- 90'], then zero-voltage switching occurs for all loads. 
</p>
<p>3. If zero-voltage switching occurs for an open-circuited load and zero-current switching occurs for a short-
</p>
<p>circuited load [i.e., Z;0(jws) has phase - 90' and Zi=(jws) has phase + 90'], then zero-voltage switching 
</p>
<p>occurs for R &gt; Rcrit' and zero-current switching occurs for R &lt; Rcrit' with Rcrit given by Eq. (19.54) below. 
</p>
<p>4. If zero-current switching occurs for an open-circuited load and zero-voltage switching occurs for a short-
</p>
<p>circuited load [i.e., Z;0(jws) has phase + 90' and Zi=(jws) has phase - 90'], then zero-current switching 
</p>
<p>occurs for R &gt; Rcrir' and zero-voltage switching occurs for R &lt; Rcrir&bull; with Rcrit given by Eq. (19.54) below. 
</p>
<p>For the LCC example, we can therefore conclude that, for is &lt;f0 , zero-current switching occurs for all 
values of R. For fs &gt; L. zero-voltage switching occurs for all values of R. For / 0 &lt;is &lt;L, the boundary 
between ZVS and ZCS is given by Eq. (19.54). 
</p>
<p>Theorem 2: If the tank network is purely reactive, then the boundary between zero-current switch-
</p>
<p>ing and zero-voltage switching occurs when the load resistance R is equal to the critical value 
</p>
<p>Rcrit' given by 
</p>
<p>(19.54) 
</p>
<p>This theorem relies on the assumption that zero-current switching occurs when the tank input impedance 
</p>
<p>is capacitive in nature, while zero-voltage switching occurs for inductive input impedances. The bound-
</p>
<p>ary therefore occurs where the phase of Z;(joo) is zero. This definition gives a necessary but not sufficient 
</p>
<p>condition for zero-voltage switchingwhen significant semiconductor output capacitance is present. 
</p>
<p>The result is derived by finding the value of R which causes the imaginary part of Z/}00) in Eq. 
</p>
<p>(19.47) to be zero. Since the tank network is assumed to ideal and lossless, the impedances Zo=' Z00 , and 
</p>
<p>Zi= must have zero real parts. Hence, 
</p>
<p>( 
</p>
<p>Z l ( ZooZo=) 1 + __&lt;J(l_ 1 - -2-
( ) ( ) 
</p>
<p>Rcrit ( ) R crit 
Im Z;(Rcr;1) = Im Z;= Re -- = Im Z;= ( 2 ) 0 
</p>
<p>1+ 2 o= 1 )lzo=ll 
Rcrir R2. 
</p>
<p>cnt 
</p>
<p>(19.55) 
</p>
<p>where Im(Z) and Re(Z) denote the imaginary and real parts of the complex quantity Z. The nontrivial 
</p>
<p>solution to Eq. (19.55) is given by 
</p>
<p>(19.56) 
</p>
<p>hence, 
</p>
<p>(19.57) 
</p>
<p>A useful equivalent form makes use of the reciprocity identities </p>
<p/>
</div>
<div class="page"><p/>
<p>736 Resonant Conversion 
</p>
<p>(a) LZ; 
</p>
<p>90' 
</p>
<p>60' 
</p>
<p>30' 
</p>
<p>o&middot; ... ............................................. 
</p>
<p>-30' 
</p>
<p>-60' 
</p>
<p>-90' f 
</p>
<p>fo f_ 
</p>
<p>(b) R 
</p>
<p>fo !,, f_ f 
</p>
<p>Fig. 19.38 ZCS/ZVS boundary, LCC inverter example: (a) variation of tank network input impedance phase shift 
</p>
<p>with load resistance, (b) Comparison of Rcrir with matched-load impedance II ZoO 11. 
</p>
<p>(19.58) 
</p>
<p>Use of Eq. (19.58) to eliminate 2 0&lt;'0 from Eq. (19.57) leads to </p>
<p/>
</div>
<div class="page"><p/>
<p>19.4 Load-Dependent Properties of Resonant Converters 737 
</p>
<p>Rcrit =II Zoo II ff. (19.59) 
This is the desired result. The quantity Z00 is the inverter output impedance, and R = II Z00 II corresponds 
to operation at matched load with maximum output power. The impedances Zi= and ZiO are purely imagi-
</p>
<p>nary, and hence Eq. (19.59) has no real solution unless Zi= and Zi0 are of opposite phase. As illustrated in 
</p>
<p>Fig. 19.37, if at a given frequency Zi= and ZiO are both inductive, then zero-voltage switching occurs for 
</p>
<p>all loads. Zero-current switching occurs for all loads when Zi= and ZiO are both capacitive. Therefore, 
</p>
<p>Theorem 2 is proved. 
</p>
<p>Figure 19.38(a) illustrates the phase response of Z/jW) as R varies from 0 to =, for the LCC 
</p>
<p>inverter. A typical dependence of Rcrit and the matched-load impedance II Z00 II on frequency is illustrated 
in Fig. 19.38(b). Zero-voltage switching occurs for all loads when f &gt; L, and zero-current switching 
occurs for all loads whenf &lt;j0 . Over the range f0 &lt;f &lt;L, ZiO is inductive while Zi= is capacitive; hence, 
</p>
<p>zero-voltage switching occurs for R &lt; Rcrit while zero-current switching occurs for R &gt; Rcrir At frequency 
fm, Rcrit =II Z00 11. and hence the ZVS/ZCS boundary is encountered exactly at matched load. It is com-
monly desired to obtain zero-voltage switching at matched load, with low circulating currents and good 
</p>
<p>efficiency at light load. It is apparent that this requires operation in the range f0 &lt; f &lt; fm. Zero-voltage 
switching will then be obtained under matched-load and short-circuit conditions, but will be lost at light 
</p>
<p>load. The choice of element values such that II ZiO II &lt; II Zi= II is advantageous in that the range of loads 
leading to zero-voltage switching is maximized. 
</p>
<p>19.4.4 Another Example 
</p>
<p>As a final example, let us consider selection of the resonant tank elements to obtain a given output char-
</p>
<p>acteristic at a certain switching frequency, and let's evaluate the effect of this choice on Rcrit" It is desired 
</p>
<p>to operate a resonant inverter at switching frequency fs = 100kHz, with an input voltage of V8 = 160 V. 
The converter should be capable of producing an open-circuit peak output voltage Voc = 400 V, and 
should also produce a nominal output of 150 Vrms at 25 W. It is desired to select resonant tank elements 
that accomplish this. 
</p>
<p>The specifications imply that the converter should exhibit an open-circuit transfer function of 
</p>
<p>. voc (4oov) 
II H =(JW,) II = v = ( ) = 1.96 
</p>
<p>sl _1160V 
n 
</p>
<p>(19.60) 
</p>
<p>The required short-circuit current is found by solving Eq. (19.42) for I,c: 
</p>
<p>(19.61) 
</p>
<p>The specifications also imply that the peak voltage and current at the nominal operating point are </p>
<p/>
</div>
<div class="page"><p/>
<p>738 Resonant Conversion 
</p>
<p>V=15012=212V 
</p>
<p>I=__E_I2 = 25W 12 =0.236A 
vrms 150 v 
</p>
<p>v 
Rnom = T = 900 Q 
</p>
<p>Substitution ofEq. (19.62) into Eq. (19.61) yields 
</p>
<p>(0.236 A) 
lsc = -----;~"'7"=~;;= = 0.278 A 
</p>
<p>1- (212 V) 2 
400V 
</p>
<p>Matched load therefore occurs at the operating point 
</p>
<p>v = voc = 283 v 
mat 12 
</p>
<p>I 
!mat= jf=0.196A 
</p>
<p>II Z 0 o(JW,) II= ioc = 1439 Q 
sc 
</p>
<p>(19.62) 
</p>
<p>(19.63) 
</p>
<p>(19.64) 
</p>
<p>Let us select the values of the tank elements in the LCC tank network illustrated in Fig. 
</p>
<p>19.39(a). The impedances of the series and parallel branches can be represented using the reactances X, 
</p>
<p>andXP illustrated in Fig. 19.39(b), with 
</p>
<p>}X,= jw,L + -. -1- = j(w,L- _1_) 
JW,C, w,C, 
</p>
<p>}X =-1-=J(--1-) 
P }w,CP w,CP 
</p>
<p>The transfer function H 00 (jWs) is given by the voltage divider formula 
</p>
<p>X 
H (. ) 1 P 
</p>
<p>= JW, = &middot;x &middot;x 
J s + J p 
</p>
<p>The output impedance Z00(jw,) is given by the parallel combination 
</p>
<p>(a) (b) 
</p>
<p>(19.65) 
</p>
<p>(19.66) 
</p>
<p>Fig. 19.39 Tank network of the LCC inverter example: (a) schematic, (b) representation of series and parallel 
</p>
<p>branches by reactances X, and XP. </p>
<p/>
</div>
<div class="page"><p/>
<p>19.4 Load-Dependent Properties of Resonant Converters 739 
</p>
<p>(19.67) 
</p>
<p>Solution of Eqs. (19.66) and (19.67) for XP and Xs leads to 
</p>
<p>(19.68) 
</p>
<p>Hence, the capacitance CP should be chosen equal to 
</p>
<p>XP=-1499 Q 
</p>
<p>1 H_(jm) -1 (1.96) -1 
C =---= ' = = 1 nF 
</p>
<p>P m,XP m,IIZ00(jm,)ll (2n 100kHz)(l439Q)-
(19.69) 
</p>
<p>and the reactance of the series branch should be chosen according to 
</p>
<p>1-(1.96) 
(-1493Q) ( ) =733Q 
</p>
<p>1.96 
(19.70) 
</p>
<p>Since Xs is comprised of the series combination of the inductor L and capacitor Cs, there is a degree of 
</p>
<p>freedom in choosing the values of Land capacitor Cs to realize Xs. For example, we could choose Cs very 
</p>
<p>large (tending to a short circuit); this effectively would result in a parallel resonant converter with 
</p>
<p>L = X/ms = 1.17 mH. For nonzero Cs, L must be chosen according to 
</p>
<p>L= J (x,+-1-) , m,c, (19.71) 
</p>
<p>For example, the choice Cs = CP = 1.06 nF leads to L = 3.5 mH. Designs using different Cs will exhibit 
exactly the same characteristics at the design frequency; however, the behavior at other switching fre-
</p>
<p>quencies will differ. 
</p>
<p>For the tank network illustrated in Fig. 19.39, the value of Rcrit is completely determined by the 
</p>
<p>parameters of the output characteristic ellipse; i.e., by the specification of Vg, Voc and /sc&middot; Note that Z000 , 
</p>
<p>the tank output impedance with the tank input port open-circuited, is equal to jXP. Substitution of expres-
</p>
<p>sions for 2 000 and Z 00 into Eq. (19.57) leads to the following expression for Rcrit: 
</p>
<p>Z~ 0 (jm,) 
1-H_(jm,) 
</p>
<p>(19.72) 
</p>
<p>Since Z00 and Hoo are determined by the operating point specifications, then Rcrit is also. Evaluation of 
</p>
<p>Eq. (19.72) for this example leads to Rcrit = 1466 Q. Therefore, the inverter will operate with zero-volt-
</p>
<p>age switching for R &lt; 1466 Q, including at the nominal operating point R = 900 Q. Other topologies of 
tank network, more complex than the circuit illustrated in Fig. 19.39(b), may have additional degrees of 
</p>
<p>freedom that allow Rcrit to be independently chosen. 
</p>
<p>The choice Cs = 3CP = 3.2 nF leads to L = 1.96 JIH. The following frequencies are obtained: </p>
<p/>
</div>
<div class="page"><p/>
<p>740 Resonant Conversion 
</p>
<p>f== 127kHz 
</p>
<p>fm = 100.6 kHz 
fs = 100.0 kHz 
fo= 64kHz 
</p>
<p>Regardless of how Cs is chosen, the open-circuit tank input impedance is 
</p>
<p>Therefore, when the load is open-circuited, the transistor peak current has magnitude 
</p>
<p>_ V,1 _ ~(160V) 
I,r-IIZ;=II- 760Q 0.268A 
</p>
<p>When the load is short-circuited, the transistor peak current has magnitude 
</p>
<p>V,1 V,1 ~ ( 160 v) 
I,r =II Z;o II= rx:r (733 n) = 0.278 A 
</p>
<p>(19.73) 
</p>
<p>(19.74) 
</p>
<p>(19.75) 
</p>
<p>(19.76) 
</p>
<p>which is nearly the same as the result in Eq. (19.75). The somewhat large open-circuit switch current 
</p>
<p>occurs because of the relatively-high specified open-circuit output voltage; lower values of Voc would 
</p>
<p>reduce the result in Eq. (19.75). 
</p>
<p>19.5 EXACT CHARACTERISTICS OF THE SERIES 
</p>
<p>AND PARALLEL RESONANT CONVERTERS 
</p>
<p>The exact steady-state behavior of resonant converters can be determined via methods such as state-
</p>
<p>plane analysis. A detailed analysis of resonant de-de converters is beyond the scope of this book. How-
</p>
<p>ever, the exact steady-state characteristics of ideal series [1, 13-20] and parallel [6, 22-25] resonant 
</p>
<p>de-de converters (Fig. 19.40) are summarized in this section. Small-signal ac modeling has also been 
</p>
<p>described in the literature; several relevant papers are [27-30]. 
</p>
<p>19.5.1 Series Resonant Converter 
</p>
<p>At a given switching frequency, the series resonant de-de converter can operate in one continuous con-
</p>
<p>duction mode, and possibly in several discontinuous conduction modes. The mode index k is defined as 
</p>
<p>the integer that satisfies 
</p>
<p>or (19.77) 
</p>
<p>where F = fslfo is the normalized switching frequency. The sub harmonic numbers is defined as </p>
<p/>
</div>
<div class="page"><p/>
<p>19.5 Exact Characteristics of the Series and Parallel Resonant Converters 741 
</p>
<p>(a) 
</p>
<p>~ 
+ 
</p>
<p>vg + R V 
</p>
<p>&amp;f 
</p>
<p>(b) 
</p>
<p>~ + 
</p>
<p>vg + R V 
</p>
<p>&amp;f 
</p>
<p>Fig. 19.40 Transformer-isolated resonant de-de converters: (a) series resonant converter, (b) parallel resonant 
</p>
<p>converter. 
</p>
<p>~-k+l+C-Il 
..,- 2 
</p>
<p>(19.78) 
</p>
<p>Values of k and~ as functions offs are summarized in Fig. 19.4l(a). The subharmonic number~ denotes 
the dominant harmonic that excites the tank resonance. When the converter is heavily loaded, it operates 
</p>
<p>in type k continuous conduction mode. As the load is reduced (i.e., as the load resistance R is increased), 
</p>
<p>the converter enters the type k discontinuous conduction mode. Further reducing the load causes the con-
verter to enter the type (k- 1) DCM, type (k- 2) DCM, ... , type 1 DCM. There is no type 0 DCM, and 
</p>
<p>hence when the converter operates above resonance, only the type 0 continuous conduction mode is pos-
</p>
<p>sible. 
</p>
<p>In the type k continuous conduction mode, the series resonant converter exhibits elliptical out-
put characteristics, given by 
</p>
<p>(19.79) 
</p>
<p>For the transformer-isolated converters of Fig. 19.40, M and J are related to the load voltage V and load 
</p>
<p>current I according to 
</p>
<p>(19.80) 
</p>
<p>Again, R0 is the tank characteristic impedance, referred to the transformer primary side. The quantity y is 
the angular length of one-half of the switching period: </p>
<p/>
</div>
<div class="page"><p/>
<p>742 Resonant Conversion 
</p>
<p>(a) 
-- ~=3- ----- ~= 1 ---+ 
</p>
<p>k=3 ++k=2-++--k= 1--+-k=O--
~ ~ 
</p>
<p>fo/3 fo/2 fo 
</p>
<p>(b) 
</p>
<p>,.(t) I vg 
~~ 
</p>
<p>iL(t) 
</p>
<p>Ql 
</p>
<p>+--- (k- 1) complete half-cycles -----+ 
</p>
<p>~---------------------y------------------------. 
</p>
<p>(c) 
</p>
<p>'Pll 
vg 
</p>
<p>~~ 
</p>
<p>iL(t) 
</p>
<p>1-------------- k complete half-cycles -------
1-----------y ----------
</p>
<p>Fig. 19.41 Continuous conduction modes of the series resonant converter: (a) switching frequency ranges ove1 
</p>
<p>which various mode indices k and subharmonic numbers S occur; (b) tank inductor current waveform, type k CCM, 
for odd k; (c) tank inductor current waveform, type k CCM, for even k. </p>
<p/>
</div>
<div class="page"><p/>
<p>19.5 Exact Characteristics of the Series and Parallel Resonant Converters 743 
</p>
<p>WoT, 1t (19.81) 
y=-2-=F 
</p>
<p>Equation (19.79) is valid only fork satisfying Eq. (19.77). It predicts that the voltage conversion ratio M 
</p>
<p>is restricted to the range 
</p>
<p>(19.82) 
</p>
<p>This is consistent with Eq. (19.21). 
</p>
<p>Typical CCM tank current waveforms are illustrated in Fig. 19.41. When k is even, the tank 
</p>
<p>inductor current is initially negative. In consequence, the switch network antiparallel diodes conduct 
</p>
<p>first, for a fraction of a half resonant cycle. If k is odd, then each half switching period is initiated by con-
</p>
<p>duction of the switch network transistors. In either case, this is followed by (~- 1) complete tank half-
</p>
<p>cycles of ringing. The half-switching period is then concluded by a subinterval shorter than one complete 
</p>
<p>resonant half-cycle, in which the device that did not initially conduct is on. The next half switching 
</p>
<p>period then begins, and is symmetrical. 
</p>
<p>The steady-state control-plane characteristic can be found for a resistive load R obeying V = IR, 
</p>
<p>by substitution of the normalized relation J = MQ into Eq. (19.79), where Q = n2R0 /R. Use of the qua-
</p>
<p>dratic formula and some algebraic manipulations allows solution forM, as a function of load (via Q) and 
</p>
<p>switching frequency (via y): 
</p>
<p>(19.83) 
</p>
<p>This is the closed-form relationship between the conversion ratio M and the switching frequency, for a 
</p>
<p>resistive load. It is valid for any continuous conduction mode k. 
The type k discontinuous conduction modes, for k odd, occur over the frequency range 
</p>
<p>(19.84) 
</p>
<p>In these modes, the output voltage is independent of both load current and switching frequency, and is 
</p>
<p>described by 
</p>
<p>M=t (19.85) 
</p>
<p>The type k discontinuous conduction mode, for odd k, occurs over the range of load currents given by 
</p>
<p>2(k+ 1) &gt;]&gt; 2(k-1) 
y y 
</p>
<p>(19.86) 
</p>
<p>In the odd discontinuous conduction modes, the tank current rings for k complete resonant half cycles. 
All four output bridge rectifier diodes then become reverse-biased, and the tank current remains at zero 
</p>
<p>until the next switching half-period begins, as illustrated in Fig. 19.42. Series resonant converters are not </p>
<p/>
</div>
<div class="page"><p/>
<p>744 Resonant Conversion 
</p>
<p>'/') I vg 
~~ 
</p>
<p>iL(t) 
</p>
<p>X 
</p>
<p>~+--------- k complete half-cycles ----+ 
</p>
<p>y----------
Fig. 19.42 Tank inductor current waveform, type k DCM, for odd k. 
</p>
<p>.. 
- vg 
</p>
<p>normally purposely designed to operate in odd discontinuous conduction modes, because the output volt-
</p>
<p>age is not controllable. Nonetheless, when the load is removed with.fs &lt;f0 , the series resonant converter 
</p>
<p>operates in k = 1 DCM with M = I. 
The type k discontinuous conduction mode, fork even, also occurs over the frequency range 
</p>
<p>'&lt;!J!. Js k (19.87) 
</p>
<p>Even discontinuous conduction modes exhibit current source characteristics, in which the load current is 
</p>
<p>a function of switching frequency and input voltage, but not of the load voltage. The output relationship 
</p>
<p>is: 
</p>
<p>Operation in this mode occurs for 
</p>
<p>J - 2k - y 
</p>
<p>1 1 
k-1&gt;M&gt;k+1 
</p>
<p>(19.88) 
</p>
<p>(19.89) 
</p>
<p>In the even discontinuous conduction modes, the tank current rings for k complete resonant half-cycles 
</p>
<p>during each switching half-period. All four output bridge then become reverse-biased, and the tank cur-
</p>
<p>rent remains at zero until the next switching half-period is initiated. Tank current waveforms are illus-
</p>
<p>trated in Fig. 19.43 for even DCM. 
</p>
<p>The series resonant converter possesses some unusual properties when operated in an even dis-
</p>
<p>continuous conduction mode. A de equivalent circuit is given in Fig. 19.44, consisting of a gyrator with 
</p>
<p>gyration conductance g = 2k/gn2Ro- The gyrator has the property of transforming circuits into their dual 
networks; in the typical de-de converter application, the input voltage source V8 is effectively trans-
</p>
<p>formed into its dual, an output current source of value gV8 &bull; Series resonant converters have been pur-
</p>
<p>posely designed to operate in the k = 2 DCM, at power levels of several tens of kW. 
The complete control plane characteristics can now be plotted using Eqs. (19.77) to (19.89). </p>
<p/>
</div>
<div class="page"><p/>
<p>19.5 Exact Characteristics of the Series and Parallel Resonant Converters 745 
</p>
<p>,p)l vg 
~~ - vg 
</p>
<p>iL(t) 
</p>
<p>Fig. 19.43 Tank inductor current waveform, type k DCM, for even k. 
</p>
<p>!8 = gV lg = gV8 _+_.,._..;.:&middot;_ .................. g ........... .-... -... +, ---1-+-
</p>
<p>Fig. 19.44 Steady-state equivalent circuit model for an even dis-
</p>
<p>continuous conduction mode: an effective gyrator. The converter 
</p>
<p>exhibits current source characteristics. 
</p>
<p>~ 
</p>
<p>g = Jls.... 
YRo ; ___________________________________ ] 
</p>
<p>v 
</p>
<p>The result is shown in Fig. 19.45, and the mode boundaries are explicitly diagrammed in Fig. 19.46. It 
</p>
<p>can be seen that, for operation above resonance, the only possible operating mode is the k = 0 CCM, and 
that the output voltage decreases monotonically with increasing switching frequency. Reduction in load 
</p>
<p>current (or increase in load resistance, which decreases Q) causes the output voltage to increase. Anum-
</p>
<p>ber of successful designs that operate above resonance and utilize zero-voltage switching have been doc-
</p>
<p>umented in the literature [7,21]. 
</p>
<p>Operation below resonance is complicated by the presence of subharmonic and discontinuous 
</p>
<p>conduction modes. The k = 1 CCM and k = 2 DCM are well behaved, in that the output voltage increases 
monotonically with increasing switching frequency. Increase of the load current again causes the output 
</p>
<p>voltage to decrease. Successful designs that operate in these modes and employ zero-current switching 
</p>
<p>are numerous. However, operation in the higher-order modes (k = 2 CCM, k = 4 DCM, etc.) is normally 
avoided. 
</p>
<p>Given F and Q, the operating mode can be evaluated directly, using the following algorithm. 
First, the continuous conduction mode k corresponding to operation at frequency F with heavy loading is 
</p>
<p>found: 
</p>
<p>(19.90) 
</p>
<p>where INT(x) denotes the integer part of x. Next, the quantity k1 is determined: </p>
<p/>
</div>
<div class="page"><p/>
<p>746 Resonant Conversion 
</p>
<p>0.9 
</p>
<p>Q=0.2 
</p>
<p>0.8 
</p>
<p>0.35 
</p>
<p>0.7 
</p>
<p>0.5 
</p>
<p>0.6 
0.35 
</p>
<p>:::."" 
0.75 S: 0.5 
</p>
<p>II 
</p>
<p>~ 0.4 
0.5 
</p>
<p>0.75 
</p>
<p>0.3 
1 1.5 
</p>
<p>1.5 
2 
</p>
<p>0.2 
2 
</p>
<p>3.5 
3.5 
</p>
<p>0.1 
5 5 
</p>
<p>10 10 
</p>
<p>0 
Q=20 Q=20 
</p>
<p>0 0.2 0.4 0.6 0.8 1.2 1.4 1.6 1.8 2 
</p>
<p>F=fsl fo 
</p>
<p>Fig. 19.45 Complete control plane characteristics of the series resonant converter, for the range 0.2 :::; F:::; 2. 
</p>
<p>0.9 
</p>
<p>0.8 
</p>
<p>0.7 
</p>
<p>0.6 
</p>
<p>~ 0.5 
</p>
<p>0.4 
</p>
<p>0.3 
</p>
<p>0.2 
</p>
<p>0.1 
</p>
<p>0 
</p>
<p>0 0.2 0.4 0.6 0.8 1.2 1.4 1.6 1.8 2 
</p>
<p>F 
</p>
<p>Fig. 19.46 Continuous and discontinuous conduction mode boundaries. </p>
<p/>
</div>
<div class="page"><p/>
<p>19.5 Exact Characteristics of the Series and Parallel Resonant Converters 747 
</p>
<p>6-r------- F = 1.01 
</p>
<p>4 
</p>
<p>J 
3 
</p>
<p>2 
</p>
<p>F= 1.30 
</p>
<p>0 0.2 0.4 0.6 0.8 
</p>
<p>M 
</p>
<p>Fig. 19.47 Output characteristics, k = 0 CCM (above resonance). 
</p>
<p>(19.91) 
</p>
<p>The converter operates in type k CCM provided that: 
</p>
<p>(19.92) 
</p>
<p>Otherwise, the converter operates in type k1 DCM. A simple algorithm can therefore be defined, in which 
</p>
<p>the conversion ratio M is computed for a given F and Q. First, Eqs. (19.90) to (19.92) are evaluated, to 
determine the operating mode. Then, the appropriate equation (19.83), (19.85), or (19.88) is evaluated to 
</p>
<p>findM. 
</p>
<p>Output I-V plane characteristics for the k = 0 CCM, plotted using Eq. (19.79), are shown in Fig. 
</p>
<p>19.47. The constant-frequency curves are elliptical, and all pass through the point M = 1, J = 0. For a 
</p>
<p>given switching frequency, the operating point is given by the intersection of the elliptical converter out-
</p>
<p>put characteristic with the load I-V characteristic. 
</p>
<p>Output plane characteristics that combine the k = 1 CCM, k = 1 DCM, and k = 2 DCM are 
</p>
<p>shown in Fig. 19.48. These were plotted using Eqs. (19.79), (19.85), and (19.88). These curves were 
</p>
<p>plotted with the assumption that the transistors are allowed to conduct no longer than one tank half-cycle 
</p>
<p>during each switching half-period; this eliminates subharmonic modes and causes the converter to oper-
</p>
<p>ate ink= 2 or k = 1 DCM wheneverfs &lt; 0.5f0 &bull; It can be seen that the constant-frequency curves are ellip-
tical in the continuous conduction mode, vertical (voltage source characteristic) in the k = 1 DCM, and 
</p>
<p>horizontal (current source characteristic) in the k = 2 DCM. </p>
<p/>
</div>
<div class="page"><p/>
<p>748 Resonant Conversion 
</p>
<p>J 
</p>
<p>3 
</p>
<p>2.5 +----------
</p>
<p>2 
</p>
<p>1.5 
</p>
<p>2 
</p>
<p>n 
</p>
<p>F= .75 
</p>
<p>F=.5 
</p>
<p>F= .90 
</p>
<p>4 
</p>
<p>k= l CCM 
</p>
<p>8 
b-----------~F~=~-2~5~--------------------------------------~~ 
</p>
<p>F= .l 
</p>
<p>k=2DCM 
</p>
<p>0 
</p>
<p>0 0.2 0.4 0.6 0.8 
</p>
<p>M 
</p>
<p>Fig. 19.48 Output characteristics, k = l CCM, k = l DCM, and k = 2 DCM (below resonance). 
</p>
<p>19.5.2 Parallel Resonant Converter 
</p>
<p>For operation in the frequency range 0.5f0 &lt;fs &lt;=,the parallel resonant de-de converter exhibits one 
continuous conduction mode and one discontinuous conduction mode. Typical CCM switch voltage v/t), 
</p>
<p>tank inductor current iL(t), and tank capacitor voltage vc(t) waveforms are illustrated in Fig. 19.49. The 
</p>
<p>CCM converter output characteristics are given by 
</p>
<p>&lt;p= 
</p>
<p>- y &lt;p---M _ (2)( sin (&lt;p)) 
cosG) 
</p>
<p>-COS- I (COS m + J sin m) 
+ COS- I (COS m +} sin m) 
</p>
<p>for 0 &lt; y &lt; n (above resonance) 
</p>
<p>for n &lt; y &lt; 2n (below resonance) 
</p>
<p>(19.93) 
</p>
<p>(19.94) 
</p>
<p>and where M, J, andy are again defined as in Eqs. (19.80) and (19.81). Given the normalized load current 
</p>
<p>J and the half-switching-period-angle y, one can evaluate Eq. (19.94) to find Q), and then evaluate Eq. 
</p>
<p>(19.93) to find the converter voltage conversion ratio M. In other words, the output voltage can be found 
</p>
<p>for a given load current and switching frequency, without need for computer iteration. </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. 19.49 Typical waveforms of 
</p>
<p>the parallel resonant converter, 
</p>
<p>operating in the continuous conduc-
</p>
<p>tion mode. 
</p>
<p>19.5 Exact Characteristics of the Series and Parallel Resonant Converters 749 
</p>
<p>v,.(t) 
v 
</p>
<p>g 
</p>
<p>y y 
</p>
<p>- vg 
uv 
</p>
<p>A discontinuous conduction mode mechanism occurs in the parallel resonant converter which is 
</p>
<p>the dual of the discontinuous conduction mode mechanism of the series resonant converter. In this mode, 
</p>
<p>a discontinuous subinterval occurs in which all four output bridge rectifier diodes are forward-biased, 
</p>
<p>and the tank capacitor voltage remains at zero. This mode occurs both above and below resonance when 
</p>
<p>the converter is heavily loaded. Typical DCM tank capacitor voltage and inductor current waveforms are 
</p>
<p>illustrated in Fig. 19.50. The condition for operation in the discontinuous conduction mode is 
</p>
<p>where 
</p>
<p>J &gt; JcrJY) 
</p>
<p>J &lt; JcriY) 
</p>
<p>forDCM 
</p>
<p>forCCM 
</p>
<p>The discontinuous conduction mode is described by the following set of equations: 
</p>
<p>(19.95) 
</p>
<p>(19.96) </p>
<p/>
</div>
<div class="page"><p/>
<p>750 Resonant Conversion 
</p>
<p>: D5 D8 ; D5 D8 D5 D8 
</p>
<p>D6 D7 ! D6 D7 ! 
</p>
<p>&middot;-a--: !-~-
!------' li : y _ __,:i----
</p>
<p>I 
</p>
<p>Fig. 19.50 Typical waveforms of the parallel resonant converter, operating in the discontinuous conduction mode. 
</p>
<p>3.0 . . . 
~... : 
</p>
<p>2.s ----~-~-'!' ... _. ____ ,. _____ ,. __ r-.. ---.;;&middot;.:&middot;&middot;&middot;&middot;&middot;&middot;--------- --1&middot;---------------------------r---------------------------r---------------------------
!F=o.si i i . 
</p>
<p>2.0 
</p>
<p>J 1.5 
</p>
<p>1.0 
</p>
<p>0.5 '&bull;,, 1.5 : 
</p>
<p>F=2 ! 
0.0 
</p>
<p>0.0 0.5 1.0 1.5 2.0 2.5 
</p>
<p>M 
</p>
<p>Fig. 19.51 Exact output characteristics of the parallel resonant converter, for F &gt; 0.5. Solid curves: CCM, dashed 
curves: DCM. </p>
<p/>
</div>
<div class="page"><p/>
<p>19.5 Exact Characteristics of the Series and Parallel Resonant Converters 751 
</p>
<p>3.0 
</p>
<p>Q=5 
</p>
<p>2.5 
</p>
<p>2.0 
</p>
<p>i ; 
</p>
<p>, I I I : 
~"" 
::;: 1.5 
II 
</p>
<p>. . . 
&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;:&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>~ 
</p>
<p>1.0 
</p>
<p>0.5 
, r r : : 
</p>
<p>0.0 
</p>
<p>0.5 1.0 1.5 2.0 2.5 3.0 
</p>
<p>!, lfo 
</p>
<p>Fig. 19.52 Exact control characteristics of the parallel resonant converter, with a resistive load. Both CCM and 
</p>
<p>DCM operation is included, for 0.5 :o; F :o; 3. 
</p>
<p>M co = 1 -cos (~) 
J w = J + sin (~) 
</p>
<p>cos (a+~)- 2 cos (a)= -1 
</p>
<p>-sin (a+~)+ 2 sin (a)+ (8-a) = 2J 
</p>
<p>~+8=y 
</p>
<p>M=1+(t)(l-8) 
</p>
<p>(19.97) 
</p>
<p>Unfortunately, the solution to this set of equations is not known in closed form, because of the 
</p>
<p>mixture of linear and trigonometric terms. In consequence, the equations must be solved iteratively. For a 
</p>
<p>given y and J, a computer is used to iteratively find the angles a, ~. and 8. M is then evaluated, and the 
output plane characteristics can be plotted. The result is given in Fig. 19.51. The dashed lines are the 
</p>
<p>DCM solutions, and the solid lines are the valid CCM solutions. Figure 19.51 describes the complete de 
</p>
<p>behavior of the ideal parallel resonant converter for all switching frequencies above 0.5j0 . For given val-
</p>
<p>ues of normalized switching frequency F = fslf0 = n/y, the relationship between the normalized output 
current J and the normalized output voltage M is approximately elliptical. At resonance (F = 1), the CCM 
</p>
<p>ellipse degenerates to the horizontal line J = 1, and the converter exhibits current source characteristics. 
Above resonance, the converter can both step up the voltage (M &gt; 1) and step down the voltage (M &lt; 1). 
The normalized load current is then restricted to J &lt; 1, corresponding to I&lt; V/nR0 . For a given switch-
ing frequency greater than the resonant frequency, the actual limit on maximum load current is even 
</p>
<p>more restrictive than this limit. Below resonance, the converter can also step up and step down the volt-</p>
<p/>
</div>
<div class="page"><p/>
<p>752 Resonant Conversion 
</p>
<p>age. Normalized load currents J greater than one are also obtainable, depending on M and F. However, 
</p>
<p>no solutions occur when M and J are simultaneously large. 
</p>
<p>In Fig. 19.52, the control plane characteristics are plotted for a resistive load. The parameter Q 
</p>
<p>is defined for the parallel resonant converter as Q = R!n2R0 &bull; The normalized load current is then given by 
l=MIQ. 
</p>
<p>19.6 SUMMARY OF KEY POINTS 
</p>
<p>1. The sinusoidal approximation allows a great deal of insight to be gained into the operation of resonant 
</p>
<p>inverters and de-de converters. The voltage conversion ratio of de-de resonant converters can be directly 
</p>
<p>related to the tank network transfer function. Other important converter properties, such as the output char-
</p>
<p>acteristics, dependence (or lack thereof) of transistor current on load current, and zero-voltage- and zero-
</p>
<p>current-switching transitions, can also be understood using this approximation. The approximation is 
</p>
<p>accurate provided that the effective Q factor is sufficiently large, and provided that the switching frequency 
is sufficiently close to resonance. 
</p>
<p>2. Simple equivalent circuits are derived, which represent the fundamental components of the tank network 
</p>
<p>waveforms, and the de components of the de terminal waveforms. 
</p>
<p>3. Exact solutions of the ideal de-de series and parallel resonant converters are listed here as well. These 
</p>
<p>solutions correctly predict the conversion ratios, for operation not only in the fundamental continuous con-
</p>
<p>duction mode, but in discontinuous and subharmonic modes as well. 
</p>
<p>4. Zero-voltage switching mitigates the switching loss caused by diode recovered charge and semiconductor 
</p>
<p>device output capacitances. When the objective is to minimize switching loss and EMI, it is preferable to 
</p>
<p>operate each MOSFET and diode with zero-voltage switching. 
</p>
<p>5. Zero-current switching leads to natural commutation of SCRs, and can also mitigate the switching loss due 
</p>
<p>to current tailing in IGBTs. 
</p>
<p>6. The input impedance magnitude II Z; II, and hence also the transistor current magnitude, are monotonic 
functions of the load resistance R. The dependence of the transistor conduction loss on the load current can 
</p>
<p>be easily understood by simply plotting II Z; II in the limiting cases as R--&gt; = and as R--&gt; 0, or II Z;= II and 
II Z;o II. 
</p>
<p>7. The ZVS/ZCS boundary is also a simple function of Zi= and Z;o&middot; If ZVS occurs at open-circuit and at 
</p>
<p>short-circuit, then ZVS occurs for all loads. If ZVS occurs at short-circuit, and ZCS occurs at open-circuit, 
</p>
<p>then ZVS is obtained at matched load provided that II Z;= II &gt; II Z;o 11. 
</p>
<p>8. The output characteristics of all resonant inverters considered here are elliptical, and are described com-
</p>
<p>pletely by the open-circuit transfer function magnitude II H= 11. and the output impedance II Z00 11. These 
quantities can be chosen to match the output characteristics to the application requirements. 
</p>
<p>REFERENCES 
</p>
<p>[1] F.C. SCHWARZ, "An Improved Method of Resonant Current Pulse Modulation for Power Converters," 
</p>
<p>IEEE Power Electronics Specialists Conference, 1975Record, pp. 194-204, June 1975. 
</p>
<p>[2] R.L. STEIGERWALD, "High Frequency Resonant Transistor De-De Converters," IEEE Transactions on 
</p>
<p>Industrial Electronics, Vol. 31, No.2, pp. 181-191, May 1984. 
</p>
<p>[3] M. COSBY and R. NELMS, "Designing a Parallel-Loaded Resonant Inverter for an Electronic Ballast Using </p>
<p/>
</div>
<div class="page"><p/>
<p>References 753 
</p>
<p>the Fundamental Approximation," IEEE Applied Power Electronics Conference, 1993 Record, 
</p>
<p>pp. 413-423. 
</p>
<p>[4] M. GULKO and S. BEN-YAAKOV, "Current-Sourcing Push-Pull Parallel-Resonance Inverter (CS-PPRI): 
</p>
<p>Theory and Application as a Fluorescent Lamp Driver," IEEE Applied Power Electronics Conference, 
</p>
<p>1993 Record, pp. 411-417. 
</p>
<p>[5] Y. CHER0N, H. FOCH, and J. SALESSES, "Study of a Resonant Converter Using Power Transistors in a 
25kWX-ray Tube Power Supply," IEEE Power Electronics Specialists Conference, Proceedings ESA Ses-
</p>
<p>sions, pp. 295-306, June 1985. 
</p>
<p>[6] S. D. JOHNSON, A. F. WITULSKI, and R. W. ERICKSON, "A Comparison of Resonant Topologies in High 
Voltage Applications," IEEE Transactions on Aerospace and Electronic Systems, Vol. 24, No. 3, 
</p>
<p>pp. 263-274, July 1988. 
</p>
<p>[7] Y. MURAl and T. A. LIPO, "High Frequency Series Resonant De Link Power Conversion," IEEE Industry 
</p>
<p>Applications Society Annual Meeting, 1988 Record, pp. 648-656. 
</p>
<p>[8] F. C. SCHWARZ, "A Doublesided Cyclo-Converter," IEEE Power Electronics Specialists Conference, 1979 
</p>
<p>Record, pp. 437-447. 
</p>
<p>[9] D. DIVAN, "The Resonant De Link Converter: A New Concept in Static Power Conversion," IEEE Indus-
</p>
<p>try Applications Society Annual Meeting, 1986 Record, pp. 648-656. 
</p>
<p>[10] R.L. STEIGERWALD, "A Comparison of Half-Bridge Resonant Converter Topologies," IEEE Applied 
</p>
<p>Power Electronics Conference, 1987 Record, pp. 135-144. 
</p>
<p>[11] R. SEVERNS, "Topologies for Three Element Resonant Converters," IEEE Applied Power Electronics Con-
ference, 1990 Record, pp. 712-722. 
</p>
<p>[ 12] M. KAZIMIERCZUK, W. SZARANIEC, and S. WANG, "Analysis and Design of Parallel Resonant Converter at 
</p>
<p>High Qu" IEEE Transactions on Aerospace and Electronic Systems, Vol. 28, pp. 35-50. January 1992. 
</p>
<p>[13] R. KING and T. STUART, "A Normalized Model for the Half Bridge Series Resonant Converter," IEEE 
Transactions on Aerospace and Electronic Systems, March 1981, pp. 180-193. 
</p>
<p>[14] V. VORPERIAN and S. CUK, "A Complete DC Analysis of the Series Resonant Converter," IEEE Power 
</p>
<p>Electronics Specialists Conference, 1982 Record, pp. 85-100, June 1982. 
</p>
<p>[15] R. KING and T.A. STUART, "Inherent Overload Protection for the Series Resonant Converter," IEEE Trans-
</p>
<p>actions on Aerospace and Electronic Systems, Vol. 19, No.6, pp. 820-830, Nov. 1983. 
</p>
<p>[16] A. WITULSKI and R. ERICKSON, "Steady-State Analysis of the Series Resonant Converter," IEEE Transac-
</p>
<p>tions on Aerospace and Electronic Systems, Vol. 21, No.6, pp. 791-799, Nov. 1985. 
</p>
<p>[17] A. WITULSKI and R. ERICKSON, "Design of the Series Resonant Converter for Minimum Component 
Stress," IEEE Transactions on Aerospace and Electronic Systems, Vol. 22, No.4, July 1986, pp. 356-363. 
</p>
<p>[18] R. ORUGANTI and F.C. LEE, "Resonant Power Processors, Part 1: State Plane Analysis," IEEE Transac-
tions on Industry Applications, Vol. 21, Nov./Dec. 1985, pp. 1453-1460. 
</p>
<p>[19] C.Q. LEE and K. SIR!, "Analysis and Design of Series Resonant Converter by State Plane Diagram," IEEE </p>
<p/>
</div>
<div class="page"><p/>
<p>754 Resonant Conversion 
</p>
<p>Transactions on Aerospace and Electronic Systems, Vol. 22, No.6, pp. 757-763, November 1986. 
</p>
<p>[20] S. TRABERT and R. ERICKSON, "Steady-State Analysis of the Duty Cycle Controlled Series Resonant Con-
</p>
<p>verter," IEEE Power Electronics Specialists Conference, 1987 Record, pp. 545-556. 
</p>
<p>[21] K.D.T. NGO, "Analysis of a Series Resonant Converter Pulsewidth-Modulated of Current-Controlled for 
</p>
<p>Low Switching Loss," IEEE Power Electronics Specialists Conference, 1987 Record, pp. 527-536, June 
</p>
<p>1987. 
</p>
<p>[22] R. ORUGANTI and F.C. LEE, "State Plane Analysis of the Parallel Resonant Converter," IEEE Power Elec-
</p>
<p>tronics Specialists Conference, 1985 Record, pp. 56-73, June 1985. 
</p>
<p>[23] S. JOHNSON, "Steady-State Analysis and Design of the Parallel Resonant Converter," M.S. Thesis, Univer-
</p>
<p>sity of Colorado, Boulder, 1986. 
</p>
<p>[24] S. JOHNSON and R. ERICKSON, "Steady-State Analysis and Design of the Parallel Resonant Converter," 
</p>
<p>IEEE Transactions on Power Electronics, Vol. 3, No.4, pp. 93-104, Jan. 1988. 
</p>
<p>[25] A. BHAT and M. SWAMY, "Analysis and Design of a High-Frequency Parallel Resonant Converter Operat-
</p>
<p>ing Above Resonance," IEEE Transactions on Aerospace and Electronic Systems, Vol. 25, No. 4, July 
</p>
<p>1989,pp.449-458. 
</p>
<p>[26] F.S. TSAI, P. MATERU, and F.C. LEE, "Constant Frequency, Clamped Mode Resonant Converters," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1987 Record, pp. 557-566, June 1987. 
</p>
<p>[27] V. VORPERIAN and S. CUK, "Small-Signal Analysis of Resonant Converters," IEEE Power Electronics 
</p>
<p>Specialists Conference, 1983 Record, pp. 269-282, June 1983. 
</p>
<p>[28] V. VORPERIAN, "High-Q Approximation in the Small-Signal Analysis of Resonant Converters," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1985 Record, pp. 707-715. 
</p>
<p>[29] R. KING and T. STUART, "Small-Signal Model for the Series Resonant Converter," IEEE Transactions on 
</p>
<p>Aerospace and Electronic Systems, May 1985, Vol. 21, No.3, pp. 301-319. 
</p>
<p>[30] A. WITULSKI, A. HERNANDEZ, and R. ERICKSON, "Small-Signal Equivalent Circuit Modeling of Resonant 
</p>
<p>Converters," IEEE Transactions on Power Electronics, January 1991. 
</p>
<p>[31] R. FISHER, K. NGO, and M. Kuo, "A 500kHz, 250 W De-de Converter with Multiple Outputs Controlled 
</p>
<p>by Phase-Shifted PWM and Magnetic Amplifiers," Proceedings of High Frequency Power Conversion 
</p>
<p>Conference, pp. 100-110, May 1988. 
</p>
<p>[32] L. MWEENE, C. WRIGHT, and M. SCHLECHT, "A 1 kW, 500 kHz Front-End Converter for a Distributed 
</p>
<p>Power Supply System," IEEE Applied Power Electronics Conference, 1989 Record, pp. 423-432. 
</p>
<p>[33] R. REDL, L. BELOGH, and D. EDWARDS, "Optimum ZVS Full-Bridge DC/DC Converter with PWM 
</p>
<p>Phase-Shift Control: Analysis, Design Considerations, and Experimental Results," IEEE Applied Power 
</p>
<p>Electronics Conference, 1994 Record, pp. 159-165. 
</p>
<p>[34] J. G. CHO, J. A. SABATE, and F. C. LEE, "Novel Full Bridge Zero-Voltage-Transition PWM DC/DC Con-
</p>
<p>verter for High Power Applications," IEEE Applied Power Electronics Conference, 1994 Record, 
</p>
<p>pp. 143-149. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 755 
</p>
<p>[35] 0. D. PATIERSON and D. M. DIVAN, "Pseudo-Resonant Full Bridge DC/DC Converter," IEEE Power 
</p>
<p>Electronics Specialists Conference, 1987 Record, pp. 424-430. 
</p>
<p>[36] R. FARRINGTON, M. JOVANOVIC, and F. C. LEE, "Analysis of Reactive Power in Resonant Converters," 
</p>
<p>IEEE Power Electronics Specialists Conference, 1992 Record, pp. 197-205. 
</p>
<p>[37] R. D. MIDDLEBROOK, "Null Double Injection and the Extra Element Theorem," IEEE Transactions on 
</p>
<p>Education, Vol. 32, No.3, pp. 167-180, August 1989. 
</p>
<p>[38] D. TUTTLE, Network Synthesis, New York: John Wiley &amp; Sons, Vol. 1, Chapter 6, 1958. 
</p>
<p>PROBLEMS 
</p>
<p>19.1 Analysis of a half-bridge de-de parallel resonant converter, operated above resonance. In Fig. 19.53, 
</p>
<p>the elements Ch, LF, and CF are large in value, and have negligible switching ripple. You may assume 
</p>
<p>that all elements are ideal. You may use the sinusoidal approximation as appropriate. 
</p>
<p>(b) 
</p>
<p>v,(t) 
</p>
<p>0 
</p>
<p>0 0.5T, 
</p>
<p>Fig. 19.53 Half-bridge parallel resonant converter of Problem 19.1: (a) schematic, (b) switch voltage 
</p>
<p>waveform. 
</p>
<p>(a) Sketch the waveform of the current igCt). 
</p>
<p>(b) Construct an equivalent circuit for this converter, similar to Fig. 19 .22, which models the funda-
</p>
<p>mental components of the tank waveforms and the de components of the converter input current 
</p>
<p>and output voltage. Clearly label the values and/or give expressions for all elements in your 
</p>
<p>model, as appropriate. 
</p>
<p>(c) Solve your model to derive an expression for the conversion ratio V/V8 = M(F, Qe, n). 
At rated (maximum) load, this converter produces I= 20 A at V = 3.3 V. 
(d) What is the converter switching frequency f, at rated load? 
(e) What is the magnitude of the peak transistor current at rated load? 
</p>
<p>At minimum load, the converter produces I= 2 A at V = 3.3 V. </p>
<p/>
</div>
<div class="page"><p/>
<p>756 Resonant Conversion 
</p>
<p>(f) What is the converter switching frequency J; at minimum load? 
</p>
<p>(g) What is the magnitude of the peak transistor current at minimum load? Compare with your 
</p>
<p>answer from part (e)-what happens to the conduction loss and efficiency at minimum load? 
</p>
<p>19.2 A de-de resonant converter contains an LCC tank network [Fig. 19.l(d)], with an output filter contain-
</p>
<p>ing a filter inductor as in the parallel resonant de-de converter. 
</p>
<p>(a) Sketch an equivalent circuit model for this converter, based on the approximate sinusoidal anal-
</p>
<p>ysis method of Section 19 .1. Give expressions for all elements in your model. 
</p>
<p>(b) Solve your model, to derive an expression for the conversion ratio M = V!Vg. Express Mas a 
function ofF= J;IL, Qe = R.fR0, and n = C/Cp, wherefoo is defined as in Eq. (19.50) and R0 is 
</p>
<p>(c) Plot M vs. F, for n = 1 and Qe = 1, 2, and 5. 
</p>
<p>(d) Plot M vs. F, for n = 0.25 and Qe = 1, 2, and 5. 
</p>
<p>19.3 Dual of the series resonant converter. In the converter illustrated in Fig. 19.54, LFl' Ln, and CF are large 
</p>
<p>filter elements, whose switching ripples are small. Land Care tank elements, whose waveforms iL(t) and 
</p>
<p>v c(t) are nearly sinusoidal. 
</p>
<p>LFI 
</p>
<p>Fig. 19.54 Dual of the series resonant converter, Problem 19.3. 
</p>
<p>(a) Using the sinusoidal approximation method, develop equivalent circuit models for the switch 
</p>
<p>network, tank network, and rectifier network. 
</p>
<p>(b) Sketch a Bode diagram of the parallel LC parallel tank impedance. 
</p>
<p>(c) Solve your model. Find an analytical solution for the converter voltage conversion ratio 
</p>
<p>M = V!Vg, as a function of the effective Qe and the normalized switching frequency F = J;/f0 . 
Sketch M vs. F. 
</p>
<p>(d) What can you say about the validity of the sinusoidal approximation for this converter? Which </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 757 
</p>
<p>parts of your M vs. F plot of part (c) are valid and accurate? 
</p>
<p>19.4 The converter of Problem 19.3 operates below resonance. 
</p>
<p>(a) Sketch the waveform v cU). For each subinterval, label: (i) which of the diodes D 1 to D 4 and tran-
</p>
<p>sistors Q1 to Q4 conduct current, and (ii) which devices block voltage. 
</p>
<p>(b) Does the reverse recovery process of diodes D1 to D4 lead to switching loss? Do the output 
</p>
<p>capacitances of transistors Q1 to Q4 1ead to switching loss? 
</p>
<p>(c) Repeat parts (a) and (b) for operation above resonance. 
</p>
<p>19.5 A parallel resonant converter operates with a de input voltage of V8 = 270 V. The converter supplies 5 V 
</p>
<p>to a de load. The de load power varies over the range 20 W to 200 W. It is desired to operate the power 
</p>
<p>transistors with zero voltage switching. The tank element values are L =57 ~-tH, CP = 0.9 nF, referred to 
</p>
<p>the transformer primary. The parallel resonant tank network contains an isolation transformer having a 
</p>
<p>turns ratio of 52: l. 
</p>
<p>(a) Define F as in Eq. (19.19). Derive an expression for F, as a function of M and Qe. 
</p>
<p>(b) Determine the switching frequency, peak transistor current, and peak tank capacitor voltage at 
</p>
<p>the maximum load power operating point. 
</p>
<p>(c) Determine the switching frequency, peak transistor current, and peak tank capacitor voltage at 
</p>
<p>the minimum load power operating point. 
</p>
<p>19.6 In a certain resonant inverter application, the de input voltage is V8 = 320 V. The inverter must produce 
</p>
<p>an approximately sinusoidal output voltage having a frequency of 200 kHz. Under no load (output open-
</p>
<p>circuit) conditions, the inverter should produce a peak-to-peak output voltage of 1500 V. The nominal 
</p>
<p>resistive operating point is 200 Vrms applied to 100 Q. A nonisolated LCC inverter is employed. It is 
</p>
<p>desired that the inverter operate with zero-voltage switching, at least for load resistances less than 200 Q. 
</p>
<p>(a) Derive expressions for the output open-circuit voltage Voc and short-circuit current l,c of the 
</p>
<p>LCC inverter. Express your results as functions ofF= !,If~, V8 , R~ = UC,IICP and n = C,ICP. 
</p>
<p>The open-circuit resonant frequency f~ is defined in Eq. (19.50). 
</p>
<p>(b) To meet the given specifications, how should the short-circuit current l,c be chosen? 
</p>
<p>(c) Specify tank element values that meet the specifications. 
</p>
<p>(d) Under what conditions does your design operate with zero-voltage switching? 
</p>
<p>(e) Compute the peak transistor current under no-load and short-circuit conditions. 
</p>
<p>19.7 A series resonant de-de converter operates with a de input voltage of V8 = 550 V. The converter supplies 
</p>
<p>30 kV to a load. The de load power varies over the range 5 kW to 25 kW. It is desired to operate the 
</p>
<p>power transistors with zero-voltage switching. The maximum feasible switching frequency is 50 kHz. 
</p>
<p>An isolation transformer having a 1: n turns ratio is connected in series with the tank network. The peak 
tank capacitor voltage should be no greater than 2000 V, referred to the primary. 
</p>
<p>(a) Derive expressions for the peak tank capacitor voltage and peak tank inductor current. 
</p>
<p>(b) Select values for the tank inductance, tank capacitance, and turns ratio, such that the given spec-
</p>
<p>ifications are met. Attempt to minimize the peak tank inductor current, while maximizing the 
</p>
<p>worst-case minimum switching frequency. 
</p>
<p>19.8 Figure 19.55 illustrates a full-bridge resonant inverter containing an LLC tank network. 
</p>
<p>(a) Sketch the Bode diagrams of the input impedance under short-circuit and open-circuit condi-
</p>
<p>tions: II Z;o()w) II and II Z;=()w) 11. Give analytical expressions for the resonant frequencies and 
asymptotes. 
</p>
<p>(b) Describe the conditions on switching frequency and load resistance that lead to zero-voltage 
</p>
<p>switching. 
</p>
<p>(c) Derive an expression for the frequency fm' where II Z;0 II= II Zi= 11. </p>
<p/>
</div>
<div class="page"><p/>
<p>758 Resonant Conversion 
</p>
<p>~ Dl ~ I 
+ 
</p>
<p>vg + R v 
</p>
<p>~ D2 ~ 
</p>
<p>Fig. 19.55 LLC inverter of Problem 19.8. 
</p>
<p>(d) Sketch the Bode plot of II H~Uro) 11. Label the resonant frequency, and give analytical expres-
</p>
<p>sions for the asymptotes. 
</p>
<p>19.9 You are given the LLC inverter circuit of Fig. 19.56. Under nominal conditions, this converter operates 
</p>
<p>at switching frequency f.= 100kHz. All e1ements are ideal. 
</p>
<p>~ Dl ~ 
+ 
</p>
<p>vg + 
12 v v 
</p>
<p>~ D2 ~ 
</p>
<p>Fig. 19.56 Transformer-isolated LLC inverter, Problem 19.9. 
</p>
<p>(a) Determine the numerical values of the open-circuit peak output voltage Voc and the short-circuit 
</p>
<p>peak output current lsc&middot; 
</p>
<p>(b) Sketch the elliptical output characteristic. Over what portion of this ellipse does the converter 
</p>
<p>operate with zero-voltage switching? Does it operate with zero-voltage switching at matched 
</p>
<p>load? 
</p>
<p>(c) Sketch the Bode plots of II Zi~ II and II ZiO 11. and label the numerical values off 0 .f~,f ... and f.. 
</p>
<p>(d) What is the numerical value of the peak transistor current when R = 0? When R--+ oo? 
</p>
<p>(e) The inverter operates with load resistances that can vary between 500 Q and an open circuit. 
</p>
<p>What is the resulting range of output voltage? Does the inverter always operate with zero-volt-
</p>
<p>age switching? 
</p>
<p>19.10 It is desired to obtain a converter with current source characteristics. Hence, a series resonant converter 
</p>
<p>is designed for operation in the k = 2 discontinuous conduction mode. The switching frequency is chosen 
</p>
<p>to be f.= 0.225/0, wheref0 is the tank resonant frequency (consider only open-loop operation). The load 
</p>
<p>R is a linear resistance which can assume any positive value: 0 :&gt;: R &lt; oo, 
</p>
<p>(a) Plot the output characteristics (M vs. 1), for all values of R in the range 0 :&gt;: R &lt; oo. Label mode 
</p>
<p>boundaries, evaluate the short-circuit current, and give analytical expressions for the output 
</p>
<p>characteristics. </p>
<p/>
</div>
<div class="page"><p/>
<p>19.11 
</p>
<p>Problems 159 
</p>
<p>(b) Over what range of R (referred to the tank characteristic impedance R0 ) does the converter oper-
</p>
<p>ate as intended, in the k = 2 discontinuous conduction mode? 
</p>
<p>The parallel resonant converter as a single-phase high-quality rectifier. It is desired to utilize a trans-
</p>
<p>former-isolated parallel resonant de-de converter in a single-phase low-harmonic rectifier system. By 
</p>
<p>properly varying the converter switching frequency, a near-ideal rectifier system that can be modeled as 
</p>
<p>in Fig. 18.12 is obtained. You may utilize the results of Section 19.5.2 to answer this problem. The paral-
</p>
<p>lel resonant tank network contains an isolation transformer having a 1: n turns ratio. You may use either 
</p>
<p>approximate graphical analysis or computer iteration to answer parts (b) and (c). 
</p>
<p>(a) Plot the normalized input characteristics (normalized input voltage mg = nvglv vs. normalized 
input currentjg = ignR0/v) of the parallel resonant converter, operated in the continuous conduc-
tion mode above resonance. Plot curves for F = f/fo = 1.0, 1.1, 1.2, 1.3, 1.5, and 2.0. Compare 
these characteristics with the desired linear resistive input characteristic v /ig = Remulated. 
</p>
<p>(b) The converter is operated open-loop, with F = 1.1. The applied normalized input voltage is a rec-
tified sinusoid of unity magnitude: m/t) =I sin (wt) 1. Sketch the resulting normalized input cur-
rent waveformjg(t). Approximately how large is the peak current? The crossover dead time? 
</p>
<p>(c) A feedback loop is now added, which regulates the input current to follow the input voltage such 
</p>
<p>that i/t) = v/t)/Remutared' You may assume that the feedback loop operates perfectly. For the case 
</p>
<p>Remulared = R0, and with the same applied mg(t) waveform as in part (b), sketch the switching fre-
quency waveform for one ac line period [i.e., show how the controller must vary F to regulate 
</p>
<p>i/t)]. What is the maximum value ofF? Note: In practice, the converter would be designed to 
</p>
<p>operate with a smaller peak value ofjg, so that the switching frequency variations would be bet-
</p>
<p>ter behaved. 
</p>
<p>(d) Choose element values (tank inductance, tank capacitance, and transformer turns ratio) such tbat 
</p>
<p>the converter of part (c) meets the following specifications: 
</p>
<p>Ac input voltage 120 Vrms, 60Hz 
</p>
<p>De output voltage 42 V 
</p>
<p>Average power 
</p>
<p>Maximum switching frequency 
</p>
<p>soow 
200kHz 
</p>
<p>Refer the element values to the primary side of the transformer. </p>
<p/>
</div>
<div class="page"><p/>
<p>20 
Soft Switching 
</p>
<p>In addition to the resonant circuits introduced in Chapter 19, there has been much interest in reducing the 
</p>
<p>switching loss of the PWM converters of the previous chapters. Several of the more popular approaches 
</p>
<p>to obtaining soft switching in buck, boost, and other converters, are discussed in this chapter. 
</p>
<p>Mechanisms that cause switching loss are discussed in Chapter 4, including diode reverse 
</p>
<p>recovery, semiconductor output capacitances, and IGBT current tailing. Soft switching involves mitiga-
</p>
<p>tion of one or more of these switching loss mechanisms in a PWM converter. The energy that would oth-
</p>
<p>erwise be lost is recovered, and is transferred to the converter source or load. The operation of a 
</p>
<p>semiconductor device, during a given tum-on or tum-off switching transition, can be classified as hard-
</p>
<p>switched, zero-current switched, or zero-voltage switched. Operation of diodes and transistors with soft 
</p>
<p>switching is examined in Section 20.1. In particular, it is preferable to operate diodes with zero-voltage 
</p>
<p>switching at their tum-off transitions, and to operate MOSFETs with zero-voltage switching during their 
</p>
<p>tum-on transitions. However, zero-voltage switching comes at the expense of increased conduction loss, 
</p>
<p>and so the engineer must consider the effect of soft switching on the overall converter efficiency. 
</p>
<p>Resonant switch converters are a broad class of converters in which the PWM switch network of 
</p>
<p>a conventional buck, boost, or other converter is replaced with a switch cell containing resonant ele-
</p>
<p>ments. These resonant elements are positioned such that the semiconductor devices operate with zero-
</p>
<p>current or zero-voltage switching, and such that one or more of the switching loss mechanisms is reduced 
</p>
<p>or eliminated. Other soft-switching approaches may employ resonant switching transitions, but other-
</p>
<p>wise exhibit the approximately rectangular waveforms of hard-switched converters. In any case, the 
</p>
<p>resulting hybrid converter combines the properties of the resonant switching network and the parent 
</p>
<p>hard-switched PWM converter. 
</p>
<p>Soft-switching converters can exhibit reduced switching loss, at the expense of increased con-
</p>
<p>duction loss. Obtaining zero-voltage or zero-current switching requires that the resonant elements have 
</p>
<p>large ripple; often, these elements are operated in a manner similar to the discontinuous conduction </p>
<p/>
</div>
<div class="page"><p/>
<p>762 Soft Switching 
</p>
<p>modes of the series or parallel resonant converters. As in other resonant schemes, the objectives of 
</p>
<p>designing such a converter are: (1) to obtain smaller transformer and low-pass filter elements via increase 
</p>
<p>of the switching frequency, and/or (2) to reduce the switching loss induced by component nonidealities 
</p>
<p>such as diode stored charge, semiconductor device capacitances, and transformer leakage inductance and 
</p>
<p>winding capacitance. 
</p>
<p>The resonant switch and soft-switching ideas are quite general, and can be applied to a variety 
</p>
<p>of topologies and applications. A large number of resonant switch networks have been documented in the 
</p>
<p>literature; a few basic approaches are listed here [1-24]. The basic zero-current-switching quasi-resonant 
</p>
<p>switch network is analyzed in detail in Section 20.2. Expressions for the average components of the 
</p>
<p>switch network terminal waveforms are found, leading to determination of the switch conversion ratio /).. 
</p>
<p>The switch conversion ratio /l performs the role of the duty cycle d of CCM PWM switch networks. For 
</p>
<p>example, the buck converter exhibits conversion ratio M equal to /).. Both half-wave and full-wave ring-
</p>
<p>ing of the tank network is considered; these lead to different switch conversion ratio functions ll&middot; In gen-
</p>
<p>eral, given a PWM CCM converter having conversion ratio M(d), we can replace the PWM switch 
</p>
<p>network with a resonant switch network having switch conversion ratio ll&middot; The resulting quasi-resonant 
</p>
<p>converter will then have conversion ratio M(/).). So we can obtain soft-switching versions of all of the 
</p>
<p>basic converters (buck, boost, buck-boost, forward, flyback, etc.), that exhibit zero-voltage or zero-cur-
</p>
<p>rent switching and other desirable properties. 
</p>
<p>In Section 20.3, the characteristics of several other resonant switch networks are listed: the 
</p>
<p>zero-voltage-switching quasi-resonant switch network, the zero-current-switching and zero-voltage-
</p>
<p>switching quasi-square-wave networks, and the multiresonant switch network. One can obtain zero-volt-
</p>
<p>age switching in all transistors and diodes using these networks. 
</p>
<p>Several related soft-switching approaches are now popular, which attain zero-voltage switching 
</p>
<p>of the transistor or transistors in commonly-used converters. The zero-voltage transition approach finds 
</p>
<p>application in full-bridge buck-derived converters. Active-clamp snubbers are often added to forward and 
</p>
<p>fiyback converters, to attain zero-voltage switching and to reset the transformer. These circuits lead to 
</p>
<p>zero-voltage switching of the transistors, but (less-than-optimal) zero-current switching of the second-
</p>
<p>ary-side diodes. Nonetheless, high efficiency can be achieved. An auxiliary resonant-commutated pole 
</p>
<p>can achieve zero-voltage switching in voltage-source inverters. These converters are briefly discussed in 
</p>
<p>Section 20.4. 
</p>
<p>20.1 SOFT -SWITCIITNG MECHANISMS 
</p>
<p>OF SEMICONDUCTOR DEVICES 
</p>
<p>When loosely used, the terms "zero-current switching" and "zero-voltage switching" normally refer to 
</p>
<p>one or more switching transitions of the transistor in a converter. However, to fully understand how a 
</p>
<p>converter generates switching loss, one must closely examine the switching transitions of every semicon-
</p>
<p>ductor device. As described in Section 4.3, there are typically several mechanisms that are sources of sig-
</p>
<p>nificant switching loss. At the tum-off transition of a diode, its reverse-recovery process can induce loss 
</p>
<p>in the transistor or other elements of the converter. The energy stored in the output capacitance of a 
</p>
<p>MOSFET can be lost when the MOSFET turns on. IGBTs can lose significant energy during their tum-
</p>
<p>off transition, owing to the current-tailing phenomenon. The effects of zero-current switching and zero-
</p>
<p>voltage switching on each of these devices is discussed in detail below. </p>
<p/>
</div>
<div class="page"><p/>
<p>20.1 Soft-Switching Mechanisms of Semiconductor Devices 763 
</p>
<p>(a) 
</p>
<p>I 
</p>
<p>Silicon vg v(t) 
diode 
</p>
<p>+ 
i(t) 
</p>
<p>Fig. 20.1 Hard switching at the turn-off transition of a 
</p>
<p>diode, conventional buck converter example: (a) schematic, 
</p>
<p>(b) diode voltage and current waveforms. 
</p>
<p>20.1.1 Diode Switching 
</p>
<p>(b) 
</p>
<p>i(t) I 
</p>
<p>0 
</p>
<p>Area 
</p>
<p>Qr 
v(t) 
</p>
<p>0 
</p>
<p>As discussed in Chapter 4, the reverse-recovery process usually leads to significant switching loss associ-
</p>
<p>ated with the tum-off transition of diodes. This is often the largest single source of loss in a hard-
</p>
<p>switched converter. Normally, negligible loss is associated with the tum-on transition of power diodes. 
</p>
<p>Three types of diode turn-off transition waveforms are commonly encountered in modem switching con-
</p>
<p>verters: hard switching, zero-current switching, and zero-voltage switching. 
</p>
<p>Figure 20.1 illustrates a conventional hard-switched PWM buck converter. The diode voltage 
</p>
<p>and current waveforms v(t) and i(t) are also illustrated, with an exaggerated reverse recovery time. The 
</p>
<p>output inductor current ripple is small. The diode turns off when the transistor is turned on; the reverse 
</p>
<p>recovery process leads to a negative peak current of large amplitude. The diode must immediately sup-
</p>
<p>port the full reverse voltage Vg, and hence both v(t) and i(t) must change with large slopes during reverse 
</p>
<p>recovery. As described in Section 4.3.2, hard switching of the diode induces energy loss W0 in the tran-
</p>
<p>sistor, given approximately by 
</p>
<p>(20.1) 
</p>
<p>where Qr is the diode recovered charge and tr is the reverse recovery time, both taken to be positive quan-
</p>
<p>tities. The recovered charge is relatively large because the slope dildt is large during the turn-off transi-
</p>
<p>tion. The resonant circuit formed by the diode output capacitance Cj and the diode package and other 
</p>
<p>wiring inductances leads to ringing at the end of the reverse recovery time. 
</p>
<p>Figure 20.2 illustrates zero-current switching at the turn-off transition of a diode. The converter 
</p>
<p>example is a quasi-resonant zero-voltage switching buck converter (see Section 20.3.1). The output 
</p>
<p>inductor current ripple is again small. However, tank inductor Lr is now connected in series with the 
</p>
<p>diode. The resulting diode current waveform i(t) changes with a limited slope as shown. The diode 
</p>
<p>reverse-recovery process commences when i(t) passes through zero and becomes negative. The negative 
</p>
<p>i(t) actively removes stored charge from the diode; during this reverse recovery time, the diode remains 
</p>
<p>forward-biased. When the stored charge is removed, then the diode voltage must rapidly change to- V8&bull; 
</p>
<p>As described in Section 4.3.3, energy W 0 is stored in inductor Lr at the end of the reverse recovery time, 
given by </p>
<p/>
</div>
<div class="page"><p/>
<p>764 Soft Switching 
</p>
<p>(a) (b) 
i(t) 
</p>
<p>0 
</p>
<p>vg 
Area 
</p>
<p>Q, 
</p>
<p>v(t) 
0 
</p>
<p>Fig. 20.2 Zero-current switching at the turn-off transition of a diode, ZVS quasi-resonant buck converter example: 
</p>
<p>(a) converter schematic, (b) diode voltage and current waveforms. 
</p>
<p>(20.2) 
</p>
<p>The resonant circuit formed by L, and the diode output capacitance c1 then cause this energy to be circu-
lated between L, and c1. This energy is eventually dissipated by parasitic resistive elements in the circuit, 
and hence is lost. Since Eqs. (20.1) and (20.2) are similar in form, the switching losses induced by the 
</p>
<p>reverse-recovery processes of diodes operating with hard switching and with zero-current switching are 
</p>
<p>similar in magnitude. Zero-current switching may lead to somewhat lower loss because the reduced di/dt 
</p>
<p>leads to less recovered charge Q,. Zero-current switching of diodes also typically leads to increased peak 
inverse diode voltage during the ringing of L, and c1, because of the relatively large value of L,. 
</p>
<p>When a diode operates with hard switching or zero-current switching, and when substantial 
</p>
<p>inductance is present in series with the diode, then significant ringing is observed in the diode voltage 
</p>
<p>waveform. A resonant circuit, comprised of the series inductance and the diode output capacitance, is 
</p>
<p>excited by the diode reverse recovery process, and the resulting ringing voltage can be of large enough 
</p>
<p>magnitude to lead to breakdown and failure of the diode. A common example is the diodes on the sec-
</p>
<p>ondary side of a hard-switched transformer-isolated converter; the resonant circuit is then formed by the 
</p>
<p>transformer leakage inductance and the diode output capacitance. Other examples are the circuits of 
</p>
<p>Figs. 20.2 and 20.36, in which the series inductance is a discrete tank inductor. 
</p>
<p>A simple snubber circuit that is often used to protect the diode from excessive reverse voltage is 
</p>
<p>Fig. 20.3 A dissipative snubber circuit, for protec-
</p>
<p>tion of a diode from excessive voltage caused by 
</p>
<p>ringing. 
</p>
<p>Tank 
circuit </p>
<p/>
</div>
<div class="page"><p/>
<p>20.1 Soft-Switching Mechanisms of Semiconductor Devices 765 
</p>
<p>(a) 
i,(t) 
</p>
<p>i(t) L,. 
</p>
<p>vg cr 
</p>
<p>+ 
Fig. 20.4 Zero-voltage switching 
at the turn-off transition of a diode, (b) i(t) ZVS quasi-squarewave buck con-
verter example: (a) converter sche-
matic, (b) diode current and voltage 
waveforms. Area 
</p>
<p>0 Qr 
</p>
<p>0 
</p>
<p>illustrated in Fig. 20.3. Resistor R damps the ringing of the resonant circuit. Capacitor C prevents the 
</p>
<p>off-state voltage of the diode from causing excessive power loss in R. Nonetheless, the energy consumed 
</p>
<p>by R per switching period is typically greater than Eqs. (20.1) or (20.2). 
</p>
<p>Figure 20.4 illustrates zero-voltage switching at the tum-off transition of a diode. The figure 
</p>
<p>illustrates the example of a zero-voltage switching quasi-square wave buck converter, discussed in Sec-
</p>
<p>tion 20.3.3. The output inductor Lr of this converter assumes the role of the tank inductor, and exhibits 
</p>
<p>large current ripple that causes the current i,(t) to reverse polarity. While the diode conducts, its current 
</p>
<p>i(t) is equal to ir(t). When i,(t) becomes negative, the diode continues to conduct until its stored charge Qr 
</p>
<p>has been removed. The diode then becomes reverse-biased, and ir(t) flows through capacitor Cr and the 
</p>
<p>diode output capacitance Cj. The diode voltage and current both change with limited slope in this type of 
</p>
<p>switching, and the loss induced by the diode reverse-recovery process is negligible because the wave-
</p>
<p>forms are not significantly damped by parasitic resistances in the circuit, and because the peak currents 
</p>
<p>during reverse recovery are relatively low. The diode stored charge and diode output capacitance both 
</p>
<p>behave as an effective nonlinear capacitor that can be combined with (or replace) tank capacitor Cr. 
</p>
<p>Snubber circuits such as Fig. 20.3 are not necessary when the diode operates with zero-voltage switch-
</p>
<p>ing. 
</p>
<p>Thus, zero-voltage switching at the turn-off transition of a diode is the preferred approach, that 
</p>
<p>leads to minimum switching loss. Zero-current switching at the tum-off transition can be problematic, 
</p>
<p>because of the high peak inverse voltage induced across the diode by ringing. 
</p>
<p>20.1.2 MOSFET Switching 
</p>
<p>The switching loss mechanisms typically encountered by a MOSFET in a hard-switched converter are 
</p>
<p>discussed in Chapter 4, and typical MOSFET voltage and current waveforms are illustrated in Fig. 20.5. 
</p>
<p>The most significant components of switching loss in the MOSFET of this circuit are: (1) the loss </p>
<p/>
</div>
<div class="page"><p/>
<p>766 Soft Switching 
</p>
<p>(a) 
</p>
<p>+ v(t) -
</p>
<p>I 
</p>
<p>Silicon 
diode 
</p>
<p>(b) 
</p>
<p>i(t) 
</p>
<p>0 
</p>
<p>I 0 r. 
induced by the diode reverse recovery process, and (2) the loss of the energy stored in the MOSFET out-
</p>
<p>put capacitance Cds' Both loss mechanisms occur during the MOSFET tum-on process. 
</p>
<p>In the hard-switched circuit of Fig. 20.5, there is essentially no switching loss incurred during 
</p>
<p>the MOSFET tum-off transition. This occurs because of the substantial output capacitance Cds of the 
</p>
<p>MOSFET. This capacitance holds the voltage v(t) close to zero while the MOSFET turns off, so that the 
</p>
<p>tum-off switching loss is very small. After the MOSFET has turned off, the output inductor current I 
</p>
<p>flows through Cds. The voltage v(t) then increases until v = Vg and the diode becomes forward biased. 
However, when the MOSFET turns on, a high peak current flows through the MOSFET chan-
</p>
<p>nel, induced by the diode reverse recovery and by the output capacitances of the MOSFET and diode. 
</p>
<p>This leads to substantial energy loss during the hard-switched tum-on transition of the MOSFET. 
</p>
<p>When a MOSFET (or other transistor) operates with hard switching, and when substantial 
</p>
<p>inductance is present in series with the MOSFET, then significant ringing is observed in the MOSFET 
</p>
<p>voltage waveform. A resonant circuit, composed of the MOSFET output capacitance and the series 
</p>
<p>inductance, is excited when the MOSFET turns off, and the resulting ringing voltage can be of large 
</p>
<p>enough magnitude to lead to breakdown and failure of the MOSFET. A common example is the MOS-
</p>
<p>+ 
</p>
<p>-----, 
Csl 
</p>
<p>+ I 
I 
</p>
<p>n, I 
</p>
<p>Rs 
</p>
<p>!Snubber 
I circuit 
~--------------------------1 
</p>
<p>-I 
Fig. 20.6 Insertion of a dissipative voltage-clamped snubber circuit into a flyback converter. The MOSFET volt-
</p>
<p>age is clamped to a peak value of (V8 + v,). </p>
<p/>
</div>
<div class="page"><p/>
<p>20.1 Soft-Switching Mechanisms of Semiconductor Devices 767 
</p>
<p>FET of the flyback converter, in which series inductance is introduced by the transformer leakage induc-
</p>
<p>tance. An R-C snubber circuit, similar to that used for the diode in Fig. 20.3, can be used to protect the 
</p>
<p>MOSFET from damage caused by excessive applied voltage. Another common snubber circuit is illus-
</p>
<p>trated in Fig. 20.6. When the MOSFET turns off, the current flowing in the transformer leakage induc-
</p>
<p>tance Le begins to flow into the MOSFET capacitance Cds&middot; These parasitic elements then ring, and the 
peak transistor voltage can significantly exceed the ideal value of (DID')Vg. 
</p>
<p>One simple way to design the snubber circuit of Fig. 20.6 is to choose the capacitance Cs to be 
</p>
<p>large, so that v/t) "' Vs contains negligible switching ripple. The resistance Rs is then chosen so that the 
</p>
<p>power consumption of Rs at the desired voltage Vs is equal to the switching loss caused by Le: 
</p>
<p>(20.3) 
</p>
<p>The current i is equal to the current flowing in the transformer primary just before the MOSFET is turned 
</p>
<p>off. This approximate expression is useful for obtaining a first estimate of how to chooseRs to obtain a 
</p>
<p>given desired Vs. 
Zero-current switching does not affect the switching loss that arises from the MOSFET output 
</p>
<p>capacitance, and it may or may not influence the loss induced by diode reverse recovery. In consequence, 
</p>
<p>zero-current switching is of little or no help in improving the efficiency of converters that employ MOS-
</p>
<p>FETs. 
</p>
<p>Zero-voltage switching can prevent both diode reverse recovery and semiconductor output 
</p>
<p>capacitances from inducing switching loss in MOSFETs. An example is illustrated in Fig. 20.7. This cir-
</p>
<p>cuit is again a zero-voltage switching quasi-squarewave example, discussed in Section 20.3.3. The con-
</p>
<p>verter circuit naturally discharges the energy stored in Cds' before the MOSFET is switched on. When the 
</p>
<p>drain-to-source voltage v(t) passes through zero, the MOSFET body diode becomes forward-biased. The 
</p>
<p>MOSFET can then be turned on at zero voltage, without incurring turn-on switching loss. The MOSFET 
</p>
<p>tum-on transition must be completed before the tank inductor current i,(t) becomes positive. The MOS-
</p>
<p>FET tum-off transition is also lossless, and is similar to the hard-switched case discussed above. 
</p>
<p>Zero-voltage switching of a MOSFET also causes its body diode to operate with zero-voltage 
</p>
<p>switching. This can eliminate the switching loss associated with reverse recovery of the slow body diode, 
</p>
<p>and improve the reliability of circuits that forward-bias this diode. 
</p>
<p>(a) 
</p>
<p>+ v(t) -
</p>
<p>(b) 
</p>
<p>i(t) 
</p>
<p>Fig. 20.7 Zero-voltage switching of a MOSFET, ZVS quasi-squarewave buck converter example. The MOSFET, 
</p>
<p>its body diode, and its output capacitance Cds are illustrated. (a) converter schematic, (b) MOSFET voltage and cur-
</p>
<p>rent waveforms. </p>
<p/>
</div>
<div class="page"><p/>
<p>768 Soft Switching 
</p>
<p>Zero-voltage switching can also eliminate the overvoltage problems associated with trans-
</p>
<p>former leakage inductances, removing the need for voltage-clamped snubber circuits such as in 
</p>
<p>Fig. 20.6. An example is discussed in Section 20.4.2. 
</p>
<p>20.1.3 IGBT Switching 
</p>
<p>Like the MOSFET, the IGBT typically encounters substantial switching loss during its tum-on transition, 
</p>
<p>induced by the reverse-recovery process of diodes within the converter. In addition, the IGBT exhibits 
</p>
<p>significant switching loss during its tum-off transition, caused by the current tailing phenomenon (see 
</p>
<p>Chapter4). 
</p>
<p>Zero-voltage switching has been successfully applied to IGBT circuits-an example is the aux-
</p>
<p>iliary resonant commutation circuit discussed in Section 20.4.3. This has the principal advantage of elim-
</p>
<p>inating the switching loss caused by diode reverse recovery. Although zero-voltage switching can reduce 
</p>
<p>the loss incurred during the tum-off transition, it is difficult to eliminate the substantial loss caused by 
</p>
<p>current tailing. 
</p>
<p>20.2 THE ZERO-CURRENT SWITCHING QUASI-RESONANT SWITCH CELL 
</p>
<p>Figure 20.8(a) illustrates a generic buck converter, consisting of a switch cell cascaded by an L-C low-
</p>
<p>pass filter. When the switch cell is realized as in Fig. 20.8(b), then a conventional PWM buck converter 
</p>
<p>is obtained. Figures 20.8(b) and (c) illustrate two other possible realizations of the switch cell: the half-
</p>
<p>wave and full-wave zero-current-switching quasi-resonant switches [1, 2]. In these switch cells, a reso-
</p>
<p>nant tank capacitor Cr is placed in parallel with diode D2 , while resonant tank capacitor Lr is placed in 
</p>
<p>series with the active transistor element. 
</p>
<p>Both resonant switch cells require a two-quadrant SPST switch. In the half-wave switch cell of 
</p>
<p>Fig. 20.8(c), diode D 1 is added in series with transistor Q1&bull; This causes the QcD1 SPST switch to tum 
off at the first zero crossing of the tank inductor current i1 (t). In the full-wave switch cell of Fig. 20.8( d), 
</p>
<p>antiparallel diode D 1 allows bidirectional flow of the tank inductor current i1(t). With this switch net-
</p>
<p>work, the Q1-D1 SPST switch is normally turned off at the second zero-crossing of the i1(t) waveform. In 
</p>
<p>either switch cell, the Lr and Cr elements are relatively small in value, such that their resonant frequency 
</p>
<p>fo is greater than the switching frequency f., where 
</p>
<p>(20.4) 
</p>
<p>In the analysis which follows, it is assumed that the converter filter element values Land C have 
</p>
<p>negligible switching ripple. Hence, the switch cell terminal waveforms v1(t) and i2(t) are well-approxi-
</p>
<p>mated by their average values: 
</p>
<p>(20.5) 
</p>
<p>with the average defined as in Eq. (7.3). In steady-state, we can further approximate v1(t) and i2(t) by 
</p>
<p>their de components V1 and 12: </p>
<p/>
</div>
<div class="page"><p/>
<p>(a) 
</p>
<p>(b) 
</p>
<p>(c) 
</p>
<p>(d) 
</p>
<p>20.2 The Zero-Current Switching Quasi-Resonant Switch Cell 769 
</p>
<p>Switch 
cell 
</p>
<p>T 
</p>
<p>+ 
</p>
<p>t ....................................... } 
</p>
<p>Switch network 
</p>
<p>L 
i(t) 
</p>
<p>c 
</p>
<p>v2(t) 
</p>
<p>cr 
</p>
<p>&middot;------------------------------------&middot;&middot;&middot;----&middot; 
</p>
<p>---&middot;&middot;&middot;&middot;----&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;--&middot;&middot;&middot;&middot;&middot;&middot;&middot;--&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>R 
</p>
<p>v2(t) 
</p>
<p>1 
.... ------- ............................ ___ 1 i2/t) I iz(t) 
</p>
<p>+ 
</p>
<p>Switch network 
---------------------&middot;&middot;&middot;-------------------
</p>
<p>+ 
</p>
<p>v(t) 
</p>
<p>Fig. 20.8 Implementation of the switch cell in a buck converter: (a) buck converter, with arbitrary switch cell; 
</p>
<p>(b) PWM switch cell; (c) half-wave ZCS quasi-resonant switch cell; (d) full-wave ZCS quasi-resonant switch cell. </p>
<p/>
</div>
<div class="page"><p/>
<p>770 Soft Switching 
</p>
<p>:&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-----&middot;&middot;&middot;&middot;------&middot;----&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;: 
;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;-----&middot;; . . 
'DI QI ' 
</p>
<p>iz/0 
</p>
<p>+ 
</p>
<p>; _______ &sect;.~!t.c_~--'!:~~?_!~------' 
</p>
<p>! .... f!C!:!f.":!.C!:.~_e._z:.c;_~_qz:_{_I:S.i_~!:e.S.?..'!:C!:!!.t __ ~"'!it_~-~-~-e-~1 
</p>
<p>Fig. 20.9 The half-wave ZCS quasi-resonant switch cell, driven by the terminal quantities (vi (t) )r,. and (iz(t))Ts" 
</p>
<p>iz(t)=elz 
</p>
<p>vi(t)"' VI 
</p>
<p>Thus, the small-ripple approximation is employed for the converter filter elements, as usual. 
</p>
<p>(20.6) 
</p>
<p>To understand the operation of the half-wave ZCS quasi-resonant switch cell, we can solve the 
</p>
<p>simplified circuit illustrated in Fig. 20.9. In accordance with the averaged switch modeling approach of 
</p>
<p>Sections 7.4 and 11.1, it is desired to determine the average terminal waveforms (v2(t))Ts and (i1(t))Ts' as 
</p>
<p>functions of the applied quantities ( v 1 (t) &gt;rs and ( iz(t) )Ts" The switch conversion ratio 11 is then given by 
</p>
<p>(20.7) 
</p>
<p>In steady state, we can write 
</p>
<p>(20.8) 
</p>
<p>The steady-state analysis of this section employs Eq. (20.8) to determine 11&middot; 
</p>
<p>20.2.1 Waveforms of the Half-Wave ZCS Quasi-Resonant Switch Cell 
</p>
<p>Typical waveforms of the half-wave cell of Fig. 20.9 are illustrated in Fig. 20.10. Each switching period 
</p>
<p>consists of four subintervals as shown, having angular lengths a, 0, 8, and 1;. The switching period begins 
when the controller turns on transistor Q1. The initial values of the tank inductor current i1(t) and tank 
capacitor voltage v2(t) are zero. During subinterval 1, all three semiconductor devices conduct. Diode D2 
is forward-biased because i1 (t) is less than / 2 . In consequence, during subinterval 1 the switch cell 
</p>
<p>reduces to the circuit of Fig. 20.11. 
</p>
<p>The slope of the inductor current is given by 
</p>
<p>(20.9) </p>
<p/>
</div>
<div class="page"><p/>
<p>20.2 The Zero-Current Switching Quasi-Resonant Switch Cell 771 
</p>
<p>l,(:b 
Subinterval: 1 ; 2 ; 3 4 
</p>
<p>Fig. 20.10 Tank inductor current and capacitor 
</p>
<p>voltage waveforms, for the half-wave ZCS quasi-res-
</p>
<p>onant switch of Fig. 20.9. 
</p>
<p>vz(t) ]I !v) l, 
. LJ~r 
</p>
<p>with the initial condition i1 (0) = 0. The solution is 
</p>
<p>Conducting 
devices: 
</p>
<p>where the tank characteristic impedance R0 is defined as 
</p>
<p>R- (T; o-y C, 
</p>
<p>i a ' P ' 8 ' ~ 
!-! i-i----'-&bull; 
i : woT, ----+ 
</p>
<p>X 
</p>
<p>1. 
e = (J)ot 
</p>
<p>(20.10) 
</p>
<p>(20.11) 
</p>
<p>It is convenient to express the waveforms in terms of the angle 8 = uv, instead of time t. At the end of 
subinterval 1, u:Jof =a. The subinterval ends when diode D2 becomes reverse-biased. Since the diode D2 
current is equal to 12 - i 1(t), this occurs when i 1(t) = 12 . Hence, we can write 
</p>
<p>(20.12) 
</p>
<p>Solution for a yields 
</p>
<p>(20.13) 
</p>
<p>Fig. 20.11 Circuit of the switch network during subinterval 1. </p>
<p/>
</div>
<div class="page"><p/>
<p>772 Soft Switching 
</p>
<p>+ 
</p>
<p>Fig. 20.12 Circuit of the switch network during 
</p>
<p>subinterval 2. V1 
</p>
<p>During subinterval2, transistor Q1 and diode D1 conduct, while diode D2 is reverse-biased. The 
switch network then becomes the circuit illustrated in Fig. 20.12. The resonant L,-C, tank network is 
</p>
<p>excited by the constant sources V1 and /2 . The network equations are 
</p>
<p>with the initial conditions 
</p>
<p>The solution is 
</p>
<p>L di 1(w0t)_v ( ) 
r d t - I - Vz Wot 
</p>
<p>C dv2(uJof) _. ( ) -I 
r dt -II Wot 2 
</p>
<p>v2(a)=0 
</p>
<p>i 1(a)=I2 
</p>
<p>i/W0t) = I 2 + ~ 1 sin (w0t- a) 
0 
</p>
<p>vz(w0t) = V1 ( 1- cos (w0t- a)) 
</p>
<p>The tank inductor current rises to a peak value given by 
</p>
<p>(20.14) 
</p>
<p>(20.15) 
</p>
<p>(20.16) 
</p>
<p>(20.17) 
</p>
<p>The subinterval ends at the first zero crossing of i 1(t). If we denote the angular length of the subinterval 
</p>
<p>as (3, then we can write 
</p>
<p>(20.18) 
</p>
<p>Solution for sin ((3) yields 
</p>
<p>sin ((3) =- I ~Ro 
I 
</p>
<p>(20.19) 
</p>
<p>Care must be employed when solving Eq. (20.19) for the angle (3. It can be observed from Fig. 20.10 
</p>
<p>that the angle f3 is greater than n. The correct branch of the arcsine function must be selected, as follows: 
</p>
<p>(20.20) </p>
<p/>
</div>
<div class="page"><p/>
<p>20.2 The Zero-Current Switching Quasi-Resonant Switch Cell 773 
</p>
<p>+ 
</p>
<p>Fig. 20.13 Circuit of the switch network during subinterval3. cr 
</p>
<p>where 
</p>
<p>Note that the inequality 
</p>
<p>(20.21) 
</p>
<p>must be satisfied; otherwise, there is no solution to Eq. (20.19). At excessive load currents, where Eq. 
</p>
<p>(20.21) is not satisfied, the tank inductor current never reaches zero, and the transistor does not switch off 
</p>
<p>at zero current. 
</p>
<p>The tank capacitor voltage at the end of subinterval 2 is found by evaluation of Eq. (20.16) at 
</p>
<p>Olaf= (a + ~). The cos (~) term can be expressed as 
</p>
<p>1-(~tr~of (20.22) 
</p>
<p>Substitution ofEq. (20.22) into Eq. (20.16) leads to 
</p>
<p>1- ( IV~o r) (20.23) 
At the end of subinterval 2, diode D1 becomes reverse-biased. Transistor Q1 can then be switched off at 
zero current. 
</p>
<p>During subinterval 3, all semiconductor devices are off, and the switch cell reduces to the cir-
</p>
<p>cuit of Fig. 20.13. The tank capacitor C, is discharged by the filter inductor current 12 &bull; Hence, the tank 
</p>
<p>capacitor voltage v2 decreases linearly to zero. The circuit equations are 
</p>
<p>C dvz(OJo!) =-I 
r dt 2 (20.24) 
</p>
<p>v2(CX +~)=Vel 
</p>
<p>The solution is 
</p>
<p>(20.25) 
</p>
<p>Subinterval 3 ends when the tank capacitor voltage reaches zero. Diode D2 then becomes forward-biased. 
</p>
<p>Hence, we can write 
</p>
<p>(20.26) </p>
<p/>
</div>
<div class="page"><p/>
<p>774 Soft Switching 
</p>
<p>where o is the angular length of subinterval 3. Solution foro yields 
</p>
<p>l-( I~o r) (20.27) 
Subinterval 4. of angular length~. is identical to the diode conduction subinterval of the con-
</p>
<p>ventional PWM switch network. Diode D2 conducts the filter inductor current / 2 , and the tank capacitor 
</p>
<p>voltage v2 is equal to zero. Transistor Q1 is off, and the input current i 1 is equal to zero. 
</p>
<p>where 
</p>
<p>The angular length of the switching period is 
</p>
<p>A ~ " 2nfo 2n 
w0T, =a+ 1-' + u +., = T = F 
</p>
<p>F=t_ 
fo 
</p>
<p>(20.28) 
</p>
<p>(20.29) 
</p>
<p>Quasi-resonant switch networks are usually controlled by variation of the switching frequency fs or, in 
normalized terms, by variation of F. Note that the interval lengths a., ~. and o are determined by the 
response of the tank network. Hence, control of the switching frequency is equivalent to control of the 
</p>
<p>fourth subinterval length~&middot; The subinterval length~ must be positive, and hence, the minimum switch-
</p>
<p>ing period is limited as follows: 
</p>
<p>(20.30) 
</p>
<p>Substitution of Eqs. (20.13), (20.20), and (20.27) into Eq. (20.30) yields 
</p>
<p>2 I R . (I R ) V ( _11:2 _1_Q + 7t +Sin-! _1_Q + - 1- 1-
F vl VI IzRo 1- ( /t~o r) (20.31) 
</p>
<p>This expression limits the maximum switching frequency, or maximum F, of the half-wave ZCS quasi-
</p>
<p>resonant switch cell. 
</p>
<p>20.2.2 The Average Terminal Waveforms 
</p>
<p>It is now desired to solve for the power processing function performed by the switch network. The switch 
</p>
<p>conversion ratio Jl is a generalization of the duty cycle d. It expresses how a resonant switch network 
</p>
<p>controls the average voltages and currents of a converter. In our buck converter example, we can define Jl 
</p>
<p>as the ratio of (v2(t))1; to (v1(t))Ts, or equivalently, the ratio of (i1(t)\; to (i2(t))Ts" In a hard-switched 
PWM network, this ratio is equal to the duty cycle d. Hence, analytical results derived for hard-switched 
</p>
<p>PWM converters can be adapted to quasi-resonant converters, simply by replacing d with Jl. In this sec-
</p>
<p>tion, we derive an expression for Jl, by averaging the terminal waveforms of the switch network. 
</p>
<p>The switch input current waveform i1 (t) of Fig. 20.10 is reproduced in Fig. 20.14. The average 
</p>
<p>switch input current is given by </p>
<p/>
</div>
<div class="page"><p/>
<p>20.2 The Zero-Current Switching Quasi-Resonant Switch Cell 775 
</p>
<p>Fig. 20.14 Input current waveform i1(t), and the areas q1 and 
</p>
<p>q2 during subintervals 1 and 2 respectively. 
</p>
<p>(20.32) 
</p>
<p>The charge quantities q1 and q2 are the areas under the i1(t) waveform during the first and second sub-
intervals, respectively. The charge q 1 is given by the triangle area formula 
</p>
<p>(20.33) 
</p>
<p>The time a./ro0 is the length of subinterval 1. The charge q2 is 
</p>
<p>(20.34) 
</p>
<p>According to Fig. 20.12, during subinterval2 the current i1(t) can be related to the tank capacitor current 
</p>
<p>ic(t) and the switch output current /2 by the node equation 
</p>
<p>(20.35) 
</p>
<p>Substitution of Eq. (20.35) into Eq. (20.34) leads to 
</p>
<p>(20.36) 
</p>
<p>Both integrals in Eq. (20.36) can easily be evaluated, as follows. Since the second term involves the inte-
</p>
<p>gral of the constant current / 2 , this term is 
</p>
<p>(20.37) 
</p>
<p>The first term in Eq. (20.36) involves the integral of the capacitor current over subinterval 2 . Hence, this 
</p>
<p>term is equal to the change in capacitor charge over the second subinterval: 
</p>
<p>(20.38) </p>
<p/>
</div>
<div class="page"><p/>
<p>776 Soft Switching 
</p>
<p>(recall that !!q = C!!v in a capacitor). During the second subinterval, the tank capacitor voltage is initially 
</p>
<p>zero, and has a final value of Vel. Hence, Eq. (20.38) reduces to 
</p>
<p>(l+~ 
</p>
<p>J_:o ic(t)dt = c (vel - o) = CVc1 
(1)0 
</p>
<p>(20.39) 
</p>
<p>Substitution of Eqs. (20.37) and (20.39) into Eq. (20.36) leads to the following expression for q2: 
</p>
<p>(20.40) 
</p>
<p>Equations (20.33) and (20.40) can now be inserted into Eq. (20.32), to obtain the following expression 
</p>
<p>for the switch input current: 
</p>
<p>(20.41) 
</p>
<p>Substitution of Eq. (20.41) into (20.8) leads to the following expression for the switch conver-
</p>
<p>sion ratio: 
</p>
<p>(20.42) 
</p>
<p>Finally, the quantities a, ~. and Vel can be eliminated, using Eqs. (20.13), (20.20), (20.23). The result is 
</p>
<p>fl = F 2 ~ [-!- 1., + 1t + sin- 1(1.) + * ( 1 + .j 1-1;}] (2Q.43) 
where 
</p>
<p>(20.44) 
</p>
<p>Equation (20.43) is of the form 
</p>
<p>(20.45) 
</p>
<p>where 
</p>
<p>(20.46) 
</p>
<p>Thus, the switch conversion ratio Jl is directly controllable by variation of the switching frequency, 
</p>
<p>through F. The switch conversion ratio is also a function of the applied terminal voltage V1 and current /2 , 
</p>
<p>via ]8 &bull; The function P~(J.) is sketched in Fig. 20.15. The switch conversion ratio J.1. is sketched in 
</p>
<p>Fig. 20.16, for various values ofF and ]8 &bull; These characteristics are similar in shape to the function 
</p>
<p>P(J.), and are simply scaled by the factor F. It can be seen that the conversion ratio J.l. is a strong function </p>
<p/>
</div>
<div class="page"><p/>
<p>20.2 1he Zero-Current Switching Quasi-Resonant Switch Cell 777 
</p>
<p>10 
</p>
<p>8 
</p>
<p>6 
</p>
<p>Fig. 20.15 The function P~ (J,.). 
</p>
<p>4 
</p>
<p>2 
</p>
<p>0 
</p>
<p>0 0.2 0.4 0.6 0.8 
</p>
<p>ZCS boundary 
</p>
<p>0.8 
</p>
<p>0.6 
Fig. 20.16 Characteristics of the half-
</p>
<p>wave ZCS quasi-resonant switch. 1,. 
</p>
<p>0.4 
</p>
<p>0.2 
</p>
<p>0 
</p>
<p>0 0.2 0.4 0.6 0.8 
</p>
<p>of the current 12 , via Js. The characteristics end at Js = 1; according to Eq. (20.31), the zero current 
switching property is lost when 1,. &gt; 1. The characteristics also end at the maximum switching frequency 
limit given by Eq. (20.31). This expression can be simplified by use of Eq. (20.43), to express the limit in 
</p>
<p>terms of 11 as follows: </p>
<p/>
</div>
<div class="page"><p/>
<p>778 Soft Switching 
</p>
<p>II&lt; J- JsF 
r- 4n 
</p>
<p>The switch conversion ratio p. is thus limited to a value slightly less than 1. 
</p>
<p>(20.47) 
</p>
<p>The averaged waveforms of converters containing half-wave ZCS quasi-resonant switches can 
</p>
<p>now be determined. The results of the analysis of PWM converters operating in the continuous conduc-
</p>
<p>tion mode can be directly adapted to the related quasi-resonant converters, simply by replacing the duty 
</p>
<p>cycle d with the switch conversion ratio p.. For the buck converter example, the conversion ratio is 
</p>
<p>(20.48) 
</p>
<p>This result could also be derived by use of the principle of inductor volt-second balance. The average 
</p>
<p>voltage across the filter inductor is (p.Vg- V). Upon equating this voltage to zero, we obtain Eq. (20.48). 
</p>
<p>In the buck converter, 12 is equal to the load current /, while V1 is equal to the converter input 
</p>
<p>voltage Vg. Hence, the quantity Js is 
</p>
<p>Zero current switching occurs for 
</p>
<p>The output voltage can vary over the range 
</p>
<p>v 
I&lt;____&sect;_ 
</p>
<p>- Ro 
</p>
<p>(20.49) 
</p>
<p>(20.50) 
</p>
<p>0 &lt; V&lt; V _ FIRo (20.51) 
- - g 4n 
</p>
<p>which nearly coincides with the PWM output voltage range 0::::; V::::; Vg. 
</p>
<p>A boost converter employing a half-wave ZCS quasi-resonant switch is illustrated in 
</p>
<p>Fig. 20.17. The conversion ratio of the boost converter is given by 
</p>
<p>Fig. 20.17 Boost converter containing 
</p>
<p>a half-wave ZCS quasi-resonant switch. 
</p>
<p>c 
</p>
<p>+ 
</p>
<p>R V </p>
<p/>
</div>
<div class="page"><p/>
<p>20.2 The Zero-Current Switching Quasi-Resonant Switch Cell 779 
</p>
<p>The half-wave switch conversion ratio JL is again given by Eqs. (20.44) to (20.46). For the boost con-
</p>
<p>verter, the applied switch voltage V1 is equal to the output voltage V, while the applied switch current /2 is 
</p>
<p>equal to the filter inductor current, or 18&bull; Hence, the quantity Js is 
</p>
<p>Also, the input current Ig of the boost converter is related to the load current I according to 
</p>
<p>I=~/_ 
g 1-!-1 
</p>
<p>(20.53) 
</p>
<p>(20.54) 
</p>
<p>Equations (20.52) to (20.54), in conjunction with Eqs. (20.44) to (20.46), describe the averaged wave-
</p>
<p>forms of the half-wave quasi-resonant ZCS boost converter. 
</p>
<p>20.2.3 The Full-Wave ZCS Quasi-Resonant Switch Cell 
</p>
<p>The full-wave ZCS quasi-resonant switch cell is illustrated in Fig. 20.8(d). It differs from the half-wave 
</p>
<p>cell in that elements D 1 and Q1 are connected in antiparallel, to form a current-bidirectional two-quadrant 
</p>
<p>switch. Typical tank inductor current and tank capacitor voltage waveforms are illustrated in Fig. 20.18. 
</p>
<p>These waveforms are similar to those of the half-wave case, except that the Q1/D1 switch interrupts the 
tank inductor current i1(t) at its second zero-crossing. While i1(t) is negative, diode D1 conducts, and 
</p>
<p>transistor Q 1 can be turned off at zero current. 
</p>
<p>The analysis is nearly the same as for the half-wave case, with the exception of subinterval 2. 
</p>
<p>The subinterval 2 angular length ~ and final voltage Vel can be shown to be 
</p>
<p>_ f n + sin- 1 (Is) (half wave) 
B- \ 2n-sin- 1 (1,) (full wave) 
</p>
<p>Fig. 20.18 Tank inductor current and capacitor 
</p>
<p>voltage waveforms, for the full-wave ZCS quasi-
</p>
<p>resonant switch cell of Fig. 20.8(d). 
</p>
<p>Subinterval: 
</p>
<p>Conducting Q 1 
devices: Dz 
</p>
<p>(20.55) </p>
<p/>
</div>
<div class="page"><p/>
<p>780 Soft Switching 
</p>
<p>Fig. 20.19 Characteristics of the 
</p>
<p>full-wave ZCS quasi-resonant switch. 
</p>
<p>0.8 
</p>
<p>F=0.2 
</p>
<p>0.6 
</p>
<p>0.4 
</p>
<p>0.2 
</p>
<p>ZCS boundary 
</p>
<p>0.4 0.6 0.8 
</p>
<p>0 ,_-----T------+------+------r-----~ 
</p>
<p>0 0.2 0.4 0.6 0.8 
</p>
<p>V,={v,(1+V1-1;) (halfwave) 
c V1 ( 1-J 1 - 1;) (full wave) 
</p>
<p>(20.56) 
</p>
<p>In either case, the switch conversion ratio Jl is given by Eq. (20.42). For the full-wave switch, one obtains 
</p>
<p>(20.57) 
</p>
<p>where P1(Js) is given by 
</p>
<p>(20.58) 
</p>
<p>In the full-wave case, P 1 (Is) is essentially independent of Js: 
</p>
<p>(20.59) 
</p>
<p>The worst-case deviation of P 1(Js) from 1 occurs as Js tends to 1, where P1(Js) tends to 0.96. So P1(Js) 
</p>
<p>lies within 4% of unity for 0 &lt; Js &lt; 1. Hence, for the full-wave case, it is a good approximation to express 
the switch conversion ratio as 
</p>
<p>(20.60) 
</p>
<p>The full-wave quasi-resonant switch therefore exhibits voltage-source output characteristics, controllable </p>
<p/>
</div>
<div class="page"><p/>
<p>20.3 Resonant Switch Topologies 781 
</p>
<p>by F. Equations describing the average waveforms of CCM PWM converters can be adapted to apply to 
</p>
<p>full-wave ZCS quasi-resonant converters, simply by replacing the duty cycle d with the normalized 
</p>
<p>switching frequency F. The conversion ratios of full-wave quasi-resonant converters exhibit negligible 
</p>
<p>dependence on the load current. 
</p>
<p>The variation of the switch conversion ratio Jl with F and Js is plotted in Fig. 20.19. For a typi-
</p>
<p>cal voltage regulator application, the range of switching frequency variations is much smaller in the full-
</p>
<p>wave mode than in the half-wave mode, because Jl does not depend on the load current. Variations in the 
</p>
<p>load current do not induce the controller to significantly change the switching frequency. 
</p>
<p>20.3 RESONANT SWITCH TOPOLOGIES 
</p>
<p>So far, we have considered the zero-current-switching quasi-resonant switch cell, illustrated in 
</p>
<p>Fig. 20.20. The ideal SPST switch is realized using a voltage-bidirectional or current-bidirectional two-
</p>
<p>quadrant switch, to obtain half-wave or full-wave ZCS quasi-resonant switch networks, respectively. 
</p>
<p>The resonant elements Lr and Cr can be moved to several different positions in the converter, 
</p>
<p>without altering the basic switch properties. For example, Fig. 20.21 illustrates connection of the reso-
</p>
<p>nant tank capacitor Cr between the cathode of diode D2, and the converter output or input terminals. 
</p>
<p>Although this may change the de component of the tank capacitor voltage, the ac components of the tank 
</p>
<p>capacitor voltage waveform are unchanged. Also, the terminal voltage waveform vit) is unchanged. The 
</p>
<p>voltages vgCt) and v(t) contain negligible high-frequency ac components, and hence the converter input 
</p>
<p>and output terminal potentials can be considered to be at high-frequency ac ground. 
</p>
<p>A test to determine the topology of a resonant switch network is to replace all low-frequency fil-
</p>
<p>ter inductors with open circuits, and to replace all de sources and low-frequency filter capacitors with 
</p>
<p>short circuits [13]. The elements of the resonant switch cell remain. In the case of the zero-current-
</p>
<p>switching quasi-resonant switch, the network of Fig. 20.22 is always obtained. 
</p>
<p>It can be seen from Fig. 20.22 that diode D2 switches on and off at the zero crossings of the 
</p>
<p>tank capacitor voltage vit), while the switch elements Q1 and D 1 switch at the zero crossings of the tank 
</p>
<p>inductor current i 1(t). Zero voltage switching of diode D2 is highly advantageous, because it essentially 
</p>
<p>eliminates the switching loss caused by the recovered charge and output capacitance of diode D2 &bull; Zero 
</p>
<p>current switching of Q1 and D1 can be used to advantage when Q1 is realized by an SCR or IGBT. How-
ever, in high-frequency converters employing MOSFETs, zero current switching of Q1 and D 1 is gener-
ally a poor choice. Significant switching loss due to the output capacitances of Q1 and D 1 may be 
</p>
<p>observed. In addition, in the full-wave case, the recovered charge of diode D 1 leads to significant ringing 
</p>
<p>,----------------&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;----&middot;&middot;&middot;&middot;&middot;&middot;&middot;----&middot;--&middot;&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;-----&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>i~&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 1 i2,(t) 1 i2(t) 
</p>
<p>+ ' + ' sw + 
</p>
<p>Switch network : ........................................... : 
</p>
<p>L .............. ~~~--~~-~~~-~:_~~?..'!.~.'!.~ .. s.~~!.~~--~~~-~ ................. .J 
Fig. 20.20 Basic ZCS quasi-resonant switch cell. </p>
<p/>
</div>
<div class="page"><p/>
<p>782 Soft Switching 
</p>
<p>(a) :&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;~~---&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;1 
</p>
<p>sw ["~~(~;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;"&pound;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
+ ~~----~ 
</p>
<p>+ 
</p>
<p>v2(t) c R v 
</p>
<p>(b) 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>ZCS quasi-resonant switch 
----&middot;&middot;&middot;&middot;&middot;-&middot;&middot;-------&middot;&middot;&middot;&middot;&middot;-------&middot;&middot;&middot;&middot;&middot;&middot;---------&middot;&middot;&middot;&middot; 
</p>
<p>Fig. 20.21 Connection of the tank capacitor of the ZCS quasi-resonant cell to other points at ac ground: (a) con-
</p>
<p>nection to the de output, (b) connection to the de input In each case, the ac components of the waveforms are 
</p>
<p>unchanged. 
</p>
<p>Fig. 20.22 Elimination of converter low-frequency elements 
</p>
<p>causes the ZCS quasi-resonant switch cell to reduce to this 
</p>
<p>network. 
</p>
<p>and switching loss at the end of subinterval 2 [3]. 
</p>
<p>L, SW 
</p>
<p>+ 
</p>
<p>C, v2(t) 
</p>
<p>The ZCS quasi-resonant switch exhibits increased conduction loss, relative to an equivalent 
</p>
<p>PWM switch, because the peak transistor current is increased. The peak transistor current is given by Eq. 
</p>
<p>(20.17); since Is:&lt;=; I, the peak current is I!pk ;:o: 2/2. In addition, the full-wave ZCS switch exhibits poor 
</p>
<p>efficiency at light load, owing to the conduction loss caused by circulating tank currents. The half-wave 
</p>
<p>ZCS switch exhibits additional conduction loss due to the added forward voltage drop of diode D1&bull; The 
</p>
<p>peak transistor voltage is Vp which is identical to the PWM case. </p>
<p/>
</div>
<div class="page"><p/>
<p>20.3.1 The Zero-Voltage-Switching Quasi-Resonant Switch 
</p>
<p>The resonant switch network illustrated in Fig. 20.23 is the dual 
</p>
<p>of the network of Fig. 20.22. This network is known as the zero-
</p>
<p>voltage-switching quasi-resonant switch [4]. Since the tank 
</p>
<p>capacitor C, appears in parallel with the SPST switch, the ele-
</p>
<p>ments Q1 and D1 used to realize the SPST switch tum on and off 
at zero voltage. The tank inductor L, is effectively in series with 
</p>
<p>diode D2, and hence diode D2 switches at zero current. Convert-
</p>
<p>ers containing ZVS quasi-resonant switches can be realized in a 
</p>
<p>number of ways. The only requirement is that, when the low-fre-
</p>
<p>quency filter inductors, filter capacitors, and sources are replaced 
</p>
<p>by open- or short-circuits as described above, then the high-fre-
</p>
<p>quency switch network of Fig. 20.23 should remain. 
</p>
<p>For example, a zero-voltage-switching quasi-resonant 
</p>
<p>buck converter is illustrated in Fig. 20.24(a). Typical tank capac-
</p>
<p>itor voltage and tank inductor current waveforms are given in 
</p>
<p>Fig. 20.24(b). A current-bidirectional realization of the two-
</p>
<p>quadrant SPST switch is shown; this causes the ZVS quasi-reso-
</p>
<p>20.3 Resonant Switch Topologies 783 
</p>
<p>c, 
</p>
<p>Fig. 20.23 Elimination of con-
</p>
<p>verter low-frequency elements 
reduces the ZVS quasi-resonant 
switch cell to this network. 
</p>
<p>nant switch to operate in the half-wave mode. Use of a voltage-bidirectional two-quadrant SPST switch 
</p>
<p>allows full-wave operation. 
</p>
<p>By analysis similar to that of Section 20.2, it can be shown that the switch conversion ratio f1 of 
</p>
<p>the half-wave ZVS quasi-resonant switch is 
</p>
<p>(20.61) 
</p>
<p>The function Pt (1) is again given by Eq. (20.46), and the quantity Js is defined in Eq. (20.44). For the 
</p>
<p>full-wave ZVS quasi-resonant switch, one obtains 
</p>
<p>(20.62) 
</p>
<p>where P 1(J) is given by Eq. (20.58). The condition for zero voltage switching is 
</p>
<p>J,;::: 1 (20.63) 
</p>
<p>Thus, the zero voltage switching property is lost at light load. The peak transistor voltage is given by 
</p>
<p>peak transistor voltage vcr,pk = (1 + J,) vl (20.64) 
</p>
<p>This equation predicts that load current variations can lead to large voltage stress on transistor Q1. For 
example, if it is desired to obtain zero voltage switching over a 5:1 range of load current variations, then 
</p>
<p>Js should vary between 1 and 5. According to Eq. (20.64), the peak transistor voltage then varies between 
</p>
<p>two times and six times the applied voltage V1&bull; The maximum transistor current is equal to the applied 
</p>
<p>current !2 . Although the maximum transistor current in the ZVS quasi-resonant switch is identical to that </p>
<p/>
</div>
<div class="page"><p/>
<p>7841 Soft Switching 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>Conducting 
devices: X 
</p>
<p>Fig. 20.24 A ZVS quasi-resonant buck converter: (a) circuit, (b) tank waveforms. 
</p>
<p>I 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>of the PWM switch, the peak transistor blocking voltage is substantially increased. This leads to 
</p>
<p>increased conduction loss, because transistor on-resistance increases rapidly with rated blocking voltage. 
</p>
<p>20.3.2 The Zero-Voltage-Switching Multiresonant Switch 
</p>
<p>The resonant switch network of Fig. 20.25 contains tank capacitor C din parallel with diode D2, as in the 
</p>
<p>ZCS switch network of Fig. 20.22. In addition, it contains tank capacitor Cs in parallel with the SPST 
</p>
<p>switch, as in the ZVS switch network of Fig. 20.23. In consequence, all semiconductor elements switch 
</p>
<p>at zero voltage. This three-element resonant switch network is known as the zero-voltage-switching mul-
</p>
<p>tiresonant switch (ZVS MRS). Since no semiconductor output capacitances or diode recovered charges 
</p>
<p>lead to ringing or switching loss, the ZVS MRS exhibits very low switching loss. For the same reason, 
</p>
<p>generation of electromagnetic interference is reduced. 
</p>
<p>A half-wave ZVS MRS realization of the buck converter is illustrated in Fig. 20.26. In a typical 
</p>
<p>design that must operate over a 5:1load range and with 0.4 ~ fl ~ 0.6, the designer might choose a maxi-
</p>
<p>mum F of 1.0, a maximum J of 1.4, and Cd!Cs = 3, where these quantities are defined as follows: </p>
<p/>
</div>
<div class="page"><p/>
<p>20.3 Resonant Switch Topologies 785 
</p>
<p>c. 
</p>
<p>SW L, 
</p>
<p>Fig. 20.25 Elimination of converter low-frequency elements reduces the ZVS multiresonant switch cell to this 
network. 
</p>
<p>fr - 1 
o- 2n;rc; 
</p>
<p>F=t_ 
fo 
</p>
<p>R- ~ o-v c, 
</p>
<p>J-12Ro 
- v, 
</p>
<p>(20.65) 
</p>
<p>As usual, the conversion ratio is defined as Jl = V2/V1&bull; The resulting peak transistor voltage for this typi-
cal design is approximately 2.8VJo while the peak transistor current is 2/2. Hence, conduction losses are 
</p>
<p>higher than in an equivalent PWM switch. The range of switch conversion ratios Jl is a function of the 
</p>
<p>capacitor ratio Cd/Cs; in a good design, values of Jl ranging from nearly one to nearly zero can be 
</p>
<p>obtained, with a wide range of de load currents and while maintaining zero voltage switching. 
</p>
<p>Analysis and design charts for the ZVS MRS are given in [5-8]. Results for the typical choice 
</p>
<p>Cd = 3Cs are plotted in Fig. 20.27. These plots illustrate how the switch conversion ratio Jl varies as a 
function of load current and switching frequency. Figure 20.27(a) also illustrates the boundary of zero-
</p>
<p>voltage switching: ZVS is lost for operation outside the dashed lines. Decreasing the ratio of Cd to c. 
reduces the area of the ZVS region. 
</p>
<p>Other resonant converters in which all semiconductor devices operate with zero voltage switch-
</p>
<p>ing are known. Examples include some operating modes of the parallel and LCC resonant converters 
</p>
<p>described in Chapter 19, as well as the class-E converters described in [10-12]. 
</p>
<p>:&middot;&middot;&middot;&middot;&middot;&middot;-------&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;--&middot;-&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;--&middot;; 
</p>
<p>I 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>t ......................................................................... .l 
</p>
<p>Fig. 20.26 Half-wave ZVS multiresonant buck converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>786 Soft Switching 
</p>
<p>(a) 
</p>
<p>1.0 - - - - - - - - -
</p>
<p>0.5 
</p>
<p>0 
0.5 1.0 1.5 2.0 2.5 J 
</p>
<p>(b) 
</p>
<p>0.5 1.0 1.5 2.0 2.5 F 
</p>
<p>Fig. 20.27 Conversion ratio J.l. for the multi-resonant switch with Cd = 3Cs: (a) conversion ratio J.l. vs. normalized 
current] (solid lines: conversion ratio; dashed lines: boundaries of zero-voltage switching), (b) conversion ratio J.l. vs. 
</p>
<p>normalized switching frequency F. </p>
<p/>
</div>
<div class="page"><p/>
<p>20.3.3 Quasi-Square-Wave Resonant Switches 
</p>
<p>Another basic class of resonant switch networks is the (a) 
</p>
<p>quasi-square wave converters. Both zero-voltage switching 
</p>
<p>and zero-current switching versions are known; the reso-
</p>
<p>nant tank networks are illustrated in Fig. 20.28. In the net-
</p>
<p>work of Fig. 20.28(a), all semiconductor devices are 
</p>
<p>effectively in series with the tank inductor, and hence oper-
</p>
<p>ate with zero-current switching. In the network of 
</p>
<p>Fig. 20.28(b), all semiconductor devices are effectively in 
</p>
<p>parallel with the tank capacitor, and hence operate with (b) 
</p>
<p>zero-voltage switching. 
</p>
<p>Figure 20.29 illustrates implementation of a zero 
</p>
<p>current switching quasi-square wave resonant switch, in a 
</p>
<p>buck converter with input filter. Elements L1and C1are large 
</p>
<p>20.3 Resonant Switch Topologies 787 
</p>
<p>L, c, 
</p>
<p>L, c, 
</p>
<p>in value, and constitute a single-section L--C input filter. 
</p>
<p>Elements L, and C, form the series resonant tank; these ele-
ments are placed in series with input filter capacitor Cf" 
</p>
<p>Since c, and c1 are connected in series, they can be com-
bined into a single small-value capacitor. In this zero-cur-
</p>
<p>rent-switching converter, the peak transistor current is 
</p>
<p>identical to the peak transistor current of an equivalent 
</p>
<p>Fig. 20.28 Elimination of converter low-
</p>
<p>frequency elements reduces the quasi-
</p>
<p>square-wave switch cells to these networks: 
</p>
<p>(a) ZCS quasi-square-wave network, 
</p>
<p>(b) ZVS quasi-square-wave network. 
</p>
<p>PWM converter. However, the peak transistor blocking voltage is increased. The ZCS QSW resonant 
</p>
<p>switch exhibits a switch conversion ratio p, that is restricted to the range 0 ~ p, ~ 0.5. Analysis of this res-
onant switch is given in [13-14]. 
</p>
<p>A buck converter, containing a zero-voltage-switching quasi-square wave (ZVS QSW) resonant 
switch, is illustrated in Fig. 20.30. Typical waveforms are given in Fig. 20.31. Since the tank inductor L, 
and the output filter inductor L are connected in parallel, these two elements can be combined into a sin-
gle inductor having a small value nearly equal to L,. Analyses of the ZVS QSW resonant switch are 
given in [14,15,18]. A related full-bridge converter is described in [16]. The ZVS QSW resonant switch 
is notable because zero voltage switching is obtained in all semiconductor devices, yet the peak transistor 
voltage is identical to that of an equivalent PWM switch [13]. However, the peak transistor currents are 
increased. 
</p>
<p>Characteristics of the zero-voltage-switching quasi-square wave resonant switch are plotted in 
Fig. 20.32. The switch conversion ratio p, = V2/V1 is plotted as a function of normalized switching fre-
</p>
<p>I 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 20.29 Incorporation of a ZCS quasi-square-wave resonant switch into a buck converter containing an L-C 
input filter. </p>
<p/>
</div>
<div class="page"><p/>
<p>788 Soft Switching 
</p>
<p>DI 
Lr 
</p>
<p>iit) I 
</p>
<p>+ L 
</p>
<p>vg cr v2(t) c R 
</p>
<p>Fig. 20.30 Incorporation of a ZVS quasi-square-wave resonant switch into a buck converter. 
</p>
<p>Fig. 20.31 Waveforms of the ZVS quasi-square-
</p>
<p>wave resonant switch converter of Fig. 20.30. 
</p>
<p>Fig. 20.32 Characteristics of 
</p>
<p>the ZVS quasi-square wave 
</p>
<p>resonant switch network: 
</p>
<p>switch conversion ratio f-1, as a 
</p>
<p>function of F and J. Dashed 
</p>
<p>line: ZVS boundary. 
</p>
<p>1.0 
</p>
<p>0.5 
</p>
<p>5 3 
</p>
<p>Conducting 
devices: l D1 
</p>
<p>0.5 
</p>
<p>0.5 
</p>
<p>+ 
</p>
<p>v 
</p>
<p>1=0 
</p>
<p>1.0 F </p>
<p/>
</div>
<div class="page"><p/>
<p>20.3 Resonant Switch Topologies 789 
</p>
<p>I 
</p>
<p>+ + 
</p>
<p>c R v 
</p>
<p>Fig. 20.33 Quasi-square wave ZVS buck converter containing a synchronous rectifier. 
</p>
<p>quency F and normalized output current J, where these quantities are defined as follows: 
</p>
<p>fr - 1 
0 - 2n.jL,C, (20.66) 
</p>
<p>F=t_ 
fo 
</p>
<p>In addition, the zero-voltage-switching boundary is plotted. It can be seen that the requirement for zero-
</p>
<p>voltage switching limits the switch conversion ratio Jl to the range 0.5 :S: Jl :S: 1. In consequence, the buck 
</p>
<p>converter of Fig. 20.30 cannot produce output voltages less than 0.5 Vg without losing the ZVS property. 
</p>
<p>A version which attains 0 ::; Jl ::; 1, at the expense of increased transistor voltage stress, is described in 
</p>
<p>[ 17]. In addition, the two-switch version of the ZVS-QSW switch can operate with ZVS for Jl &lt; 0.5. 
A useful variant of the converter of Fig. 20.30 involves replacement of the diode with a syn-
</p>
<p>chronous rectifier, as illustrated in Fig. 20.33 [8,9]. The second transistor introduces an additional 
</p>
<p>degree of freedom in control of the converter, because this transistor can be allowed to conduct longer 
</p>
<p>than the diode would otherwise conduct. This fact can be used to extend the region of zero-voltage 
</p>
<p>switching to conversion ratios approaching zero, and also to operate the converter with constant switch-
</p>
<p>ing frequency. 
</p>
<p>Typical tank element waveforms for the circuit of Fig. 20.33 are illustrated in Fig. 20.34. 
</p>
<p>These waveforms resemble those of the single switch case, Fig. 20.31, except that the tank current is 
</p>
<p>negative while transistor Q2 conducts. The duty cycle D is defined with respect to the tum-off transitions 
</p>
<p>Fig. 20.34 Waveforms for the 
QSW-ZVS converter of Fig. 20.33. 
</p>
<p>two-switch </p>
<p/>
</div>
<div class="page"><p/>
<p>7911 Soft Switching 
</p>
<p>ll 
</p>
<p>1.0 
</p>
<p>0.5 
</p>
<p>0 
</p>
<p>-=-=-o.2 -
</p>
<p>D=0.8 
</p>
<p>0.3 
</p>
<p>0.2 0.4 
</p>
<p>0.7 
</p>
<p>' ,0.6 
</p>
<p>' 
' 0.5 
</p>
<p>0.4 
</p>
<p>F=0.5 
</p>
<p>0.6 0.8 J 
</p>
<p>Fig. 20.35 Conversion ratio Jl, as a function of duty cycle D and normalized load current J, for the two-switch 
</p>
<p>QSW-ZVS switch illustrated in Fig. 20.33. Curves are plotted for constant-frequency control with F = 0.5. The 
</p>
<p>dashed line is the zero-voltage switching boundary. 
</p>
<p>of transistors Q 1 and Q2, as illustrated. 
</p>
<p>Characteristics of the two-switch QSW-ZVS switch network are plotted in Fig. 20.35, for the 
</p>
<p>case of constant switching frequency at F = 0.5. The boundary of zero-voltage switching is also illus-
trated. Operation at a lower value ofF causes the ZVS boundary to be extended to larger values of J, and 
</p>
<p>to values of Jl that more closely approach the extreme values Jl = 0 and Jl = 1. 
To the commutation intervals can be neglected, one would expect that the switch conversion 
</p>
<p>ratio Jl is simply equal to the duty cycle D. It can be seen from Fig. 20.35 that this is indeed the case. The 
</p>
<p>characteristics are approximately horizontal lines, nearly independent of load current J. 
</p>
<p>Zero-voltage switching quasi-square wave converters exhibit very low switching loss, because 
</p>
<p>all semiconductor elements operate with zero-voltage switching. In the constant-frequency case contain-
</p>
<p>ing a synchronous rectifier, the converter behavior is nearly the same as for the hard-switched PWM 
</p>
<p>case, since Jl =D. The major disadvantage is the increased conduction loss, caused by the reversal of the 
</p>
<p>inductor current. 
</p>
<p>20.4 SOFT SWITCHING IN PWM CONVERTERS 
</p>
<p>The quasi-square wave approach of the previous section is notable because it attains zero-voltage switch-
</p>
<p>ing without increasing the peak voltage applied to the transistor. Several related soft-switching 
</p>
<p>approaches have now become popular, which also attain zero-voltage switching without increasing the 
</p>
<p>transistor peak voltage stress. In this section, popular zero-voltage switching versions of the full bridge, 
</p>
<p>forward, and flyback converters, as well as the voltage-source inverter, are briefly discussed. </p>
<p/>
</div>
<div class="page"><p/>
<p>20.4 Soft Switching in PWM Converters 791 
</p>
<p>20.4.1 The Zero-Voltage Transition 
</p>
<p>Full-Bridge Converter 
</p>
<p>It is possible to obtain soft switching in other types of converters as well. An example is the zero-voltage 
</p>
<p>transition (ZVT) converter based on the full-bridge transformer-isolated buck converter. illustrated in 
</p>
<p>Fig. 20.36 [25-28]. The transistor and diode output capacitances are represented in the figure by capaci-
</p>
<p>tances C1eg&middot; Commutating inductor Lc is placed in series with the transformer; the net inductance Lc 
</p>
<p>includes both transformer leakage inductance and the inductance of an additional discrete element. This 
</p>
<p>inductor causes the full-bridge switch network to drive an effective inductive load, and results in zero-
</p>
<p>voltage switching of the primary-side semiconductor devices. Although the waveforms are not sinusoi-
</p>
<p>dal, it can nonetheless be said that the switch network output current i/t) lags the voltage v/t), because 
</p>
<p>the zero crossings of i/t) occur after the ZVS switching transitions are completed. 
</p>
<p>The output voltage is controlled via phase control. As illustrated in Fig. 20.37, both halves of 
</p>
<p>the bridge switch network operate with a 50% duty cycle, and the phase difference between the half-
</p>
<p>bridge switch networks is controlled. The idealized waveforms of Fig. 20.37 neglect the switching tran-
</p>
<p>sitions, and the subinterval numbers correspond to those of the more detailed Fig. 20.38. The phase shift 
</p>
<p>variable &lt;1&gt; lies in the range 0 ::; &lt;1&gt; ::; 1, and assumes the role of the duty cycle din this converter. The quan-
</p>
<p>tity &lt;1&gt; is defined as 
</p>
<p>(20.67) 
</p>
<p>By volt-second balance on the secondary-side filter inductor, the conversion ratio M(&lt;l&gt;) is expressed as 
</p>
<p>M(!jl)= t =n!jl 
g 
</p>
<p>(20.68) 
</p>
<p>This expression neglects the lengths of the switching transitions. 
</p>
<p>Although the circuit appears symmetrical, the phase-shift control scheme introduces an asym-
</p>
<p>metry that causes the two half-bridge switch networks to behave quite differently during the switching 
</p>
<p>transitions. During subintervals 4 and 10, energy is actively transmitted from the source Vg through the 
</p>
<p>switches and transformer. These subintervals are initiated by the switching of the half-bridge network 
</p>
<p>igCt) 
</p>
<p>~ 
+ 
</p>
<p>vg + v 
</p>
<p>&amp;f 
</p>
<p>Fig. 20.36 Zero-voltage transition converter, based on the full-bridge isolated buck converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>792 Soft Switching 
</p>
<p>'it) l vg 
I&middot; TJ2 [ 0 0 
</p>
<p>'it) 1 
Ts 
</p>
<p>vg 
</p>
<p>,. 
TJ2 &bull; 
</p>
<p>0 0 
</p>
<p>v,(t) vg 
'r---
</p>
<p>0 
- &lt;!JT/2 -1--- (1- &lt;)J)T/2 -+-- &lt;)JTJ2l 
</p>
<p>0 
</p>
<p>i,(t) 1'--_o_--+--n-I --+------!------+------+---
Subinterval: 
</p>
<p>Conducting 
devices: 
</p>
<p>Fig. 20.37 Phase-shift control of the ZVT full-bridge converter. Switching transitions are neglected in this figure, 
</p>
<p>and subinterval numbering follows Fig. 20.38. 
</p>
<p>composed of the elements Ql' D 1, Q2, and D2, called the "passive-to-active" (P-A) transition [27]. Sub-
intervals 4 and 10 are terminated by the switching of the half-bridge network comprised by the elements 
</p>
<p>Q3, D3, Q4 , and D 4, called the "active-to-passive" (A-P) transition. 
The tum-on and tum-off switching processes of this converter are similar to the zero-voltage-
</p>
<p>switching turn-off process described in the previous section. Detailed primary-side waveforms are illus-
</p>
<p>trated in Fig. 20.38. During subinterval 0, Q2 and D4 conduct. If the transformer magnetizing current iM 
is negligible, then the commutating inductor current is given by Vt0) = - ni, where I is the load current. 
The passive-to-active transition is initiated when transistor Q2 is turned off. The negative ic then causes 
</p>
<p>capacitors cleg! and cleg2 to charge, increasing Vz(t). During subinterval 1, Lc, clegl' and cleg2 form a res-
onant network that rings with approximately sinusoidal waveforms. If sufficient energy was initially 
</p>
<p>stored in Lc, then v2(t) eventually reaches V8, terminating subinterval 1. Diode D 1 then clamps v2(t) to V8 
during subinterval 2. Transistor Q1 is turned on at zero voltage during subinterval 2; in practice, this is 
</p>
<p>implemented by insertion of a small delay between the switching transitions of transistors Q2 and Q1. 
</p>
<p>If Lc does not initially store sufficient energy to charge the total capacitance ( Cteg! + C1e82 ) from 
v2 = 0 to v2 = Vg during subinterval 1, then v2(t) will never reach V8 &bull; Switching loss will then occur when 
transistor Q1 is turned on. This situation typically occurs at light load, where I is small. Sometimes, the 
design engineer may choose to simply accept this power loss; after all, other losses such as conduction 
</p>
<p>loss are small at light load. An alternative is to modify the circuit to increase the energy stored in Lc at </p>
<p/>
</div>
<div class="page"><p/>
<p>0 
</p>
<p>-nl 
</p>
<p>Subinterval: 0 
</p>
<p>Q2 
</p>
<p>Conducting D
4 
</p>
<p>devices: 
</p>
<p>20.4 Soft Switching in PWM Converters 793 
</p>
<p>nl 
</p>
<p>"--------'"----':vL__J::,,:,::,,,,,,,. ~j 
r-~~~~----~~~ 
</p>
<p>!2: 3 4 
X Pl: Ql 
</p>
<p>D4 P4! Q4 
Ds Psi Ds [ Ds 
D6 iD6i D6 j X 
</p>
<p>- V/Lc 
</p>
<p>7 i 8: 9 10 
X lDzl Qz 
</p>
<p>D3lD3! Q3 
</p>
<p>Ds Psi Ds X 
D6 !D6! D6 D6 
</p>
<p>0 
</p>
<p>nl 
</p>
<p>0 
</p>
<p>Q2 } P-A 
</p>
<p>D4 } A-P 
</p>
<p>Ds } Secondary 
D6 diodes 
</p>
<p>Fig. 20.38 Detailed diagram of primary-side waveforms of the ZVT full-bridge converter, illustrating the zero-
</p>
<p>voltage switching mechanisms. An ideal transformer is assumed. 
</p>
<p>t = t0 under light load conditions. One way to accomplish this is to increase the transformer magnetizing 
current iM(t0 ) to a significant level; at the beginning of subinterval 1, ic is then equal to 
</p>
<p>i/t0 ) =- nl + iM(t0 ) with iM(t0 ) &lt; 0. At light load where I is small, the magnetizing current maintains the 
required level of ic. 
</p>
<p>During subintervals 0, 1, 2, and 3, secondary-side diodes D5 and D6 both conduct; hence, zero 
</p>
<p>voltage appears across all transformer windings. In consequence, voltage Vg is applied to commutating 
</p>
<p>inductor Lc during subintervals 2 and 3, causing i/t) to increase with slope V/Lc. Current ic(t) reaches 
</p>
<p>zero at the end of subinterval 2, and increases to the positive value + nl at the end of subinterval 3. The 
reversal of polarity of i/t) enables zero-voltage switching during the next switching transitions, subinter-
</p>
<p>valS and subintervals 7-9. 
</p>
<p>At the end of subinterval 3, the current in diode D6 has decreased to zero. D6 then becomes 
</p>
<p>reverse-biased, with zero-current switching. At this instant, diode D6 must begin to block voltage 2n V8&bull; </p>
<p/>
</div>
<div class="page"><p/>
<p>794 Soft Switching 
</p>
<p>The output capacitance of D6 prevents the voltage from changing immediately to 2n Vg; instead, the reso-
</p>
<p>nant circuit formed by Lc and the D6 output capacitance begins to ring in a manner similar to Fig. 4.54. 
</p>
<p>Peak D6 voltages are typically observed that are considerably in excess of 2n Vg, and it is usually neces-
</p>
<p>sary to add voltage-clamp snubbers that prevent the secondary-side diode voltages from exceeding a safe 
</p>
<p>value. Several dissipative and non-dissipative approaches are discussed in [26-28]. 
</p>
<p>The active-to-passive switching transition occurs during subinterval 5. This subinterval is initi-
</p>
<p>ated when transistor Q4 is turned off. The positive current ic(t1) is equal to the reflected load current nl, 
</p>
<p>and charges capacitors C1eg3 and C1eg4 from v4 = 0 to v4 = Vg. Subinterval 5 ends when v4 reaches Vg; 
Diode D3 then becomes forward-biased. Transistor Q3 is then turned on during subinterval 6, with zero-
</p>
<p>voltage switching. This is typically implemented by insertion of a small delay between the switching of 
</p>
<p>transistors Q4 and Q3. Because ic is constant and equal to nl during subinterval 5, the active-to-passive 
transition maintains Zero-voltage switching at all load currents. 
</p>
<p>Circuit behavior during the next half switching period, comprising subintervals 6 to 11, is sym-
</p>
<p>metrical and therefore similar to the behavior observed during subintervals 0 to 5. The switching transi-
</p>
<p>tions of transistors Q1 and Q2 are passive-to-active transitions, and occur with zero-voltage switching 
</p>
<p>provided that sufficient energy is stored in Lc as described above. The switching transitions of Q3 and Q4 
are active-to-passive, and occur with zero-voltage switching at all loads. 
</p>
<p>The zero-voltage transition converter exhibits low primary-side switching loss and generated 
</p>
<p>EMI. Conduction loss is increased with respect to an ideal PWM full-bridge topology, because of the 
</p>
<p>current ic that circulates through the primary-side semiconductors during subintervals 0 and 6. However, 
</p>
<p>this increase in conduction loss can be small if the range of input voltage variations is narrow. This soft-
</p>
<p>switching approach has now found commercial success. 
</p>
<p>20.4.2 The Auxiliary Switch Approach 
</p>
<p>A similar approach can be used in forward, flyback, and other transformer-isolated converters. As illus-
</p>
<p>trated in Fig. 20.39, an "active-clamp snubber" network consisting of a capacitor and auxiliary MOS-
</p>
<p>FET Q2 is added, that is effectively in parallel with the original power transistor Q1 [29]. The MOSFET 
</p>
<p>body diodes and output drain-to-source capacitances, as well as the transformer leakage inductance Le, 
</p>
<p>participate in the circuit operation. These elements lead to zero-voltage switching, with waveforms simi-
</p>
<p>lar to those of the ZVT full-bridge converter of Section 20.4.1 or the two-transistor QSW-ZVS switch of 
</p>
<p>Section 20.3.3. The transistors are driven by complementary signals; for example, after turning off Q1, 
</p>
<p>the controller waits for a short delay time and then turns on Q2 &bull; 
</p>
<p>The active-clamp snubber can be viewed as a voltage-clamp snubber, similar to the dissipative 
</p>
<p>snubber illustrated in Fig. 20.6. However, the snubber contains no resistor; instead, MOSFET Q2 allows 
bidirectional power flow, so that the energy stored in capacitor c. can flow back into the converter. 
</p>
<p>The voltage v. can be found by volt-second inductance on the transformer magnetizing induc-
</p>
<p>tance. If the lengths of the commutation intervals are neglected, and if the voltage ripple in v.(t) can be 
</p>
<p>neglected, then one finds that 
</p>
<p>(20.69) 
</p>
<p>The voltage v s is effectively an unloaded output of the converter. With the two-quadrant switch provided 
</p>
<p>by Q2, this output operates in continuous conduction mode with no load, and hence the peak voltage of 
Q1 is clamped to the minimum level necessary to balance the volt-seconds applied to the transformer 
</p>
<p>magnetizing inductance. </p>
<p/>
</div>
<div class="page"><p/>
<p>20.4 Soft Switching in PWM Converters 795 
</p>
<p>(a) Dz L 
</p>
<p>+ 
</p>
<p>c R v 
</p>
<p>vg + 
</p>
<p>~ 
+ 
</p>
<p>vds 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>Fig. 20.39 Active-clamp snubber circuits: (a) forward converter, (b) flyback converter. 
</p>
<p>r. 
Fig. 20.40 Waveforms of the active-clamp snubber circuit of Fig. 20.39(a). </p>
<p/>
</div>
<div class="page"><p/>
<p>796 Soft Switching 
</p>
<p>Typical waveforms for a forward converter incorporating an active-clamp snubber are illus-
</p>
<p>trated in Fig. 20.40. The current ie(t) reverses direction while Q2 conducts. When Q2 turns off, capacitor 
</p>
<p>Cds begins to discharge. When vds reaches zero, the body diode of Q1 becomes forward-biased. Q1 can 
then be turned on at zero voltage. 
</p>
<p>An added benefit of the active clamp snubber, when used in a forward converter, is that it resets 
</p>
<p>the transformer. Consequently, the converter can operate at any duty cycle, including duty cycles greater 
</p>
<p>than 50%. When the converter must operate with a wide range of input voltages, this can allow substan-
</p>
<p>tial improvements in transistor stresses and efficiency. The MOSFETs in Fig. 20.39 operate with zero-
</p>
<p>voltage switching, while the secondary-side diodes operate with zero-current switching. 
</p>
<p>This approach is quite versatile, and similar auxiliary circuits can be added to other converter 
</p>
<p>circuits to obtain zero-voltage switching [30,31]. 
</p>
<p>20.4.3 Auxiliary Resonant Commutated Pole 
</p>
<p>The auxiliary resonant commutated pole (ARCP) is a related circuit that uses an auxiliary four-quadrant 
</p>
<p>switch (or two equivalent two-quadrant switches) to obtain soft switching in the transistors of a bridge 
</p>
<p>inverter circuit [32-34]. This approach finds application in dc-ac inverter circuits. Figure 20.41 illus-
</p>
<p>trates a half-bridge circuit, or one phase of a three-phase voltage-source inverter, driving an ac load. This 
</p>
<p>circuit can lead to zero-voltage switching that mitigates the switching loss induced by the reverse recov-
</p>
<p>ery of diodes D 1 and D2 . Filter inductor L1 is relatively large, so that the output current ia(t) is essentially 
</p>
<p>constant during the resonant commutation interval. Capacitors Cds are relatively small, and model the 
</p>
<p>output capacitances of the semiconductor devices. Inductor L, is also relatively small, and elements L, 
</p>
<p>and C tis form a resonant circuit that rings during part of the commutation process. Semiconductor switch-
</p>
<p>ing devices Q3 , Q4 , D3, and D4 form an auxiliary four-quadrant switch that turns on to initiate the reso-
nant commutation process. 
</p>
<p>Typical commutation waveforms are illustrated in Fig. 20.42(a), for the case in which the ac 
</p>
<p>load current ia is positive. Diode D2 is initially conducting the output current ia. It is desired to tum off 
</p>
<p>D2 and tum on Q 1, with zero-voltage switching. This is accomplished with the following sequence: 
</p>
<p>Interval!. 
</p>
<p>Interval2. 
</p>
<p>lnterval3. 
</p>
<p>Turn on transistor Q3&bull; Devices D2, Q3, and D4 conduct. 
</p>
<p>When the current in D2 reaches zero, D2 turns off. A resonant ringing interval occurs. 
</p>
<p>When the voltage van reaches V/2, diode D1 begins to become forward-biased. Tran-
sistor Q1 is then immediately turned on at zero voltage. 
</p>
<p>Fig. 20.41 Half-bridge circuit driving an ac load, with ARCP zero-voltage switching. </p>
<p/>
</div>
<div class="page"><p/>
<p>20.5 Summary of Key Points 797 
</p>
<p>(a) 
</p>
<p>i,(&lt;) 11....-.-...f---n:~,&middot;&middot;&middot;---2---~-, 3 :~ 
Interval: 
</p>
<p>(b) 
</p>
<p>",,(&lt;: ~--+--+----!---+-----+-----+ 
- v 12 
</p>
<p>V/2 
</p>
<p>: /i 
iT. 
</p>
<p>(DI) 
</p>
<p>Conducting ; 8 Dz 
Q3 
</p>
<p>Ql 
Ql Conducting 
</p>
<p>devices: 
devices: D2 Q3 
</p>
<p>D4 
Q3 
</p>
<p>D4 D4 
</p>
<p>Fig. 20.42 Waveforms of the ARCP circuit of Fig. 20.41: (a) basic waveforms, (b) with current boost. 
</p>
<p>At the conclusion of interval 3, ir(t) reaches zero and diode D3 turns off. For negative current, the process 
</p>
<p>for commutation of diode D1 is similar, except that transistor Q4 and diode D3 conduct the resonant cur-
rent i,(t). 
</p>
<p>One issue related to the waveforms of Fig. 20.42(a) is that the circuit always operates at the 
</p>
<p>boundary of zero-voltage switching. At the end of interval 2, diode D1 is not actually forward-biased, 
</p>
<p>because its current never actually becomes positive. Instead, transistor Q1 should be turned on at the 
beginning of interval 3. If transistor Q1 is gated on late, then the continued ringing will cause voltage 
</p>
<p>v an(t) to decrease, and zero-voltage switching will be lost. 
</p>
<p>To further assist in the zero-voltage switching commutation process, transistor Q2 can be turned 
on while D2 conducts, as illustrated in Fig. 20.42(b). Transistor Q2 is used to lengthen the duration of 
</p>
<p>interval 1: now, when the current ir(t) exceeds current i0 by an amount iboost' then the controller turns off 
</p>
<p>Q2 to end interval 1. This causes diode D1 to become forward-biased during the beginning of interval 3. 
Transistor Q1 is then turned on with zero-voltage switching, while D1 is conducting. 
</p>
<p>Regardless of whether the circuit operates with the waveforms of Fig. 20.42(a) or (b), the 
</p>
<p>ARCP approach eliminates the switching loss caused by the reverse recovery of diodes D1 and D2&bull; 
</p>
<p>Unlike the previous circuits of this chapter, the ARCP has no circulating currents that cause conduction 
</p>
<p>loss, because the tank inductor current ir(t) is nonzero only in the vicinity of the commutation interval. 
</p>
<p>The approach of Fig. 20.42(a) does not completely eliminate the loss caused by the device output capac-
</p>
<p>itances. This loss is eliminated using the current boost of Fig. 20.42(b ), but additional conduction loss is 
</p>
<p>incurred because of the increased peak i,(t). The waveforms of Fig. 20.42(b) may, in fact, lead to 
</p>
<p>reduced efficiency relative to Fig. 20.42(a)! 
</p>
<p>20.5 SUMMARY OF KEY POINTS 
</p>
<p>1. In a resonant switch converter, the switch network of a PWM converter is replaced by a switch network 
</p>
<p>containing resonant elements. The resulting hybrid converter combines the properties of the resonant 
</p>
<p>switch network and the parent PWM converter. 
</p>
<p>2. Analysis of a resonant or soft-switching switch cell involves determination of the switch conversion ratio 
</p>
<p>fl. The resonant switch waveforms are determined, and are then averaged. The switch conversion ratio fl is </p>
<p/>
</div>
<div class="page"><p/>
<p>798 Soft Switching 
</p>
<p>a generalization of the PWM CCM duty cycle d. The results of the averaged analysis of PWM converters 
</p>
<p>operating in CCM can be directly adapted to the related resonant switch converter, simply by replacing d 
</p>
<p>with p.. 
</p>
<p>3. In the zero-current-switching quasi-resonant switch, diode D2 operates with zero-voltage switching, while 
</p>
<p>transistor Q1 and diode D1 operate with zero-current switching. In the zero-voltage-switching quasi-reso-
nant switch, the transistor Q1 and diode D1 operate with zero-voltage switching, while diode D2 operates 
with zero-current switching. 
</p>
<p>4. In the zero-voltage-switching multiresonant switch, all semiconductor devices operate with zero-voltage 
</p>
<p>switching. In consequence, very low switching loss is observed. 
</p>
<p>5. In the quasi-square-wave zero-voltage-switching resonant switches, all semiconductor devices operate 
</p>
<p>with zero-voltage switching, and with peak voltages equal to those of the parent PWM converter. The 
</p>
<p>switch conversion ratio is restricted to the range 0.5 ::; p. ::; 1. Versions containing synchronous rectifiers 
</p>
<p>can operate with values of p. approaching zero. 
</p>
<p>6. The zero-voltage transition approach, as well as the active-clamp snubber approach, lead to zero-voltage 
</p>
<p>switching of the transistors and zero-current switching of the diodes. These approaches have been success-
</p>
<p>ful in substantially improving the efficiencies of transformer-isolated converters. The auxiliary resonant 
</p>
<p>commutated pole induces zero-voltage switching in bridge circuits such as the voltage-source inverter. 
</p>
<p>REFERENCES 
</p>
<p>[1] P. VINCIARELLI, "Forward Converter Switching at Zero Current," U.S. Patent 4,415,959, Nov. 1983. 
</p>
<p>[2] K. LIU, R. ORUGANTI, and F. C. LEE, "Resonant Switches: Topologies and Characteristics," IEEE Power 
</p>
<p>Electronics Specialists Conference, 1985 Record, pp. 106-116. 
</p>
<p>[3] M. F. SCHLECHT and L. F. CASEY, "Comparison of the Square-Wave and Quasi-Resonant Topologies," 
</p>
<p>IEEE Applied Power Electronics Conference, 1987 Record, pp. 124-134. 
</p>
<p>[4] K. LIU and F. C. LEE, "Zero Voltage Switching Technique in De-De Converters," IEEE Power Electronics 
</p>
<p>Specialists Conference, 1986 Record, pp. 58-70. 
</p>
<p>[5] W. A. TABISZ and F. C. LEE, "Zero-Voltage-Switching Multi-Resonant Technique-A Novel Approach to 
</p>
<p>Improve Performance of High-Frequency Quasi-Resonant Converters," IEEE Power Electronics Special-
</p>
<p>ists Conference, 1988 Record, pp. 9-17. 
</p>
<p>[6] W. A. TABISZ, M. M. JovANOVIC, and F. C. LEE, "High Frequency Multi-Resonant Converter Technology 
and Its Applications," lEE International Conference on Power Electronics and Variable Speed Drives, July 
</p>
<p>17-19, 1990, p. 1-8. 
</p>
<p>[7] R. FARRINGTON, M. JOVANOVIC, and F. C. LEE, "Constant-Frequency Zero-Voltage-Switched Multi-Res-
</p>
<p>onant Converters: Analysis, Design, and Experimental Results," IEEE Power Electronics Specialists Con-
</p>
<p>ference, 1990 Record, pp. 197-205. 
</p>
<p>[8] D. MAKSIMOVIC, "Synthesis of PWM and Quasi-Resonant De-to-De Power Converters," Ph.D. thesis, 
</p>
<p>California Institute of Technology, January 1989. 
</p>
<p>[9] X. ZHOU, X. ZHANG, J. LIU, P. WONG, J. CHEN, H. Wu, L. AMOROSO, F. LEE, and D. CHEN, "Investiga-
</p>
<p>tion of Candidate VRM Topologies for Future Microprocessors," IEEE Applied Power Electronics Confer-
</p>
<p>ence, 1998 Record, pp. 145-150. </p>
<p/>
</div>
<div class="page"><p/>
<p>References 799 
</p>
<p>[10] R. REDL, B. MOLNAR, and N. SOKAL, "Class E Resonant Regulated De-De Power Converters: Analysis of 
</p>
<p>Operation and Experimental Results at 1.5 MHz," IEEE Transactions on Power Electronics, 1986, Vol. 1, 
</p>
<p>No.2, pp. 111-120. 
</p>
<p>[11] N. SOKAL and A. SOKAL, "Ciass-E, A New Class of High Efficiency Tuned Single-Ended Switching 
</p>
<p>Power Amplifiers," IEEE Journal of Solid State Circuits, Vol. SC-10, June 1975, pp. 168-176. 
</p>
<p>[12] F. H. RAAB, "Idealized Operation of Class-E Tuned Power Amplifier," IEEE Transactions on Circuits and 
</p>
<p>Systems, Vol. 24, No. 12, December 1977, pp. 725-735. 
</p>
<p>[13] K. D. T. Noo, "Generalization of Resonant Switches and Quasi-Resonant De-De Converters," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1987 Record, pp. 395-403. 
</p>
<p>[14] V. VORPERIAN, "Quasi-Square Wave Converters: Topologies and Analysis," IEEE Transactions on Power 
</p>
<p>Electronics, Vol. 3, No.2, Apri11988, pp. 183-191. 
</p>
<p>[15] D. MAKSIMOVIC, "Design of the Zero-Voltage-Switching Quasi-Square-Wave Resonant Switch," IEEE 
</p>
<p>Power Electronics Specialists Conference, 1993 Record, pp. 323-329. 
</p>
<p>[16] 0. D. PATTERSON and D. M. DIVAN, "Pseudo-Resonant Full-Bridge De-De Converter," IEEE Power Elec-
</p>
<p>tronics Specialists Conference, 1987 Record, pp. 424-430. 
</p>
<p>[17] Y. JANG and R. ERICKSON, "New Quasi-Square Wave and Multi-Resonant Integrated Magnetic Zero Volt-
</p>
<p>age Switching Converters," IEEE Power Electronics Specialists Conference, 1993 Record, pp. 721-727. 
</p>
<p>[18] V. VORPERIAN, R. TYMERSKI, and F. C. LEE, "Equivalent Circuit Models for Resonant and PWM 
</p>
<p>Switches," IEEE Transactions on Power Electronics, Vol. 4, No.2, Aprill989, pp. 205-214. 
</p>
<p>[19] S. FREELAND and R. D. MIDDLEBROOK, "A Unified Analysis of Converters with Resonant Switches", 
</p>
<p>IEEE Power Electronics Specialists Conference, 1987 Record, pp. 20-30. 
</p>
<p>[20] A. WITULSKI and R. ERICKSON, "Extension of State-Space Averaging to Resonant Switches-and 
</p>
<p>Beyond," IEEE Transactions on Power Electronics, Vol. 5, No. 1, pp. 98-109, January 1990. 
</p>
<p>[21] D. MAKSIMOVIC and S. CUK, "A General Approach to Synthesis and Analysis of Quasi-Resonant Convert-
</p>
<p>ers," IEEE Transactions on Power Electronics, Vol. 6, No.1, January 1991, pp. 127-140. 
</p>
<p>[22] R. ERICKSON, A. HERNANDEZ, A. WITULSKI, and R. Xu, "A Nonlinear Resonant Switch," IEEE Transac-
</p>
<p>tions on Power Electronics, Vol. 4, No.2, April1989, pp. 242-252. 
</p>
<p>[23] I. BARB!, D. MARTINS, and R. DO PRADO, "Effects of Nonlinear Resonant Inductor on the Behavior of 
</p>
<p>Zero-Voltage Switching Quasi-Resonant Converters," IEEE Power Electronics Specialists Conference, 
</p>
<p>1990 Record, pp. 522-527. 
</p>
<p>[24] S. FREELAND, "I. A Unified Analysis of Converters with Resonant Switches, II. Input-Current Shaping for 
</p>
<p>Single-Phase Ac-Dc Power Converters," Ph.D. Thesis, California Institute of Technology, 1988. 
</p>
<p>[25] R. FISHER, K. Noo, and M. Kuo, "A 500 kHz, 250 W De-de Converter with Multiple Outputs Controlled 
</p>
<p>by Phase-Shifted PWM, and Magnetic Amplifiers," Proceedings of High Frequency Power Conversion 
</p>
<p>Conference, pp. 100-110, May 1988. 
</p>
<p>[26] L. MWEENE, C. WRIGHT, and M. SCHLECHT, "A 1 kW, 500 kHz Front-End Converter for a Distributed </p>
<p/>
</div>
<div class="page"><p/>
<p>800 Soft Switching 
</p>
<p>Power Supply System," IEEE Applied Power Electronics Conference, 1989 Record, pp. 423-432. 
</p>
<p>[27] R. REDL, L. BELOGH, and D. EDWARDS, "Optimum ZVS Full-Bridge DC/DC Converter with PWM 
</p>
<p>Phase-Shift Control: Analysis, Design Considerations, and Experimental Results," IEEE Applied Power 
</p>
<p>Electronics Conference, 1994 Record, pp. 159-165. 
</p>
<p>[28] J. G. CHO, J. A. SABATE, and F. C. LEE, "Novel Full Bridge Zero-Voltage-Transition PWM DC/DC Con-
</p>
<p>verter for High Power Applications," IEEE Applied Power Electronics Conference, 1994 Record, 
</p>
<p>pp. 143-149. 
</p>
<p>[29] P. VINCIARELLI, "Optimal Resetting of the Transformer's Core in Single-Ended Forward Converters," 
</p>
<p>Reissued U.S. Patent No. Re. 36,098, Feb. 16, 1999. 
</p>
<p>[30] C. DUARTE and I. BARB!, "A Family of ZVS-PWM Active-Clamping De-to-De Converters: Synthesis, 
</p>
<p>Analysis, Design, and Experimentation," IEEE Transactions on Circuits and Systems-/: Fundamental 
</p>
<p>Theory and Applications, Vol. 44, No.8, pp. 698-704, Aug. 1997. 
</p>
<p>[31] P. HENG and R. ORUGANTI, "Family of Two-Switch Soft-Switched Asymmetrical PWM De/De Convert-
</p>
<p>ers," IEEE Power Electronics Specialists Conference, 1994 Record, pp. 85-94. 
</p>
<p>[32] R. DEDONCKER and J. LYONS, "The Auxiliary Resonant Commutated Pole Converter," IEEE Industry 
</p>
<p>Applications Society Annual Meeting, 1990 Record, pp. 1228-1235. 
</p>
<p>[33] R. TEICHMANN and S. BERNET, "Investigation and Comparison of Auxiliary Resonant Commutated Pole 
</p>
<p>Converter Topologies," IEEE Power Electronics Specialists Conference, 1998 Record, pp. 15-23, May 
</p>
<p>1998. 
</p>
<p>[34] W. McMURRAY, "Resonant Snubbers with Auxiliary Devices," IEEE Transactions on Industry Applica-
</p>
<p>tions, Vol.29, No.2, pp. 355-361, 1993. 
</p>
<p>PROBLEMS 
</p>
<p>20.1 In the forward converter of Fig. 20.43, Land Care large filter elements while LP, L8 , and C, have rela-
</p>
<p>tively small values. The transformer reset mechanism is not shown; for this problem, you may assume 
</p>
<p>that the transformer is ideal. 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Fig. 20.43 Forward converter with resonant switch, Problem 20.1. 
</p>
<p>(a) Classify the resonant switch. </p>
<p/>
</div>
<div class="page"><p/>
<p>Problems 801 
</p>
<p>(b) Which semiconductor devices operate with zero-voltage switching? With zero-current switch-
</p>
<p>ing? 
</p>
<p>(c) What is the resonant frequency? 
</p>
<p>20.2 In the high-voltage converter of Fig. 20.44, capacitor C is relatively large in value. The transformer 
</p>
<p>model includes an ideal 1 :n transformer, in conjunction with magnetizing inductance Lmp (referred to the 
</p>
<p>primary side) and winding capacitance Cws (referred to the secondary side). Transistor Q and diode D P 
exhibit total output capacitance CP, while the output capacitance of diode D, is C,. Other nonidealities, 
</p>
<p>such as transformer leakage inductance, can be ignored. The resonant switch is well-designed, such that 
</p>
<p>all elements listed above contribute to ideal operation of ihe converter and resonant switch. 
</p>
<p>r-&middot;&middot;&middot;&middot;-------------------~-;--~---------------------------1 
</p>
<p>r--,-----+-r~~--~--~r---~ 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>+ 
</p>
<p>Fig. 20.44 High-voltage de-de converter containing a resonant switch network, Problem 20.2. 
</p>
<p>(a) What type of resonant switch is employed? What is the parent PWM converter? 
</p>
<p>(b) Which semiconductor devices operate with zero-voltage switching? With zero-current switch-
</p>
<p>ing? 
</p>
<p>(c) What is the tank resonant frequency? 
</p>
<p>(d) Sketch the waveforms of the transistor drain-to-source voltage and transformer magnetizing cur-
</p>
<p>rent. 
</p>
<p>20.3 In the transformer-isolated de-de converter of Fig. 20.45, capacitors C1 and C2 and inductors L1 and LM 
</p>
<p>are relatively large in value, so that they have small switching ripples. The transformer model includes 
</p>
<p>an ideal l:n transformer, in conjunction with magnetizing inductance LM (referred to the primary side) 
</p>
<p>and leakage inductances LCl and L12 as shown. Transistor Q1 exhibits output capacitances Cds&bull; while the 
</p>
<p>output capacitance of diode D1 is Cd. MOSFET Q1 contains a body diode (not explicitly shown). Other 
nonidealities can be ignored. The resonant switch is well-designed, such that all elements listed above 
</p>
<p>contribute to ideal operation of the converter and resonant switch. 
</p>
<p>(a) What type of resonant switch is employed? What is the parent PWM converter? 
</p>
<p>(b) Which semiconductor devices operate with zero-voltage switching? With zero-current switch-
</p>
<p>ing? 
</p>
<p>20.4 A buck-boost converter is realized using a half-wave ZCS quasi-resonant switch. The load resistance has 
</p>
<p>valueR, the input voltage has value V8 , and the converter switching frequency isf,. 
</p>
<p>(a) Sketch the circuit schematic. 
</p>
<p>(b) Write the complete system of equations that can be solved to determine the output voltage V, in 
</p>
<p>terms of the quantities listed above and the component values. It is not necessary to actually 
</p>
<p>solve your equations. You may also quote results listed in this textbook. </p>
<p/>
</div>
<div class="page"><p/>
<p>802 Soft Switching 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>Ideal 
'&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;---&middot; 
</p>
<p>Transformer 
</p>
<p>c &bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;.&bull;.&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull; rrz.0.4.~! ...................... , 
</p>
<p>Fig. 20.45 Transformer-isolated de-de converter containing a resonant switch network, Problem 20.3. 
</p>
<p>20.5 It is desired to design a half-wave zero-current-switching quasi-resonant forward converter to operate 
</p>
<p>with the following specifications: V8 = 320 V, V = 42 V, 5 W :o; P :o; 100 W. Design the converter to oper-
ate with a maximum switching frequency of 1 MHz and a switch conversion ratio of p, = 0.45. Attempt 
to minimize the peak transistor current, while maintaining zero current switching at all operating points. 
</p>
<p>You may neglect the transformer magnetizing current, and ignore the transformer reset scheme. 
</p>
<p>(a) Specify your choices for the turns ratio n, and the tank elements Lr and Cr, referred to the trans-
</p>
<p>former secondary side. 
</p>
<p>(b) For your design of part (a), what is the minimum switching frequency? 
</p>
<p>(c) What is the worst-case peak transistor current? 
</p>
<p>20.6 Analysis of the ZVS quasi-resonant switch of Fig. 20.24. 
</p>
<p>(a) For each subinterval, sketch the resonant switch cell circuit, and derive expressions for the tank 
</p>
<p>inductor current and capacitor voltage waveforms. 
</p>
<p>(b) For subinterval2, in which QlfD1 are off and D2 conducts, write the loop equation which relates 
</p>
<p>the tank capacitor voltage, tank inductor voltage, and any other network voltages as appropriate. 
</p>
<p>Hence, for subinterval 2 relate the integral of the tank capacitor voltage to the change in tank 
</p>
<p>inductor current. 
</p>
<p>(c) Determine the switch-network terminal-waveform average values, and hence derive an expres-
</p>
<p>sion for the switch conversion ratio p,. Verify that your result coincides with Eq. (20.61). 
</p>
<p>20.7 Analysis of the full-bridge zero-voltage transition converter of Section 20.4.1. The converter of 
</p>
<p>Fig. 20.36 operates with the waveforms illustrated in Fig. 20.38. According to Eq. (20.68), the conver-
</p>
<p>sion ratio of this converter is given approximately by M( &lt;1&gt;) = n$. 
Derive an exact expression for M, based on the waveforms given in Fig. 20.38. Your result 
</p>
<p>should be a function of the length of subinterval 4, the load current, the switching frequency, and the val-
</p>
<p>ues of the inductance and capacitances. Note: there is a reasonably simple answer to this question. </p>
<p/>
</div>
<div class="page"><p/>
<p>Appendices </p>
<p/>
</div>
<div class="page"><p/>
<p>Appendix A 
</p>
<p>RMS Values of Commonly Observed 
</p>
<p>Converter Waveforms 
</p>
<p>The waveforms encountered in power electronics converters can be quite complex, containing modula-
</p>
<p>tion at the switching frequency and often also at the ac line frequency. During converter design, it is often 
</p>
<p>necessary to compute the rms values of such waveforms. In this appendix, several useful formulas and 
</p>
<p>tables are developed which allow these rms values to be quickly determined. 
</p>
<p>RMS values of the doubly-modulated waveforms encountered in PWM rectifier circuits are dis-
</p>
<p>cussed in Section 18.5. 
</p>
<p>A.l SOME COMMON WAVEFORMS 
</p>
<p>DC, Fig. A.l: 
</p>
<p>rms=l (A.l) 
</p>
<p>Fig. A.l </p>
<p/>
</div>
<div class="page"><p/>
<p>806 RMS Values of Commonly Observed Converter Waveforms 
</p>
<p>DC plus linear ripple, Fig. A.2: 
</p>
<p>i(t) 
</p>
<p>I 
</p>
<p>Fig. A.2 
</p>
<p>Square wave, Fig. A.3: 
</p>
<p>i(t) 
</p>
<p>Fig. A.3 
</p>
<p>Sine wave, Fig. A.4: 
</p>
<p>Fig. A.4 
</p>
<p>Pulsating waveform, Fig. A.5: 
</p>
<p>rms=IJ l+t(1ir 
</p>
<p>rms=Ipk 
</p>
<p>I pk 
rms = ./2 
</p>
<p>rms =I pk ll5 
</p>
<p>(A.2) 
</p>
<p>(A.3) 
</p>
<p>(A.4) 
</p>
<p>(A.5) </p>
<p/>
</div>
<div class="page"><p/>
<p>i(t) 
</p>
<p>0 
</p>
<p>Fig. A.S 0 DT, 
</p>
<p>Pulsating waveform with linear ripple, Fig. A.6: 
</p>
<p>Fig. A.6 
</p>
<p>i(t) 
</p>
<p>I 
</p>
<p>Triangular waveform, Fig. A.7: 
</p>
<p>Fig. A.7 
</p>
<p>i(t) 
</p>
<p>Ipk 
</p>
<p>Triangular waveform, Fig. A.S: 
</p>
<p>0 
</p>
<p>0 
</p>
<p>J Dt +Dz rms = I pk --3-
</p>
<p>0 
</p>
<p>Wt 
rms=IpkV 3 
</p>
<p>A. I Some Common Waveforms 807 
</p>
<p>-
</p>
<p>(A.6) 
</p>
<p>T, 
</p>
<p>(A.7) 
</p>
<p>(A.S) </p>
<p/>
</div>
<div class="page"><p/>
<p>808 RMS Values of Commonly Observed Converter Waveforms 
</p>
<p>i(t) 
Ipk ....................... . 
</p>
<p>0 
</p>
<p>Fig. A.8 0 Ts t 
</p>
<p>Triangular waveform, no de component, Fig. A.9: 
</p>
<p>rms= Jf (A.9) 
</p>
<p>Fig. A.9 
</p>
<p>Center-tapped bridge winding waveform, Fig. A.lO: 
</p>
<p>rms=tlpkv'l+D (A.lO) 
</p>
<p>i(t) 
</p>
<p>0 
Fig. A.lO 0 DT5 Ts (1 +D)Ts 2Ts 
</p>
<p>General stepped waveform, Fig. A. II: 
</p>
<p>(A.ll) 
</p>
<p>i(t) 
</p>
<p>... J 
Fig. A.ll 
</p>
<p>0 </p>
<p/>
</div>
<div class="page"><p/>
<p>A.2 General Piecewise Waveform 809 
</p>
<p>i(t) 
</p>
<p>Fig. A.12 General piecewise waveform. 
</p>
<p>A.2 GENERAL PIECEWISE WAVEFORM 
</p>
<p>For a periodic waveform composed of n piecewise segments as in Fig. A.l2, the rms value is 
</p>
<p>(A.l2) 
</p>
<p>where Dk is the duty cycle of segment k, and uk is the contribution of segment k. The uks depend on the 
</p>
<p>shape of the segments-several common segment shapes are listed below: 
</p>
<p>Constant segment, Fig. A.l3: 
</p>
<p>(A.l3) 
</p>
<p>i(t) 
</p>
<p>Fig. A.13 
</p>
<p>Triangular segment, Fig. A.l4: 
</p>
<p>(A.l4) 
</p>
<p>i(t) 
</p>
<p>0 
</p>
<p>Fig. A.14 </p>
<p/>
</div>
<div class="page"><p/>
<p>810 RMS Values of Commonly Observed Converter Waveforms 
</p>
<p>Trapezoidal segment, Fig. A.15: 
</p>
<p>(A.15) 
</p>
<p>i(t) 
</p>
<p>Fig. A.lS 
</p>
<p>Sinusoidal segment, half or full period, Fig. A.16: 
</p>
<p>(A.16) 
</p>
<p>i(t) 
</p>
<p>Fig. A.16 
</p>
<p>Sinusoidal segment, partial period: as in Fig. A.17, a sinusoidal segment of less than one half-period, 
</p>
<p>which begins at angle 81 and ends at angle 82 &bull; The angles 81 and 82 are expressed in radians: 
</p>
<p>(A.l7) 
</p>
<p>i(t) 
</p>
<p>--..:~ 
</p>
<p>!81 mt 
</p>
<p>Fig. A.17 f.- 82 -! </p>
<p/>
</div>
<div class="page"><p/>
<p>i(t) 
</p>
<p>A.2 General Piecewise Waveform 811 
</p>
<p>Ts 
10 J.!S 
</p>
<p>Fig. A.18 Example: an approximate transistor current waveform, including estimated current spike due to diode 
</p>
<p>stored charge. 
</p>
<p>Example 
</p>
<p>A transistor current waveform contains a current spike due to the stored charge of a freewheel-
</p>
<p>ing diode. The observed waveform can be approximated as shown in Fig. A1.18. Estimate the rms cur-
</p>
<p>rent. 
</p>
<p>The waveform can be divided into six approximately linear segments, as shown. The Dk and uk 
</p>
<p>for each segment are 
</p>
<p>1. Triangular segment: 
</p>
<p>2. Constant segment: 
</p>
<p>3. Trapezoidal segment: 
</p>
<p>4. Constant segment: 
</p>
<p>5. Triangular segment: 
</p>
<p>6. Zero segment: 
</p>
<p>Dl = (0.2 {tS)/(10 {tS) = 0.02 
</p>
<p>D2 = (0.2 {tS)/(10 {tS) = 0.02 
</p>
<p>D3 = (0.1 {tS)/(10 {tS) = 0.01 
</p>
<p>D4 = (5 {tS)/(10 {tS) = 0.5 
</p>
<p>D5 = (0.2 J.tS)/(10 J.tS) = 0.02 
</p>
<p>u5 = 1;13 = (2 A)2/3 = 1.3 A2 </p>
<p/>
</div>
<div class="page"><p/>
<p>812 RMS Values of Commonly Observed Converter Waveforms 
</p>
<p>The rms value is 
</p>
<p>(A.l8) 
</p>
<p>Even though its duration is very short, the current spike has a significant impact on the rms value of the 
</p>
<p>current-without the current spike, the rms current is approximately 2.0 A. </p>
<p/>
</div>
<div class="page"><p/>
<p>Appendix B 
</p>
<p>Simulation of Converters 
</p>
<p>Computer simulation can be a powerful tool in the engineering design process. Starting from design 
</p>
<p>specifications, an initial design typically includes selection of system and circuit configurations, as well 
</p>
<p>as component types and values. In this process, component and system models are constructed based on 
</p>
<p>vendor-supplied data, and by applications of analysis and modeling techniques. These models, validated 
</p>
<p>by experimental data whenever possible, are the basis upon which the designer can choose parameter 
</p>
<p>values and verify the achieved performance against the design specifications. One must take into account 
</p>
<p>the fact that actual parameter values will not match their nominal values because of inevitable production 
</p>
<p>tolerances, changes in environmental conditions (such as temperature), and aging. In the design verifica-
</p>
<p>tion step, worst-case analysis (or other reliability and production yield analysis) is performed to judge 
</p>
<p>whether the specifications are met under all conditions, i.e., for expected ranges of component parameter 
</p>
<p>values. Computer simulation is very well suited for this task: using reliable models and appropriate sim-
</p>
<p>ulation setups, the system performance can be tested for various sets of component parameter values. 
</p>
<p>One can then perform design iterations until the worst-case behavior meets specifications, or until the 
</p>
<p>system reliability and production yield are acceptably high. 
</p>
<p>In the design verification of power electronic systems by simulation, it is often necessary to use 
</p>
<p>component and system models of various levels of complexity: 
</p>
<p>1. Detailed, complex models that attempt to accurately represent physical behavior of devices. Such models 
</p>
<p>are necessary for tasks that involve finding switching times, details of switching transitions and switching 
</p>
<p>loss mechanisms, or instantaneous voltage and current stresses. Component vendors often provide librar-
</p>
<p>ies of such device models. To complete a detailed circuit model, one must also carefully examine effects of 
</p>
<p>packaging and board interconnects. With fast-switching power semiconductors, simulation time steps of a 
</p>
<p>few nanoseconds or less may be required, especially during on/off switching transitions. Because of the 
</p>
<p>complexity of detailed device models, and the fine time resolution, the simulation tasks can be very time 
</p>
<p>consuming. In practice, time-domain simulations using detailed device models are usually performed only </p>
<p/>
</div>
<div class="page"><p/>
<p>814 Simulation of Converters 
</p>
<p>on selected parts of the system, and over short time intervals involving a few switching cycles at most. 
</p>
<p>Devices for power converters, and detailed physical device modeling, are areas of active research and 
</p>
<p>development beyond the scope of this book. 
</p>
<p>2. Simplified device models. Since an on/off switching transition usually takes a small fraction of a switching 
</p>
<p>cycle, the basic operation of switching power converters can be explained using simplified, idealized 
</p>
<p>device models. For example, a MOSFET can be modeled as a switch with a small (ideally zero) on-resis-
</p>
<p>tance Ron when on, and a very large off-resistance (ideally an open circuit) when off. Such simplified mod-
</p>
<p>els yield physical insight into the basic operation of switching power converters, and provide the starting 
</p>
<p>point for developments of analytical models described throughout this book. Simplified device models are 
</p>
<p>also useful for time-domain simulations aimed at verifying converter and controller operation, switching 
</p>
<p>ripples, current and voltage stresses, and responses to load or input transients. Since device models are 
</p>
<p>simple, and details of switching transitions are ignored, tasks that require simulations over many switching 
</p>
<p>cycles can be completed efficiently using general-purpose circuit simulators. In addition, specialized tools 
</p>
<p>have been developed to support fast transient simulation of switching power converters based on idealized, 
</p>
<p>piecewise-linear device models [1-7], or a combination of piecewise-linear and nonlinear models [8]. 
</p>
<p>3. Averaged converter models. Averaged models that are well suited for prediction of converter steady-state 
</p>
<p>and dynamic responses are discussed throughout this book. These models are essential design tools 
</p>
<p>because they provide physical insight and lead to analytical results that can be used in the design process 
</p>
<p>to select component parameter values for a given set of specifications. In the design verification step, sim-
</p>
<p>ulations of averaged converter models can be performed to test for losses and efficiency, steady-state volt-
</p>
<p>ages and currents, stability, and large-signal transient responses. Since switching transitions and ripples 
</p>
<p>are removed by averaging, simulations over long time intervals and over many sets of parameter values 
</p>
<p>can be completed efficiently. As a result, averaged models are also well suited for simulations of large 
</p>
<p>electronic systems that include switching converters. Furthermore, since large-signal averaged models are 
</p>
<p>nonlinear, but time-invariant, small-signal ac simulations can be used to generate various frequency 
</p>
<p>responses of interest. Selected references on averaged converter modeling for simulation are listed at the 
</p>
<p>end of this chapter [9-18]. 
</p>
<p>Averaged models for computer simulation are covered in this appendix. Based on the material presented 
</p>
<p>in Section 7.4, averaged switch models for computer simulation of converters operating in continuous 
</p>
<p>conduction mode are described in Section B.l. Application examples include finding SEPIC de conver-
</p>
<p>sion ratio and efficiency, and large-signal transient responses of a buck-boost converter. Section B.2 
</p>
<p>describes an averaged switch model suitable for simulation of converters that may operate either in con-
</p>
<p>tinuous conduction mode or in discontinuous conduction mode. Application examples include finding 
</p>
<p>SEPIC open-loop frequency responses in CCM and DCM, loop-gain, phase margin and closed-loop 
</p>
<p>responses of a buck voltage regulator, and current harmonics in a DCM boost rectifier. Based on the 
</p>
<p>results from Chapter 12, a simulation model for converters with current programmed control is described 
</p>
<p>in Section B.3, together with a buck converter example that compares control-to-output frequency 
</p>
<p>responses with current programmed control against duty-cycle control. 
</p>
<p>It is assumed that the reader is familiar with basics of Spice circuit simulations. All simulation 
</p>
<p>models and examples in this appendix are prepared using the PSpice circuit simulator [19]. Netlists are 
</p>
<p>included to help explain details of model implementation and simulation analysis options. Usually, 
</p>
<p>instead of writing netlists, the user would enter circuit diagrams and analysis options from a front-end 
</p>
<p>schematic capture tool. The examples and the library switch.lib of subcircuit models described in this 
</p>
<p>appendix are available on-line. Similar models and examples can be constructed for use with other simu-
</p>
<p>lation tools. </p>
<p/>
</div>
<div class="page"><p/>
<p>B. I Averaged Switch Models for Continuous Conduction Mode 815 
</p>
<p>(a) (c) 
</p>
<p>: ................. !?. &middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;' 
</p>
<p>(b) 
</p>
<p>( v/t)) r 
s 
</p>
<p>* Subcircuit: CCM1 
* Application: two-switch PWM converters 
* Limitations: ideal switches, CCM only, no transformer 
**************************************************************** 
</p>
<p>* Parameters: none 
</p>
<p>*Nodes: 
* 1: transistor positive (drain for an n-channel MOS) 
* 2: transistor negative (source for ann-channel MOS) 
* 3: diode cathode 
* 4: diode anode 
* 5: duty cycle control input 
**************************************************************** 
</p>
<p>.subckt CCM1 1 2 3 4 5 
Et 1 2 value={(1-v(5))*v(3,4)/v(5)} 
Gd 4 3 value={(1-v(5))*i(Et)/v(5)} 
.ends 
</p>
<p>Fig. B.l Averaged switch model CCMl: (a) the gen-
eral two-switch network: (b) symbol for the averaged 
</p>
<p>switch subcircuit model; (c) PSpice netlist of the subcir-
cuit. 
</p>
<p>B.l AVERAGED SWITCH MODELS FOR CONTINUOUS CONDUCTION MODE 
</p>
<p>The central idea of the averaged switch modeling described in Section 7.4 is to identify a switch network 
</p>
<p>in the converter, and then to find an averaged circuit model. The resulting averaged switch model can 
</p>
<p>then be inserted into the converter circuit to obtain a complete model of the converter. An important fea-
</p>
<p>ture of the averaged switch modeling approach is that the same model can be used in many different con-
</p>
<p>verter configurations; it is not necessary to rederive an averaged equivalent circuit for each particular 
</p>
<p>converter. This feature is also very convenient for construction of averaged circuit models for simulation. 
</p>
<p>A general-purpose subcircuit represents a large-signal nonlinear averaged switch model. The converter 
</p>
<p>averaged circuit for simulation is then obtained by replacing the switch network with this subcircuit. 
</p>
<p>Based on the discussion in Section 7.4, subcircuits that represent CCM averaged switch models are 
</p>
<p>described in this section, together with application examples. 
</p>
<p>B.l.l Basic CCM Averaged Switch Model 
</p>
<p>The large-signal averaged switch model for the general two-switch network of Fig. 7.39(a) is shown in 
</p>
<p>Fig. 7.39(c). A PSpice subcircuit implementation of this model is shown in Fig. B.l. The subcircuit has 
</p>
<p>five nodes. The transistor port of the averaged switch network is connected between the nodes 1 and 2, 
</p>
<p>while the diode port is comprised of nodes 3 and 4. The duty ratio d = v(5) is the control input to the sub-
circuit at the node 5. The quantity v(5) is a voltage that is equal to the duty cycle, and that lies in the 
</p>
<p>range zero to one volt. Figure B.l(c) shows the netlist of the subcircuit. The netlist consists of only four 
</p>
<p>lines of code and several comment lines (the lines starting with *). The .subckt line defines the name 
</p>
<p>(CCMl) of the subcircuit and the interface nodes. The value of the controlled voltage source E1, which </p>
<p/>
</div>
<div class="page"><p/>
<p>816 Simulation of Converters 
</p>
<p>models the transistor port of the averaged switch network, is written according to Eq. (7 .136): 
</p>
<p>(B.l) 
</p>
<p>Note that v(3,4) in the subcircuit of Fig. B.l is equal to the switch network independent input (vit))Ts' 
Also, d(t) = v(5), and d'(t) = 1 - d(t) = 1 - v(5). The value of the controlled current source Gd, which 
</p>
<p>models the diode port, is computed according to Eq. (7.137): 
</p>
<p>(B.2) 
</p>
<p>The switch network independent input (i1(t))Ts equals the current i(E1) through the controlled voltage 
</p>
<p>source Er The .ends line completes the subcircuit netlist. The subcircuit CCM1 is included in the model 
</p>
<p>library switch.lib. 
</p>
<p>An advantage of the subcircuit CCM1 of Fig. B .1 is that it can be used to construct an averaged 
</p>
<p>circuit model for simulation of any two-switch PWM converter operating in continuous conduction 
</p>
<p>mode, subject to the assumptions that the switches can be considered ideal, and that the converter does 
</p>
<p>not include a step-up or step-down transformer. The subcircuit can be further refined to remove these 
</p>
<p>limitations. In converters with an isolation transformer, the right-hand side of Eqs. (B.1) and (B.2) 
</p>
<p>should be divided by the transformer turns ratio. Inclusion of switch conduction losses is discussed in the 
</p>
<p>next section. 
</p>
<p>A disadvantage of the model in Fig. B.l is that Eqs. (B.1) and (B.2) have a discontinuity at duty 
</p>
<p>cycle equal to zero. In applications of the subcircuit, it is necessary to restrict the duty-cycle to the range 
</p>
<p>0 &lt; Dmin $. d $. 1. 
Following the approach of this section, subcircuits can be constructed for the large-signal aver-
</p>
<p>aged models of the buck switch network (see Fig. 7.50(a), and Eqs. (7.150)), and the boost switch net-
</p>
<p>work (see Fig. 7.46(a) and Eqs. (7.146)). An advantage of these models is that their defining equations do 
</p>
<p>not have the discontinuity problem at d = 0. 
</p>
<p>B.1.2 CCM Averaged Switch Model that Includes Switch Conduction Losses 
</p>
<p>Let us modify the model of Fig. B.1 to include switch conduction losses. Figure B.2 shows simple device 
</p>
<p>models that include transistor and diode conduction losses in the general two-switch network of 
</p>
<p>Fig. B.l(a). The transistor is modeled as an ideal switch in series with an on-resistance Ron&middot; The diode is 
</p>
<p>modeled as an ideal diode in series with a forward voltage drop VD and resistance RD. 
</p>
<p>Construction of de equivalent circuits to find de conversion ratio and efficiency of converters is 
</p>
<p>discussed in Chapter 3. Derivation of an averaged switch model that includes conduction losses arising 
</p>
<p>from Ron and VD is described in Section 7.4.5. Following the same averaged switch modeling approach, 
</p>
<p>we can find the following relationships that describe the averaged switch model for the switch network of 
</p>
<p>Fig. B.2: 
</p>
<p>(B.3) </p>
<p/>
</div>
<div class="page"><p/>
<p>B. I Averaged Switch Models for Continuous Conduction Mode 817 
</p>
<p>Fig. B.2 Switch network model that includes 
</p>
<p>conduction loss elements Ron' Vv and Rv&middot; 
</p>
<p>(b) 
</p>
<p>(a) 
</p>
<p>( vz(t)) r 
s 
</p>
<p>Fig. B.3 Subcircuit implementation of the 
</p>
<p>CCM averaged switch model that includes 
</p>
<p>conduction losses: (a) circuit symbol; (b) 
</p>
<p>PSpice netlist for the subcircuit. 
</p>
<p>' MODEL: CCM2 
&bull; Application: two-switch PWM converters, includes 
&bull; conduction losses due to Ron, VD, RD 
&bull; Limitations: CCM only, no transformer 
************************************************************** 
&bull; Parameters: 
</p>
<p>Ron = transistor on-resistance 
VD = diode forward voltage drop 
RD = diode on-resistance 
</p>
<p>*Nodes: 
* 1: transistor positive (drain for an n-channel MOS) 
* 2: transistor negative (source for ann-channel MOS) 
* 3: diode cathode 
* 4: diode anode 
* 5: duty cycle control input 
************************************************************** 
</p>
<p>.subckt CCM2 1 2 3 4 5 
+params: Ron=O VD=O RD=O 
Er 1 1 x value={i(Et)*(Ron+(1-v(5))*RD/v(5))/v(5)} 
Et 1 x 2 value={(1-v(5))*(v{3,4)+VD)/v(5)} 
Gd 4 3 value={{1-v{5))*i(Et)/v(5)} 
.ends 
</p>
<p>(B.4) 
</p>
<p>A subcircuit implementation of the averaged switch model described by Eqs. (B.3) and (B.4) is shown in 
</p>
<p>Fig. B.3 The subcircuit terminal nodes are the same as in the CCMl subcircuit: the transistor port is 
</p>
<p>between the nodes 1 and 2; the diode port is between the nodes 3 and 4; the duty ratio d = v(S) is the con-</p>
<p/>
</div>
<div class="page"><p/>
<p>818 Simulation of Converters 
</p>
<p>4 
</p>
<p>+ 
</p>
<p>c2 
100 ~F 
</p>
<p>v 
</p>
<p>Rload 
</p>
<p>son 
</p>
<p>Fig. B.4 SEPIC simulation example. 
</p>
<p>SEPJC DC conversion ratio and efficiency 
</p>
<p>* Define parameters: 
.param Ron=O.O VD=0.8 RD=0.05 
* Analysis setup: 
.de lin Vc 0.1 1 0.01 
.step lin PARAM Ron 0 1 0.5 
</p>
<p>* Converter nellis!: 
Vg 1 0 50V 
L 1 1 2x 800u 
RL1 2x 2 0.5 
L2 0 3x 100uH 
RL2 3x 3 0.1 
C1 2 3 100uF 
C2 4 0 100uF 
Xswitch 2 0 4 3 5 CCM2 
+params: Ron={Ron} VD={VD} RD={RD} 
Rload 4 0 50 
</p>
<p>* Duty cycle input: 
Vc 50 0.5 
</p>
<p>.lib switch.lib 
</p>
<p>.probe 
</p>
<p>.end 
</p>
<p>trol input to the subcircuit at the node 5. Two controlled voltage sources in series, Er and E1, are used to 
</p>
<p>generate the port 1 (transistor) averaged voltage according to Eq. (B.3). The controlled voltage source Er 
</p>
<p>models the voltage drop across the equivalent resistance R0 /d(t) + d'(t)RD/d2(t) in Eq. (B.3). Note that 
this equivalent resistance is a nonlinear function of the switch duty cycle d(t). The controlled voltage 
</p>
<p>source &pound;1 shows how the port 1 (transistor) averaged voltage depends on the port 2 (diode) averaged volt-
</p>
<p>age. The controlled current source Gd models the averaged diode current according to Eq. (B.4). The 
</p>
<p>subcircuit CCM2 has three parameters (Ron' V D' and RD) that can be specified when the subcircuit is used 
</p>
<p>in a converter circuit. The default values of the subcircuit parameters, Ron= 0, VD = 0, and RD = 0, are 
</p>
<p>defined in the .subckt line. These values correspond to the ideal case of no conduction losses. The subcir-
</p>
<p>cuit CCM2 is included in the model library switch. lib. 
The model of Fig. B.3 is based on the simple device models of Fig. B.2. It is assumed that 
</p>
<p>inductor current ripples are small and that the converter operates in continuous conduction mode. Many 
</p>
<p>practical converters, however, must operate in discontinuous conduction mode at low duty cycles where 
</p>
<p>the diode forward voltage drop is comparable to or larger than the output voltage. In such cases, the 
</p>
<p>model of Fig. B.2, which includes VD as a fixed voltage generator, gives incorrect, physically impossible 
</p>
<p>results for polarities of converter voltages and currents, losses and efficiency. 
</p>
<p>B.1.3 Example: SEPIC DC Conversion Ratio and Efficiency 
</p>
<p>Let us consider an example of how the subcircuit CCM2 can be used to generate de conversion ratio and 
</p>
<p>efficiency curves for a CCM converter. As an example, Figure B.4 shows a SEPIC averaged circuit 
</p>
<p>model. The converter circuit can be found in Fig. 6.38(a), or in Fig. 7.37. To construct the averaged cir-
</p>
<p>cuit model for simulation, the switch network is replaced by the subcircuit CCM2. In the converter netlist 
</p>
<p>shown in Fig. B.4, the X,&middot;wirch line shows how the subcircuit is connected to other parts of the converter. 
</p>
<p>The switch duty cycle is set by the voltage source Vc. All other parts of the converter circuit are simply 
</p>
<p>copied to the averaged circuit model. Inductor winding resistances Ru = 0.5 Q and RL2 = 0.1 Q are </p>
<p/>
</div>
<div class="page"><p/>
<p>8.1 Averaged Switch Models for Continuous Conduction Mode 819 
</p>
<p>(a) (b) 
</p>
<p>100% 
</p>
<p>11 
</p>
<p>80% 
</p>
<p>60% 
</p>
<p>40% 
</p>
<p>20% 
</p>
<p>0% 
0 0.2 0.4 0.6 0.8 
</p>
<p>D D 
</p>
<p>Fig. B.S SEPIC simulation example: (a) de conversion ratio and (b) efficiency. 
</p>
<p>included to model copper losses of the inductors L1 and L2, respectively. The switch conduction loss 
</p>
<p>parameters are defined by the .param line in the netlist: Ron= 0, V0 = 0.8 V, R0 = 0.05 Q. Notice how 
these values are passed to the subcircuit CCM2 in the Xswitch line. In this example, all other losses in the 
</p>
<p>converter are neglected. A de sweep analysis (see the .de line in the netlist) is set to vary the de voltage 
</p>
<p>source Vc from 0.1 V to 1 V, in 0.01 V increments, which corresponds to varying the switch duty cycle 
</p>
<p>over the range from D = 0.1 to D = 1. The range of duty cycles from zero to 0.1 is not covered because of 
</p>
<p>the model discontinuity problem at D = 0 (discussed in Section B.l.l), and because the model predic-
</p>
<p>tions for conduction losses at low duty cycles are not valid, as discussed in Section B .1.2. The de sweep 
</p>
<p>analysis is repeated for values of the switch on-resistance in the range from Ron= 0 Q to Ron= 1 Q in 
</p>
<p>0.5 Q increments (see the .step line in the netlist). The .lib line refers to the switch. lib library, which con-
</p>
<p>tains definitions of the subcircuit CCM2 and all other subcircuit models described in this appendix. 
</p>
<p>Simulation results for the de output voltage V and the converter efficiency 11 are shown in 
</p>
<p>Fig. B.S. Several observations can be made based on the modeling approach and discussions presented in 
</p>
<p>Chapter 3. At low duty cycles, efficiency drops because the diode forward voltage drop is comparable to 
</p>
<p>the output voltage. At higher duty cycles, the converter currents increase, so that the conduction losses 
</p>
<p>increase. Eventually, for duty cycles approaching 1, both the output voltage and the efficiency approach 
</p>
<p>zero. Given a desired de output voltage and efficiency, the plots in Fig. B.5 can be used to select the tran-
</p>
<p>sistor with an appropriate value of the on-resistance. 
</p>
<p>B.1.4 Example: Transient Response of a Buck-Boost Converter 
</p>
<p>In addition to steady-state conversion characteristics, it is often of interest to investigate converter tran-
</p>
<p>sient responses. For example, in voltage regulator designs, it is necessary to verify whether the output 
</p>
<p>voltage remains within specified limits when the load current takes a step change. As another example, 
</p>
<p>during a start-up transient when the converter is powered up, converter components can be exposed to 
</p>
<p>significantly higher stresses than in steady state. It is of interest to verify that component stresses are </p>
<p/>
</div>
<div class="page"><p/>
<p>820 Simulation of Converters 
</p>
<p>+ 
</p>
<p>R 
v(t) 
</p>
<p>20Q 
</p>
<p>Fig. B.6 Buck-boost converter example. 
</p>
<p>within specifications or to make design modifications to reduce the stresses. In these examples, transient 
</p>
<p>simulations can be used to test for converter responses. 
</p>
<p>Transient simulations can be performed on the converter switching circuit model or on the con-
</p>
<p>verter averaged circuit model. As an example, let us apply these two approaches to investigate a start-up 
</p>
<p>transient response of the buck-boost converter shown in Fig. B.6. 
</p>
<p>Figure B.7 shows a switching circuit model of the buck-boost converter. The inductor winding 
</p>
<p>resistance RL is included to model the inductor copper losses. The MOSFET is modeled as a voltage-con-
</p>
<p>trolled switch Sq1 controlled by a pulsating voltage source vc. The switch .model line specifies the switch 
</p>
<p>on-resistance Ran= 50 mQ, and the switch off-resistance Rolf= 10 MQ. The switch is on when the con-
</p>
<p>trolling voltage v c is greater than Von = 6 V, and off when the controlling voltage v c is less than V0ff = 4 V. 
The pulsating source vc has the pulse amplitude equal to 10 V. The period is Ts = 1/fs = 10 )ls, the rise and 
fall times are tr = t1 = 100 ns, and the pulse width is tP = 7.9 f-lS. The switch duty cycle is 
D = (tP + 0.5 (tr + t1))/Ts = 0.8. The built-in nonlinear Spice model is used for the diode. In the diode 
.model statement, only the parameter Is is specified, to set the forward voltage drop across the diode. The 
</p>
<p>switch and the diode models used in this example are very simple. Conduction losses are modeled in a 
</p>
<p>simple manner, and details of complex device behavior during switching transitions are neglected. 
</p>
<p>3 
</p>
<p>DI 
</p>
<p>O.IQ RL 
</p>
<p>vg 4 cl 
15V -
</p>
<p>50~F 
</p>
<p>15~H 
</p>
<p>i(t) 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>v(t) 
</p>
<p>20Q 
</p>
<p>Buck-boost converter: switching circuit 
Vg1 015V 
Sq1 1 2 50 switch 
01 3 2 diode 
RL 2 4 0.1 
L1 4 0 15uH ic=O 
C1 3 0 50uF ic=O 
R 3020 
Vc 50 pulse 
+(0 1 OV Ous 1 OOns 1 OOns 7.9us 1 Ous) 
.model switch vswitch 
+(Ron=0.05 Roff=1 Omeg Von=6V Voff=4V) 
.model diode d (ls=1 e-12) 
.tran 1 u 1.2m Om 1 u uic 
.probe 
.end 
</p>
<p>Fig. B.7 Buck-boost converter simulation example, switching circuit model. </p>
<p/>
</div>
<div class="page"><p/>
<p>2 
</p>
<p>RL 
</p>
<p>lSJ.lH 
</p>
<p>i(t) 
</p>
<p>B. I Averaged Switch Models for Continuous Conduction Mode 821 
</p>
<p>3 
</p>
<p>+ 
</p>
<p>c, 
v(t) 
</p>
<p>SOJ.lF 20Q 
</p>
<p>Buck-boost converter, averaged circuit 
</p>
<p>.lib switch.lib 
</p>
<p>Vg 1 0 15V 
Xswitch 1 2 2 3 5 CCM2 
+ PARAMS: Ron=0.05 VD=0.8 RD=O 
RL 2 4 0.1 
L1 4 0 15uH ic=O 
C1 3 0 50uF ic=O 
R 3020 
Vc5 00.8 
.Iran 1 Ou 1.2m Om 1 Ou uic 
</p>
<p>.probe 
</p>
<p>.end 
</p>
<p>Fig. B.S Buck-boost converter simulation example, averaged circuit model. 
</p>
<p>Therefore, the circuit model of Fig. B.7 cannot be used to examine switching transitions or to predict 
switching losses in the converter. Nevertheless, basic switching operation is modeled, and a transient 
</p>
<p>simulation can be used to find out how the converter waveforms evolve in time over many switching 
</p>
<p>cycles. Transient simulation parameters are defined by the .tran line: the output time step is 1 ~-ts, the final 
</p>
<p>simulation time is 1.2 ms, the output waveforms are generated from the start of simulation at time equal 
</p>
<p>to zero, and the maximum allowed time step is 1 ~-ts. The uic ("use initial conditions") option tells the 
simulator to start with all capacitor voltages and inductor currents equal to the specified initial values. 
</p>
<p>For example, ic=O in the L1 line sets the initial inductor current to zero. In Spice, the default initial condi-
</p>
<p>tions are always zero, so that ic=O statements can be omitted. 
</p>
<p>An averaged circuit model of the buck-boost converter is shown in Fig. B.S. This circuit model 
</p>
<p>is obtained by replacing the switch network in the converter of Fig. B.6 by the CCM2 subcircuit. Notice 
that the circuits and the netlists of Figs. B.7 and Fig. B.8 are very similar. The only difference is that the 
switching devices in the converter circuit of Fig. B.7 are replaced by the CCM2 subcircuit Xswitch in 
Fig. B.S. Also, the pulsating source v/t) in the switching circuit is replaced by a constant voltage source 
</p>
<p>vc equal to the switch duty cycleD= 0.8. 
The inductor current and the capacitor voltage waveforms during the start-up transient are 
</p>
<p>shown in Fig. B.9. For comparison, the waveforms obtained by transient simulation of the switching con-
verter circuit shown in Fig. B.7, and by simulation of the averaged circuit model of Fig. B.8 are shown. 
Switching ripples can be observed in the waveforms obtained by simulation of the switching circuit 
</p>
<p>model. The converter transient response is governed by the converter natural time constants. Since these 
</p>
<p>time constants are much longer than the switching period, the converter start-up transient responses in 
</p>
<p>Fig. B.9 take many switching cycles to reach the steady state. In the results obtained by simulation of the 
</p>
<p>averaged circuit model, the switching ripples are removed, but the low-frequency portions of the con-
verter transient responses, which are governed by the natural time constants of the converter network, 
match very closely the responses obtained by simulation of the switching circuit. 
</p>
<p>Based on the results shown in Fig. B.9, we can see that converter components are exposed to 
</p>
<p>significantly higher current stresses during the start-up transient than during steady state operation. The 
problem of excessive stresses in the start-up transient is quite typical for switching power converters. 
</p>
<p>Practical designs usually include a "soft-start" circuit, where the switch duty cycle is slowly increased </p>
<p/>
</div>
<div class="page"><p/>
<p>822 Simulation of Converters 
</p>
<p>i(t) 
</p>
<p>60A 
</p>
<p>50 A 
</p>
<p>40A 
</p>
<p>30A 
</p>
<p>20A 
</p>
<p>lOA 
</p>
<p>Waveform obtained by simulation 
of the averaged model 
</p>
<p>/ 
Waveform obtained by simulation 
of the switching circuit model 
</p>
<p>0~-------.-------.-------,-------,-------.-------. 
</p>
<p>0 
</p>
<p>v(t) 
</p>
<p>lOY 
</p>
<p>0 
</p>
<p>-10 v 
</p>
<p>-20V 
</p>
<p>-30V 
</p>
<p>-40V 
</p>
<p>-50V 
</p>
<p>0.2 ms 0.4 ms 0.6ms 0.8 ms 
</p>
<p>Waveform obtained by simulation 
of the averaged model 
</p>
<p>Waveform obtained by simulation 
/of the switching circuit model 
</p>
<p>1 ms 1.2 ms 
</p>
<p>-60V,_------.-------.-------,-------,------,,------, 
</p>
<p>0 0.2ms 0.4ms 0.6ms 0.8 ms 1 ms 1.2 ms 
</p>
<p>Fig. B.9 Inductor current and output voltage waveforms obtained by transient simulation of the switching con-
</p>
<p>verter circuit shown in Fig. B.7, and by simulation of the averaged circuit model of Fig. B.8 
</p>
<p>from zero to the steady-state value to reduce start-up transient stresses. 
</p>
<p>This simulation example illustrates how an averaged circuit model can be used in place of a 
</p>
<p>switching circuit model to investigate converter large-signal transient responses. An advantage of the 
</p>
<p>averaged circuit model is that transient simulations can be completed much more quickly because the 
</p>
<p>averaged model is time invariant, and the simulator does not spend time computing the details of the fast 
</p>
<p>switching transitions. This advantage can be important in simulations of larger electronic systems that 
</p>
<p>include switching power converters. Another important advantage also comes from the fact that the aver-
</p>
<p>aged circuit model is nonlinear but time-invariant: ac simulations can be used to linearize the model and 
</p>
<p>generate small-signal frequency responses of interest. This is not possible with switching circuit models. 
</p>
<p>Examples of small-signal ac simulations can be found in Sections B.2 and B.3. 
</p>
<p>B.2 COMBINED CCMIDCMAVERAGED SWITCH MODEL 
</p>
<p>The models and examples of Section B.l are all based on the assumption that the converters operate in 
</p>
<p>continuous conduction mode (CCM). As discussed in Chapters 5 and 11, all converters containing a 
</p>
<p>diode rectifier operate in discontinuous conduction mode (DCM) if the load current is sufficiently low. In 
</p>
<p>some cases, converters are purposely designed to operate in DCM. It is therefore of interest to develop </p>
<p/>
</div>
<div class="page"><p/>
<p>(b) 
</p>
<p>(a) 
i1 (t) ;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;; i2(t) 
</p>
<p>(c) 
</p>
<p>: ................................ ! 
</p>
<p>B.2 Combined CCMIDCM Averaged Switch Model 823 
</p>
<p>i CCM 
L~~-:~~~:~-~-~~!.~~--'!!:q_~:L. 
</p>
<p>(it(t))rs , .............................................. . 
+~-.;......., (p(t))r .....-t-+-o+ 
</p>
<p>s --------... 
</p>
<p>i DCM , 
i.~~::.~&yen;.:4..~-~~:~-~?.4.:~ . .! 
</p>
<p>Fig. B.lO Summary of averaged switch modeling: (a) general two-switch network, (b) averaged switch model in 
CCM, and (c) averaged switch model in DCM. 
</p>
<p>(it(t))rs r&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;""""""""""""] 
</p>
<p>+ 
</p>
<p>0 
</p>
<p>. CCM/DCM i 
! averaged switch model ! 
~--&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;! 
</p>
<p>+ 
</p>
<p>( Vz{t)) r_, 
Fig. B.ll A general averaged switch model 
</p>
<p>using the equivalent switch conversion ratio 1-l&middot; 
</p>
<p>averaged models suitable for simulation of converters that may operate in either CCM or DCM. 
</p>
<p>Figure B.lO illustrates the general two-switch network, and the corresponding large-signal aver-
</p>
<p>aged models in CCM and DCM. The CCM averaged switch model, which is derived in Section 7.4, is an 
</p>
<p>ideal transformer with ff : d turns ratio. In DCM, the large-signal averaged switch model is a loss-free 
resistor, as derived in Section 11.1. Our objective is to construct a combined CCM/DCM averaged switch 
</p>
<p>model that reduces to the model of Fig. B.lO(a) or to the model of Fig. B.lO(c) depending on the operat-
</p>
<p>ing mode of the converter. Let us define an effective switch conversion ratio 11-(t), so that the averaged 
switch model in both modes has the same form as in CCM, as shown in Fig. B.ll. If the converter oper-
</p>
<p>ates in CCM, then the switch conversion ratio /L(t) is equal to the switch duty cycle d(t), </p>
<p/>
</div>
<div class="page"><p/>
<p>824 Simulation of Converters 
</p>
<p>Jl=d (B.5) 
</p>
<p>If the converter operates in DCM, then the effective switch conversion ratio can be computed so that the 
</p>
<p>terminal characteristics of the averaged-switch model of Fig. B.11 match the terminal characteristics of 
</p>
<p>the loss-free resistor model of Fig. B.lO(c). Matching the port 1 characteristics gives 
</p>
<p>{B.6) 
</p>
<p>which can be solved for the switch conversion ratio JL, 
</p>
<p>(B.7) 
</p>
<p>It can be verified that matching the port 2 characteristics of the models in Figs. B .1 0( c) and B .11 gives 
</p>
<p>exactly the same result for the effective switch conversion ratio in DCM. 
</p>
<p>The switch conversion ratio JL(t) can be considered a generalization of the duty cycle d(t) of 
</p>
<p>CCM switch networks. Based on this approach, models and results developed for converters in CCM can 
</p>
<p>be used not only for DCM but also for other operating modes or even for other converter configurations 
</p>
<p>by simply replacing the switch duty cycle d(t) with the appropriate switch conversion ratio JL(t) [21-24]. 
</p>
<p>For example, if M(d) is the conversion ratio in CCM, then M(JL), with JL given by Eq. (B.7), is the conver-
</p>
<p>sion ratio in DCM. The switch conversion ratio in DCM depends on the averaged terminal voltage and 
</p>
<p>current, as well as the switch duty cycle d through the effective resistance Re = 2L!d2T8 &bull; If the converter 
is completely unloaded, then the average transistor current (i1(t))Ts is zero, and the DCM switch conver-
</p>
<p>sion ratio becomes JL = 1. As a result, the de output voltage attains the maximum possible value 
</p>
<p>V = V8 M(l ). This is consistent with the results of the steady-state DCM analyses in Chapter 5 and Sec-
tion 11.1. 
</p>
<p>To construct a combined CCM/DCM averaged switch model based on the general averaged 
</p>
<p>switch model of Fig. B.ll, it is necessary to specify which of the two expressions for the switch conver-
</p>
<p>sion ratio to use: Eq. (B.S), which is valid in CCM, or Eq. (B.7), which is valid in DCM. At the CCM/ 
</p>
<p>DCM boundary, these two expressions must give the same result, JL = d. If the load current decreases fur-
</p>
<p>ther, the converter operates in DCM, the average switch current (i1(t))Ts decreases, and the DCM switch 
</p>
<p>conversion ratio in Eq. (B.7) becomes greater than the switch duty cycle d. We conclude that the correct 
</p>
<p>value of the switch conversion ratio, which takes into account operation in CCM or DCM, is the larger of 
</p>
<p>the two values computed using Eq. (B.S) and Eq. (B.7). 
</p>
<p>Figure B.12 shows an implementation of the combined CCM/DCM model as a PSpice subcir-
</p>
<p>cuit CCM-DCMl. This subcircuit has the same five interface nodes as the subcircuits CCMl and CCM2 
</p>
<p>of Section B.l. The controlled sources E1 and Gd model the port 1 (transistor) and port 2 (diode) averaged 
</p>
<p>characteristics, as shown in Fig. B.ll. The switch conversion ratio JL is equal to the voltage v(u) at the 
</p>
<p>subcircuit node u. The controlled voltage source Eu computes the switch conversion ratio as the greater 
</p>
<p>of the two values obtained from Eqs. (B.S) and (B.7). The controlled current source Ga, the zero-value 
</p>
<p>voltage source Va, and the resistor Ra form an auxiliary circuit to ensure that the solution found by the 
</p>
<p>simulator has the transistor and the diode currents with correct polarities, (i1(t))Ts &gt; 0, (i2(t))Ts &gt; 0. The 
subcircuit parameters are the inductance L relevant for CCMIDCM operation, and the switching fre-
</p>
<p>quency fs. The default values in the subcircuit are arbitrarily set to L = 100 f!H andfs = 100kHz. 
The PSpice subcircuit CCM-DCMl of Fig. B.l2 can be used for de, ac, and transient simula-</p>
<p/>
</div>
<div class="page"><p/>
<p>..-----------, (izCt)) r, 
+ 
</p>
<p>( vz(t)) T 
s 
</p>
<p>Fig. B.12 Implementation of the com-
</p>
<p>bined CCM/DCM averaged switch model. 
</p>
<p>B.2 Combined CCM!DCM Averaged Switch Model 825 
</p>
<p>* MODEL: CCM-DCM1 
</p>
<p>* Application: two-switch PWM converters, CCM or DCM 
</p>
<p>&bull; Limitations: ideal switches, no transformer 
</p>
<p>* Parameters: 
</p>
<p>L = equivalent inductance for DCM 
</p>
<p>fs = switching frequency 
</p>
<p>*Nodes: 
* 1: transistor positive (drain for an n-channel MOS) 
* 2: transistor negative (source for an n-channel MOS) 
* 3: diode cathode 
* 4: diode anode 
* 5: duty cycle control input 
</p>
<p>.subckt CCM-DCM1 1 2 3 4 5 
</p>
<p>+ params: L=1 OOu fs=1 E5 
</p>
<p>Et 1 2 value={(1-v(u))*v(3,4)/v(u)} 
</p>
<p>Gd 4 3 value={(1-v(u))*i(Et)/v(u)} 
</p>
<p>Ga 0 a value={MAX(i(Et),O)} 
</p>
<p>Vaab 
</p>
<p>Ra b 0 1 k 
</p>
<p>Eu u 0 table {MAX(v(5), 
</p>
<p>+ v(5)*v(5)/(v(5)*v(5)+2*L*fs*i(Va)/v(3,4)))} (0 0) (1 1) 
</p>
<p>.ends 
</p>
<p>tions of PWM converters containing a transistor switch and a diode switch. This subcircuit is included in 
</p>
<p>the model library switch. lib. It can be modified further for use in converters with isolation transformer. 
</p>
<p>B.2.1 Example: SEPIC Frequency Responses 
</p>
<p>As an example, Fig. B.13 shows a SEPIC circuit and the averaged circuit model obtained by replacing 
</p>
<p>the switch network with the CCM-DCMl subcircuit of Fig. B.l2. A part of the circuit netlist is included 
</p>
<p>in Fig. B.13. The connections and the parameters of the CCM-DCMl subcircuit are defined by the Xswitch 
</p>
<p>line. In the SEPIC, the inductance parameter L = 83.3 J.tH is equal to the parallel combination of L1 and 
</p>
<p>L2&bull; The voltage source vc sets the quiescent value of the duty cycle to D = 0.4, and the small-signal ac 
value to d = 1. Ac simulation is performed on a linearized circuit model, so that amplitudes of all small-
signal ac waveforms are directly proportional to the amplitude of the ac input, regardless of the input ac 
</p>
<p>amplitude value. For example, the control-to-output transfer function is Gvd = Vld, where 0 = v( 4) in the 
</p>
<p>circuit of Fig. B.13(b ). We can set the input ac amplitude to 1, so that the control-to-output transfer func-
</p>
<p>tion Gvd can be measured directly as v(5). This setup is just for convenience in finding small-signal fre-
</p>
<p>quency responses by simulation. For measurements of converter transfer functions in an experimental 
</p>
<p>circuit (see Section 8.5), the actual amplitude of the small-signal ac variation d would be set to a fraction 
of the quiescent duty cycle D. Parameters of the ac simulation are set by the .ac line in the netlist: the sig-
</p>
<p>nal frequency is swept from the minimum frequency of 5 Hz to the maximum frequency of 50 kHz in 
</p>
<p>201 points per decade. 
</p>
<p>Figure B.l4 shows magnitude and phase responses of the control-to-output transfer function 
</p>
<p>obtained by ac simulations for two different values of the load resistance: R = 40 Q, for which the con-
verter operates in CCM, and R = 50 Q, for which the converter operates in DCM. For these two operating </p>
<p/>
</div>
<div class="page"><p/>
<p>826 Simulation of Converters 
</p>
<p>points, the quiescent (de) voltages and currents in the circuit are nearly the same. Nevertheless, the fre-
</p>
<p>quency responses are qualitatively very different in the two operating modes. In CCM, the converter 
</p>
<p>exhibits a fourth-order response with two pairs of high-Q complex-conjugate poles and a pair of com-
</p>
<p>plex-conjugate zeros. Another RHP (right-half plane) zero can be observed at frequencies approaching 
</p>
<p>50 kHz. In DCM, there is a dominant low-frequency pole followed by a pair of complex-conjugate poles 
</p>
<p>and a pair of complex-conjugate zeros. The frequencies of the complex poles and zeros are very close in 
</p>
<p>value. A high-frequency pole and a RHP zero contribute additional phase lag at higher frequencies. 
</p>
<p>In the design of a feedback controller around a converter that may operate in CCM or in DCM, 
</p>
<p>one should take into account that the crossover frequency, the phase margin, and the closed-loop 
</p>
<p>responses can be substantially different depending on the operating mode. This point is illustrated by the 
</p>
<p>example of the next section. 
</p>
<p>(a) 
</p>
<p>120V 
</p>
<p>(b) 
</p>
<p>120V 
</p>
<p>~ 
ill Ql 
D = 0.4 
</p>
<p>!, =100kHz 
</p>
<p>0 
</p>
<p>SEPIC frequency response 
... other parts of the netlist omitted ... 
* duty cycle input: 
vc 5 0 de 0.4 ac 1 
* subcircuit 
Xswitch 2 0 4 3 5 CCM-DCM1 
+ PARAMS: L=83.3uH fs=100kHz 
.lib switch.lib 
* analysis setup: 
.ac dec 201 5 50kHz 
.end 
</p>
<p>RL2 
</p>
<p>0.02Q 
</p>
<p>200 !!F 
</p>
<p>4 
</p>
<p>+ 
</p>
<p>R v 
</p>
<p>load 
</p>
<p>+ 
</p>
<p>200 !!F 
</p>
<p>R v 
c2 
</p>
<p>load 
</p>
<p>X switch 
L = 83.31-!H 
J, =100kHz 
</p>
<p>Fig. B.13 SEPIC simulation example: (a) converter circuit, (b) averaged circuit model for simulation. </p>
<p/>
</div>
<div class="page"><p/>
<p>B.2 Combined CCM/DCM Averaged Switch Model 827 
</p>
<p>80dBV 
</p>
<p>II Gvdll 
60dBV 
</p>
<p>40dBV 
</p>
<p>20dBV 
</p>
<p>OdBV 
</p>
<p>J\ 
R =40Q / \ :; 
</p>
<p>&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;- \/\. 
~ "&middot;,_ 
I~ 
</p>
<p>':--, 
</p>
<p>o&middot; 
</p>
<p>-20dBV 
-90" 
</p>
<p>-40dBV 
</p>
<p>-180" 
</p>
<p>-1-------+-----+-----t-------+-270" 
</p>
<p>5Hz 50Hz 500Hz 5kHz 50kHz 
</p>
<p>f 
</p>
<p>Fig. B.14 Magnitude and phase responses of the control-to-output transfer function obtained by simulation of the 
SEPIC example, for two values of the load resistance. For R =50 Q, the converter operates in DCM (solid lines), and 
for R = 40 Q, the converter operates in CCM (dotted lines). 
</p>
<p>B.2.2 Example: Loop Gain and Closed-Loop Responses of a Buck Voltage Regulator 
</p>
<p>A controller design for a buck converter example is discussed in Section 9.5.4. The converter and the 
block di&lt;~;gram of the controller are shown in Fig. 9.22. This converter system is designed to regulate the 
</p>
<p>de output voltage at V = 15 V for the load current up to 5 A. Let us test this design by simulation. An 
averaged circuit model of a practical realization of the buck voltage regulator described in Section 9.5.4 
</p>
<p>is shown in Fig. B.15. The MOSFET and the diode switch are replaced by the averaged switch model 
</p>
<p>implemented as the CCM-DCM1 subcircuit. The pulse-width modulator with V M = 4 V is modeled 
according to the discussion in Section 7.6 as a dependent voltage source Epwm controlled by the PWM 
input voltage vx. The value of Epwm is equal to l!V M = 0.25 times the PWM input voltage vx, with a limit 
for the minimum value set to 0.1 V, and a limit for the maximum value set to 0.9 V. The output of the 
</p>
<p>pulse-width modulator is the control duty-cycle input to the CCM-DCM1 averaged switch subcircuit. 
</p>
<p>Given the specified limits for Epwm&bull; the switch duty cycle d(t) can take values in the range: 
</p>
<p>(B.8) 
</p>
<p>where Dmin = 0.1, and Dmax = 0.9. Practical PWM integrated circuits often have a limit Dmax &lt; 1 for the 
maximum possible duty cycle. The voltage sensor and the compensator are implemented around an op-
</p>
<p>amp LM324. With very large loop gain in the systei:n, the steady-state error voltage is approximately 
</p>
<p>zero, i.e., the de voltages at the plus and the minus inputs of the op-amp are almost the same, </p>
<p/>
</div>
<div class="page"><p/>
<p>828 Simulation of Converters 
</p>
<p>v(5) = vref (B.9) 
</p>
<p>As a result, the quiescent (de) output voltage Vis set by the reference voltage v ref and the voltage divider 
</p>
<p>comprised of Ri' R2, R4: 
</p>
<p>(B.10) 
</p>
<p>By setting the ac reference voltage v ref to zero, the combined transfer function of the voltage sensor and 
the compensator can be found as: 
</p>
<p>1 v R3+C 
H(s)G (s) =-f.= s 3 
</p>
<p>c v 1 
Rt+Rzll-c 
</p>
<p>s 2 
</p>
<p>This transfer function can be written in factored pole-zero form as 
</p>
<p>where 
</p>
<p>LM324 
</p>
<p>Epwm 
</p>
<p>value = {LIMIT(0.25 v x' 0.1, 0.9)} 
</p>
<p>.nodeset v(3)=15 v(5)=5 v(6)=4.144 v(8)=0.536 
</p>
<p>Fig. B.15 Buck voltage regulator example. 
</p>
<p>(B.ll) 
</p>
<p>(B.12) 
</p>
<p>3 
</p>
<p>+ 
</p>
<p>v </p>
<p/>
</div>
<div class="page"><p/>
<p>B.2 Combined CCM/DCMAveraged Switch Model 829 
</p>
<p>G H RJ (B.l3) 
em = Rr+Rz 
</p>
<p>J; = ~~&middot; = 2n1
2
C
</p>
<p>2 
(B.l4) 
</p>
<p>ft.=;~= 2n1 C (B.lS) 
3 3 
</p>
<p>and 
</p>
<p>(B.l6) 
</p>
<p>The design described in Section 9.5.4 resulted in the following values for the gain and the corner fre-
</p>
<p>quencies: 
</p>
<p>Gcn!f = 3.7 (113) = 1.23, J; = 1.7 kHz, A= 500Hz, JP = 14.5 kHz (B.l7) 
</p>
<p>Eqs. (B.lO) and (B.l3) to (B.l7) can be used to select the circuit parameter values. Let us (somewhat 
</p>
<p>arbitrarily) choose C2 = 1.1 nF. Then, from Eq. (B.l4), we have R2 = 85 kQ, and Eq. (B.16) yields 
R1 = 11 kQ. From Eq. (B.I3) we obtain R3 = 120 kQ, and Eq. (B.15) gives C3 = 2.7 kQ. Finally, 
R4 = 47 kQ is found from Eq. (B.1 0). The voltage regulator design can now be tested by simulations of 
the circuit in Fig. B.15. 
</p>
<p>Loop gains can be obtained by simulation using exactly the same techniques described in Sec-
</p>
<p>tion 9.6 for experimental measurement of loop gains [20]. Let us apply the voltage injection technique of 
</p>
<p>Section 9.6.1. An ac voltage source vz is injected between the compensator output and the PWM input. 
</p>
<p>This is a good injection point since the output impedance of the compensator built around the op-amp is 
</p>
<p>small, and the PWM input impedance is very large (infinity in the circuit model of Fig. B.l5). With the 
</p>
<p>ac source amplitude set (arbitrarily) to 1, and no other ac sources in the circuit, ac simulations are per-
</p>
<p>formed to find the loop gain as 
</p>
<p>0 v(6) 
T(s)=+=--
</p>
<p>vx v(7) 
(B.l8) 
</p>
<p>To perform ac analysis, the simulator first solves for the quiescent (de) operating point. The circuit is 
</p>
<p>then linearized at this operating point, and small-signal frequency responses are computed for the speci-
</p>
<p>fied range of signal frequencies. Solving for the quiescent operating point involves numerical solution of 
</p>
<p>a system of nonlinear equations. In some cases, the numerical solution does not converge and the simula-
</p>
<p>tion is aborted with an error message. In particular, convergence problems often occur in circuits with 
</p>
<p>feedback, especially when the loop gain at de is very large. This is the case in the circuit of Fig. B.15. To 
</p>
<p>help convergence when the simulator is solving for the quiescent operating point, one can specify 
</p>
<p>approximate or expected values of node voltages using the .nodeset line as shown in Fig. B.15. In this 
</p>
<p>case, we know by design that the quiescent output voltage is close to 15 V (v(3) = 15), that the negative 
input of the op-amp is very close to the reference (v(5) = 5), and that the quiescent duty cycle is approxi-
</p>
<p>mately D = V/Vg =0.536, so that v(8) = 0.536 V. Given these approximate node voltages, the numerical 
</p>
<p>solution converges, and the following quiescent operating points are found by the simulator for two val-
</p>
<p>ues of the load resistance R: </p>
<p/>
</div>
<div class="page"><p/>
<p>830 Simulation of Converters 
</p>
<p>Fig. B.16 Loop gain in the 
</p>
<p>buck voltage regulator example. 
</p>
<p>II Til 
60dB 
</p>
<p>40dB 
</p>
<p>20dB 
</p>
<p>OdB 
</p>
<p>-20dB 
</p>
<p>-40dB 
</p>
<p>5Hz 50Hz 500Hz 5kHz 
</p>
<p>f 
</p>
<p>R = 3 Q, v(3) = 15.2 V, v(5) = 5.0 V, v(7) = 2.173 V, v(S) = 0.543 V, D = 0.543 
</p>
<p>R = 25 Q, v(3) = 15.2 V, v(5) = 5.0 V, v(7) = 2.033 V, v(8) = 0.508 V, D = 0.508 
</p>
<p>L.T 
</p>
<p>00 
</p>
<p>-90&deg; 
</p>
<p>-180&deg; 
</p>
<p>50kHz 
</p>
<p>(B.l9) 
</p>
<p>(B.20) 
</p>
<p>For the nominal load resistance R = 3 Q, the converter operates in CCM, so that D = V/Vg. For R = 25 Q, 
</p>
<p>the same de output voltage is obtained for a lower value of the quiescent duty cycle, which means that the 
</p>
<p>converter operates in DCM. 
</p>
<p>The magnitude and phase responses of the loop gain found for the operating points given by 
</p>
<p>Eqs. (B.19) and (B.20) are shown in Fig. B.16. For R = 3 Q, the crossover frequency isfc = 5.3 kHz, and 
</p>
<p>the phase margin is &lt;PM= 4T, very close to the values lfc =5kHz, &lt;PM= 52&deg;) that we designed for in 
Section 9.5.4. At light load, for R = 25 Q, the loop gain responses are considerably different because the 
</p>
<p>converter operates in DCM. The crossover frequency drops to fc = 390 Hz, while the phase margin is 
</p>
<p>&lt;!JM=5Y. 
The magnitude responses of the line-to-output transfer function are shown in Fig. B.l7, again 
</p>
<p>for two values of the load resistance, R = 3 Q and R = 25 Q. The open-loop responses are obtained by 
</p>
<p>braking the feedback loop at node 8, and setting the de voltage at this node to the quiescent value D of 
</p>
<p>the duty cycle. For R = 3 Q, the open-loop and closed-loop responses can be compared to the theoretical 
</p>
<p>plots shown in Fig. 9.32. At 100 Hz, the closed-loop magnitude response is 0.012 ==&gt;- 38 dB. A 1 V, 
100Hz variation in vg(t) would induce a 12 mV variation in the output voltage v(t). For R = 25 Q, the 
</p>
<p>closed loop magnitude response is 0.02 ==&gt;- 34 dB, which means that the 1 V, 100Hz variation in vgCt) 
would induce a 20 mV variation in the output voltage. Notice how the regulator performance in terms of 
</p>
<p>rejecting the input voltage disturbance is significantly worse at light load than at the nominal load. 
</p>
<p>A test of the transient response to a step change in load is shown in Fig. B.18. The load current 
</p>
<p>is initially equal to 1.5 A, and increases to iwAD = 5 A at t = 0.1 ms. When the converter is operated in </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. B.17 Line to output 
</p>
<p>response of the buck voltage 
</p>
<p>regulator. 
</p>
<p>20dB 
</p>
<p>II Gv8 II 
OdB 
</p>
<p>-20dB 
</p>
<p>-40dB 
</p>
<p>-60dB 
</p>
<p>B.2 Combined CCMIDCM Averaged Switch Model 831 
</p>
<p>-SOdB+---------+---------4---------4----------+ 
</p>
<p>5 Hz 50Hz 500Hz 5kHz 50kHz 
</p>
<p>f 
</p>
<p>16V 
</p>
<p>v 
</p>
<p>14V 
Open loop 
d(t) = constant 
</p>
<p>0 0.2 ms 0.4 ms 0.6 ms 0.8 ms 1.0 ms 1.2ms 1.4 ms 1.6 ms 1.8 ms 2.0ms 
</p>
<p>"W ,,,., :: 
I I I I I I I I I I 
</p>
<p>0 0.2 ms 0.4 ms 0.6ms 0.8 ms 1.0 ms 1.2ms 1.4 ms 1.6ms 1.8 ms 2.0 ms 
</p>
<p>t 
</p>
<p>Fig. B.18 Load transient response of the buck voltage regulator example. 
</p>
<p>open loop at constant duty cycle, the response is governed by the natural time constants of the converter 
</p>
<p>network. A large undershoot and long lightly-damped oscillations can be observed in the output voltage. 
</p>
<p>With the feedback loop closed, the controller dynamically adjusts the duty cycle d(t) trying to maintain 
</p>
<p>the output voltage constant. The output voltage drops by about 0.2 V, and it returns to the regulated value 
</p>
<p>after a short, well-damped transient. 
</p>
<p>The voltage regulator example of Fig. B.l5 illustrates how the performance can vary signifi-
</p>
<p>cantly if the regulator is expected to supply a wide range of loads. In practice, further tests would also be 
</p>
<p>performed to account for expected ranges of input voltages, and variations in component parameter val-
</p>
<p>ues. Design iterations may be necessary to ensure that performance specifications are met under worst 
</p>
<p>case conditions. </p>
<p/>
</div>
<div class="page"><p/>
<p>832 Simulation of Converters 
</p>
<p>L 
</p>
<p>+ 
</p>
<p>Epwm 
</p>
<p>value= {LIMIT(0.5 vx, 0.1, 0.9)) L---....1...---C 
</p>
<p>Fig. B.19 DCM boost rectifier example. 
</p>
<p>B.2.3 Example: DCM Boost Rectifier 
</p>
<p>Converters switching at frequencies much above the ac line frequency can be used to construct near-ideal 
</p>
<p>rectifiers where power is taken from the ac line without generation of line current harmonics. Approaches 
</p>
<p>to construction of low-harmonic rectifiers are discussed in Chapter 18. One simple solution is based on 
</p>
<p>the boost converter operating in discontinuous conduction mode, as described in Section 18.2.1. When a 
</p>
<p>boost DCM converter operates at a constant switch duty cycle, the input current approximately follows 
</p>
<p>the input voltage. The DCM effective resistance 2L!d2(t)Ts is an approximation of the emulated resis-
</p>
<p>tance Re of the DCM boost rectifier. Ac line current harmonics are not zero, but the rectifier can still be 
</p>
<p>designed to meet harmonic limits. In this section we consider a DCM boost rectifier example and test its 
</p>
<p>performance by simulation. 
</p>
<p>An averaged circuit model of the boost DCM rectifier is shown in Fig. B.19. Full-wave rectified 
</p>
<p>120 Vrms, 50 Hz ac line voltage is applied to the input of the boost converter. The converter switches are 
</p>
<p>replaced by the CCM-DCM1 averaged switch subcircuit. It is desired to regulate the de output voltage at 
</p>
<p>V = 300 V at output power up to Pout= 120 W across the load R. The switching frequency is 
</p>
<p>fs = 100kHz. Let us select the inductance L so that the converter always operates in DCM. From 
Eq. (18.24), the condition for DCM is: 
</p>
<p>(B.21) 
</p>
<p>where Re is the emulated resistance of the rectifier and V M is the peak of the ac line voltage. When line </p>
<p/>
</div>
<div class="page"><p/>
<p>B.2 Combined CCM/DCM Averaged Switch Model 833 
</p>
<p>305 v 
v(t) 
</p>
<p>300V 
</p>
<p>295VL-----r-----~--~----~-----+-----r-----r----~----,_--~ 
0 2ms 4ms 6ms Sms !Oms 12ms 14ms 16ms ISms 20ms 
</p>
<p>-2A 
</p>
<p>Fig. B.20 Output voltage and ac line current in the DCM boost rectifier example. 
</p>
<p>current harmonics and losses are neglected, the rectifier emulated resistance Re at the specified load 
</p>
<p>power Pis 
</p>
<p>(B.22) 
</p>
<p>Given V M = 170 V andRe found from Eq. (B.22), Eq. (B.21) gives L &lt; 260 J.l.H. The selected inductance 
is L = 200 J.l.H. A low-bandwidth voltage feedback loop is closed around the converter to regulate the de 
</p>
<p>output voltage. The output voltage is sensed and compared to the reference v ref' A PI compensator is con-
</p>
<p>structed around the LM324 op-amp. The output vcontrol of the compensator is the input to the pulse-width 
</p>
<p>modulator. By adjusting the switch duty ratio d, vcontrol adjusts the emulated resistance Re = 2Lid2 Ts of 
</p>
<p>the rectifier, and thereby controls the power taken from the ac line. In steady state, the input power 
</p>
<p>matches the output power. The de output voltage Vis regulated at the value set by the reference voltage 
</p>
<p>vrefand the voltage divider composed of R1 and R2, as follows: 
</p>
<p>(B.23) 
</p>
<p>Modeling of the low-bandwidth voltage regulation loop is discussed in Section 18.4.2. 
</p>
<p>It is of interest to find ac line current harmonics. First, a long transient simulation is performed 
</p>
<p>to reach steady-state operation. Then, current harmonics are computed using Fourier analysis applied to 
</p>
<p>the ac line current waveform iaJt) during one line cycle in steady state. Figure B.20 shows the steady-
</p>
<p>state ac line current and output voltage obtained for R = 900 Q, i.e., for 100 W of output power. The out-
</p>
<p>put voltage has a de component equal to 300 V, and an ac ripple component at twice the line frequency. 
</p>
<p>The peak-to-peak voltage ripple at twice the line frequency is approximately 8 V, which compares well 
</p>
<p>with the value (7 V) found from Eq. (18.91). The ac line current has noticeable distortion. The spectrum 
</p>
<p>of the ac line current is shown in Fig. B .21. The largest harmonic, the third, has an amplitude of 16.6% of 
</p>
<p>the fundamental, and the total harmonic distortion is 16.7%. 
</p>
<p>We can also examine what happens if the rectifier is overloaded. The steady-state ac line current 
</p>
<p>waveform for the case when the load resistance is R = 500 Q, and the output power is 180 W, is shown in </p>
<p/>
</div>
<div class="page"><p/>
<p>834 Simulation of Converters 
</p>
<p>Fig. 8.21 Spectrum of the ac line 
</p>
<p>current in the DCM boost rectifier. 
</p>
<p>CCM operation 
</p>
<p>4A 
</p>
<p>2A 
</p>
<p>-2A 
</p>
<p>-4A 
</p>
<p>-6A 
</p>
<p>- SA 
</p>
<p>20% 
</p>
<p>THD = 16.7% 
</p>
<p>3 5 7 
Harmonic number 
</p>
<p>THD = 71% 
</p>
<p>Fig. 8.22 Ac line current of the DCM boost rectifier example, when the output is overloaded. 
</p>
<p>9 
</p>
<p>20ms 
</p>
<p>Fig. 8.22. The boost converter operates in CCM near the peak of the ac line voltage; this results in cur-
</p>
<p>rent spikes and significant harmonic distortion. 
</p>
<p>B.3 CURRENT PROGRAMMED CONTROL 
</p>
<p>In the current programmed mode (CPM), which is studied in Chapter 12, the transistor switching is con-
</p>
<p>trolled so that the peak transistor current follows a control signal. The transistor duty cycle d(t) is not 
</p>
<p>directly controlled, but depends on the CPM control input as well as on other converter voltages and cur-
</p>
<p>rents. In this section, large-signal averaged relationships in CPM are written in a form suitable for imple-
</p>
<p>mentation as a subcircuit for simulation. 
</p>
<p>B.3.1 Current Programmed Mode Model for Simulation 
</p>
<p>Typical inductor current and voltage waveforms of CPM converters operating in continuous 
</p>
<p>conduction mode or in discontinuous conduction mode are shown in Fig. 8 .23. Signal ic(t) is the CPM 
control input. An artificial ramp having slope - ma is added to the control input. In the first subinterval, </p>
<p/>
</div>
<div class="page"><p/>
<p>B.3 Current Programmed Control 835 
</p>
<p>dT, 
</p>
<p>(vt(t))r .. '-
0 
</p>
<p>- (vz(t) )r 
t 
</p>
<p>T, T, 
</p>
<p>Fig. B.23 Current programmed mode waveforms: (a) continuous conduction mode; (b) discontinuous conduction 
</p>
<p>mode. 
</p>
<p>when the transistor is on, the inductor current increases with.slope m1 given by: 
</p>
<p>(B.24) 
</p>
<p>It is assumed that voltage ripples are small so that the voltage v1(t) across the inductor is approximately 
equal to the averaged value (v1(t))r; The length of the first subinterval is d(t)T &bull;. The transistor is turned 
</p>
<p>off when the inductor current reaches the peak value ipk equal to: 
</p>
<p>(B.25) 
</p>
<p>In the second subinterval, when the transistor is off and the diode is on, the inductor current decreases 
with a negative slope- m2&bull; With the assumption the voltage ripples are small, the slope m2 is given by: 
</p>
<p>(B.26) 
</p>
<p>The length of the second subinterval is d2(t)T &bull;. In CCM, the second subinterval lasts until the end of the 
switching cycle. Therefore: 
</p>
<p>d2 = 1-d (B.27) 
</p>
<p>In DCM, the current drops to zero before the end of the switching period. The length of the second sub-
</p>
<p>interval can be computed from: </p>
<p/>
</div>
<div class="page"><p/>
<p>836 Simulation of Converters 
</p>
<p>Output: duty cycle d 
</p>
<p>d 
</p>
<p>CPM 
PARAMETERS: 
</p>
<p>control current 2 
Rtfs, L, Va 
</p>
<p>Fig. B.24 Current programmed mode (CPM) subcircuit. 
</p>
<p>(B.28) 
</p>
<p>If the converter operates in DCM, d2 computed from Eq. (B.28) is smaller that 1- d. If the converter 
</p>
<p>operates in CCM, 1- dis smaller than d2 computed from Eq. (B.28). In general, the length of the second 
</p>
<p>subinterval can be found as the smaller of the two values computed using Eqs. (B.27) and (B.28). 
</p>
<p>The average inductor current can be found by computing the area under the inductor current 
</p>
<p>waveform in Fig. B.23: 
</p>
<p>(. ( )) = d(. _ rn1dTs) d (. _ rn2d2Ts) lL t Ts lpk 2 + 2 lpk 2 (B.29) 
</p>
<p>The relationship given by Eq. (B.29) is valid for both CCM and DCM provided that the second subinter-
</p>
<p>vallength is computed as the smaller of the values obtained from Eqs. (B.27) and (B.28). 
</p>
<p>Based on Eqs. (B.24) to (B.29), an averaged CPM subcircuit model is constructed in the form 
</p>
<p>shown in Fig. B.24. The inputs to the CPM subcircuit are the control input (vc(t))rs = JY(i/t))Ts, the mea-
</p>
<p>sured inductor current R1(iL(t))Ts, and the inductor voltages (v1 (t))rs and (v2(t))Ts of the two subintervals. 
The output of the subcircuit is the switch duty cycle d. The parameters of the CPM subcircuit are the 
</p>
<p>equivalent current-sense resistance R1, the inductance L, the switching frequency fs = 1/Ts, and the ampli-
</p>
<p>tude va of the artificial ramp: 
</p>
<p>(B.30) 
</p>
<p>In the subcircuit implementation, the length of the second subinterval is computed as the smaller of the 
</p>
<p>values given by Eqs. (B.27) and (B.28): 
</p>
<p>( 
ipk ) 
</p>
<p>d2 =MIN 1 - d, rnzTs 
(B.31) 
</p>
<p>Next, the switch duty cycle is found by solving Eq. (B.29). There are many different ways the switch 
</p>
<p>duty cycle can be expressed in terms of other quantities. Although mathematically equivalent to 
</p>
<p>Eq. (B.29), these different forms of solving for d result in different convergence performance of the 
</p>
<p>numerical solver in the simulator. In the CPM subcircuit available in the switch. lib library, the duty cycle 
</p>
<p>is found from: </p>
<p/>
</div>
<div class="page"><p/>
<p>B.3 Current Programmed Control 837 
</p>
<p>L 
3 iL RL 4 iLOAD 
</p>
<p>0:05 .Q + 
</p>
<p>X switch c R 
</p>
<p>100'" I v J, =200kHz 10 .Q 
L= 35 ~H 
</p>
<p>":" 
</p>
<p>":" d 
</p>
<p>.--------...1.--------, xcpm 
d 
</p>
<p>R1= 1 n 
f, =200kHz CPM 
</p>
<p>control current 2 L = 35 ~H 
1....--,----.-------.----,---' va = 0.6 v 
</p>
<p>JYiL v(l)-v(3) v(3) 
</p>
<p>E. 
l -
</p>
<p>Fig. B.25 CPM buck converter example. 
</p>
<p>(B.32) 
</p>
<p>which is obtained by inserting Eq. (B.25) into Eq. (B:29). This implicit expression (notice that d is on 
</p>
<p>both sides of the equation) is used by the numerical solver in the simulator to .compute the switch duty 
</p>
<p>cycle d. 
</p>
<p>B.3.2 Example: Frequency Responses of a Buck Converter with Current Programmed Control 
</p>
<p>To illustrate an application of the CPM subcircuit, let us consider the example buck converter circuit 
</p>
<p>model of Fig. B.25. To construct this averaged circuit model, the switches are replaced by the CCM-
</p>
<p>DCMl averaged switch subcircuit. The control input to the CPM subcircuit is the independent voltage 
</p>
<p>source vc. Three dependent voltage sources are used to generate other inputs to the CPM subcircuit. The 
</p>
<p>controlled voltage source E; is proportional to the inductor current iL' The controlled voltage source E1 is 
</p>
<p>equal to v(l)- v(3), which is equal to the voltage (v1(t))r,applied across the inductor during the first sub-
</p>
<p>interval when the transistor is on and the diode is off. The controlled voltage source E2 is equal to v(3), 
</p>
<p>which is equal to the voltage (v2(t))r, applied across the inductor during the second .subinterval when the 
</p>
<p>transistor is off and the diode is on. 
</p>
<p>Ac simulations are performed at the quiescent operating point obtained for the de value of the </p>
<p/>
</div>
<div class="page"><p/>
<p>838 Simulation of Converters 
</p>
<p>40dB 
</p>
<p>II Gil LG 
20dB 
</p>
<p>OdB 
</p>
<p>-20dB 
</p>
<p>-40dB 
</p>
<p>o&middot; 
</p>
<p>-60dB 
</p>
<p>10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
</p>
<p>Fig. B.26 Comparison of CPM control with duty-cycle control. for the control-to-output frequency response of 
</p>
<p>the buck converter example. 
</p>
<p>control input equal to Vc = 1.4 V. At the quiescent operating point, the switch duty cycle is D = 0.676, the 
de output voltage is V = 8.1 V, and the de component of the inductor current is I L = 0.81 A. The converter 
operates in CCM. 
</p>
<p>Magnitude and phase responses of the control-to-output transfer functions Gvc(s) = Vlvc and 
GvJs) = Vld are shown in Fig. B.26. The duty-cycle to output voltage transfer function Gvis) exhibits the 
</p>
<p>familiar second-order high-Q response. Peaking in the magnitude response and a steep change in phase 
</p>
<p>from 0&deg; to- 180&deg; occur around the center frequency of the pair of complex-conjugate poles. In contrast, 
</p>
<p>the CPM control-to-output response has a dominant low-frequency pole. The phase lag is around- 90&deg; in 
</p>
<p>a wide range of frequencies. A high frequency pole contributes to additional phase lag at higher frequen-
</p>
<p>cies. The frequency responses of Fig. B.26 illustrate an advantage of CPM control over duty-cycle con-
</p>
<p>trol. Because of the control-to-output frequency response dominated by the single low-frequency pole, it 
</p>
<p>can be much easier to close a wide-bandwidth outer voltage feedback loop around the CPM controlled 
</p>
<p>power converter than around a converter where the duty cycle is the control input. 
</p>
<p>Another advantage of CPM control is in rejection of input voltage disturbances. Line-to-output 
</p>
<p>frequency responses for duty-cycle control and CPM control in the buck example are compared in 
</p>
<p>Fig. B.27. At practically all frequencies of interest, CPM control offers more than 30 dB better attenua-
</p>
<p>tion of input voltage disturbances. 
</p>
<p>It is also interesting to compare the output impedance of the converter with duty-cycle control 
</p>
<p>versus CPM control. The results are shown in Fig. B.28. At low frequencies, duty-cycle controlled con-
</p>
<p>verter has very low output impedance determined by switch and inductor resistances. As the frequency 
</p>
<p>goes up, the output impedance increases as the impedance of the inductor increases. At the resonant fre-
</p>
<p>quency of the output LC filter, significant peaking in the output impedance of the duty-cycle controlled 
</p>
<p>converter can be observed. At higher frequencies, the output impedance is dominated by the impedance 
</p>
<p>of the filter capacitor, which decreases with frequency. In the CPM controlled converter, the low-fre-
</p>
<p>quency impedance is high. It is equal to the parallel combination of the load resistance and the CPM out-</p>
<p/>
</div>
<div class="page"><p/>
<p>20dB 
</p>
<p>II G II Duty cycle control 
vg d(t) = constant 
</p>
<p>OdB~------------------
</p>
<p>-20dB 
</p>
<p>-40 dB 1--------
</p>
<p>-60 dB Current programmed mode 
v/t) =constant 
</p>
<p>-80dB 
</p>
<p>B.3 Current Programmed Control 839 
</p>
<p>-100 dB +-----+-----+----.-.....,1--------+ 
10Hz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
</p>
<p>Fig. B.27 Comparison of CPM control with duty-cycle control, for the line-to-output frequency response of the 
</p>
<p>buck converter example. 
</p>
<p>20 dBQ 1------
11 Zout II 
</p>
<p>OdBQ 
</p>
<p>-20dBQ 
</p>
<p>Duty cycle control 
d(t) = constant 
</p>
<p>-40 dBQ +-------il-------+-----+------+ 
lOHz 100Hz 1kHz 10kHz 100kHz 
</p>
<p>f 
</p>
<p>Fig. B.28 Comparison of CPM control with duty-cycle control, for the output impedance of the buck converter 
</p>
<p>example. 
</p>
<p>put resistance. Because of the lossless damping introduced by CPM control, the series inductor does not 
</p>
<p>affect the output impedance. As the frequency goes up, the output impedance becomes dominated by the 
</p>
<p>output filter capacitor and it decreases with frequency. At high frequencies the output impedances of the 
</p>
<p>duty-cycle and CPM controlled converters have the same asymptotes. </p>
<p/>
</div>
<div class="page"><p/>
<p>840 Simulation of Conv.ef1ers 
</p>
<p>REFERENCES 
</p>
<p>.[1] R. J. DIRKMAN, "The Simulatioo of General Circuits Containing Ideal Switches," IEEE Power Electronics 
</p>
<p>Specialists Conference, 1987 Record, pp. 185-194. 
</p>
<p>[2] C. J. HSIAO, R. B. RIDLEY, H. NAITOH and F. C. LEE, "Circuit-Oriented Discrete-Time Modeling and Sim-
</p>
<p>ulatioo of Switching Converters, IEEE Power Electronics Specialists Confer:ence, 1987 record, pp. 167-
</p>
<p>176. 
</p>
<p>[3J R. C. WONG, H. A. OWEN, T. G. WILSON, "An Efficient Algorithm for the Time-Domain Simulation of 
</p>
<p>Regulated Energy-Storage DC-to-DC Converters," IEEE Transactions on Power Electronics, Vol. 2, No. 2, 
</p>
<p>April1987, pp. 154-168. 
</p>
<p>[4] A.M. LUCIANO and A. G. M. STROLW, "A Fast Time-Domain Algorithm for Simulation of Switching 
</p>
<p>Power Converters," IEEE Transactions on Power Electronics, Vol. 2, No.3, July 1990, pp. 363-370. 
</p>
<p>&pound;5] D. BEDROSIAN and J. VLACH, ''Time-Domain Analysis of Networks with Internally Controlled Switches," 
</p>
<p>IEEE Transactions on Circuits and Systems-!: Fundamental Theory and Applications, Vol. 39, No.3, 
</p>
<p>March 1992, pp. 199-212. 
</p>
<p>[6] P. PEIOVIC and D. MAKSIMOVIC, "A New Algorithm for Simulation of Power Electronic Systems Using 
</p>
<p>Piecewise-Linear Device Models," IEEE Transactions on Power Electronics, Vol. 10, No. 3, May 1995, 
</p>
<p>pp. 340-348. 
</p>
<p>[7] PREDRAG PEIOVIC, "A Method for Simulation of Power Electronic Systems Using Piecewise-Linear 
</p>
<p>Device Models," Ph.D. thesis, University of Colorado, Boulder, April1995. 
</p>
<p>[8] D. LI, R. TYMERSKI, T. NINOMIY A, "PECS-An Efficacious Solution for Simulating Switched Networks 
</p>
<p>with Nonlinear Elements," IEEE Power Electronics Specialists Conference, 2000 Record, pp. 274-279, 
</p>
<p>June 2000. 
</p>
<p>[9] V. BELLO, "Computer Aided Analysis of Switching Regulators Using SPICE2," IEEE Power Electronics 
</p>
<p>Specialists Conference, 1980 Record, pp. 3-11. 
</p>
<p>[10] V. BELW, "Using the SPICE2 CAD Package for Easy Simulation of Switching Regulators in Both Con-
</p>
<p>tinuous and Discontinuous Conduction Modes," Proceedings of the Eighth National Solid-State Power 
</p>
<p>Conversion Conference (Powercon 8), April1981. 
</p>
<p>[11] V. BELW, "Using the SPICE2 CAD Package to Simulate and Design the Current Mode Converter," Pro-
</p>
<p>ceedings of the Eleventh National Solid-State Power Conversion Conference (Powercon 11), April1984. 
</p>
<p>[12] D. KIMHI, S. BEN-YAAKOV, "A SPICE Model for Current Mode PWM Converters Operating Under Con-
</p>
<p>tinuous Inductor Current Conditions," IEEE Transactions on Power Electronics, Vol. 6, No.2, April1991, 
</p>
<p>pp. 281-286. 
</p>
<p>[13] Y. AMRAN, F. HULIEHEL, S. BEN-YAAKOV, "A Unified SPICE Compatible Average Model of PWM Con-
</p>
<p>verters," IEEE Transactions on Power Electronics, Vol. 6, No.4, October 1991, pp. 585-594. 
</p>
<p>[14] S. BEN-YAAKOV, Z. GAATON, "Generic SPICE Compatible Model of Current Feedback in Switch Mode 
</p>
<p>Converters, Electronics Letters, Vol. 28, No. 14, 2nd July 1992. 
</p>
<p>[15] S. BEN-Y AAKOV, "Average Simulation of PWM Converters by Direct Implementation of Behavioral Rela-</p>
<p/>
</div>
<div class="page"><p/>
<p>References 841 
</p>
<p>tionships," IEEE Applied Power Electronics Conference, 1993 Record, pp. 510-516, February 1993. 
</p>
<p>[16] S. BEN-YAAKOV, D. ADAR, "Average Models as Tools for Studying Dynamics of Switch Mode DC-DC 
</p>
<p>converters," IEEE Power Electronics Specialists Conference, 1994 Record, pp. 1369-1376. 
</p>
<p>[17] V. M. CANALLI, J. A. COBOS, J. A. OLIVER, J. UCEDA, "Behavioral Large Signal Averaged Model for DC/ 
</p>
<p>DC Switching Power Converters," IEEE Power Electronics Specialists Conference, 1996 Record, 
</p>
<p>pp. 1675-1681. 
</p>
<p>[18] N. JAYARAM, D. MAKSIMOVIC, "Power Factor Correctors Based on Coupled-Inductor SEPIC and Cuk 
</p>
<p>Converters with Nonlinear- Carrier Control," IEEE Applied Power Electronics Conference, 1998 Record, 
</p>
<p>pp. 468-474, February 1998. 
</p>
<p>[19] J. KEOWN, OrCAD ?Spice and Circuit Analysis, Fourth Edition, Englewood Cliffs: Prentice Hall, 2000. 
</p>
<p>[20] P. W. TUINENGA, SPICE: A Guide to Circuit Simulation and Analysis Using ?Spice, Third Edition, Engle-
</p>
<p>wood Cliffs: Prentice Hall, 1995. 
</p>
<p>[21] V. VORPERIAN, "Simplified Analysis of PWM Converters Using the Model of the PWM Switch: Parts I 
</p>
<p>and II," IEEE Transactions on Aerospace and Electronic Systems, Vol. AES-26, pp. 490-505, May 1990. 
</p>
<p>[22] S. FREELAND and R. D. MIDDLEBROOK, "A Unified Analysis of Converters with Resonant Switches," 
</p>
<p>IEEE Power Electronics Specialists Conference, 1987 Record, pp. 20-30. 
</p>
<p>[23] ARTHUR WITULSKI and ROBERT ERICKSON, "Extension of State-Space Averaging to Resonant Switches 
</p>
<p>-and Beyond," IEEE Transactions on Power Electronics, Vol. 5, No.1, pp. 98-109, January 1990. 
</p>
<p>[24] D. MAKSIMOVIC and S. CuK, "A Unified Analysis of PWM Converters in Discontinuous Modes," IEEE 
</p>
<p>Transactions on Power Electronics, Vol. 6, No.3, pp. 476-490, July 1991. </p>
<p/>
</div>
<div class="page"><p/>
<p>AppendixC 
</p>
<p>Middlebrook's 
</p>
<p>Extra Element Theorem 
</p>
<p>The Extra Element Theorem ofR. D. Middlebrook [1-3] shows how a transfer function is changed by the 
</p>
<p>addition of an impedance to the network. The theorem allows one to determine the effects of this extra 
</p>
<p>element on any transfer function of interest, without solving the system all over again. The Extra Ele-
</p>
<p>ment Theorem is a powerful technique of design-oriented analysis. It leads to impedance inequalities 
</p>
<p>which guarantee that an element does not substantially alter a transfer function. The Extra Element The-
</p>
<p>orem is employed in Chapter 10, where it leads to a relatively simple methodology for designing input 
</p>
<p>filters that do not degrade the loop gains of switching regulators. It is also employed in Section 19.4, to 
</p>
<p>determine how the load resistance affects the properties of a resonant inverter. In this appendix, Middle-
</p>
<p>brook's Extra Element Theorem is derived, based on the principle of superposition. Its application is 
</p>
<p>illustrated via examples. 
</p>
<p>C.l BASIC RESULT 
</p>
<p>Consider the linear circuit of Fig. C.l(a). This network contains an input v;n(s) and an output v0u1(s). In 
</p>
<p>addition, it contains a port whose terminals are open-circuited. It is assumed that the transfer function 
</p>
<p>from V;n(s) to V0 u1(s) is known, and is given by 
</p>
<p>(C.l) 
</p>
<p>The Extra Element Theorem tells us how the transfer function G(s) is modified when an impedance Z(s) 
</p>
<p>is connected between the terminals at the port, as in Fig. C.l(b). The result is </p>
<p/>
</div>
<div class="page"><p/>
<p>844 Middlebrook's Extra Element Theorem 
</p>
<p>(a) Transfer function 
</p>
<p>G(s) lz(s)~~ ....-------.... 
Linear circuit 
</p>
<p>Input Output 
</p>
<p>Port 
</p>
<p>Open-circuit 
</p>
<p>(b) 
</p>
<p>+ 
</p>
<p>Transfer function 
G(s) ....-------.... 
</p>
<p>Linear circuit 
</p>
<p>Input 
</p>
<p>+ 
</p>
<p>Fig. C.l How an added element changes a transfer function G(s): (a) original conditions, before addition of the 
</p>
<p>new element; (b) addition of element having impedance Z(s). 
</p>
<p>(a) Transfer function 
</p>
<p>G(s) lz(s) ~ o ....-------.... 
Linear circuit 
</p>
<p>+ 
</p>
<p>(b) Transfer function 
</p>
<p>G(s) ....-------.... 
Linear circuit 
</p>
<p>+ 
</p>
<p>Fig. C.2 The dual form of the Extra Element Theorem, in which the extra element replaces a short circuit: (a) orig-
</p>
<p>inal conditions, (b) addition of element having impedance Z(s). 
</p>
<p>( 
1 + ZN(s) ) 
</p>
<p>V0 js) _ G s Z(s) 
v;11(s) - ( ( ) lz(s)~~) 1 + ~ 
</p>
<p>Z(s) 
</p>
<p>(C.2) 
</p>
<p>The right-hand side terms involving Z(s) account for the influence of Z(s) on G(s), and are known as the 
</p>
<p>correction factor. 
</p>
<p>The Extra Element Theorem also applies to the dual form illustrated in Fig. C.2. In this form, 
</p>
<p>the transfer function is initially known under the conditions that the port is short-circuited. In 
</p>
<p>Fig. C.2(b ), the short-circuit is replaced by the impedance Z(s). In this case, the addition of the imped-
</p>
<p>ance Z(s) causes the transfer function to become 
</p>
<p>(C.3) </p>
<p/>
</div>
<div class="page"><p/>
<p>C. I Basic Result 845 
</p>
<p>(a) Linear circuit 
+ 
</p>
<p>i(s) 
</p>
<p>(b) 
</p>
<p>Linear circuit 
</p>
<p>i(s) 
</p>
<p>Fig. C.3 Determination of the quantities ZJ..s) and Z0 (s): (a) Z0 (s) is the Thevenin-equivalent impedance at the 
</p>
<p>port, and is measured with the input v;n(s) set to zero; (b) ZN(s) is the impedance seen at the port under the condition 
</p>
<p>that the output is nulled. 
</p>
<p>The ZN(s) and ZD(s) terms in Eqs. (C.2) and (C.3) are identical. By equating the G(s) expressions of 
</p>
<p>Eqs. (C.2) and (C.3), one can show that 
</p>
<p>G(s) lz(s)~~ Z 0 (s) 
G( ) [ ZN(s) 
</p>
<p>S Z(s)~ 0 
</p>
<p>This is known as the reciprocity relationship. 
</p>
<p>(C.4) 
</p>
<p>The quantities ZJs) and ZD(s) can be found by measuring impedances at the port. The term 
</p>
<p>ZD(s) is the Thevenin equivalent impedance seen looking into the port, also known as the driving-point 
</p>
<p>impedance. As illustrated in Fig. C.3(a), this impedance is found by setting the independent source v;n(s) 
</p>
<p>to zero, and then measuring the impedance between the terminals of the port: 
</p>
<p>v(s) I 
Zo(s) = i(s) 
</p>
<p>"'in(s)=O 
</p>
<p>(C.5) 
</p>
<p>Thus, ZD(s) is the impedance between the port terminals when the input v;Js) is set to zero. 
</p>
<p>Determination of the impedance ZN(s) is illustrated in Fig. C.3(b). The term ZJs) is found 
</p>
<p>under the conditions that the output v0 Js) is nulled to zero. A current source i(s) is connected to the ter-
</p>
<p>minals of the port. In the presence of the input signal v;Js), the current i(s) is adjusted so that the output 
</p>
<p>vouis) is nulled to zero. Under these conditions, the quantity ZN(s) is given by </p>
<p/>
</div>
<div class="page"><p/>
<p>846 Middlebrook's Extra Element Theorem 
</p>
<p>(C.6) 
</p>
<p>Note that nulling the output is not the same as shorting the output. If one simply shorted the output, then 
</p>
<p>a current would flow through the short, which would induce voltage drops and currents in other elements 
</p>
<p>of the network. These voltage drops and currents are not present when the output is nulled. The null con-
</p>
<p>dition of Fig. C.3(b) does not employ any connections to the output of the circuit. Rather, the null condi-
</p>
<p>tion employs the adjustment of the independent sources v;n(s) and i(s) in a special way that causes the 
</p>
<p>output v0ut(s) to be zero. By superposition, v0u1(s) can be expressed as a linear combination of V;n(s) and 
</p>
<p>i(s); therefore, for a given V;n(s), it is always possible to choose an i(s) that will cause V0 ut(s) to be zero. 
</p>
<p>Under these null conditions, ZN(s) is measured as the ratio of v(s) to i(s). In practice, the circuit analysis 
</p>
<p>to find ZJs) is simpler than analysis of Z0 (s), because the null condition causes many of the signals 
</p>
<p>within the circuit to be zero. Several examples are given in Section C.4. 
</p>
<p>The input and output quantities need not be voltages, but could also be currents or other signals 
</p>
<p>that can be set or nulled to zero. The next section contains a derivation of the Extra Element Theorem 
</p>
<p>with a general input u(s) and output y(s). 
</p>
<p>C.2 DERIVATION 
</p>
<p>Figure C.4(a) illustrates a general linear system having an input u(s) and an output y(s). In addition, the 
</p>
<p>system contains an electrical port having voltage v(s) and current i(s), with the polarities illustrated. Ini-
</p>
<p>tially, the port is open-circuited: i(s) = 0. The transfer function of this system, with the port open-cir-
</p>
<p>cuited, is 
</p>
<p>y(s) I 
Gold(s) = u(s) . 
</p>
<p>l(s);O 
</p>
<p>(C.7) 
</p>
<p>The objective of the extra element theorem is to determine the new transfer function G(s) that is obtained 
</p>
<p>when an impedance Z(s) is connected to the port: 
</p>
<p>G(s) = y(s) 
u(s) 
</p>
<p>(C.8) 
</p>
<p>The situation is illustrated in Fig. C.4(b). It can be seen that the conditions at the port are now given by 
</p>
<p>(b) (a) 
Linear network Linear network 
</p>
<p>u(s) y(s) u(s) 
</p>
<p>Input Output Input 
</p>
<p>Port 
</p>
<p>i(s) i(s) 
</p>
<p>Open-circuit 
</p>
<p>Fig. C.4 Modification of a linear network by addition of an extra element: (a) original system, (b) modified sys-
</p>
<p>tem, witb impedance Z(s) connected at an electrical port. </p>
<p/>
</div>
<div class="page"><p/>
<p>Fig. C.S Current injection at the electrical port, by addition 
</p>
<p>of independent current source i(s). 
</p>
<p>v(s) =- i(s)Z(s) 
</p>
<p>u(s) 
</p>
<p>Input 
</p>
<p>C.2 Derivation 847 
</p>
<p>Linear network 
</p>
<p>y(s) 
</p>
<p>Output 
</p>
<p>Port 
</p>
<p>+ v(s) -
</p>
<p>i(s) 
</p>
<p>(C.9) 
</p>
<p>To express the new transfer function G(s) in Eq. (C.8) in terms of the original transfer function G01is) of 
Eq. (C.7), we use current injection at the port, as illustrated in Fig. C.5. There are now two independent 
</p>
<p>inputs: the input u(s) and the independent current source i(s). The dependent quantities y(s) and v(s) can 
</p>
<p>be expressed as functions of these independent inputs using the principle of superposition: 
</p>
<p>where 
</p>
<p>y(s) = Go1is)u(s) + G;(s)i(s) 
</p>
<p>v(s) = G,(s)u(s) + ZD(s)i(s) 
</p>
<p>y(s) I 
Gozd(s) = u(s) . 
</p>
<p>1(s)=O 
</p>
<p>y(s) I 
G,(s) = i(s) 
</p>
<p>v(s) I 
ZD(s) = i(s) 
</p>
<p>u(s)=O 
</p>
<p>u(s)=O 
</p>
<p>G (s) = v(s) I 
v u(s) i(s)=O 
</p>
<p>(C.lO) 
</p>
<p>(C.ll) 
</p>
<p>(C.l2) 
</p>
<p>(C.l3) 
</p>
<p>(C.14) 
</p>
<p>(C.l5) 
</p>
<p>are the transfer functions from the independent inputs to the respective dependent quantities y(s) and 
</p>
<p>v(s). 
</p>
<p>The transfer function G(s) can be found by elimination of v(s) and i(s) from the system of equa-
</p>
<p>tions (C.9) to (C.ll), and solution for y(s) as a function of u(s). The result is 
</p>
<p>G(s) = y(s) = G (s) _ G,(s)G1(s) 
u(s) old Z(s) + ZD(s) 
</p>
<p>(C.l6) 
</p>
<p>This intermediate result expresses the new transfer function G(s) as a function of the original transfer 
</p>
<p>function G0 ld(s) and the extra element Z(s), as well as the quantities ZD(s), Gv(s), and G;(s). </p>
<p/>
</div>
<div class="page"><p/>
<p>848 Middlebrook's Extra Element Theorem 
</p>
<p>Equation (C.l4) gives a direct way to find the quantity ZD(s). ZD(s) is the driving-point imped-
</p>
<p>ance at the port, when the input u(s) is set to zero. This quantity can be found either by conventional cir-
</p>
<p>cuit analysis or simulation, or by laboratory measurement. 
</p>
<p>Although GJs) and G/s) could also be determined from the definitions (C.l3) and (C.l5), it is 
</p>
<p>preferable to eliminate these quantities, and instead express G(s) as a function of the impedances at the 
</p>
<p>given port. This can be accomplished via the following thought experiment. In the presence of the input 
</p>
<p>u(s), we adjust the independent current source i(s) in the special way that causes the output y(s) to be 
</p>
<p>nulled to zero. The impedance Ztf..s) is defined as the ratio of v(s) to i(s) under these null conditions: 
</p>
<p>(C.l7) 
</p>
<p>The value of i(s) that achieves the null condition y(s) ;;-;;0 0 can be found by setting y(s) = 0 in Eq. (C.lO), 
as follows: 
</p>
<p>(C.l8) 
</p>
<p>Hence, the output y(s) is nulled when the inputs u(s) and i(s) are related as follows: 
</p>
<p>( ) I G;(s) &middot;c ) I US =---lS 
y(s)~O Gold(s) y(s)~O 
</p>
<p>(C.l9) 
</p>
<p>Under this null condition, the voltage v(s) is given by 
</p>
<p>(C.20) 
</p>
<p>which follows from Eqs. (C.ll) and (C.l9). Substitution of Eq. (C.l7) into Eq. (C.20) yields 
</p>
<p>(C.21) 
</p>
<p>Hence, 
</p>
<p>z ( ) = z ( ) _ Gy(s)G;(s) 
N s D s Gotis) 
</p>
<p>(C.22) 
</p>
<p>Solution for the quantity GJs)Gi(s) yields 
</p>
<p>(C.23) 
</p>
<p>Thus, the unknown quantities GJs) and Gi(s) can be related to ZN(s) and ZD(s), which are properties of 
</p>
<p>the port at which the new impedance Z(s) will be connected, and to the original transfer function G otis). 
</p>
<p>The final step is to substitute Eq. (C.23) into Eq. (C.l6), leading to </p>
<p/>
</div>
<div class="page"><p/>
<p>C.J Discussion 849 
</p>
<p>This expression can be simplified as follows: 
</p>
<p>(C.25) 
</p>
<p>or, 
</p>
<p>(C.26) 
</p>
<p>This is the desired result. It states how the transfer function G(s) is modified by addition of the extra ele-
</p>
<p>ment Z(s). The right-most term in Eq. (C.26) is called the correction factor; this term gives a quantitative 
</p>
<p>measure of the change in G(s) arising from the introduction of Z(s). 
</p>
<p>Derivation of the dual result, Eq. (C.3), follows similar steps. 
</p>
<p>C.3 DISCUSSION 
</p>
<p>The general form of the extra element theorem makes it useful for designing a system such that 
</p>
<p>unwanted circuit elements do not degrade the desirable system performance already obtained. For exam-
</p>
<p>ple, suppose that we already know some transfer function or similar quantity G(s), under simplified or 
</p>
<p>ideal conditions, and have designed the system such that this quantity meets specifications. We can then 
</p>
<p>use the extra element theorem to answer the following questions: 
</p>
<p>What is the effect of a parasitic element Z(s) that was not included in the original analysis? 
</p>
<p>What happens if we later decide to add some additional components having impedance Z(s) to the 
</p>
<p>system? 
</p>
<p>Can we establish some conditions on Z(s) that ensure that G(s) is not substantially changed? 
</p>
<p>A common application of the extra element theorem is the determination of conditions on the extra ele-
</p>
<p>ment that guarantee that the transfer function G(s) is not significantly altered. According to Eqs. (C.2) 
</p>
<p>and (C.26), this will occur when the correction factor is approximately equal to unity. The conditions are: 
</p>
<p>II Z(}m) II &raquo; II Z N(}w) II 
</p>
<p>II Z(jm) II &raquo; II Z v(}w) II 
</p>
<p>(C.27) 
</p>
<p>This gives a formal way to show when an impedance can be ignored: one can plot the impedances 
</p>
<p>II ZN(jw) II and II ZD(jw) 11. and compare the results with a plot of II Z(jw) 11. The impedance Z(s) can be 
ignored over the range of frequencies where the inequalities (C.27) are satisfied. 
</p>
<p>For the dual case in which the new impedance is inserted where there was previously a short cir-
</p>
<p>cuit, Eq. (C.3), the inequalities are reversed: </p>
<p/>
</div>
<div class="page"><p/>
<p>850 Middlebrook's Extra Element Theorem 
</p>
<p>II Z(jw) II~ II ZN(jw) II 
II Z(jw) II~ II Zo(jW) II 
</p>
<p>(C.28) 
</p>
<p>This equation shows how to limit the magnitude II Z(jro) II, to avoid significantly changing the transfer 
function G(s). 
</p>
<p>For quantitative design, Eqs. (C.27) and (C.28) raise an additional question: By what factor 
</p>
<p>should II Z(jro) II exceed (or be less than) II ZN(jw) II and II Zv(jffi) II, in order for the inequalities of Eq. 
(C.27) or (C.28) to be well satisfied? This question can be answered by plotting the magnitudes and 
</p>
<p>phases of the correction factor terms, as a function of the magnitudes imd phases of (Z/ZN) and (Z/Zv)&middot; 
</p>
<p>Figure C.6 shows contours of constant Ill + ZIZN II, as a function of the magnitude and phase of 
Z!Zw Figure C.7 shows similar contours of constant L(l + ZIZN). It can be seen that, when II ZIZN II is 
less than -20 dB, then the maximum deviation caused by the numerator (1 + ZIZN) term is less than 
&plusmn;1 dB in magnitude, and less than &plusmn; 7' in phase. For II ZIZN II less than- 10 dB, the maximum deviation 
caused by the numerator (1 + ZIZN) term is less than&plusmn; 3.5 dB in magnitude, and less than&plusmn; 20&deg; in phase. 
</p>
<p>Figures C.8 and C.9 contain contours of constant II 1/(1 + Z/Zv)ll and Ll/(1 + ZIZv), respec-
tively, as a function of the magnitude and phase of ZIZv. These plots contain minus signs because the 
</p>
<p>terms appear in the denominator of the correction factor; otherwise, they are identical to Figs. C.6 and 
</p>
<p>C.7. Again, for II Z/ZD II less than- 20 dB, the maximum deviation caused by the denominator (1 + ZIZv) 
term is less than &plusmn; 1 dB in magnitude, and less than &plusmn; 7' in phase. For II Z!Zv II less than - 10 dB, the 
maximum deviation caused by the denominator (1 + ZIZv) term is less than &plusmn; 3.5 dB in magnitude, and 
less than &plusmn; 20&deg; in phase. 
</p>
<p>C.4 EXAMPLES 
</p>
<p>C.4.1 A Simple Transfer Function 
</p>
<p>The first example illustrates how the Extra Element Theorem can be used to find a transfer function 
</p>
<p>essentially by inspection. We are given the circuit illustrated in Fig. C.lO. It is desired to solve for the 
transfer function 
</p>
<p>(C.29) 
</p>
<p>and to express this transfer function in factored pole-zero form. One way to do this is to employ the Extra 
</p>
<p>Element Theorem, treating the capacitor Cas an "extra" element. As illustrated in Fig. C.ll, the electri-
</p>
<p>cal port is taken to be at the location of the capacitor, and the "original conditions" are taken to be the 
</p>
<p>case when the capacitor impedance is infinite, i.e., an open circuit. Under these original conditions, the 
</p>
<p>transfer function is given by the voltage divider composed of resistors R 1, R3, and R4 &bull; Hence, G(s) can be 
</p>
<p>expressed as 
</p>
<p>(C.30) </p>
<p/>
</div>
<div class="page"><p/>
<p>C.4 Examples 851 
</p>
<p>lOdB 
</p>
<p>II iN L 5dB ~~~:;::--+--t---+-~~~ 
</p>
<p>OdB OdB 
</p>
<p>-30dB +-~---+--~~------+------+----~------+-~---+--~~ 
</p>
<p>-180&deg; -135&deg; -90&deg; -45&deg; oo 45&deg; 90&deg; 135&deg; 180&deg; 
</p>
<p>L__Z__ 
ZN 
</p>
<p>Fig. C.6 Contours of constant Ill + ZIZN II. as a function of the magnitude and phase of ZIZN' 
</p>
<p>lliNL 
10dB 
</p>
<p>5 dB 
</p>
<p>OdB 
</p>
<p>-5 dB 
</p>
<p>-lOdB 
</p>
<p>-15 dB 
</p>
<p>-20dB 
</p>
<p>-25 dB 
</p>
<p>-30dB 
</p>
<p>-180&deg; -135&deg; -90&deg; -45&deg; oo 45&deg; 90&deg; 135&deg; 180&deg; 
</p>
<p>L__Z__ 
ZN 
</p>
<p>Fig. C.7 Contours of constant .L(l + ZIZN), as a function of the magnitude and phase of ZIZN. </p>
<p/>
</div>
<div class="page"><p/>
<p>852 Middlebrook's Extra Element Theorem 
</p>
<p>10dB 
</p>
<p>II fD L 5 dB ~~~;;;;;:::------t-------t-----r-~~~ 
</p>
<p>-10 dB 
</p>
<p>-15 dB 
</p>
<p>OdB OdB 
</p>
<p>-30dB +-~--~-----+----~------~----+-----~----~----~ 
</p>
<p>-180&deg; -135&deg; -90&deg; -45&deg; oo 45&deg; 135&deg; 180&deg; 
</p>
<p>L_L 
Zv 
</p>
<p>Fig. C.S Contours of constant Ill!( 1 + Z!Zv) II, as a function of the magnitude and phase of Z!Zv 
</p>
<p>~fDL 
lOdB 
</p>
<p>5 dB 
</p>
<p>OdB 
</p>
<p>-5 dB 
</p>
<p>-10 dB 
</p>
<p>-15 dB 
</p>
<p>-20dB 
</p>
<p>-25 dB 
</p>
<p>-30 dB 
</p>
<p>-180&deg; -135&deg; -90&deg; -45&deg; oo 45&deg; 90&deg; 135&deg; 180&deg; 
</p>
<p>Fig. C.9 Contours of constant Ll/(1 + Z!Zv), as a function of the magnitude and phase of Z!Zv. </p>
<p/>
</div>
<div class="page"><p/>
<p>C.4 Examples 853 
</p>
<p>+ 
</p>
<p>v1(s) v2(s) 
</p>
<p>Fig. C.lO R-C circuit example of Section C.4.1. 
</p>
<p>where Z(s) is the capacitor impedance 1/sC. 
</p>
<p>The impedance ZD(s) is the Thevenin equivalent impedance seen at the port where the capacitor 
</p>
<p>is connected. As illustrated in Fig. C.l2(a), this impedance is found by setting the independent source 
</p>
<p>v1(s) to zero, and then determining the impedance between the port terminals. The result is: 
</p>
<p>(C.31) 
</p>
<p>Figure C.l2(b) illustrates determination of the impedance ZJ..s). A current source i(s) is con-
</p>
<p>nected to the port, in place of the capacitor. In the presence of the input v1(s), the current source i(s) is 
</p>
<p>adjusted so that the output v2(s) is nulled. Under these null conditions, the impedance ZJ..s) is found as 
</p>
<p>the ratio of v(s) to i(s). 
</p>
<p>It is easiest to find ZN(s) by first determining the effect of the null condition on the signals in the 
</p>
<p>circuit. Since v2 is nulled to zero, there is no current through the resistor R4&bull; Since R3 is connected in 
</p>
<p>series with R4 , there is also no current through R3, and hence no voltage across R3&bull; Therefore, the voltage 
</p>
<p>v3 in Fig. C.l2(b) is equal to v2, i.e., 
</p>
<p>Therefore, the voltage vis given by iR2. The impedance ZN is 
</p>
<p>Fig. C.ll Manipulation of the circuit 
</p>
<p>of Fig. C.lO into the form of Fig. C.l. 
v1(s) 
</p>
<p>Linear circuit 
</p>
<p>r&middot;---------~~-------------------------------~:-------------------------1 
</p>
<p>i 
j______________ _ ___________ !!_?_:.~------------ _________________________ ] 
</p>
<p>i (s) 
</p>
<p>+ v(s) 
</p>
<p>c 
</p>
<p>(C.32) 
</p>
<p>+ 
</p>
<p>v2(s) </p>
<p/>
</div>
<div class="page"><p/>
<p>854 Middlebrook's Extra Element Theorem 
</p>
<p>(a) 
</p>
<p>(b) 
</p>
<p>r&middot;&middot;---------~-:-------------------------------~:-----------------------
</p>
<p>"'v 
R ~ 
</p>
<p>2 &lt;; 
</p>
<p>, port i 
L------------ ---------------------------------- -------------------------..! 
</p>
<p>port ! 
------------ ---------------------------------- -------------------------..! 
</p>
<p>+ v(s) 
</p>
<p>i (s) 
</p>
<p>+ 
</p>
<p>+ 
</p>
<p>v(s) I 
ZN(s) = i(s) v ~a= Rz 
</p>
<p>2 null 
</p>
<p>Fig. C.12 Measurement of the 
</p>
<p>quantities Ztf_s) and ZD(s): (a) deter-
</p>
<p>mination of ZD(s), (b) determination 
</p>
<p>of ZN(s). 
</p>
<p>(C.33) 
</p>
<p>Note that, in general, the independent sources v1 and i are nonzero during the ZN measurement. For this 
</p>
<p>example, the null condition implies that the current i(s) flows entirely through the path composed of R2, 
</p>
<p>Rp and v1&bull; 
The transfer function G(s) is found by substitution ofEqs. (C.31) and (C.33) into Eq. (C.30): 
</p>
<p>(C.34) 
</p>
<p>For this example, the result is obtained in standard normalized pole-zero form, because the capacitor is 
</p>
<p>the only dynamic element in the circuit, and because the "original conditions," in which the capacitor 
</p>
<p>impedance tends to an open circuit, coincide with de conditions in the circuit. A similar procedure can be </p>
<p/>
</div>
<div class="page"><p/>
<p>C.4 Examples 855 
</p>
<p>applied to write the transfer function of a circuit, containing an arbitrary number of reactive elements, in 
</p>
<p>normalized form via an extension of the Extra Element Theorem [3]. 
</p>
<p>C.4.2 An Unmodeled Element 
</p>
<p>We are told that the transformer-isolated parallel resonant inverter of Fig. C.13 has been designed with 
</p>
<p>the assumption that the transformer is ideal. The approximate sinusoidal analysis techniques of Chapter 
</p>
<p>19 were employed to model the inverter. It is now desired to specify a transformer; this requires that lim-
</p>
<p>its be specified on the minimum allowable transformer magnetizing inductance. One way to approach 
</p>
<p>this problem is to view the transformer magnetizing inductance as an extra element, and to derive condi-
</p>
<p>tions that guarantee that the presence of the transformer magnetizing inductance does not significantly 
</p>
<p>change the tank network transfer function G(s). 
</p>
<p>Figure C.14 illustrates the equivalent circuit model of the inverter, derived using the approxi-
</p>
<p>mate sinusoidal analysis technique of Section 19.1. The switch network output voltage vs(t) is modeled 
</p>
<p>by its fundamental component vs1(t), a sinusoid. The tank transfer function G(s) is given by: 
</p>
<p>+ 
</p>
<p>Fig. C.13 Parallel resonant inverter example. 
</p>
<p>L 
</p>
<p>Transfer function 
</p>
<p>G(s) 
</p>
<p>1 : n 
</p>
<p>(C.35) 
</p>
<p>+ 
</p>
<p>vJs) R 
</p>
<p>+ 
</p>
<p>vJs) R 
</p>
<p>Fig. C.14 Equivalent circuit model of the tank network, based on the approximate sinusoidal analysis technique. </p>
<p/>
</div>
<div class="page"><p/>
<p>856 Middlebrook's Extra Element Theorem 
</p>
<p>(a) L 1: n 
</p>
<p>c 
</p>
<p>(b) 
L 1: n 
</p>
<p>+ 
</p>
<p>R 
</p>
<p>Fig. C.lS Measurement of Ztfs) and ZD(s): (a) determination of ZD(s), (b) determination of Ztfs). 
</p>
<p>Under the conditions that the transformer is ideal (i.e., the transformer magnetizing inductance LM is 
</p>
<p>open circuited), then the transfer function is given by: 
</p>
<p>(C.36) 
</p>
<p>We can therefore employ the extra element theorem to determine how finite magnetizing inductance 
</p>
<p>changes G(s). With reference to Fig. C.l, the system input is v51(s), the output is the voltage v0(s), and the 
</p>
<p>"port" is the primary winding of the transformer, where the magnetizing inductance is connected. In the 
</p>
<p>presence of the magnetizing inductance, the transfer function becomes 
</p>
<p>(C.37) 
</p>
<p>where Z(s) is the impedance of the magnetizing inductance referred to the primary winding, sLM. 
</p>
<p>Figure C.15(a) illustrates determination of Z0 (s). The input source V51 (s) is set to zero, and the 
</p>
<p>impedance between the terminals of the port is found. It can be seen that the impedance Z0 (s) is the par-
allel combination of the impedances of the tank inductor, tank capacitor, and the reflected load resis-
</p>
<p>tance: 
</p>
<p>R 1 
Zv(s) = n2 II sL II sC (C.38) 
</p>
<p>Figure C.15(b) illustrates determination of ZN(s). In the presence of the input source v51 (s), a 
</p>
<p>current i(s) is injected at the port as shown. This current is adjusted such that the output v 0 (s) is nulled. 
</p>
<p>Under these conditions, the quantity ZN(s) is given by v(s)/i(s). It can be seen that nulling v0 (s) also nulls 
</p>
<p>the voltage v(s). Therefore, </p>
<p/>
</div>
<div class="page"><p/>
<p>C.4 Examples 857 
</p>
<p>Fig. C.l6 To avoid significantly changing the 
transfer function G( s ), the transformer should be 
</p>
<p>designed such that II Z II ~ II Z0 11. 
</p>
<p>(C.39) 
</p>
<p>Note that, in general, i(s) will not be equal to zero during the ZJs) measurement. The null condition is 
</p>
<p>achieved by setting the source i(s) equal to the value- vs1(s)/sL. Thus, in the presence of finite magnetiz-
</p>
<p>ing inductance, the transfer function G(s) can be expressed as follows: 
</p>
<p>(C.40) 
</p>
<p>We can now plot the impedance inequalities (C.27) that guarantee that the magnetizing induc-
</p>
<p>tance does not substantially modify G(s). The ZD(s) given in Eq. (C.38) is the impedance of a parallel 
</p>
<p>resonant circuit. Construction of the magnitude of this impedance is described in Section 8.3.4, with 
</p>
<p>results illustrated in Fig. C.l6. To avoid affecting the transfer function G(s), the impedance of the mag-
</p>
<p>netizing inductance must be much greater than II ZD(jw) II over the range of expected operating frequen-
cies. It can be seen that this will indeed be the case provided that the impedance of the magnetizing 
</p>
<p>inductance is greater than the impedances of both the tank inductance and the reflected load impedance: 
</p>
<p>where w0 = li(JLf;). These conditions can be further reduced to 
</p>
<p>LM ~ L, and 
</p>
<p>LM ~ ~ .;rc 
n 
</p>
<p>C.4.3 Addition of an Input Filter to a Converter 
</p>
<p>(C.41) 
</p>
<p>(C.42) 
</p>
<p>As discussed in Chapter 10, the addition of an input filter to a switching regulator can significantly alter 
</p>
<p>its loop gain T(s). Hence, it is desirable to design the input filter so that it does not substantially change </p>
<p/>
</div>
<div class="page"><p/>
<p>858 Middlebrook's Extra Element Theorem 
</p>
<p>..--- H(s)-----.... 
</p>
<p>Input 
filter 
</p>
<p>Converter 
</p>
<p>Fig. C.17 Addition of an input filter to a switching voltage regulator system. 
</p>
<p>the converter control-to-output transfer function Gvis). The Extra Element Theorem can provide design 
</p>
<p>criteria that show how to design such an input filter. 
</p>
<p>Figure C.l7 illustrates the addition of an input filter to a switching voltage regulator system. 
</p>
<p>The control-to-output transfer function of the converter power stage is given by: 
</p>
<p>G ( ) = v(s) I vd S " 
d(s) Og(,)=O 
</p>
<p>(C.43) 
</p>
<p>The quantity Z0 (s) is the Thevenin equivalent output impedance of the input filter. Upon setting vgCs) to 
zero in Fig. C.l7, the system of Fig. C.l8 is obtained. It can be recognized that this system is of the 
</p>
<p>same form as Fig. C.2, in which the "extra element" is the output impedance Z0 (s) of the added input fil-
</p>
<p>ter. With no input filter [Z0 (S) == 0], the "original" transfer function Gvis)!Zo(s) = 0 is obtained. In the pres-
ence of the input filter, Gvd(s) is expressed according to Eq. (C.3): 
</p>
<p>(C.44) 
</p>
<p>where 
</p>
<p>(C.45) 
</p>
<p>Converter 
</p>
<p>Fig. C. IS Determination of the control-to-output transfer Z0 (s) 
</p>
<p>function Gvis) for the system of Fig. C.l7. 
</p>
<p>d </p>
<p/>
</div>
<div class="page"><p/>
<p>C.4 Examples 859 
</p>
<p>is the impedance seen looking into the power input port of the converter when J is set to zero, and 
</p>
<p>(C.46) 
</p>
<p>is the impedance seen looking into the power input port of the converter when the converter output v is 
nulled. The null condition is achieved by injecting a test current source itest at the converter input port, in 
</p>
<p>the presence of J variations, and adjusting itest such that vis nulled. Derivation of expressions for ZJ,..s) 
and Zv(s) for a buck converter example is described in Section 10.3.1. 
</p>
<p>According to Eq. (C.28), the input filter does not significantly affect Gvis) provided that 
</p>
<p>~ Z0 (jOJ) II &laquo;I ZN(jw) ~ 
I ZoUro) II &laquo;II Zv(jm) ~ 
</p>
<p>(C.47) 
</p>
<p>These inequalities can provide an effective set of criteria for designing the input filter. Bode plots of 
</p>
<p>II ZJJw) II and II Zv(jw) II are constructed, and then the filter element values are chosen to satisfy (C.47). 
Several examples of this procedure are explained in Chapter 10. 
</p>
<p>C.4.4 Dependence of Transistor Current on Load 
in a Resonant Inverter 
</p>
<p>The conduction loss caused by circulating tank currents is a major problem in resonant converter design. 
</p>
<p>These currents are independent of, or only weakly dependent on, the load current, and lead to poor effi-
</p>
<p>ciency at light load. The origin of this problem is the weak dependence of the tank network input imped-
</p>
<p>ance on the load resistance. For example, Fig. C.l9 illustrates the model of the ac portion of a resonant 
</p>
<p>inverter, derived using the sinusoidal approximation of Section 19.1. The resonant network contains the 
</p>
<p>tank inductors and capacitors of the converter, and the load is the resistance R. The current i.(t) flowing in 
the effective sinusoidal source is equal to the switch current. This model predicts that the switch current 
</p>
<p>i.(s) is equal to v.1(s)IZ/s), where Z;(s) is the input impedance of the resonant tank network. If we want 
the switch current to track the load current, then at the switching frequency II Z; II should be dominated 
by, or at least strongly influenced by, the load resistance R. Unfortunately, this is often not consistent 
with other requirements, in which Z; is dominated by the impedances of the tank elements. To design a 
</p>
<p>resonant converter that exhibits good properties, the engineer must develop physical insight into how the 
</p>
<p>load resistance R affects the tank input impedance and output voltage. 
</p>
<p>Fig. C.l9 Resonant inverter model. 
</p>
<p>Transfer function 
H(s) 
</p>
<p>~ 
i.(t) i(t) 
</p>
<p>Resonant 
network + 
</p>
<p>Z; zo v(t) - -Purely reactive 
Effective 
resistive 
load 
R </p>
<p/>
</div>
<div class="page"><p/>
<p>860 Middlebrook's Extra Element Theorem 
</p>
<p>i(t) 
</p>
<p>+ Resonant 
network + 
</p>
<p>"tl zo 
"Extra" 
</p>
<p>vs1(t) Cl v(t) element 
::t - R 
</p>
<p>Input Output 
</p>
<p>Fig. C.20 Application of the Extra Element Theorem to the system of Fig. C.l9, to expose the dependence of 
</p>
<p>Z;(s) onR. 
</p>
<p>To expose the dependence of Z/s) on the load resistance R, we can treat R as the "extra" ele-
</p>
<p>ment as in Fig. C.20. The input impedance Z/s) is viewed as the transfer function from the current is to 
</p>
<p>the voltage vs1; in this sense, is is the "input" and vs1 is the "output." Equations (C.2) and (C.3) then imply 
</p>
<p>that Z;(s) can be expressed as follows: 
</p>
<p>(C.48) 
</p>
<p>Here, the impedance Z;o(s) is 
</p>
<p>(C.49) 
</p>
<p>i.e., the input impedance Z;(s) when the load terminals are shorted. Likewise, the impedance Z;~(s) is 
</p>
<p>(C.50) 
</p>
<p>which is the input impedance Z;(s) when the load is disconnected (open circuited). 
</p>
<p>Determination of ZJs) and Zv(s) is illustrated in Fig. C.21. The quantity ZJ_s) is found by null-
</p>
<p>ing the "output" vs1 to zero, and then solving for v(s)li(s). The quantity Z,fs) coincides with the conven-
</p>
<p>tional output impedance Z0 (s) illustrated in Fig. C.19. In Fig. C.21(a), the act of nulling vs1 is equivalent 
</p>
<p>to shorting the source v,1 of Fig. C.l9. In Section 19.4, the quantity ZN(s) is denoted Z00(s), because it 
</p>
<p>coincides with the converter output impedance with the switch network shorted. 
</p>
<p>The quantity Zv(s) is found by setting the "input" i, to zero, and then solving for v(s)li(s). The 
</p>
<p>quantity Zv(s) coincides with the output impedance Z/s) illustrated in Fig. C.19, under the conditions 
</p>
<p>that the source vs1 is open-circuited. In Section 19.4, the quantity Zv(s) is denoted Z~(s), because it coin-
</p>
<p>cides with the converter output impedance with the switch network open-circuited. 
</p>
<p>The reciprocity relationship, Eq. (C.4), becomes 
</p>
<p>(C.51) 
</p>
<p>The above results are used in Section 19.4 to expose how conduction losses and the zero-voltage switch-
</p>
<p>ing boundary depend on the loading of a resonant converter. </p>
<p/>
</div>
<div class="page"><p/>
<p>References 861 
</p>
<p>(a) 
</p>
<p>+ Resonant 
network + 
</p>
<p>i.(t) v,it) ;;;t 0 '"tl&middot; ZN v(t) C) 
;::[ -
</p>
<p>Input Output 
</p>
<p>(b) 
</p>
<p>+ Resonant 
network + 
</p>
<p>v,it) ~ ZD v(t) 
;::[ -
</p>
<p>Fig. C.21 Determination of the quantities Ztf..s) and Zn(s) for the network of Fig. C.20: (a) finding Ztf..s), 
</p>
<p>(b) finding Zv(s). 
</p>
<p>REFERENCES 
</p>
<p>[1] R. D. MIDDLEBROOK, "Null Double Injection and the Extra Element Theorem," IEEE Transactions on 
</p>
<p>Education, vol. 32, No.3, Aug. 1989, pp. 167-180. 
</p>
<p>[2] R. D. MIDDLEBROOK, "The Two Extra Element Theorem," IEEE Frontiers in Education Conference Pre-
</p>
<p>ceedings, Sept. 1991, pp. 702-708. 
</p>
<p>[3] R. D. MIDDLEBROOK, V. VORPERIAN, AND J. LINDAL, "TheN Extra Element Theorem," IEEE Transac-
</p>
<p>tions on Circuits and Systems 1: Fundamental Theory and Applications, Vol. 45, No. 9, Sept. 1998, pp. 
</p>
<p>919-935. </p>
<p/>
</div>
<div class="page"><p/>
<p>Appendix D 
</p>
<p>Magnetics Design Tables 
</p>
<p>Geometrical data for several standard ferrite core shapes are listed here. The geometrical constant K8 is a 
</p>
<p>measure of core size, useful for designing inductors and transformers that attain a given copper loss [1]. 
</p>
<p>The Kg method for inductor design is described in Chapter 14. K8 is defined as 
</p>
<p>K _ A~WA 
g- MLT 
</p>
<p>(D.l) 
</p>
<p>where Ac is the core cross-sectional area, WA is the window area, and MLT is the winding mean-length-
</p>
<p>per-tum. The geometrical constant Kgfe is a similar measure of core size, which is useful for designing ac 
</p>
<p>inductors and transformers when the total copper plus core loss is constrained. The Kgfe method for mag-
</p>
<p>netics design is described in Chapter 15. Kgfe is defined as 
</p>
<p>W A2(t-tl~l 
K _ A c u(R) 
</p>
<p>gfe- MLT e 21 ~ ~--' 
"' 
</p>
<p>(D.2) 
</p>
<p>where em is the core mean magnetic path length, and ~ is the core loss exponent: 
</p>
<p>(D.3) 
</p>
<p>For modem ferrite materials, ~typically lies in the range 2.6 to 2.8. The quantity u(~) is defined as 
</p>
<p>(D.4) </p>
<p/>
</div>
<div class="page"><p/>
<p>864 Magnetics Design Tables 
</p>
<p>u(~) is equal to 0.305 for~= 2.7. This quantity varies by roughly 5% over the range 2.6::; ~::; 2.8. Values 
</p>
<p>of Kgfe are tabulated for~= 2.7; variation of Kgfe over the range 2.6::; ~::; 2.8 is typically quite small. 
</p>
<p>Thermal resistances are listed in those cases where published manufacturer's data are available. 
</p>
<p>The thermal resistances listed are the approximate temperature rise from the center leg of the core to 
</p>
<p>ambient, per watt of total power loss. Different temperature rises may be observed under conditions of 
</p>
<p>forced air cooling, unusual power loss distributions, etc. Listed window areas are the winding areas for 
</p>
<p>conventional single-section bobbins. 
</p>
<p>An American Wire Gauge table is included at the end of this appendix. 
</p>
<p>D.l POT CORE DATA 
</p>
<p>8 A [ . 0 
r&middot;&bull;&bull;&bull; &bull; &bull;&bull;&bull; r-, &bull; &bull; &bull;&bull;&bull;&bull;&middot;&middot;&middot;~ &middot; &middot; &middot; &middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>~ IH 
&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot; 
</p>
<p>Fig. D.l 
</p>
<p>Core Geometrical Geometrical Cross- Bobbin Mean Magnetic Thermal Core 
</p>
<p>type constant constant sectional winding length path resistance weight 
</p>
<p>area area per turn length 
</p>
<p>(A H) Kg Kgfe Ac WA MLT em R,h 
(mm) cm5 cmx (cm2) (cm2) (em) (em) CC!W) (g) 
</p>
<p>704 0.738&middot;10 6 1.61&middot;10 6 0.070 0.22&middot;10-3 1.46 1.0 0.5 
</p>
<p>905 0.183&middot;W 3 256&middot;W 6 0.101 0.034 1.90 1.26 1.0 
</p>
<p>1107 0.667&middot; 10- 3 554&middot; 10- 6 0.167 0.055 2.30 1.55 1.8 
</p>
<p>1408 2.107-10- 3 1.1 &middot;10- 3 0.251 0.097 2.90 2.00 100 3.2 
</p>
<p>1811 9.45&middot; 10- 3 2.6&middot;10- 3 0.433 0.187 3.71 2.60 60 7.3 
</p>
<p>2213 27.1 &middot; 10-3 4.9&middot; 10- 3 0.635 0.297 4.42 3.15 38 13 
</p>
<p>2616 69.1&middot; 10- 3 8.2&middot; 10- 3 0.948 0.406 5.28 3.75 30 20 
</p>
<p>3019 0.180 14.2&middot;10- 3 1.38 0.587 6.20 4.50 23 34 
</p>
<p>3622 0.411 2J.no- 3 2.02 0.748 7.42 5.30 19 57 
</p>
<p>4229 1.15 41.1 &middot;10- 3 2.66 1.40 8.60 6.81 13.5 104 </p>
<p/>
</div>
<div class="page"><p/>
<p>D.2 EE Core Data 865 
</p>
<p>D.2 EECOREDATA 
</p>
<p>.&middot; . 
. &middot;. &middot;.&middot; .. 
</p>
<p>I 
A 
</p>
<p>I 
Fig. D.2 
</p>
<p>Core Geometrical Geometrical Cross- Bobbin Mean Magnetic Core 
</p>
<p>type constant constant sectional winding length path weight 
</p>
<p>area area per turn length 
</p>
<p>(A) Kg Kgfe Ac WA MLT e, 
(mm) (cm5) (cmx) (cm2) (cm2) (em) (em) (g) 
</p>
<p>EE12 0.731&middot;10- 3 0.458&middot; w- 3 0;)4 0.085 2.28 2.7 2.34 
EE16 2.02&middot;10- 3 0.842&middot;10- 3 0.19 0.190 3.40 3.45 3.29 
</p>
<p>EE19 4.07-1 o- 3 1.3&middot;10- 3 0.23 0.284 3.69 3.94 4.83 
</p>
<p>EE22 8.26&middot;10- 3 1.8&middot;10- 3 0.41 0.196 3.99 3.96 8.81 
</p>
<p>EE30 85.7-10- 3 6.no- 3 1.09 0.476 6.60 5.77 32.4 
</p>
<p>EE40 0.209 11.8&middot;10-3 1.27 1.10 8.50 7.70 50.3 
</p>
<p>EE50 0.909 28.4&middot;10- 3 2.26 1.78 10.0 9.58 116 
</p>
<p>EE60 1.38 36.4&middot;10- 3 2.47 2.89 12.8 11.0 135 
</p>
<p>EE70/68/19 5.06 75.9&middot;10- 3 3.24 6.75 14.0 18.0 280 </p>
<p/>
</div>
<div class="page"><p/>
<p>866 Magnetics Design Tables 
</p>
<p>D.3 EC CORE DATA 
</p>
<p>A 
</p>
<p>Fig. D.3 
</p>
<p>Core Geometrical Geometrical Cross- Bobbin Mean Magnetic Thermal Core 
</p>
<p>type constant constant sectional winding length path resistance weight 
</p>
<p>area area per turn length 
</p>
<p>(A) K g Kgfe Ac WA MLT em R,, 
(mm) (cm5) (em) (cm2) (cm2) (em) (em) ('C!W) (g) 
</p>
<p>EC35 0.131 9.9&middot;10 3 0.843 0.975 5.30 7.74 18.5 35.5 
</p>
<p>EC4 1 0.374 19.5&middot;10- 3 1.21 1.35 5.30 8.93 16.5 57.0 
</p>
<p>EC52 0.914 31.7-10- 3 1.80 2.12 7.50 10.5 11.0 111 
</p>
<p>EC70 2.84 56.2&middot;10- 3 2.79 4.71 12.9 14.4 7.5 256 
</p>
<p>D.4 ETD CORE DATA 
</p>
<p>A 
</p>
<p>Fig. D.4 
</p>
<p>Core Geometrical Geometrical Cross- Bobbin Mean Magnetic Thermal Core 
</p>
<p>type constant constant sectional winding length path resistance weight 
</p>
<p>area area per turn length 
</p>
<p>(A) Kg Kgfe Ac WA MLT em R,, 
(mm) (cm5) (em) (cm2) (cm2) (em) (em) ('C/W) (g) 
</p>
<p>ETD29 0.0978 8.5&middot;10 3 0.76 0.903 5.33 7 .20 30 
</p>
<p>ETD34 0.1 93 13.1 &middot;10- 3 0.97 1.23 6.00 7.86 19 40 
</p>
<p>ETD39 0.397 19.8&middot;10- 3 1.25 1.74 6.86 9.21 15 60 
</p>
<p>ETD44 0.846 30.4&middot;10- 3 1.74 2.13 7.62 10.3 12 94 
</p>
<p>ETD49 1.42 41.0&middot;10- 3 2.11 2.71 8.51 11.4 II 124 </p>
<p/>
</div>
<div class="page"><p/>
<p>D.5 PQ Core Data 867 
</p>
<p>D.S PQCOREDATA 
</p>
<p>.. -......... -~ ............. 
</p>
<p>::::::::cJ 
A, 
</p>
<p>----------.!&middot; &middot;&middot; &middot;&middot;&middot; &middot;&middot;&middot;&middot; &middot;-
</p>
<p>2D 
Fig. 0.5 
</p>
<p>Core Geometrical Geometrical Cross- Bobbin Mean Magnetic Core 
</p>
<p>type constant constant sectional winding length path weight 
</p>
<p>area area per turn length 
</p>
<p>(A/2D) K g K gfe Ac WA MLT e, 
(mm) (cm5 ) (cmx) (cm2) (cm2) (em) (em) (g) 
</p>
<p>PQ 20116 22.4&middot;10-3 3.7&middot;10"3 0.62 0.256 4.4 3.74 13 
</p>
<p>PQ 20/20 33.6&middot;10-3 4.8&middot;10"3 0.62 0.384 4.4 4.54 IS 
</p>
<p>PQ 26/20 83.9&middot;10"3 7.2&middot;10"3 1.19 0.333 5.62 4.63 31 
</p>
<p>PQ 26/25 0.125 9.4&middot;10"3 1.18 0.503 5.62 5.55 36 
</p>
<p>PQ 32/20 0.203 11.7&middot;10"3 1.70 0.47 1 6.71 5.55 42 
</p>
<p>PQ 32/30 0.384 18.6&middot;10"3 1.61 0.995 6.71 7.46 55 
</p>
<p>PQ 35/35 0.820 30.4-10-3 1.96 1.61 7.52 8.79 73 
</p>
<p>PQ 40/40 1.20 39.1 &middot;10"3 2.0 1 2.50 8.39 10.2 95 </p>
<p/>
</div>
<div class="page"><p/>
<p>868 Magnetics Design Tables 
</p>
<p>D.6 AMERICAN WIRE GAUGE DATA 
</p>
<p>AWG# 
Bare area, Resistance, Diameter, 
</p>
<p>w- 3 cm2 w- 6 Q/cm em 
0000 1072.3 1.608 1.168 
</p>
<p>000 850.3 2.027 1.040 
</p>
<p>00 674.2 2.557 0.927 
</p>
<p>0 534.8 3.224 0.825 
</p>
<p>424.1 4.065 0.735 
</p>
<p>2 336.3 5.128 0.654 
</p>
<p>3 266.7 6.463 0.583 
</p>
<p>4 211.5 8.153 0.519 
</p>
<p>5 167.7 10.28 0.462 
</p>
<p>6 133.0 13.0 0.411 
</p>
<p>7 105.5 16.3 0.366 
</p>
<p>8 83.67 20.6 0.326 
</p>
<p>9 66.32 26.0 0.291 
</p>
<p>10 52.41 32.9 0.267 
</p>
<p>11 41.60 41.37 0.238 
</p>
<p>12 33.08 52.09 0.213 
</p>
<p>13 26.26 69.64 0.190 
</p>
<p>14 20.02 82.80 0.171 
</p>
<p>15 16.51 104.3 0.153 
</p>
<p>16 13.07 131.8 0.137 
</p>
<p>17 10.39 165.8 0.122 
</p>
<p>18 8.228 209.5 0.109 
</p>
<p>19 6.531 263.9 0.0948 
</p>
<p>20 5.188 332.3 0.0874 
</p>
<p>21 4.116 418.9 0.0785 
</p>
<p>22 3.243 531.4 0.0701 
</p>
<p>23 2.508 666.0 0.0632 
</p>
<p>24 2.047 842.1 0.0566 
</p>
<p>25 1.623 1062.0 0.0505 
</p>
<p>26 1.280 1345.0 0.0452 
</p>
<p>27 1.021 1687.6 0.0409 
</p>
<p>28 0.8046 2142.7 0.0366 
</p>
<p>29 0.6470 2664.3 0.0330 </p>
<p/>
</div>
<div class="page"><p/>
<p>References 869 
</p>
<p>Continued 
</p>
<p>AWG# 
Bare area, Resistance, Diameter, 
</p>
<p>10- 3 cm2 10- 6 Q/cm em 
</p>
<p>30 0.5067 3402.2 0.0294 
</p>
<p>31 0.4013 4294.6 0.0267 
</p>
<p>32 0.3242 5314.9 0.0241 
</p>
<p>33 0.2554 6748.6 0.0236 
</p>
<p>34 0.2011 8572.8 0.0191 
</p>
<p>35 0.1589 10849 0.0170 
</p>
<p>36 0.1266 13608 0.0152 
</p>
<p>37 0.1026 16801 0.0140 
</p>
<p>38 0.08107 21266 0.0124 
</p>
<p>39 0.06207 27775 0.0109 
</p>
<p>40 0.04869 35400 0.0096 
</p>
<p>41 0.03972 43405 0.00863 
</p>
<p>42 O.o3166 54429 0.00762 
</p>
<p>43 0.02452 70308 0.00685 
</p>
<p>44 0.0202 85072 0.00635 
</p>
<p>REFERENCES 
</p>
<p>[1] C. W. T. MCLYMAN, Transformer and Inductor Design Handbook, Second edition, New York: Marcel 
</p>
<p>Dekker, 1988. 
</p>
<p>[2] Ferrite Materials and Components Catalog, Philips Components. </p>
<p/>
</div>
<div class="page"><p/>
<p>Index 
</p>
<p>Air gap 
</p>
<p>in coupled inductor, 529, 551, 553 
</p>
<p>in flyback transformer, 530,559 
</p>
<p>in inductor, 499-501, 525-526, 539-542, 544 
</p>
<p>in transformer, 504 
</p>
<p>AL (mH/1000 turns), 545 
</p>
<p>American wire gauge (AWG) 
</p>
<p>data, 868-869 
</p>
<p>design examples, 557, 560, 575, 580 
</p>
<p>Amorphous alloys, 507 
</p>
<p>Ampere's law, 493-494 
</p>
<p>Amp-second balance (see Capacitor charge balance) 
</p>
<p>Apparent power, 598 
</p>
<p>Artificial ramp 
</p>
<p>circuit, 446 
</p>
<p>effect on CPM boost low-harmonic rectifier, 654-
</p>
<p>656 
</p>
<p>effect on line-to-output transfer function of CCM 
</p>
<p>buck, 466-469 
</p>
<p>effect on small-signal CCM models, 459-466 
</p>
<p>effect on small-signal DCM models, 473-480 
</p>
<p>effect on stability of CPM controllers, 444-449 
</p>
<p>Asymptotes (see Bode plots) 
</p>
<p>Audiosusceptibility G v/s) (see Line-to-output transfer 
</p>
<p>function) 
</p>
<p>Average current control 
</p>
<p>feedforward, 650-652 
</p>
<p>in low-harmonic rectifier systems, 648-654 
</p>
<p>modeling of, 652-654 
</p>
<p>Averaged switch modeling, 226-247 
</p>
<p>of current-programmed CCM converters, 454-459 
</p>
<p>of current-programmed DCM converters, 473-480 
</p>
<p>in discontinuous conduction mode, 410-431 
</p>
<p>equivalent circuit modeling of conduction losses, 
</p>
<p>242-244, 816-818 
</p>
<p>equivalent circuit modeling of switching losses, 
</p>
<p>244-247 
</p>
<p>examples 
</p>
<p>nonideal buck converter, 244-247 
</p>
<p>nonideal buck-boost converter, 242-244 
</p>
<p>CCM SEPIC, 228-235 
</p>
<p>of ideal CCM switch networks, 226-241, 815-816, 
</p>
<p>822-825 
</p>
<p>of ideal DCM switch networks, 416, 822-825 
</p>
<p>of quasi-resonant converters, 768-790 
</p>
<p>Average power 
</p>
<p>and Fourier series, 590-593 
</p>
<p>modeled by power source element, 414-418, 454-
</p>
<p>459, 473-480 
</p>
<p>in nonsinusoidal systems, 590-603 
</p>
<p>predicted by averaged models, 56 
</p>
<p>power factor, 594-598 
</p>
<p>sinusoidal phasor diagram, 598-599 
</p>
<p>Averaging 
</p>
<p>approximation, discussion of, 189-190, 194-196 
</p>
<p>averaged switch modeling, 226-247 
</p>
<p>basic approach, 192-204 
</p>
<p>capacitor charge balance, 21-22 
</p>
<p>circuit, 226-247 
</p>
<p>to find de component, 5, 14 
</p>
<p>ftyback ac model, 209-218 
</p>
<p>inductor volt-second balance, 20-21 
</p>
<p>introduction to, 187-192 
</p>
<p>modeling efficiency and loss via, 56 
</p>
<p>to model rectifier output, 668-670 
</p>
<p>to model 30 converters, 685-690 
</p>
<p>of quasi-resonant converters, 768-790 
</p>
<p>state-space, 213-226 
</p>
<p>Ballast, electronic 705-707 </p>
<p/>
</div>
<div class="page"><p/>
<p>872 Index 
</p>
<p>resonant inverter design, 726-740 
</p>
<p>Battery charger, 8, 70 
</p>
<p>B-Hloop 
</p>
<p>in an ac inductor, 527-528 
</p>
<p>in a conventional transformer, 148, 528 
</p>
<p>in a coupled inductor, 529-530 
</p>
<p>in a filter inductor, 526-527 
</p>
<p>in a flyback transformer, 530-531 
</p>
<p>modeling of, 494-495 
</p>
<p>Bidirectional de-de converters, 70 
</p>
<p>Bipolar junction transistor (BJT) 
</p>
<p>breakdown mechanisms in, 85-86 
</p>
<p>construction and operation of, 81-86 
</p>
<p>current crowding, 84-85 
</p>
<p>Darlington-connected, 86 
</p>
<p>idealized switch characteristics, 65-66 
</p>
<p>on resistance, 52, 81-82 
</p>
<p>quasi-saturation, 82, 85 
</p>
<p>storage time, 84 
</p>
<p>stored minority charge in, 81-85 
</p>
<p>switching waveforms, 82-84 
</p>
<p>Bode plots (see also Harmonic trap filters, Sinusoidal 
</p>
<p>approximation) 
</p>
<p>asymptote analytical equations, 281 
</p>
<p>CCM buck-boost example, 294-299 
</p>
<p>combinations, 278-281 
</p>
<p>complex poles, 282-286 
</p>
<p>frequency inversion, 277-278 
</p>
<p>graphical construction of, 302-317 
</p>
<p>addition, 303-307 
</p>
<p>closed-loop transfer functions, 337-340 
</p>
<p>division, 311-313 
</p>
<p>parallel combination, 308-310 
</p>
<p>parallel resonance, 309-310 
</p>
<p>series resonance, 305-307 
</p>
<p>impedance graph paper, 310 
</p>
<p>nonminimum phase zero, 276 
</p>
<p>reactance graph paper, 310 
</p>
<p>real pole, 269-274 
</p>
<p>real zero, 27 5 
</p>
<p>RHP zero, 276 
</p>
<p>transfer functions of buck, boost, buck-boost, 300 
</p>
<p>Body diode (see MOSFET) 
</p>
<p>Boost converter (see also Bridge configuration, Push-
</p>
<p>pull isolated converters) 
</p>
<p>active switch utilization in, 173,676 
</p>
<p>averaged switch model, DCM, 419-420 
</p>
<p>circuit-averaged model, 235-239 
</p>
<p>current -programmed 
</p>
<p>averaged switch model, CCM, 455-456 
</p>
<p>averaged switch model, DCM, 477 
</p>
<p>small-signal ac model, CCM, 458-459, 460-463, 
</p>
<p>469-470 
</p>
<p>small-signal ac model, DCM, 478-480 
</p>
<p>as inverted buck converter, 132-133 
</p>
<p>as low-harmonic rectifier, 642-646, 648-663, 666, 
</p>
<p>674-685, 832-834 
</p>
<p>nonideal analysis of, 42-49, 52-56 
</p>
<p>quasi-resonant ZCS, 778-779 
</p>
<p>simulation example, 832-834 
</p>
<p>small-signal ac model 
</p>
<p>CCM, 204-205,252-253 
</p>
<p>DCM, 424-429 
</p>
<p>steady-state analysis of, 
</p>
<p>CCM, 22-27 
</p>
<p>DCM, 117-124 
</p>
<p>transfer functions, CCM, 300 
</p>
<p>Bridge configuration (de-de converters) 
</p>
<p>boost -derived full bridge, 165~ 166 
</p>
<p>buck-derived full bridge, 149-152 
</p>
<p>buck-derived half bridge, 152-154 
</p>
<p>full bridge transformer design example, 576-580 
</p>
<p>minimization of transformer copper loss in, 549-550 
</p>
<p>Bridge configuration (inverters) 
</p>
<p>single phase, 7-8, 138-141, 143-145 
</p>
<p>three phase, 70, 141-143 
</p>
<p>Buck-boost converter (see also Fly back converter) 
</p>
<p>averaged switch model, DCM, 410-420 
</p>
<p>as cascaded buck and boost converters, 134-136 
</p>
<p>current-programmed 
</p>
<p>averaged switch model, DCM, 473-477 
</p>
<p>more accurate model, CCM, 461-463 
</p>
<p>simple model, CCM, 450-454 
</p>
<p>small-signal ac model, DCM, 478-480 
</p>
<p>dc-3(21ac inverter, 71-72 
</p>
<p>DCM characteristics, 112, 124-125, 420 
</p>
<p>as low-harmonic rectifier, 645-646, 650 
</p>
<p>manipulation of ac model into canonical form, 250-
</p>
<p>252 
</p>
<p>nonideal, state-space averaged model of, 221-226 
</p>
<p>noninverting version, 135, 143-144 
</p>
<p>as rotated three-terminal cell, 137 
</p>
<p>simulation of, 819-822 
</p>
<p>small-signal ac model, CCM, 204-205, 252-253 
</p>
<p>small-signal ac model, DCM, 420-425 
</p>
<p>transfer functions, CCM, 294-300 
</p>
<p>transformer isolation in, 161-165 
</p>
<p>Buck converter (see also Bridge configuration, Forward 
</p>
<p>converter, Push-pull isolated converters), 5-6, 13-22, 
</p>
<p>31-33 
</p>
<p>active switch utilization in, 173 
</p>
<p>averaged switch model, 239-241 
</p>
<p>current-programmed 
</p>
<p>averaged switch model, CCM, 454-457 </p>
<p/>
</div>
<div class="page"><p/>
<p>averaged switch model, DCM, 477-478 
</p>
<p>small-signal ac model, CCM, 453,462,466-470 
</p>
<p>small-signal ac model, DCM, 477-480 
</p>
<p>equivalent circuit modeling of, 
</p>
<p>small-signal ac, CCM, 204-205, 253 
</p>
<p>small-signal ac, DCM, 424-426 
</p>
<p>steady-state, CCM, 50-52 
</p>
<p>steady-state, DCM, 420 
</p>
<p>as high power factor rectifier, 646 
</p>
<p>multi-resonant realization, 784-786 
</p>
<p>quasi-square-wave resonant realizations, 787-790 
</p>
<p>quasi-resonant realizations 
</p>
<p>zero current switching, 708, 768-782 
</p>
<p>zero voltage switching, 783-784 
</p>
<p>simulation examples 
</p>
<p>current programmed control, 837-839 
</p>
<p>voltage regulator, 827-831 
</p>
<p>small-signal ac model 
</p>
<p>CCM, 204-205,253 
</p>
<p>DCM, 424-427 
</p>
<p>steady-state analysis of, 
</p>
<p>CCM, 13-22, 31-33, 50-52 
</p>
<p>DCM, 111-117,418-420 
</p>
<p>switching loss in, 93-100,244-247 
</p>
<p>employing synchronous rectifier, 73-74 
</p>
<p>transfer functions, CCM, 300 
</p>
<p>Buck2 converter, 145-146 
</p>
<p>Buck 3!1) inverter (see Voltage source inverter) 
</p>
<p>Canonical circuit model, 248-253 
</p>
<p>manipulation into canonical form, 250-253 
</p>
<p>parameters for buck, boost, buck-boost, 253 
</p>
<p>physical development of, 248-250 
</p>
<p>transfer functions predicted by, 248-250 
</p>
<p>Capacitor amp-second balance (see Capacitor charge 
</p>
<p>balance) 
</p>
<p>Capacitor charge balance 
</p>
<p>boost converter example, 24-25 
</p>
<p>Cuk converter example, 29-30 
</p>
<p>definition, 22 
</p>
<p>in discontinuous conduction mode, 115 
</p>
<p>nonideal boost converter examples, 44, 54 
</p>
<p>Capacitor voltage ripple 
</p>
<p>boost converter example, 26-27 
</p>
<p>buck converter example, 31-33 
</p>
<p>in converters containing two-pole filters, 31-33 
</p>
<p>Cuk converter example, 30-31 
</p>
<p>Cascade connection of converters, 134-137 
</p>
<p>Characteristic value a (current programmed mode), 
445,448 
</p>
<p>Charge balance (see Capacitor charge balance) 
</p>
<p>Circuit averaging (see also Averaged switch modeling), 
</p>
<p>226-247 
</p>
<p>averaging step, 229-231 
</p>
<p>examples 
</p>
<p>buck, 239-241 
</p>
<p>boost, 235-239 
</p>
<p>SEPIC, 228-234 
</p>
<p>linearization, 232-235 
</p>
<p>obtaining a time-invariant network, 228-229 
</p>
<p>summary of, 226-227 
</p>
<p>Commutation 
</p>
<p>failure, 621 
</p>
<p>notching, 622 
</p>
<p>in 3!1) phase controlled rectifier, 620-622 
</p>
<p>Compensators (see also Control system design) 
</p>
<p>design example, 354-362,827-831 
</p>
<p>lag, 351-353 
</p>
<p>lead, 348-351, 358-359 
</p>
<p>PD, 348-351, 358-359 
</p>
<p>PI, 351-353 
</p>
<p>PID, 353-354, 359-362 
</p>
<p>Complex power, 598, 620 
</p>
<p>Computer power supply, 7-8 
</p>
<p>873 
</p>
<p>Computer spreadsheet, design using, 174-176 
</p>
<p>Conduction loss (see&middot;Copper loss, Semiconductor con-
</p>
<p>duction loss) 
</p>
<p>Conductivity modulation, 74-76,78, 82, 83, 87,89 
</p>
<p>Control system design (see also Compensators, Nega-
</p>
<p>tive feedback), 331-376 
</p>
<p>compensation, 348-354 
</p>
<p>construction of closed-loop transfer functions, 334-
</p>
<p>340 
</p>
<p>design example, 354-362, 827-831 
</p>
<p>for low-harmonic rectifiers 
</p>
<p>approaches, 648-663, 668-673 
</p>
<p>modeling, 652-653, 668-673 
</p>
<p>phase margin 
</p>
<p>test, 341-342 
</p>
<p>vs. closed-loop damping factor, 342-345 
</p>
<p>stability, 340-347 
</p>
<p>voltage regulator 
</p>
<p>block diagram, 332-333, 336, 355-357 
</p>
<p>design specifications, 347-348 
</p>
<p>Control-to-output transfer function 
</p>
<p>as predicted by canonical model, 248-250 
</p>
<p>of CCM buck, boost, and buck-boost converters, 300 
</p>
<p>of current programmed converters, 453, 458-459, 
</p>
<p>464-472,480 
</p>
<p>ofDCM converters, 426-427,433 
</p>
<p>input filter, effect on, 380-382 
</p>
<p>Conversion ratio M (see also Switch conversion ratio )l) 
</p>
<p>of boost, 16, 24, 123, 420 
</p>
<p>of buck, 16, 116-117,420 </p>
<p/>
</div>
<div class="page"><p/>
<p>874 Index 
</p>
<p>of buck-boost, 16, 124, 420 
</p>
<p>of Cuk converter, 29-30, 420 
</p>
<p>of loss-free resistor networks, 416-418 
</p>
<p>in low-harmonic rectifiers, 641-642 
</p>
<p>modeling of, 39-42 
</p>
<p>of quasi-resonant converters, 762, 770, 778 
</p>
<p>of parallel resonant converter, 719-721,748-752 
</p>
<p>of SEPIC, 146, 420 
</p>
<p>of series resonant converter, 716-718, 740-748 
</p>
<p>via sinusoidal approximation, 714-715 
</p>
<p>Copper loss 
</p>
<p>allocation of window area to minimize, 545-550, 
</p>
<p>567-568 
</p>
<p>high frequency effects 
</p>
<p>skin effect, 508-510 
</p>
<p>proximity effect, 510-525 
</p>
<p>inductor design to meet specified, 539-545 
</p>
<p>low frequency, 508 
</p>
<p>modeling in converters, 43-53 
</p>
<p>multiple winding design to meet specified, 545-554 
</p>
<p>Core loss, 506-507, 527-529, 560-562, 565-567 
</p>
<p>Correction factor (see also Extra element theorem), 
</p>
<p>384,844,849 
</p>
<p>Coupled inductors, 529-530, 545, 550-554 
</p>
<p>in Cuk converter, 534-535, 529 
</p>
<p>design of, 545-554 
</p>
<p>in multiple-output buck-derived converters, 529-
</p>
<p>530, 554-557 
</p>
<p>Crossover frequency, 338-346 
</p>
<p>Cuk converter 
</p>
<p>active switch utilization of, 173 
</p>
<p>as cascaded boost and buck converters, 136-137 
</p>
<p>conversion ratio M(D), 30, 420 
</p>
<p>DCM averaged switch model of, 418-420 
</p>
<p>as low-harmonic rectifier, 645-646, 650, 676 
</p>
<p>as rotated three-terminal cell, 136-137 
</p>
<p>steady-state analysis of, 27-31 
</p>
<p>transformer design example, 573-576 
</p>
<p>with transformer isolation, 170-171 
</p>
<p>Current-fed bridge, 144-145 
</p>
<p>Current injection, 367-368 
</p>
<p>Current programmed control, 439-487 
</p>
<p>ac modeling of 
</p>
<p>via averaged switch modeling, CCM, 454-459 
</p>
<p>via averaged switch modeling, DCM, 473-480 
</p>
<p>CCM more accurate model, 459-473 
</p>
<p>CCM simple approximation, 449-459 
</p>
<p>artificial ramp, 445-449 
</p>
<p>controller circuit, 440, 446 
</p>
<p>controller small-signal block diagram, 459-464 
</p>
<p>in full-bridge buck converters, 152 
</p>
<p>in half-bridge buck converters, 154, 441 
</p>
<p>in low harmonic rectifiers, 654-656 
</p>
<p>oscillation forD &gt; 0.5, 441-449 
in push-pull buck converters, 160, 441 
</p>
<p>Current ripple (see inductor current ripple) 
</p>
<p>Current sense circuit, isolated, 181-182 
</p>
<p>Current source inverter (CSI), 142-143 
</p>
<p>Cycloconverter, 1, 72-73 
</p>
<p>Damping (see also Q-factor, Input filters) 
</p>
<p>factor ~. 283 
</p>
<p>of input filters, 380, 385-392 
</p>
<p>optimal, 392-398 
</p>
<p>vs. overshoot, 346-347 
</p>
<p>DC conversion ratio (see Conversion ratio M) 
</p>
<p>DC link, 8-9 
</p>
<p>DC transformer model 
</p>
<p>in averaged switch models, 232-235, 237-241, 247 
</p>
<p>in canonical model, 248-253 
</p>
<p>comparison with DCM model, 410 
</p>
<p>derivation of, 40-42 
</p>
<p>equivalence with dependent sources, 40 
</p>
<p>manipulation of circuits containing, 41-42, 47-48 
</p>
<p>in a nonideal boost converter, 47-48, 55 
</p>
<p>in a nonideal buck converter, 51 
</p>
<p>in small-signal ac CCM models, 204-205, 212-213 
</p>
<p>Decibel, 267-268 
</p>
<p>Delta-wye transformer connection, 628-629 
</p>
<p>Dependent power source (see Power source element) 
</p>
<p>Derating factor, 17 4 
</p>
<p>Design-oriented analysis, techniques of 
</p>
<p>analytical expressions for asymptotes, 281 
</p>
<p>approximate factorization, 289-293 
</p>
<p>doing algebra on the graph, 302-317 
</p>
<p>extra element theorem, 843-861 
</p>
<p>frequency inversion, 277-278 
</p>
<p>graphical construction 
</p>
<p>of Bode plots, 302-317 
</p>
<p>of closed-loop transfer functions, 337-340 
</p>
<p>input filter design inequalities, 381-385, 392, 399 
</p>
<p>load-dependent properties of resonant inverters, 
</p>
<p>726-740 
</p>
<p>low Q approximation, 287-289 
philosophy of, 267, 302-303 
</p>
<p>Differential connection of load 
</p>
<p>polyphase inverter, 141-143 
</p>
<p>single-phase inverter, 138-141 
</p>
<p>Diode 
</p>
<p>antiparallel, 67 
</p>
<p>characteristics of, 77 
</p>
<p>fast recovery, 77 
</p>
<p>forward voltage drop (see also Semiconductor con-
</p>
<p>duction losses), 52-55, 77 </p>
<p/>
</div>
<div class="page"><p/>
<p>freewheeling, 67 
</p>
<p>parallel operation of, 77 
</p>
<p>recovered charge Qr, 76-77,96-98,722,763-764, 
</p>
<p>781 
</p>
<p>recovery mechanisms, 76-77,96-98 
</p>
<p>Schottky, 74,77,99 
</p>
<p>soft recovery, 97-98 
</p>
<p>snubbing of, 97, 99, 764-765 
</p>
<p>switching loss, 96-100, 763-765 
</p>
<p>switching waveforms, 76-77, 97, 100,763-765 
</p>
<p>zero current switching of, 764, 783 
</p>
<p>zero voltage switching of, 722-724,781,784-785, 
</p>
<p>787 
</p>
<p>Discontinuous conduction mode (DCM) 
</p>
<p>B-H loop, effect on, 530-531 
</p>
<p>boost converter example, 117-124 
</p>
<p>buck converter example, 108-117 
</p>
<p>buck-boost converter example, 410-418 
</p>
<p>in current programmed converters, 473-480 
</p>
<p>equivalent circuit modeling of, 409-420,473-477 
</p>
<p>in forward converter, 158 
</p>
<p>in line-commutated rectifiers, 611-614,616-617 
</p>
<p>in low-harmonic rectifiers 
</p>
<p>boost rectifier, 643-646, 832-834 
</p>
<p>flyback rectifier, 646-648 
</p>
<p>mode boundary 
</p>
<p>in boost rectifier, 643-646 
</p>
<p>vs. K, 110-112,118-119, 123-124 
</p>
<p>vs. load current andRe, 418 
</p>
<p>origin of, 108-112 
</p>
<p>in parallel resonant converter, 749-752 
</p>
<p>in PWM converters, 107-130,409-437,473-480 
</p>
<p>in series resonant converter, 741-748 
</p>
<p>small-signal ac modeling of, 420-433 
</p>
<p>Displacement factor, 596, 599 
</p>
<p>Distortion factor (see also Total harmonic distortion), 
</p>
<p>596-597 
</p>
<p>of single-phase rectifier, 596, 610-613 
</p>
<p>Distributed power system, 7 
</p>
<p>Doing algebra on the graph (see Graphical construction 
</p>
<p>of Bode plots) 
</p>
<p>Duty ratio 
</p>
<p>complement of, 14 
</p>
<p>definition of, 14 
</p>
<p>EC core data, 866 
</p>
<p>Eddy currents 
</p>
<p>in magnetic cores, 506 
</p>
<p>in winding conductors, 508-511 
</p>
<p>EE core data, 865 
</p>
<p>Effective resistance Re 
</p>
<p>in DCM averaged switch model, 413-420 
</p>
<p>in loss-free resistor model, 413-420 
</p>
<p>in resonant converter models 
</p>
<p>with capacitive filter network, 711-713 
</p>
<p>with inductive filter network, 718-720 
</p>
<p>Emulated resistance Re, 638-640 
</p>
<p>Efficiency, 2 
</p>
<p>averaged switch modeling, predicted by, 247 
</p>
<p>of boost converter 
</p>
<p>as low-harmonic rectifier, 683-685 
</p>
<p>nonideal de-de, 48-49, 55 
</p>
<p>calculation via averaged model, 48-49, 55 
</p>
<p>vs. switching frequency, 100-101 
</p>
<p>Equivalent circuit modeling 
</p>
<p>by canonical circuit model, 247-253 
</p>
<p>875 
</p>
<p>of CCM converters operating in steady-state, 39-61 
</p>
<p>of converters having pulsating input currents, 50-52 
</p>
<p>of current programmed switch networks 
</p>
<p>CCM, 454-459 
</p>
<p>DCM, 473-480 
</p>
<p>small-signal models, 452-453, 457-459, 478-480 
</p>
<p>of fly back converter, CCM, 165, 212-213 
</p>
<p>of ideal rectifiers, 638-640, 658-686 
</p>
<p>of ideal de-de converters, 39-41 
</p>
<p>of inductor copper loss, 42-52 
</p>
<p>small-signal models, construction of 
</p>
<p>CCM, 201-203,211-213,225-226 
</p>
<p>DCM, 420-433 
</p>
<p>current programmed, 452-453, 457-459,478-480 
</p>
<p>of switching loss, 246-247 
</p>
<p>of switch networks 
</p>
<p>CCM, 235-241 
</p>
<p>DCM, 410-420 
</p>
<p>of systems containing ideal rectifiers, 666 
</p>
<p>Equilibrium (see Steady state) 
</p>
<p>Equivalent series resistance (esr) of capacitor, 602-603 
</p>
<p>ETD core data, 866 
</p>
<p>Evaluation and design of converters, 171-176 
</p>
<p>Experimental techniques 
</p>
<p>measurement of impedances, 318-321 
</p>
<p>measurement of loop gains 
</p>
<p>by current injection, 367-368 
</p>
<p>by voltage injection, 364-367 
</p>
<p>of an unstable system, 368 
</p>
<p>measurement of small-signal transfer functions, 
</p>
<p>317-318 
</p>
<p>Extra element theorem, 843-861 
</p>
<p>applications of 
</p>
<p>input filter design, 381-392,398-399, 857-859 
</p>
<p>transfer function, solving for, 850-855 
</p>
<p>unmodeled element, effects of, 855-857 
</p>
<p>resonant inverter, load dependence of, 731, 859-
</p>
<p>861 </p>
<p/>
</div>
<div class="page"><p/>
<p>876 Index 
</p>
<p>basic result, 843-846 
</p>
<p>correction factor, 384, 844, 849 
</p>
<p>deviation caused by, 850-852 
</p>
<p>derivation, 846-849 
</p>
<p>impedance inequalities, 849-850 
</p>
<p>nulling, 845-846 
</p>
<p>reciprocity relationship, 736, 845 
</p>
<p>Z0 driving-point impedance, 845 
</p>
<p>ZN impedance, 845-846 
</p>
<p>Factorization, approximate 
</p>
<p>approximate roots of arbitrary-degree polynomial, 
</p>
<p>289-293 
</p>
<p>graphical construction of Bode diagrams, 302-317 
</p>
<p>low-Q approximation, 287-289 
</p>
<p>Faraday's law, 492-493 
</p>
<p>Feedback (see Control system design, Negative feed-
</p>
<p>back) 
</p>
<p>Ferrite 
</p>
<p>applications of, 528, 556, 557, 574, 577 
</p>
<p>core loss, 506-507, 527-529, 566 
</p>
<p>core tables, 863-867 
</p>
<p>saturation flux density, 495, 503, 507, 527 
</p>
<p>Fill factor (see Ku) 
</p>
<p>Filter design (see Input filter design) 
</p>
<p>Filter inductor 
</p>
<p>B-H loop of, 527 
</p>
<p>design of 
</p>
<p>derivation of procedure, 539-544 
</p>
<p>step-by-step procedure, 544-545 
</p>
<p>Flux cl&gt;, 492 
</p>
<p>Flux density B 
</p>
<p>definition, 492 
</p>
<p>saturation value Bsat' 495 
</p>
<p>Flux-linkage balance (see Inductor volt-second bal-
</p>
<p>ance) 
</p>
<p>Flyback converter (see also Buck-boost converter) 
</p>
<p>active switch utilization, 171-17 4 
</p>
<p>derivation of, 161-162 
</p>
<p>nonideal, ac modeling of, 204-213 
</p>
<p>rectifier, 646-648 
</p>
<p>spreadsheet design example, 174-176 
</p>
<p>steady-state analysis of, 161-165 
</p>
<p>two transistor version, 180 
</p>
<p>utilization of flyback transformer, 165 
</p>
<p>Flyback transformer, 522, 530-531, 552 
</p>
<p>design example, 557-562 
</p>
<p>Forced commutation of SCRs, 89-90 
</p>
<p>Forward converter (see also Buck converter), 154-159 
</p>
<p>active switch utilization, 173 
</p>
<p>spreadsheet design example, 174-176 
</p>
<p>steady-state analysis of, 154-159 
</p>
<p>transformer reset mechanisms, 157-158 
</p>
<p>transformer utilization in, 159 
</p>
<p>two transistor version, 158-159 
</p>
<p>Four-quadrant switches (see Switch) 
</p>
<p>Freewheeling diode, 67 
</p>
<p>Gate tum-off thyristor (GTO), 90 
</p>
<p>Geometrical constant (see K8 , Kgfe) 
</p>
<p>Graphical construction of Bode plots (see also Bode 
</p>
<p>plots, Design-oriented analysis) 
</p>
<p>of converter transfer functions, 313-317 
</p>
<p>division, 311-313 
</p>
<p>of harmonic trap filters, 622-628 
</p>
<p>parallel combinations, 308-310 
</p>
<p>parallel resonance, 309-310 
</p>
<p>of parallel resonant converter, 720-721 
</p>
<p>series combinations, 303-307 
</p>
<p>series resonance, 305-307 
</p>
<p>of series resonant converter, 715-717 
</p>
<p>Grounding problems, 319-321 
</p>
<p>Gyrator, 744-745 
</p>
<p>Harmonic correction, 690-691 
</p>
<p>Harmonic loss factor FH,523-525 
</p>
<p>Harmonics in power systems 
</p>
<p>average power vs. Fourier series, 590-593 
</p>
<p>distortion factor, 596 
</p>
<p>harmonic standards, 603-605 
</p>
<p>neutral currents, 599-600 
</p>
<p>power factor, 594-598 
</p>
<p>root-mean-square value of waveform, 593-596 
</p>
<p>rectifier harmonics, 597-598 
</p>
<p>in three-phase systems, 599-603 
</p>
<p>total harmonic distortion, 596 
</p>
<p>Harmonic trap filters, 622-628 
</p>
<p>bypass resistor, 626-628 
</p>
<p>parallel resonance in, 624-626 
</p>
<p>reactive power in, 628 
</p>
<p>H-bridge, 7, 139-141, 143-145 
</p>
<p>Hold-up time, 665 
</p>
<p>Hot spot formation, 77, 88 
</p>
<p>Hysteresis loss PH, 506 
</p>
<p>Hysteretic control, 657-659 
</p>
<p>Ideal rectifier (see also Low harmonic rectifiers) 
</p>
<p>in converter systems, 663-673 
</p>
<p>properties of, 638-640 
</p>
<p>realization of 
</p>
<p>single phase, 640-648 
</p>
<p>three phase, 687-691 
</p>
<p>rms values of waveforms in, 673-677 
</p>
<p>single phase, 638-642 </p>
<p/>
</div>
<div class="page"><p/>
<p>three phase, 685-687 
</p>
<p>IEC 1000, 603-604 
</p>
<p>IEEE/ ANSI standard 519, 604 
</p>
<p>Impedance graph paper, 310 
</p>
<p>Inductor copper loss (see Copper loss) 
</p>
<p>Inductor current ripple 
</p>
<p>in ac inductor, 527-528 
</p>
<p>boost example, 25-26 
</p>
<p>buck example, 19 
</p>
<p>calculation of, 19 
</p>
<p>in converters containing two-pole filters, 31-33 
</p>
<p>Cuk converter example, 30-31 
</p>
<p>in filter inductor, 525-526 
</p>
<p>magnitude vs. DCM, 108-110 
</p>
<p>Inductor design 
</p>
<p>ac inductor design 
</p>
<p>derivation, 580-581 
</p>
<p>step-by-step procedure, 582-583 
</p>
<p>filter inductor design 
</p>
<p>derivation, 539-544 
</p>
<p>step-by-step procedure, 544-545 
</p>
<p>Inductor volt-second balance 
</p>
<p>boost example, 24 
</p>
<p>buck example, 21 
</p>
<p>Cuk converter example, 28-29 
</p>
<p>definition, 20 
</p>
<p>in discontinuous conduction mode, 112 
</p>
<p>Input filters, 377-408, 857-859 
</p>
<p>cascaded filter sections, 398-404 
</p>
<p>noninteraction, impedance inequalities for, 398-
</p>
<p>399 
</p>
<p>two-section design example, 400-404 
</p>
<p>conducted EMI, attenuation of, 377-378 
</p>
<p>conducted susceptibility, 378 
</p>
<p>damping of, 391-404 
</p>
<p>RrCb parallel damping, 394, 395-396 
</p>
<p>RrLb parallel damping, 394, 396-397 
</p>
<p>RrLb series damping, 394, 398 
</p>
<p>effect on control-to-output transfer function 
</p>
<p>buck example, 380, 389-392 
</p>
<p>general result, 381-382 
</p>
<p>negative resistance oscillations, 382-384 
</p>
<p>results for basic converters, 382 
</p>
<p>right half-plane zeroes, 390 
</p>
<p>impedance inequalities for design 
</p>
<p>construction of, buck example, 385-389 
</p>
<p>control-to-output transfer function, to avoid 
</p>
<p>changing, 384 
</p>
<p>output impedance, to avoid changing, 385 
</p>
<p>Input port, converter 
</p>
<p>ac modeling of, 197 
</p>
<p>boost static characteristics, 643-644, 655-656 
</p>
<p>modeling of, via state-space averaging, 222, 225-
</p>
<p>226 
</p>
<p>steady-state modeling of, 50-52 
</p>
<p>Inrush current, 646, 665, 676 
</p>
<p>Insulated-gate bipolar transistor (IGBT) 
</p>
<p>construction and operation of, 86-88 
</p>
<p>current tailing in, 87-88, 95-96 
</p>
<p>equivalent circuit, 87 
</p>
<p>forward voltage drop, modeling of, 88 
</p>
<p>idealized switch characteristics, 65-66 
</p>
<p>parallel operation of, 88 
</p>
<p>switching loss in, 95-96, 768 
</p>
<p>Inversion of source and load, 132-133 
</p>
<p>Inverters, 1 
</p>
<p>high frequency, 705-709,727-729,732-739 
</p>
<p>line commutated, 619 
</p>
<p>single phase, 7, 68-69, 138-141 
</p>
<p>877 
</p>
<p>sinusoidal analysis of resonant converters, 709-715, 
</p>
<p>726-740 
</p>
<p>three phase, 69-72, 141-143 
</p>
<p>Iron laminations, 495, 507 
</p>
<p>K, dimensionless parameter 
</p>
<p>critical value Kcrit(D), 110-112,116-117,124 
</p>
<p>andDCMboundary, 110-112,116-117,124 
</p>
<p>in line-commutated rectifier analysis, 612-613 
</p>
<p>in steady-state DCM analysis, 117, 123-124 
</p>
<p>Kg, core geometrical constant 
</p>
<p>definition of, 543-544, 863 
</p>
<p>ferrite core tables of, 864-869 
</p>
<p>filter inductor design procedure using, 544-545 
</p>
<p>multiple winding magnetics design using, 545, 552-
</p>
<p>554 
</p>
<p>Kgfe' ac core geometrical constant 
</p>
<p>ac inductor design procedure using, 580-583 
</p>
<p>definition of, 569-570, 863 
</p>
<p>ferrite core tables of, 864-869 
</p>
<p>transformer design using, 
</p>
<p>derivation, 565-570 
</p>
<p>examples, 573-580 
</p>
<p>step-by-step procedure, 570-573 
</p>
<p>KL, rectifier dimensionless parameter, 612-613 
</p>
<p>Ku, window utilization factor, 542 
</p>
<p>LCC resonant converter 
</p>
<p>dependence of transistor current on load, 732-733 
</p>
<p>design example, 737-740 
</p>
<p>introduction to, 705-707 
</p>
<p>ZVS/ZCS boundary, 734-737 
</p>
<p>Lenz's law, 493, 506,508,510 
</p>
<p>Linear ripple approximation (see Small ripple approxi-
</p>
<p>mation) </p>
<p/>
</div>
<div class="page"><p/>
<p>878 Index 
</p>
<p>Line-to-output transfer function Gv/s) 
</p>
<p>of the buck, boost, and buck -boost converters in 
</p>
<p>CCM, 300 
</p>
<p>canonical model, as predicted by, 248 
</p>
<p>closed-loop, 334-335, 339-340 
</p>
<p>control system design of, 347c348, 361-362 
</p>
<p>of current-programmed converters, 454, 464-466, 
</p>
<p>469-471,480 
</p>
<p>of DCM converters, 427 
</p>
<p>Litz wire, 522 
</p>
<p>Loop gain (see also Control system design, Negative 
</p>
<p>feedback) 
</p>
<p>definition, 335 
</p>
<p>measurement of, 362-368 
</p>
<p>Loss-free resistor model 
</p>
<p>averaged switch model of discontinuous conduction 
</p>
<p>mode, 413-420 
</p>
<p>ideal rectifier model 
</p>
<p>single phase, 638-640 
</p>
<p>three phase, 685-686 
</p>
<p>Low harmonic rectifiers (see also Ideal rectifiers) 
</p>
<p>controller schemes 
</p>
<p>average current control, 648-654 
</p>
<p>current programmed control, 654-656 
</p>
<p>critical conduction mode, 657-659 
</p>
<p>feedforward, 650-652 
</p>
<p>hysteretic control, 657-659 
</p>
<p>nonlinear carrier control, 659-663 
</p>
<p>modeling of 
</p>
<p>efficiency and losses, 678-685 
</p>
<p>low-bandwidth control loop, 668-673 
</p>
<p>wide-bandwidth average current control loop, 
</p>
<p>652-654 
</p>
<p>rms calculations in, 673-678 
</p>
<p>Low Q approximation, 287-289 
</p>
<p>Magnetic circuits, 498-501 
</p>
<p>Magnetic field H, 491-492 
</p>
<p>Magnetic path length em 
definition, 497 
</p>
<p>ferrite core tables, 864-867 
</p>
<p>Magnetics,489-586 
</p>
<p>ac inductor design, 580-583 
</p>
<p>basic relationships, 491-498 
</p>
<p>copper loss, 42-45, 508, 510-525 
</p>
<p>core loss, 42, 506-508, 561-562 
</p>
<p>coupled inductor design, 550-557 
</p>
<p>ferrite core tables, 864-867 
</p>
<p>flyback transformer design, 557-562 
</p>
<p>inductor design, 539-562 
</p>
<p>inductor design, multiple winding, 550-562 
</p>
<p>magnetic circuits, 498-501 
</p>
<p>magnetic devices, types of, 525-531 
</p>
<p>optimizing till to minimize total loss, 569-570 
</p>
<p>optimizing window allocation to minimize copper 
</p>
<p>loss, 545-550 
</p>
<p>proximity effect, 508-525 
</p>
<p>transformer basics, 146-149, 501-505 
</p>
<p>transformer design, 565-583 
</p>
<p>Magnetizing current, 147-148, 502-504 
</p>
<p>Magnetomotive force (MMF) 
</p>
<p>definition, 491-492 
</p>
<p>magnetic circuit, in, 498-499 
</p>
<p>MMF diagrams, 512-514 
</p>
<p>Majority carrier devices (see also MOSFET, Schottky 
</p>
<p>diode), 74-75 
</p>
<p>Matrix converter, 72-73 
</p>
<p>Meal length per turn (ML7) 
</p>
<p>definition, 543 
</p>
<p>ferrite core tables, 864-867 
</p>
<p>Measurement of transfer functions and loop gains (see 
</p>
<p>Experimental techniques) 
</p>
<p>Middlebrook's extra element theorem (see Extra ele-
</p>
<p>ment theorem) 
</p>
<p>Minority carrier devices (see also Bipolar junction tran-
</p>
<p>sistor, Diode, Gate turn-off thyristor, Insulated-gate 
</p>
<p>bipolar transistor, MOS-controlled thyristor, Silicon 
</p>
<p>controlled rectifier), 74-75 
</p>
<p>Modulation index, 689-690 
</p>
<p>MOS-controlled thyristor (MCT), 91-92 
</p>
<p>MOSFET 
</p>
<p>body diode, 67-68, 78-79 
</p>
<p>conduction loss, modeling of, 52-56, 204-213, 816-
</p>
<p>819 
</p>
<p>construction and operation of, 78-81 
</p>
<p>on resistance, 52-56, 78-81 
</p>
<p>switching loss owing to Cds, 98-99, 765-768 
</p>
<p>as synchronous rectifier, 73-7 4 
</p>
<p>terminal capacitances, 80-81 
</p>
<p>typical characteristics, 80-81 
</p>
<p>zero-voltage and zero-current switching of, 721-726, 
</p>
<p>765-768 
</p>
<p>Motor drive system, 8-9 
</p>
<p>Multiplying controller (see also Average current con-
</p>
<p>trol, Current programmed control), 648-659 
</p>
<p>Multi-resonant switch, 784-786 
</p>
<p>Negative feedback (see also Control system design) 
</p>
<p>effects of, on network transfer functions, 334-337 
</p>
<p>objectives of, 187, 331-334 
</p>
<p>reduction of disturbances by, 335-337 
</p>
<p>reduction of sensitivity to variations in forward gain 
</p>
<p>by, 337 
</p>
<p>Nonlinear carrier control, 659-663 </p>
<p/>
</div>
<div class="page"><p/>
<p>Nonminimum-phase zero (see Right half-plane zero) 
</p>
<p>Output characteristics 
</p>
<p>of the parallel resonant converter, 750 
</p>
<p>of resonant inverters, 727-729 
</p>
<p>of the series resonant converter, 7 4 7-7 48 
</p>
<p>Overshoot, 346-347, 348 
</p>
<p>Parallel resonant converter 
</p>
<p>analysis via sinusoidal approximation, 718-721 
</p>
<p>dependence of transistor current on load, 730-731 
</p>
<p>exact characteristics 
</p>
<p>continuous conduction mode, 748-751 
</p>
<p>control plane, 751 
</p>
<p>discontinuous conduction mode, 749-751 
</p>
<p>output plane, 750 
</p>
<p>introduction to, 705-706 
</p>
<p>Permeability J.t 
definition, 494-495 
</p>
<p>of free space, j.t0, 494 
</p>
<p>relative, J.t,, 495 
</p>
<p>Phase asymptotes 
</p>
<p>of complex poles, 284-285 
</p>
<p>inverted forms, 278 
</p>
<p>of real pole, 272-274 
</p>
<p>of real zero, 275 
</p>
<p>of RHP zero, 276 
</p>
<p>Phase control 
</p>
<p>of resonant converters, 705 
</p>
<p>of three-phase rectifiers, 617-622 
</p>
<p>of zero-voltage transition de-de converter, 791-794 
</p>
<p>Phase margin 
</p>
<p>vs. closed-loop damping factor, 342-346 
</p>
<p>input filter, undamped, effect on, 390-391 
</p>
<p>stability test, 341-342 
</p>
<p>Poles 
</p>
<p>complex, Bode plots of, 282-286 
</p>
<p>the low Q approximation, 287-289 
real, Bode plots of, 269-274 
</p>
<p>Pot core data, 864 
</p>
<p>Powdered iron, 495, 507 
</p>
<p>Power factor (see also Total harmonic distortion, Dis-
</p>
<p>placement factor, Distortion factor) 
</p>
<p>definition of, 594-598 
</p>
<p>of bridge rectifier, single phase, 597, 610-613 
</p>
<p>of peak detection rectifier, 597 
</p>
<p>of phase-controlled rectifier, three phase, 616, 619-
</p>
<p>620 
</p>
<p>Power sink element (see Power source element) 
</p>
<p>Power source element 
</p>
<p>in averaged switch models 
</p>
<p>current programmed mode, CCM, 454-457 
</p>
<p>current programmed mode, DCM, 475-477 
</p>
<p>discontinuous conduction mode, 414-420 
</p>
<p>definition of, 415-416 
</p>
<p>879 
</p>
<p>in ideal rectifier model, 638-640, 646-647, 650, 666, 
</p>
<p>668-670, 686 
</p>
<p>linearization of, 383-384,423-424,457, 668-671 
</p>
<p>in loss-free resistor model, 416-417,639-640 
</p>
<p>properties of, 415-416 
</p>
<p>in switched-mode regulators, 383-384, 455, 665-666 
</p>
<p>PQ core data, 867 
</p>
<p>Proximity effect 
</p>
<p>conductor spacing factor T], 515 
</p>
<p>interleaving, effect on, 520-522 
</p>
<p>layer copper loss, 515-517 
</p>
<p>Litz wire, effect of, 522 
</p>
<p>MMF diagrams, 512-514 
</p>
<p>PWM waveform harmonics, 522-525 
</p>
<p>simple explanation, 508-512 
</p>
<p>transformer design procedure, accounting for, 572 
</p>
<p>winding loss, total, 518-520 
</p>
<p>PSpice (see Simulation) 
</p>
<p>Pulse width modulation (PWM), 4-6 
</p>
<p>modulator ac model, 253-255 
</p>
<p>operation of modulator, 253-255 
</p>
<p>spectrum ofPWM waveform, 188-189 
</p>
<p>Push-pull isolated converters 
</p>
<p>based on boost converter, 167-168 
</p>
<p>based on buck converter, 159-160,441 
</p>
<p>Watkins-Johnson converter, 167-168 
</p>
<p>Q factor, 283-286 
canonical model, predicted by, 300 
</p>
<p>closed-loop, vs. phase margin, 342-346 
</p>
<p>of the CCM buck, boost, and buck-boost converters, 
</p>
<p>300 
</p>
<p>graphical determination of, 307, 310,312, 314 
</p>
<p>the low Q approximation, 287-289 
vs. overshoot, 346-347 
</p>
<p>of parallel resonant circuit, 309-310 
</p>
<p>of series resonant circuit, 305-307 
</p>
<p>Quasi-resonant converters (see also Multi-resonant 
</p>
<p>switch, Quasi-square-wave switch) 
</p>
<p>zero-current switching de-de 
</p>
<p>full wave, 779-781 
</p>
<p>half wave, 768-779 
</p>
<p>zero-voltage switching de-de, 783-784 
</p>
<p>Quasi-square-wave converters, 787-790 
</p>
<p>Quasi-static approximation, 653-654 
</p>
<p>Quiescent operating point, 190-191, 198,2205 
</p>
<p>Reactance graph paper (see Impedance graph paper) 
</p>
<p>Reactive power </p>
<p/>
</div>
<div class="page"><p/>
<p>880 Index 
</p>
<p>definition, 598-599 
</p>
<p>in harmonic trap filters, 628 
</p>
<p>in phase-controlled rectifiers, 619-620 
</p>
<p>Reciprocity relationship (see also Extra element theo-
</p>
<p>rem), 736, 845 
</p>
<p>Rectifiers (see also Ideal rectifiers, Low harmonic recti-
</p>
<p>fiers), 1 
</p>
<p>energy storage in single-phase, 663-668 
</p>
<p>high quality, 589 
</p>
<p>ideal, 637-640 
</p>
<p>line-commutated 
</p>
<p>phase control of, 617-622 
</p>
<p>single-phase, 597, 609-615 
</p>
<p>three-phase, 615-617 
</p>
<p>three-phase transformer connections in, 628-630 
</p>
<p>twelve pulse, 628-630 
</p>
<p>in resonant de-De converter, 711-713, 718-719 
</p>
<p>Regulator system (see also Control system design), 
</p>
<p>187-188,331-334,665-666 
</p>
<p>Reluctance, 498 
</p>
<p>Resonance 
</p>
<p>Bode plots of complex poles, 282-286 
</p>
<p>damping of, 391-398 
</p>
<p>graphical construction examples, 305-313 
</p>
<p>harmonic traps, 622-628 
</p>
<p>the low-Q approximation, 287-289 
</p>
<p>parallel resonant network, 309-310 
</p>
<p>series resonant network, 305-307 
</p>
<p>Resonant converters (see also Quasi-resonant convert-
</p>
<p>ers, Multi-resonant converters, Quasi-square-wave 
</p>
<p>converters, Zero voltage transition converter), 705-
</p>
<p>752 
</p>
<p>analysis of, via sinusoidal approximation, 709-713 
</p>
<p>LCC, 705-706,731-733, 737-740 
</p>
<p>parallel, 705-706,718-722,731,733 
</p>
<p>resonant link, 707 
</p>
<p>series, 705-707,709-718,722-726,733,741-748 
</p>
<p>Resonant inverters, design of, 726-740 
</p>
<p>LCC design example, 737-740 
</p>
<p>output characteristics, 727-729 
</p>
<p>transistor current, dependence on load, 729-733 
</p>
<p>ZVS boundary, dependence on load, 734-737 
</p>
<p>Resonant link converters, 707 
</p>
<p>Resonant switches (see Quasi-resonant converters, 
</p>
<p>Multi-resonant switch, Quasi-square-wave convert-
</p>
<p>ers) 
</p>
<p>Right half-plane zero 
</p>
<p>Bode plot of, 276 
</p>
<p>caused by input filter, 390 
</p>
<p>physical origins of, 300-302 
</p>
<p>Ripple, switching, 15-19, 108-110, 188-190 
</p>
<p>Root mean square value 
</p>
<p>of commonly-observed converter waveforms, 805-
</p>
<p>812 
</p>
<p>vs, Fourier series, 593-594 
</p>
<p>of near-ideal rectifier currents, table of, 677 
</p>
<p>of near-ideal rectifier waveforms, 673-678 
</p>
<p>Rotation of three-terminal cell, 137 
</p>
<p>Saturation 
</p>
<p>of inductors, 497-498, 501 
</p>
<p>of magnetic materials, 494-495 
</p>
<p>of transformers, 152, 503-504 
</p>
<p>Schottky diode, 74, 77 
</p>
<p>Semiconductor conduction loss 
</p>
<p>boost converter example, 52-56 
</p>
<p>inclusion in ac model, 204-213,221-226,242-244, 
</p>
<p>816-822 
</p>
<p>with synchronous rectifier, 73-74 
</p>
<p>Semiconductor cost, 173-17 4 
</p>
<p>Semiconductor power devices (see also Bipolar junc-
</p>
<p>tion transistor, Diode, Gate turn-off thyristor, Insu-
</p>
<p>lated-gate bipolar transistor, MOS-controlled 
</p>
<p>thyristor, Schottky diode, Silicon controlled recti-
</p>
<p>fier), 63-102 
</p>
<p>charge control of, 74, 76, 81-84, 94-95,99 
</p>
<p>conductivity modulation, 74 
</p>
<p>majority vs, minority carriers, 74 
</p>
<p>realization of switches using, 63-74 
</p>
<p>SEPIC (see Single-ended primary inductance con-
</p>
<p>verter) 
</p>
<p>Series pass regulator, 4 
</p>
<p>Series resonant converter 
</p>
<p>analysis via sinusoidal approximation, 709-718 
</p>
<p>dependence of transistor current on load, 733 
</p>
<p>exact characteristics 
</p>
<p>continuous conduction mode, 741-743 
</p>
<p>control plane, 746 
</p>
<p>even discontinuous conduction mode, 744-745 
</p>
<p>odd discontinuous conduction mode, 743-744 
</p>
<p>output plane, 747-748 
</p>
<p>introduction to, 705-707 
</p>
<p>subharmonic modes in, 717-718 
</p>
<p>zero-current switching in, 722-723 
</p>
<p>zero-voltage switching in, 723-726 
</p>
<p>Silicon area (see Switch stress) 
</p>
<p>Silicon controlled rectifier (SCR) 
</p>
<p>construction and characteristics of, 88-92 
</p>
<p>equivalent circuit, 89 
</p>
<p>inverter grade, 90 
</p>
<p>Silicon steel, 495, 507 
</p>
<p>Simulation, 813-842 
</p>
<p>ac, 825-827, 829-831, 837-839 
</p>
<p>averaged switch models </p>
<p/>
</div>
<div class="page"><p/>
<p>basic CCM, 815-816 
</p>
<p>CCM with conduction losses, 816-818 
</p>
<p>combined CCM/DCM, 822-825 
</p>
<p>current programmed control model, 834-837 
</p>
<p>de, 818-819 
</p>
<p>examples 
</p>
<p>boost rectifier, 832-834 
</p>
<p>buck-boost transient response, 819-822 
</p>
<p>buck current programmed control, 837-839 
</p>
<p>buck voltage regulator, 827-831 
</p>
<p>SEPIC de conversion ratio and efficiency, 818-
</p>
<p>819 
</p>
<p>SEPIC frequency responses, 825-827 
</p>
<p>transient, 819-822, 830-831, 833-834 
</p>
<p>Single-ended primary inductance converter (SEPIC), 
</p>
<p>35-36, 145-146 
</p>
<p>averaged switch model of 
</p>
<p>continuous conduction mode, 228-233, 825-827 
</p>
<p>discontinuous conduction mode, 418-420, 825-
</p>
<p>877 
</p>
<p>conversion ratio M(D), 145-146, 420 
</p>
<p>inverse of, 145-146, 168-171 
</p>
<p>as low-harmonic rectifier, 645, 676-677 
</p>
<p>simulation of, 818-819, 825-827 
</p>
<p>transformer isolation in, 168-171 
</p>
<p>Single quadrant switch 
</p>
<p>definitions, 63-64 
</p>
<p>implementation, 65-67 
</p>
<p>origins ofDCM, 107-112 
</p>
<p>Sinusoidal approximation, 709-713 
</p>
<p>Sinusoidal PWM, 689-690 
</p>
<p>Skin effect (see also Proximity effect), 508-510 
</p>
<p>Slope compensation (see Artificial ramp) 
</p>
<p>Small ripple approximation (see also Averaging) 
</p>
<p>in ac modeling approach, 192-193,218-219 
</p>
<p>and average power loss, prediction of, 55-56 
</p>
<p>boost example, 22-27 
</p>
<p>buck example, 17-18 
</p>
<p>Cuk converter example, 27-31 
</p>
<p>definition, 15-17 
</p>
<p>in discontinuous conduction mode, 112-114 
</p>
<p>failure of, in two-pole filters, 31-33 
</p>
<p>Small-signal ac modeling 
</p>
<p>via averaged switch modeling, 226-247,410-433, 
</p>
<p>454-459 
</p>
<p>via circuit averaging, 226-235 
</p>
<p>of CCM converters, 187-264 
</p>
<p>of current programmed converters, 449-480 
</p>
<p>of DCM converters, 420-433 
</p>
<p>oflow harmonic rectifiers, 668-673 
</p>
<p>via state-space averaging, 213-226 
</p>
<p>Snubber networks, 85, 92, 97, 764-765, 767 
</p>
<p>881 
</p>
<p>Soft switching (see also Zero current switching, Zero 
</p>
<p>voltage switching), 761-802 
</p>
<p>Spacecraft power system, 8 
</p>
<p>Spice (see Simulation) 
</p>
<p>Spreadsheet design of converters, 174-176 
</p>
<p>State equations of a network, 213-216 
</p>
<p>State-space averaging, 213-226 
</p>
<p>discussion, 217-221 
</p>
<p>example: nonideal buck-boost converter, 221-226 
</p>
<p>summary of result, 216-217 
</p>
<p>Steady state 
</p>
<p>inductor current waveform, 18-22 
</p>
<p>operating point, 190-191, 198, 217 
</p>
<p>Subharmonic 
</p>
<p>modes of series resonant converter, 717-718 
</p>
<p>number 1;, 740-741 
Switch 
</p>
<p>averaged modeling of, 226-247,410-431,454-459 
</p>
<p>current-bidirectional two-quadrant, 67-70 
</p>
<p>four-quadrant, 72-73 
</p>
<p>ideal SPDT in converters, 4-7, 13-14, 16, 22, 27 
</p>
<p>ideal SPST, 63-64 
</p>
<p>passive vs. active, 65, 90 
</p>
<p>power dissipated by ideal, 5,14 
</p>
<p>quasi-resonant, 781-790 
</p>
<p>realization of, using semiconductor devices, 63-74 
</p>
<p>single-quadrant, 65-67 
</p>
<p>synchronous rectifier, 73-7 4 
</p>
<p>voltage-bidirectional two-quadrant, 71-72 
</p>
<p>Switch conversion ratio j.t 
</p>
<p>boost converter example, 778-779 
</p>
<p>combined CCM/DCM model, 822-824 
</p>
<p>definition, 770,823-824 
</p>
<p>of multi-resonant switch, 784-786 
</p>
<p>of quasi-resonant switches 
</p>
<p>full-wave ZCS, 780-781 
</p>
<p>full-wave ZVS, 783 
</p>
<p>half-wave ZCS, 776-779 
</p>
<p>half-wave ZVS, 783 
</p>
<p>of quasi-square-wave switches, 787-790 
</p>
<p>Switch network, 227,235-241 
</p>
<p>boost, 235-239, 241, 424-425, 816 
</p>
<p>buck,239-241,424-425,454-455,816 
</p>
<p>general two-switch, 228, 230,233-235, 241,410-
</p>
<p>411,416,473-474,815 
</p>
<p>Switched mode, 3-7 
</p>
<p>Switching frequency 
</p>
<p>converter efficiency vs., 100-101 
</p>
<p>definition of, 14 
</p>
<p>transformer size vs., 576 
</p>
<p>Switching harmonics (see also Ripple, switching), 5-6 
</p>
<p>removal of via averaging, 188-190 </p>
<p/>
</div>
<div class="page"><p/>
<p>882 Index 
</p>
<p>Switching loss (see also Soft switching, Zero current 
</p>
<p>switching, Zero voltage switching) 
</p>
<p>averaged switch modeling of, 244-248 
</p>
<p>with clamped inductive load, 93-96 
</p>
<p>and current tailing, 94-96, 768 
</p>
<p>and device capacitances, 98-100, 766 
</p>
<p>and diode recovered charge, 96-97,99-100,763-765 
</p>
<p>effect on converter efficiency, 100-101 
</p>
<p>and ringing waveforms, 98-100,763-767 
</p>
<p>and stray inductances, 98-100, 764, 766-767 
</p>
<p>Switch stress S, 171-17 4 
</p>
<p>Switch utilization U, 171-174 
</p>
<p>Synchronous rectifier, 73-7 4 
</p>
<p>Temperature rise 
</p>
<p>in a converter, 2-3 
</p>
<p>in magnetics, 864 
</p>
<p>Thyristor (see Gate turn-off thyristor, MOS-controlled 
</p>
<p>thyristor, Silicon controlled rectifier) 
</p>
<p>Topologies of converters (see also Boost, Bridge con-
</p>
<p>figuration, Buck, Buck-boost, Cuk converter, For-
</p>
<p>ward converter, Transformer-isolated converters, 
</p>
<p>etc.) 
</p>
<p>Cascade connections, 134-137 
</p>
<p>Converter synthesis, 143-146 
</p>
<p>Differential connection ofload, 138-143 
</p>
<p>Evaluation and comparison, 171-176, 676-678 
</p>
<p>Inversion of source and load, 132-133 
</p>
<p>Low-harmonic single-phase rectifiers, 640-648 
</p>
<p>Resonant converters, 659-664 
</p>
<p>Resonant switch converters, 781-790 
</p>
<p>Rotation of three-terminal cell, 137 
</p>
<p>Transformer isolation, 146-171 
</p>
<p>Total harmonic distortion (THD) 
</p>
<p>of current-programmed rectifiers, 655-656 
</p>
<p>definition, 596 
</p>
<p>vs. distortion factor, 596-597 
</p>
<p>IEEE-5191imits, 604-605 
</p>
<p>of peak detection rectifier, 597-598 
</p>
<p>of single-phase bridge rectifiers, 597-598, 610-615 
</p>
<p>of three-phase bridge rectifiers, 615-617, 619 
</p>
<p>Transfer functions (see also Bode plots) 
</p>
<p>of the buck, boost, and buck-boost converters, 300 
</p>
<p>of current programmed converters, 453-454, 470-
</p>
<p>473, 837-839 
</p>
<p>ofDCM converters, 427-433,830 
</p>
<p>graphical construction of, 302-317 
</p>
<p>input filter, effect on, 379-392 
</p>
<p>of low-harmonic rectifiers, 668-673, 
</p>
<p>measurement of, 317-318 
</p>
<p>predicted by canonical model, 248-250, 300 
</p>
<p>simulation of, 825-831, 837-839 
</p>
<p>Transformer connections in three-phase rectifiers, 628-
</p>
<p>630 
</p>
<p>Transformer-isolated converters, 146-171 
</p>
<p>boost-derived topologies, 165-168 
</p>
<p>Cuk converter, 170-171 
</p>
<p>evaluation and comparison of, 171-176 
</p>
<p>flyback, 161-165 
</p>
<p>forward, 154-159 
</p>
<p>full bridge buck-derived, 149-152 
</p>
<p>half-bridge buck-derived, 152-154 
</p>
<p>multiple outputs and cross regulation, 14 7 
</p>
<p>push-pull buck-derived, 159-160 
</p>
<p>SEPIC, 168-169 
</p>
<p>transformer model, 147-149, 501-505 
</p>
<p>use of volt-second balance in, 148-149, 151-152 
</p>
<p>Transformers 
</p>
<p>B-Hloopin, 148,503,528 
</p>
<p>design of, 
</p>
<p>derivation of procedure, 565-570 
</p>
<p>examples, 573-580 
</p>
<p>step-by-step procedure, 570-573 
</p>
<p>winding area optimization, 545-550 
</p>
<p>flyback transformer, 161-165 
</p>
<p>leakage inductance, 149, 504-505 
</p>
<p>magnetizing inductance, 147-149, 502-504 
</p>
<p>modeling of, 147-149, 501-505 
</p>
<p>SEPIC transformer, 168-169 
</p>
<p>volt-second balance in, 148-149, 151-152 
</p>
<p>Triplen harmonics 
</p>
<p>in three-phase four-wire networks, 600-601 
</p>
<p>in three-phase inverter modulation schemes, 690 
</p>
<p>in three-phase rectifier circuits, 615-616 
</p>
<p>in three-phase three-wire networks, 601 
</p>
<p>Twelve-pulse rectifier, 629-630 
</p>
<p>Two-quadrant switches (see Switch) 
</p>
<p>Universal-input rectifiers, 665 
</p>
<p>Variable-speed ac drive, 8-9 
</p>
<p>Voltage conversion ratio (see Conversion ratio M) 
</p>
<p>Voltage injection, 364-367 
</p>
<p>Voltage-source inverter, 70, 142-143 
</p>
<p>Volt-second balance (see Inductor volt-second balance) 
</p>
<p>Watkins-Johnson converter, 145, 167-168 
</p>
<p>inverse of, 145 
</p>
<p>isolated push-pull, 167-168 
</p>
<p>Window area WA 
allocation of, to minimize total copper loss, 545-550 
</p>
<p>definition, 542 
</p>
<p>ferrite core tables, 863-867 
</p>
<p>Window utilization factor Ku, 542 </p>
<p/>
</div>
<div class="page"><p/>
<p>Wire areaAw 
</p>
<p>inductor design, 542, 545 
</p>
<p>American wire gauge (AWG) table, 868-869 
</p>
<p>Zero-current switching (ZCS), 708 
</p>
<p>in quasi-resonant converters, 777-778 
</p>
<p>in quasi-square-wave converters, 787 
</p>
<p>in series resonant converter, 722-723 
</p>
<p>ZCS/ZVS boundary, 734-737 
</p>
<p>Zero-voltage switching (ZVS), 708 
</p>
<p>in active clamp snubber, 794-796 
</p>
<p>in auxiliary resonant commutated pole, 796-797 
</p>
<p>design of LCC resonant converter to attain, 739 
</p>
<p>of diodes, 763-765 
</p>
<p>ofiGBTs, 768 
</p>
<p>in LCC resonant converter, 734-737 
</p>
<p>of MOSFETs, 765-768 
</p>
<p>in multi-resonant converters, 784-786 
</p>
<p>in quasi-resonant converters, 783 
</p>
<p>in quasi-square-wave converters, 787-790 
</p>
<p>in series resonant converter, 723-726 
</p>
<p>in zero-voltage transition converter, 791-794 
</p>
<p>ZVS/ZCS boundary, 734-737 
</p>
<p>Zero-voltage transition buck-derived converter, 791-
</p>
<p>794 
</p>
<p>883 </p>
<p/>
</div>
</body></html>